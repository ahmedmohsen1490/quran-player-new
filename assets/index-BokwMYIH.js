(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const r of l.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function Wm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ep={exports:{}},Pa={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nx=Symbol.for("react.transitional.element"),_x=Symbol.for("react.fragment");function tp(t,e,n){var o=null;if(n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:Nx,type:t,key:o,ref:e!==void 0?e:null,props:n}}Pa.Fragment=_x;Pa.jsx=tp;Pa.jsxs=tp;ep.exports=Pa;var f=ep.exports,np={exports:{}},Y={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yu=Symbol.for("react.transitional.element"),Mx=Symbol.for("react.portal"),bx=Symbol.for("react.fragment"),wx=Symbol.for("react.strict_mode"),Rx=Symbol.for("react.profiler"),Dx=Symbol.for("react.consumer"),Ix=Symbol.for("react.context"),kx=Symbol.for("react.forward_ref"),Ux=Symbol.for("react.suspense"),qx=Symbol.for("react.memo"),op=Symbol.for("react.lazy"),Vx=Symbol.for("react.activity"),zc=Symbol.iterator;function Lx(t){return t===null||typeof t!="object"?null:(t=zc&&t[zc]||t["@@iterator"],typeof t=="function"?t:null)}var ip={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lp=Object.assign,ap={};function Qo(t,e,n){this.props=t,this.context=e,this.refs=ap,this.updater=n||ip}Qo.prototype.isReactComponent={};Qo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Qo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function sp(){}sp.prototype=Qo.prototype;function xu(t,e,n){this.props=t,this.context=e,this.refs=ap,this.updater=n||ip}var vu=xu.prototype=new sp;vu.constructor=xu;lp(vu,Qo.prototype);vu.isPureReactComponent=!0;var Fc=Array.isArray;function dr(){}var he={H:null,A:null,T:null,S:null},rp=Object.prototype.hasOwnProperty;function Tu(t,e,n){var o=n.ref;return{$$typeof:yu,type:t,key:e,ref:o!==void 0?o:null,props:n}}function Px(t,e){return Tu(t.type,e,t.props)}function Su(t){return typeof t=="object"&&t!==null&&t.$$typeof===yu}function Gx(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Jc=/\/+/g;function Es(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Gx(""+t.key):e.toString(36)}function Bx(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(dr,dr):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function ro(t,e,n,o,i){var l=typeof t;(l==="undefined"||l==="boolean")&&(t=null);var r=!1;if(t===null)r=!0;else switch(l){case"bigint":case"string":case"number":r=!0;break;case"object":switch(t.$$typeof){case yu:case Mx:r=!0;break;case op:return r=t._init,ro(r(t._payload),e,n,o,i)}}if(r)return i=i(t),r=o===""?"."+Es(t,0):o,Fc(i)?(n="",r!=null&&(n=r.replace(Jc,"$&/")+"/"),ro(i,e,n,"",function(d){return d})):i!=null&&(Su(i)&&(i=Px(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(Jc,"$&/")+"/")+r)),e.push(i)),1;r=0;var u=o===""?".":o+":";if(Fc(t))for(var c=0;c<t.length;c++)o=t[c],l=u+Es(o,c),r+=ro(o,e,n,l,i);else if(c=Lx(t),typeof c=="function")for(t=c.call(t),c=0;!(o=t.next()).done;)o=o.value,l=u+Es(o,c++),r+=ro(o,e,n,l,i);else if(l==="object"){if(typeof t.then=="function")return ro(Bx(t),e,n,o,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return r}function yl(t,e,n){if(t==null)return t;var o=[],i=0;return ro(t,o,"","",function(l){return e.call(n,l,i++)}),o}function Hx(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Oc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},zx={map:yl,forEach:function(t,e,n){yl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return yl(t,function(){e++}),e},toArray:function(t){return yl(t,function(e){return e})||[]},only:function(t){if(!Su(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Y.Activity=Vx;Y.Children=zx;Y.Component=Qo;Y.Fragment=bx;Y.Profiler=Rx;Y.PureComponent=xu;Y.StrictMode=wx;Y.Suspense=Ux;Y.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=he;Y.__COMPILER_RUNTIME={__proto__:null,c:function(t){return he.H.useMemoCache(t)}};Y.cache=function(t){return function(){return t.apply(null,arguments)}};Y.cacheSignal=function(){return null};Y.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var o=lp({},t.props),i=t.key;if(e!=null)for(l in e.key!==void 0&&(i=""+e.key),e)!rp.call(e,l)||l==="key"||l==="__self"||l==="__source"||l==="ref"&&e.ref===void 0||(o[l]=e[l]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var r=Array(l),u=0;u<l;u++)r[u]=arguments[u+2];o.children=r}return Tu(t.type,i,o)};Y.createContext=function(t){return t={$$typeof:Ix,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:Dx,_context:t},t};Y.createElement=function(t,e,n){var o,i={},l=null;if(e!=null)for(o in e.key!==void 0&&(l=""+e.key),e)rp.call(e,o)&&o!=="key"&&o!=="__self"&&o!=="__source"&&(i[o]=e[o]);var r=arguments.length-2;if(r===1)i.children=n;else if(1<r){for(var u=Array(r),c=0;c<r;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(o in r=t.defaultProps,r)i[o]===void 0&&(i[o]=r[o]);return Tu(t,l,i)};Y.createRef=function(){return{current:null}};Y.forwardRef=function(t){return{$$typeof:kx,render:t}};Y.isValidElement=Su;Y.lazy=function(t){return{$$typeof:op,_payload:{_status:-1,_result:t},_init:Hx}};Y.memo=function(t,e){return{$$typeof:qx,type:t,compare:e===void 0?null:e}};Y.startTransition=function(t){var e=he.T,n={};he.T=n;try{var o=t(),i=he.S;i!==null&&i(n,o),typeof o=="object"&&o!==null&&typeof o.then=="function"&&o.then(dr,Oc)}catch(l){Oc(l)}finally{e!==null&&n.types!==null&&(e.types=n.types),he.T=e}};Y.unstable_useCacheRefresh=function(){return he.H.useCacheRefresh()};Y.use=function(t){return he.H.use(t)};Y.useActionState=function(t,e,n){return he.H.useActionState(t,e,n)};Y.useCallback=function(t,e){return he.H.useCallback(t,e)};Y.useContext=function(t){return he.H.useContext(t)};Y.useDebugValue=function(){};Y.useDeferredValue=function(t,e){return he.H.useDeferredValue(t,e)};Y.useEffect=function(t,e){return he.H.useEffect(t,e)};Y.useEffectEvent=function(t){return he.H.useEffectEvent(t)};Y.useId=function(){return he.H.useId()};Y.useImperativeHandle=function(t,e,n){return he.H.useImperativeHandle(t,e,n)};Y.useInsertionEffect=function(t,e){return he.H.useInsertionEffect(t,e)};Y.useLayoutEffect=function(t,e){return he.H.useLayoutEffect(t,e)};Y.useMemo=function(t,e){return he.H.useMemo(t,e)};Y.useOptimistic=function(t,e){return he.H.useOptimistic(t,e)};Y.useReducer=function(t,e,n){return he.H.useReducer(t,e,n)};Y.useRef=function(t){return he.H.useRef(t)};Y.useState=function(t){return he.H.useState(t)};Y.useSyncExternalStore=function(t,e,n){return he.H.useSyncExternalStore(t,e,n)};Y.useTransition=function(){return he.H.useTransition()};Y.version="19.2.0";np.exports=Y;var A=np.exports;const Fx=Wm(A);var up={exports:{}},Ga={},cp={exports:{}},dp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,H){var $=k.length;k.push(H);e:for(;0<$;){var V=$-1>>>1,z=k[V];if(0<i(z,H))k[V]=H,k[$]=z,$=V;else break e}}function n(k){return k.length===0?null:k[0]}function o(k){if(k.length===0)return null;var H=k[0],$=k.pop();if($!==H){k[0]=$;e:for(var V=0,z=k.length,Se=z>>>1;V<Se;){var It=2*(V+1)-1,Tt=k[It],kt=It+1,en=k[kt];if(0>i(Tt,$))kt<z&&0>i(en,Tt)?(k[V]=en,k[kt]=$,V=kt):(k[V]=Tt,k[It]=$,V=It);else if(kt<z&&0>i(en,$))k[V]=en,k[kt]=$,V=kt;else break e}}return H}function i(k,H){var $=k.sortIndex-H.sortIndex;return $!==0?$:k.id-H.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var r=Date,u=r.now();t.unstable_now=function(){return r.now()-u}}var c=[],d=[],m=1,p=null,h=3,g=!1,v=!1,C=!1,E=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function S(k){for(var H=n(d);H!==null;){if(H.callback===null)o(d);else if(H.startTime<=k)o(d),H.sortIndex=H.expirationTime,e(c,H);else break;H=n(d)}}function N(k){if(C=!1,S(k),!v)if(n(c)!==null)v=!0,R||(R=!0,O());else{var H=n(d);H!==null&&le(N,H.startTime-k)}}var R=!1,_=-1,U=5,b=-1;function I(){return E?!0:!(t.unstable_now()-b<U)}function J(){if(E=!1,R){var k=t.unstable_now();b=k;var H=!0;try{e:{v=!1,C&&(C=!1,y(_),_=-1),g=!0;var $=h;try{t:{for(S(k),p=n(c);p!==null&&!(p.expirationTime>k&&I());){var V=p.callback;if(typeof V=="function"){p.callback=null,h=p.priorityLevel;var z=V(p.expirationTime<=k);if(k=t.unstable_now(),typeof z=="function"){p.callback=z,S(k),H=!0;break t}p===n(c)&&o(c),S(k)}else o(c);p=n(c)}if(p!==null)H=!0;else{var Se=n(d);Se!==null&&le(N,Se.startTime-k),H=!1}}break e}finally{p=null,h=$,g=!1}H=void 0}}finally{H?O():R=!1}}}var O;if(typeof T=="function")O=function(){T(J)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,q=B.port2;B.port1.onmessage=J,O=function(){q.postMessage(null)}}else O=function(){x(J,0)};function le(k,H){_=x(function(){k(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(k){switch(h){case 1:case 2:case 3:var H=3;break;default:H=h}var $=h;h=H;try{return k()}finally{h=$}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(k,H){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var $=h;h=k;try{return H()}finally{h=$}},t.unstable_scheduleCallback=function(k,H,$){var V=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?V+$:V):$=V,k){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=$+z,k={id:m++,callback:H,priorityLevel:k,startTime:$,expirationTime:z,sortIndex:-1},$>V?(k.sortIndex=$,e(d,k),n(c)===null&&k===n(d)&&(C?(y(_),_=-1):C=!0,le(N,$-V))):(k.sortIndex=z,e(c,k),v||g||(v=!0,R||(R=!0,O()))),k},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(k){var H=h;return function(){var $=h;h=H;try{return k.apply(this,arguments)}finally{h=$}}}})(dp);cp.exports=dp;var Jx=cp.exports,fp={exports:{}},Je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ox=A;function mp(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function tn(){}var Fe={d:{f:tn,r:function(){throw Error(mp(522))},D:tn,C:tn,L:tn,m:tn,X:tn,S:tn,M:tn},p:0,findDOMNode:null},Yx=Symbol.for("react.portal");function $x(t,e,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yx,key:o==null?null:""+o,children:t,containerInfo:e,implementation:n}}var Ci=Ox.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Ba(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Fe;Je.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(mp(299));return $x(t,e,null,n)};Je.flushSync=function(t){var e=Ci.T,n=Fe.p;try{if(Ci.T=null,Fe.p=2,t)return t()}finally{Ci.T=e,Fe.p=n,Fe.d.f()}};Je.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Fe.d.C(t,e))};Je.prefetchDNS=function(t){typeof t=="string"&&Fe.d.D(t)};Je.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,o=Ba(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,l=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Fe.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:o,integrity:i,fetchPriority:l}):n==="script"&&Fe.d.X(t,{crossOrigin:o,integrity:i,fetchPriority:l,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Je.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Ba(e.as,e.crossOrigin);Fe.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Fe.d.M(t)};Je.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,o=Ba(n,e.crossOrigin);Fe.d.L(t,n,{crossOrigin:o,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Je.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Ba(e.as,e.crossOrigin);Fe.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Fe.d.m(t)};Je.requestFormReset=function(t){Fe.d.r(t)};Je.unstable_batchedUpdates=function(t,e){return t(e)};Je.useFormState=function(t,e,n){return Ci.H.useFormState(t,e,n)};Je.useFormStatus=function(){return Ci.H.useHostTransitionStatus()};Je.version="19.2.0";function pp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pp)}catch(t){console.error(t)}}pp(),fp.exports=Je;var Kx=fp.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Re=Jx,hp=A,Qx=Kx;function w(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function gp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function yp(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function xp(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Yc(t){if(Zi(t)!==t)throw Error(w(188))}function Xx(t){var e=t.alternate;if(!e){if(e=Zi(t),e===null)throw Error(w(188));return e!==t?null:t}for(var n=t,o=e;;){var i=n.return;if(i===null)break;var l=i.alternate;if(l===null){if(o=i.return,o!==null){n=o;continue}break}if(i.child===l.child){for(l=i.child;l;){if(l===n)return Yc(i),t;if(l===o)return Yc(i),e;l=l.sibling}throw Error(w(188))}if(n.return!==o.return)n=i,o=l;else{for(var r=!1,u=i.child;u;){if(u===n){r=!0,n=i,o=l;break}if(u===o){r=!0,o=i,n=l;break}u=u.sibling}if(!r){for(u=l.child;u;){if(u===n){r=!0,n=l,o=i;break}if(u===o){r=!0,o=l,n=i;break}u=u.sibling}if(!r)throw Error(w(189))}}if(n.alternate!==o)throw Error(w(190))}if(n.tag!==3)throw Error(w(188));return n.stateNode.current===n?t:e}function vp(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=vp(t),e!==null)return e;t=t.sibling}return null}var ge=Object.assign,jx=Symbol.for("react.element"),xl=Symbol.for("react.transitional.element"),yi=Symbol.for("react.portal"),mo=Symbol.for("react.fragment"),Tp=Symbol.for("react.strict_mode"),fr=Symbol.for("react.profiler"),Sp=Symbol.for("react.consumer"),Ht=Symbol.for("react.context"),Cu=Symbol.for("react.forward_ref"),mr=Symbol.for("react.suspense"),pr=Symbol.for("react.suspense_list"),Eu=Symbol.for("react.memo"),nn=Symbol.for("react.lazy"),hr=Symbol.for("react.activity"),Zx=Symbol.for("react.memo_cache_sentinel"),$c=Symbol.iterator;function ui(t){return t===null||typeof t!="object"?null:(t=$c&&t[$c]||t["@@iterator"],typeof t=="function"?t:null)}var Wx=Symbol.for("react.client.reference");function gr(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Wx?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case mo:return"Fragment";case fr:return"Profiler";case Tp:return"StrictMode";case mr:return"Suspense";case pr:return"SuspenseList";case hr:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case yi:return"Portal";case Ht:return t.displayName||"Context";case Sp:return(t._context.displayName||"Context")+".Consumer";case Cu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Eu:return e=t.displayName||null,e!==null?e:gr(t.type)||"Memo";case nn:e=t._payload,t=t._init;try{return gr(t(e))}catch{}}return null}var xi=Array.isArray,F=hp.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=Qx.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ln={pending:!1,data:null,method:null,action:null},yr=[],po=-1;function Rt(t){return{current:t}}function ke(t){0>po||(t.current=yr[po],yr[po]=null,po--)}function de(t,e){po++,yr[po]=t.current,t.current=e}var bt=Rt(null),Li=Rt(null),pn=Rt(null),la=Rt(null);function aa(t,e){switch(de(pn,e),de(Li,t),de(bt,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Wd(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Wd(e),t=Hg(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ke(bt),de(bt,t)}function Lo(){ke(bt),ke(Li),ke(pn)}function xr(t){t.memoizedState!==null&&de(la,t);var e=bt.current,n=Hg(e,t.type);e!==n&&(de(Li,t),de(bt,n))}function sa(t){Li.current===t&&(ke(bt),ke(Li)),la.current===t&&(ke(la),Ki._currentValue=Ln)}var As,Kc;function kn(t){if(As===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);As=e&&e[1]||"",Kc=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+As+t+Kc}var Ns=!1;function _s(t,e){if(!t||Ns)return"";Ns=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(e){var p=function(){throw Error()};if(Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(g){var h=g}Reflect.construct(t,[],p)}else{try{p.call()}catch(g){h=g}t.call(p.prototype)}}else{try{throw Error()}catch(g){h=g}(p=t())&&typeof p.catch=="function"&&p.catch(function(){})}}catch(g){if(g&&h&&typeof g.stack=="string")return[g.stack,h.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var l=o.DetermineComponentFrameRoot(),r=l[0],u=l[1];if(r&&u){var c=r.split(`
`),d=u.split(`
`);for(i=o=0;o<c.length&&!c[o].includes("DetermineComponentFrameRoot");)o++;for(;i<d.length&&!d[i].includes("DetermineComponentFrameRoot");)i++;if(o===c.length||i===d.length)for(o=c.length-1,i=d.length-1;1<=o&&0<=i&&c[o]!==d[i];)i--;for(;1<=o&&0<=i;o--,i--)if(c[o]!==d[i]){if(o!==1||i!==1)do if(o--,i--,0>i||c[o]!==d[i]){var m=`
`+c[o].replace(" at new "," at ");return t.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",t.displayName)),m}while(1<=o&&0<=i);break}}}finally{Ns=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?kn(n):""}function e0(t,e){switch(t.tag){case 26:case 27:case 5:return kn(t.type);case 16:return kn("Lazy");case 13:return t.child!==e&&e!==null?kn("Suspense Fallback"):kn("Suspense");case 19:return kn("SuspenseList");case 0:case 15:return _s(t.type,!1);case 11:return _s(t.type.render,!1);case 1:return _s(t.type,!0);case 31:return kn("Activity");default:return""}}function Qc(t){try{var e="",n=null;do e+=e0(t,n),n=t,t=t.return;while(t);return e}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var vr=Object.prototype.hasOwnProperty,Au=Re.unstable_scheduleCallback,Ms=Re.unstable_cancelCallback,t0=Re.unstable_shouldYield,n0=Re.unstable_requestPaint,nt=Re.unstable_now,o0=Re.unstable_getCurrentPriorityLevel,Cp=Re.unstable_ImmediatePriority,Ep=Re.unstable_UserBlockingPriority,ra=Re.unstable_NormalPriority,i0=Re.unstable_LowPriority,Ap=Re.unstable_IdlePriority,l0=Re.log,a0=Re.unstable_setDisableYieldValue,Wi=null,ot=null;function un(t){if(typeof l0=="function"&&a0(t),ot&&typeof ot.setStrictMode=="function")try{ot.setStrictMode(Wi,t)}catch{}}var it=Math.clz32?Math.clz32:u0,s0=Math.log,r0=Math.LN2;function u0(t){return t>>>=0,t===0?32:31-(s0(t)/r0|0)|0}var vl=256,Tl=262144,Sl=4194304;function Un(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ha(t,e,n){var o=t.pendingLanes;if(o===0)return 0;var i=0,l=t.suspendedLanes,r=t.pingedLanes;t=t.warmLanes;var u=o&134217727;return u!==0?(o=u&~l,o!==0?i=Un(o):(r&=u,r!==0?i=Un(r):n||(n=u&~t,n!==0&&(i=Un(n))))):(u=o&~l,u!==0?i=Un(u):r!==0?i=Un(r):n||(n=o&~t,n!==0&&(i=Un(n)))),i===0?0:e!==0&&e!==i&&!(e&l)&&(l=i&-i,n=e&-e,l>=n||l===32&&(n&4194048)!==0)?e:i}function el(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function c0(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Np(){var t=Sl;return Sl<<=1,!(Sl&62914560)&&(Sl=4194304),t}function bs(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function tl(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function d0(t,e,n,o,i,l){var r=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var u=t.entanglements,c=t.expirationTimes,d=t.hiddenUpdates;for(n=r&~n;0<n;){var m=31-it(n),p=1<<m;u[m]=0,c[m]=-1;var h=d[m];if(h!==null)for(d[m]=null,m=0;m<h.length;m++){var g=h[m];g!==null&&(g.lane&=-536870913)}n&=~p}o!==0&&_p(t,o,0),l!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=l&~(r&~e))}function _p(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var o=31-it(e);t.entangledLanes|=e,t.entanglements[o]=t.entanglements[o]|1073741824|n&261930}function Mp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var o=31-it(n),i=1<<o;i&e|t[o]&e&&(t[o]|=e),n&=~i}}function bp(t,e){var n=e&-e;return n=n&42?1:Nu(n),n&(t.suspendedLanes|e)?0:n}function Nu(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function _u(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function wp(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:Zg(t.type))}function Xc(t,e){var n=ie.p;try{return ie.p=t,e()}finally{ie.p=n}}var wn=Math.random().toString(36).slice(2),qe="__reactFiber$"+wn,Xe="__reactProps$"+wn,Xo="__reactContainer$"+wn,Tr="__reactEvents$"+wn,f0="__reactListeners$"+wn,m0="__reactHandles$"+wn,jc="__reactResources$"+wn,nl="__reactMarker$"+wn;function Mu(t){delete t[qe],delete t[Xe],delete t[Tr],delete t[f0],delete t[m0]}function ho(t){var e=t[qe];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Xo]||n[qe]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=lf(t);t!==null;){if(n=t[qe])return n;t=lf(t)}return e}t=n,n=t.parentNode}return null}function jo(t){if(t=t[qe]||t[Xo]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function vi(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(w(33))}function _o(t){var e=t[jc];return e||(e=t[jc]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Ie(t){t[nl]=!0}var Rp=new Set,Dp={};function Kn(t,e){Po(t,e),Po(t+"Capture",e)}function Po(t,e){for(Dp[t]=e,t=0;t<e.length;t++)Rp.add(e[t])}var p0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zc={},Wc={};function h0(t){return vr.call(Wc,t)?!0:vr.call(Zc,t)?!1:p0.test(t)?Wc[t]=!0:(Zc[t]=!0,!1)}function Gl(t,e,n){if(h0(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var o=e.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Cl(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Ut(t,e,n,o){if(o===null)t.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+o)}}function ct(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ip(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function g0(t,e,n){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var i=o.get,l=o.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(r){n=""+r,l.call(this,r)}}),Object.defineProperty(t,e,{enumerable:o.enumerable}),{getValue:function(){return n},setValue:function(r){n=""+r},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Sr(t){if(!t._valueTracker){var e=Ip(t)?"checked":"value";t._valueTracker=g0(t,e,""+t[e])}}function kp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),o="";return t&&(o=Ip(t)?t.checked?"true":"false":t.value),t=o,t!==n?(e.setValue(t),!0):!1}function ua(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var y0=/[\n"\\]/g;function mt(t){return t.replace(y0,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Cr(t,e,n,o,i,l,r,u){t.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?t.type=r:t.removeAttribute("type"),e!=null?r==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+ct(e)):t.value!==""+ct(e)&&(t.value=""+ct(e)):r!=="submit"&&r!=="reset"||t.removeAttribute("value"),e!=null?Er(t,r,ct(e)):n!=null?Er(t,r,ct(n)):o!=null&&t.removeAttribute("value"),i==null&&l!=null&&(t.defaultChecked=!!l),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?t.name=""+ct(u):t.removeAttribute("name")}function Up(t,e,n,o,i,l,r,u){if(l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(t.type=l),e!=null||n!=null){if(!(l!=="submit"&&l!=="reset"||e!=null)){Sr(t);return}n=n!=null?""+ct(n):"",e=e!=null?""+ct(e):n,u||e===t.value||(t.value=e),t.defaultValue=e}o=o??i,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=u?t.checked:!!o,t.defaultChecked=!!o,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(t.name=r),Sr(t)}function Er(t,e,n){e==="number"&&ua(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Mo(t,e,n,o){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&o&&(t[n].defaultSelected=!0)}else{for(n=""+ct(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,o&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function qp(t,e,n){if(e!=null&&(e=""+ct(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+ct(n):""}function Vp(t,e,n,o){if(e==null){if(o!=null){if(n!=null)throw Error(w(92));if(xi(o)){if(1<o.length)throw Error(w(93));o=o[0]}n=o}n==null&&(n=""),e=n}n=ct(e),t.defaultValue=n,o=t.textContent,o===n&&o!==""&&o!==null&&(t.value=o),Sr(t)}function Go(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var x0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ed(t,e,n){var o=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?o?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":o?t.setProperty(e,n):typeof n!="number"||n===0||x0.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function Lp(t,e,n){if(e!=null&&typeof e!="object")throw Error(w(62));if(t=t.style,n!=null){for(var o in n)!n.hasOwnProperty(o)||e!=null&&e.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var i in e)o=e[i],e.hasOwnProperty(i)&&n[i]!==o&&ed(t,i,o)}else for(var l in e)e.hasOwnProperty(l)&&ed(t,l,e[l])}function bu(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var v0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),T0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bl(t){return T0.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function zt(){}var Ar=null;function wu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var go=null,bo=null;function td(t){var e=jo(t);if(e&&(t=e.stateNode)){var n=t[Xe]||null;e:switch(t=e.stateNode,e.type){case"input":if(Cr(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var o=n[e];if(o!==t&&o.form===t.form){var i=o[Xe]||null;if(!i)throw Error(w(90));Cr(o,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)o=n[e],o.form===t.form&&kp(o)}break e;case"textarea":qp(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Mo(t,!!n.multiple,e,!1)}}}var ws=!1;function Pp(t,e,n){if(ws)return t(e,n);ws=!0;try{var o=t(e);return o}finally{if(ws=!1,(go!==null||bo!==null)&&(Wa(),go&&(e=go,t=bo,bo=go=null,td(e),t)))for(e=0;e<t.length;e++)td(t[e])}}function Pi(t,e){var n=t.stateNode;if(n===null)return null;var o=n[Xe]||null;if(o===null)return null;n=o[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(w(231,e,typeof n));return n}var $t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nr=!1;if($t)try{var ci={};Object.defineProperty(ci,"passive",{get:function(){Nr=!0}}),window.addEventListener("test",ci,ci),window.removeEventListener("test",ci,ci)}catch{Nr=!1}var cn=null,Ru=null,Hl=null;function Gp(){if(Hl)return Hl;var t,e=Ru,n=e.length,o,i="value"in cn?cn.value:cn.textContent,l=i.length;for(t=0;t<n&&e[t]===i[t];t++);var r=n-t;for(o=1;o<=r&&e[n-o]===i[l-o];o++);return Hl=i.slice(t,1<o?1-o:void 0)}function zl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function El(){return!0}function nd(){return!1}function je(t){function e(n,o,i,l,r){this._reactName=n,this._targetInst=i,this.type=o,this.nativeEvent=l,this.target=r,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(l):l[u]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?El:nd,this.isPropagationStopped=nd,this}return ge(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=El)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=El)},persist:function(){},isPersistent:El}),e}var Qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},za=je(Qn),ol=ge({},Qn,{view:0,detail:0}),S0=je(ol),Rs,Ds,di,Fa=ge({},ol,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Du,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==di&&(di&&t.type==="mousemove"?(Rs=t.screenX-di.screenX,Ds=t.screenY-di.screenY):Ds=Rs=0,di=t),Rs)},movementY:function(t){return"movementY"in t?t.movementY:Ds}}),od=je(Fa),C0=ge({},Fa,{dataTransfer:0}),E0=je(C0),A0=ge({},ol,{relatedTarget:0}),Is=je(A0),N0=ge({},Qn,{animationName:0,elapsedTime:0,pseudoElement:0}),_0=je(N0),M0=ge({},Qn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),b0=je(M0),w0=ge({},Qn,{data:0}),id=je(w0),R0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},D0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},I0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function k0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=I0[t])?!!e[t]:!1}function Du(){return k0}var U0=ge({},ol,{key:function(t){if(t.key){var e=R0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=zl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?D0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Du,charCode:function(t){return t.type==="keypress"?zl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),q0=je(U0),V0=ge({},Fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ld=je(V0),L0=ge({},ol,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Du}),P0=je(L0),G0=ge({},Qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),B0=je(G0),H0=ge({},Fa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),z0=je(H0),F0=ge({},Qn,{newState:0,oldState:0}),J0=je(F0),O0=[9,13,27,32],Iu=$t&&"CompositionEvent"in window,Ei=null;$t&&"documentMode"in document&&(Ei=document.documentMode);var Y0=$t&&"TextEvent"in window&&!Ei,Bp=$t&&(!Iu||Ei&&8<Ei&&11>=Ei),ad=" ",sd=!1;function Hp(t,e){switch(t){case"keyup":return O0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var yo=!1;function $0(t,e){switch(t){case"compositionend":return zp(e);case"keypress":return e.which!==32?null:(sd=!0,ad);case"textInput":return t=e.data,t===ad&&sd?null:t;default:return null}}function K0(t,e){if(yo)return t==="compositionend"||!Iu&&Hp(t,e)?(t=Gp(),Hl=Ru=cn=null,yo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Bp&&e.locale!=="ko"?null:e.data;default:return null}}var Q0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Q0[t.type]:e==="textarea"}function Fp(t,e,n,o){go?bo?bo.push(o):bo=[o]:go=o,e=Ma(e,"onChange"),0<e.length&&(n=new za("onChange","change",null,n,o),t.push({event:n,listeners:e}))}var Ai=null,Gi=null;function X0(t){Pg(t,0)}function Ja(t){var e=vi(t);if(kp(e))return t}function ud(t,e){if(t==="change")return e}var Jp=!1;if($t){var ks;if($t){var Us="oninput"in document;if(!Us){var cd=document.createElement("div");cd.setAttribute("oninput","return;"),Us=typeof cd.oninput=="function"}ks=Us}else ks=!1;Jp=ks&&(!document.documentMode||9<document.documentMode)}function dd(){Ai&&(Ai.detachEvent("onpropertychange",Op),Gi=Ai=null)}function Op(t){if(t.propertyName==="value"&&Ja(Gi)){var e=[];Fp(e,Gi,t,wu(t)),Pp(X0,e)}}function j0(t,e,n){t==="focusin"?(dd(),Ai=e,Gi=n,Ai.attachEvent("onpropertychange",Op)):t==="focusout"&&dd()}function Z0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ja(Gi)}function W0(t,e){if(t==="click")return Ja(e)}function ev(t,e){if(t==="input"||t==="change")return Ja(e)}function tv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var at=typeof Object.is=="function"?Object.is:tv;function Bi(t,e){if(at(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),o=Object.keys(e);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var i=n[o];if(!vr.call(e,i)||!at(t[i],e[i]))return!1}return!0}function fd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function md(t,e){var n=fd(t);t=0;for(var o;n;){if(n.nodeType===3){if(o=t+n.textContent.length,t<=e&&o>=e)return{node:n,offset:e-t};t=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fd(n)}}function Yp(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Yp(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $p(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=ua(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ua(t.document)}return e}function ku(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var nv=$t&&"documentMode"in document&&11>=document.documentMode,xo=null,_r=null,Ni=null,Mr=!1;function pd(t,e,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Mr||xo==null||xo!==ua(o)||(o=xo,"selectionStart"in o&&ku(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ni&&Bi(Ni,o)||(Ni=o,o=Ma(_r,"onSelect"),0<o.length&&(e=new za("onSelect","select",null,e,n),t.push({event:e,listeners:o}),e.target=xo)))}function Dn(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var vo={animationend:Dn("Animation","AnimationEnd"),animationiteration:Dn("Animation","AnimationIteration"),animationstart:Dn("Animation","AnimationStart"),transitionrun:Dn("Transition","TransitionRun"),transitionstart:Dn("Transition","TransitionStart"),transitioncancel:Dn("Transition","TransitionCancel"),transitionend:Dn("Transition","TransitionEnd")},qs={},Kp={};$t&&(Kp=document.createElement("div").style,"AnimationEvent"in window||(delete vo.animationend.animation,delete vo.animationiteration.animation,delete vo.animationstart.animation),"TransitionEvent"in window||delete vo.transitionend.transition);function Xn(t){if(qs[t])return qs[t];if(!vo[t])return t;var e=vo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Kp)return qs[t]=e[n];return t}var Qp=Xn("animationend"),Xp=Xn("animationiteration"),jp=Xn("animationstart"),ov=Xn("transitionrun"),iv=Xn("transitionstart"),lv=Xn("transitioncancel"),Zp=Xn("transitionend"),Wp=new Map,br="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");br.push("scrollEnd");function Et(t,e){Wp.set(t,e),Kn(e,[t])}var ca=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ut=[],To=0,Uu=0;function Oa(){for(var t=To,e=Uu=To=0;e<t;){var n=ut[e];ut[e++]=null;var o=ut[e];ut[e++]=null;var i=ut[e];ut[e++]=null;var l=ut[e];if(ut[e++]=null,o!==null&&i!==null){var r=o.pending;r===null?i.next=i:(i.next=r.next,r.next=i),o.pending=i}l!==0&&eh(n,i,l)}}function Ya(t,e,n,o){ut[To++]=t,ut[To++]=e,ut[To++]=n,ut[To++]=o,Uu|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function qu(t,e,n,o){return Ya(t,e,n,o),da(t)}function jn(t,e){return Ya(t,null,null,e),da(t)}function eh(t,e,n){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n);for(var i=!1,l=t.return;l!==null;)l.childLanes|=n,o=l.alternate,o!==null&&(o.childLanes|=n),l.tag===22&&(t=l.stateNode,t===null||t._visibility&1||(i=!0)),t=l,l=l.return;return t.tag===3?(l=t.stateNode,i&&e!==null&&(i=31-it(n),t=l.hiddenUpdates,o=t[i],o===null?t[i]=[e]:o.push(e),e.lane=n|536870912),l):null}function da(t){if(50<Ui)throw Ui=0,Qr=null,Error(w(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var So={};function av(t,e,n,o){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function et(t,e,n,o){return new av(t,e,n,o)}function Vu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Jt(t,e){var n=t.alternate;return n===null?(n=et(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function th(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Fl(t,e,n,o,i,l){var r=0;if(o=t,typeof t=="function")Vu(t)&&(r=1);else if(typeof t=="string")r=dT(t,n,bt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case hr:return t=et(31,n,e,i),t.elementType=hr,t.lanes=l,t;case mo:return Pn(n.children,i,l,e);case Tp:r=8,i|=24;break;case fr:return t=et(12,n,e,i|2),t.elementType=fr,t.lanes=l,t;case mr:return t=et(13,n,e,i),t.elementType=mr,t.lanes=l,t;case pr:return t=et(19,n,e,i),t.elementType=pr,t.lanes=l,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ht:r=10;break e;case Sp:r=9;break e;case Cu:r=11;break e;case Eu:r=14;break e;case nn:r=16,o=null;break e}r=29,n=Error(w(130,t===null?"null":typeof t,"")),o=null}return e=et(r,n,e,i),e.elementType=t,e.type=o,e.lanes=l,e}function Pn(t,e,n,o){return t=et(7,t,o,e),t.lanes=n,t}function Vs(t,e,n){return t=et(6,t,null,e),t.lanes=n,t}function nh(t){var e=et(18,null,null,0);return e.stateNode=t,e}function Ls(t,e,n){return e=et(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var hd=new WeakMap;function pt(t,e){if(typeof t=="object"&&t!==null){var n=hd.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Qc(e)},hd.set(t,e),e)}return{value:t,source:e,stack:Qc(e)}}var Co=[],Eo=0,fa=null,Hi=0,dt=[],ft=0,En=null,Nt=1,_t="";function Gt(t,e){Co[Eo++]=Hi,Co[Eo++]=fa,fa=t,Hi=e}function oh(t,e,n){dt[ft++]=Nt,dt[ft++]=_t,dt[ft++]=En,En=t;var o=Nt;t=_t;var i=32-it(o)-1;o&=~(1<<i),n+=1;var l=32-it(e)+i;if(30<l){var r=i-i%5;l=(o&(1<<r)-1).toString(32),o>>=r,i-=r,Nt=1<<32-it(e)+i|n<<i|o,_t=l+t}else Nt=1<<l|n<<i|o,_t=t}function Lu(t){t.return!==null&&(Gt(t,1),oh(t,1,0))}function Pu(t){for(;t===fa;)fa=Co[--Eo],Co[Eo]=null,Hi=Co[--Eo],Co[Eo]=null;for(;t===En;)En=dt[--ft],dt[ft]=null,_t=dt[--ft],dt[ft]=null,Nt=dt[--ft],dt[ft]=null}function ih(t,e){dt[ft++]=Nt,dt[ft++]=_t,dt[ft++]=En,Nt=e.id,_t=e.overflow,En=t}var Ve=null,pe=null,ee=!1,hn=null,ht=!1,wr=Error(w(519));function An(t){var e=Error(w(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zi(pt(e,t)),wr}function gd(t){var e=t.stateNode,n=t.type,o=t.memoizedProps;switch(e[qe]=t,e[Xe]=o,n){case"dialog":j("cancel",e),j("close",e);break;case"iframe":case"object":case"embed":j("load",e);break;case"video":case"audio":for(n=0;n<Yi.length;n++)j(Yi[n],e);break;case"source":j("error",e);break;case"img":case"image":case"link":j("error",e),j("load",e);break;case"details":j("toggle",e);break;case"input":j("invalid",e),Up(e,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":j("invalid",e);break;case"textarea":j("invalid",e),Vp(e,o.value,o.defaultValue,o.children)}n=o.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||o.suppressHydrationWarning===!0||Bg(e.textContent,n)?(o.popover!=null&&(j("beforetoggle",e),j("toggle",e)),o.onScroll!=null&&j("scroll",e),o.onScrollEnd!=null&&j("scrollend",e),o.onClick!=null&&(e.onclick=zt),e=!0):e=!1,e||An(t,!0)}function yd(t){for(Ve=t.return;Ve;)switch(Ve.tag){case 5:case 31:case 13:ht=!1;return;case 27:case 3:ht=!0;return;default:Ve=Ve.return}}function ao(t){if(t!==Ve)return!1;if(!ee)return yd(t),ee=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||eu(t.type,t.memoizedProps)),n=!n),n&&pe&&An(t),yd(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(w(317));pe=of(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(w(317));pe=of(t)}else e===27?(e=pe,Rn(t.type)?(t=iu,iu=null,pe=t):pe=e):pe=Ve?yt(t.stateNode.nextSibling):null;return!0}function zn(){pe=Ve=null,ee=!1}function Ps(){var t=hn;return t!==null&&(Ke===null?Ke=t:Ke.push.apply(Ke,t),hn=null),t}function zi(t){hn===null?hn=[t]:hn.push(t)}var Rr=Rt(null),Zn=null,Ft=null;function ln(t,e,n){de(Rr,e._currentValue),e._currentValue=n}function Ot(t){t._currentValue=Rr.current,ke(Rr)}function Dr(t,e,n){for(;t!==null;){var o=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),t===n)break;t=t.return}}function Ir(t,e,n,o){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){var r=i.child;l=l.firstContext;e:for(;l!==null;){var u=l;l=i;for(var c=0;c<e.length;c++)if(u.context===e[c]){l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),Dr(l.return,n,t),o||(r=null);break e}l=u.next}}else if(i.tag===18){if(r=i.return,r===null)throw Error(w(341));r.lanes|=n,l=r.alternate,l!==null&&(l.lanes|=n),Dr(r,n,t),r=null}else r=i.child;if(r!==null)r.return=i;else for(r=i;r!==null;){if(r===t){r=null;break}if(i=r.sibling,i!==null){i.return=r.return,r=i;break}r=r.return}i=r}}function Zo(t,e,n,o){t=null;for(var i=e,l=!1;i!==null;){if(!l){if(i.flags&524288)l=!0;else if(i.flags&262144)break}if(i.tag===10){var r=i.alternate;if(r===null)throw Error(w(387));if(r=r.memoizedProps,r!==null){var u=i.type;at(i.pendingProps.value,r.value)||(t!==null?t.push(u):t=[u])}}else if(i===la.current){if(r=i.alternate,r===null)throw Error(w(387));r.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(Ki):t=[Ki])}i=i.return}t!==null&&Ir(e,t,n,o),e.flags|=262144}function ma(t){for(t=t.firstContext;t!==null;){if(!at(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Fn(t){Zn=t,Ft=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Le(t){return lh(Zn,t)}function Al(t,e){return Zn===null&&Fn(t),lh(t,e)}function lh(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Ft===null){if(t===null)throw Error(w(308));Ft=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Ft=Ft.next=e;return n}var sv=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,o){t.push(o)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},rv=Re.unstable_scheduleCallback,uv=Re.unstable_NormalPriority,Me={$$typeof:Ht,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gu(){return{controller:new sv,data:new Map,refCount:0}}function il(t){t.refCount--,t.refCount===0&&rv(uv,function(){t.controller.abort()})}var _i=null,kr=0,Bo=0,wo=null;function cv(t,e){if(_i===null){var n=_i=[];kr=0,Bo=cc(),wo={status:"pending",value:void 0,then:function(o){n.push(o)}}}return kr++,e.then(xd,xd),e}function xd(){if(--kr===0&&_i!==null){wo!==null&&(wo.status="fulfilled");var t=_i;_i=null,Bo=0,wo=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function dv(t,e){var n=[],o={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){o.status="fulfilled",o.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(o.status="rejected",o.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),o}var vd=F.S;F.S=function(t,e){vg=nt(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&cv(t,e),vd!==null&&vd(t,e)};var Gn=Rt(null);function Bu(){var t=Gn.current;return t!==null?t:ce.pooledCache}function Jl(t,e){e===null?de(Gn,Gn.current):de(Gn,e.pool)}function ah(){var t=Bu();return t===null?null:{parent:Me._currentValue,pool:t}}var Wo=Error(w(460)),Hu=Error(w(474)),$a=Error(w(542)),pa={then:function(){}};function Td(t){return t=t.status,t==="fulfilled"||t==="rejected"}function sh(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(zt,zt),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Cd(t),t;default:if(typeof e.status=="string")e.then(zt,zt);else{if(t=ce,t!==null&&100<t.shellSuspendCounter)throw Error(w(482));t=e,t.status="pending",t.then(function(o){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=o}},function(o){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=o}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Cd(t),t}throw Bn=e,Wo}}function qn(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Bn=n,Wo):n}}var Bn=null;function Sd(){if(Bn===null)throw Error(w(459));var t=Bn;return Bn=null,t}function Cd(t){if(t===Wo||t===$a)throw Error(w(483))}var Ro=null,Fi=0;function Nl(t){var e=Fi;return Fi+=1,Ro===null&&(Ro=[]),sh(Ro,t,e)}function fi(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function _l(t,e){throw e.$$typeof===jx?Error(w(525)):(t=Object.prototype.toString.call(e),Error(w(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function rh(t){function e(x,y){if(t){var T=x.deletions;T===null?(x.deletions=[y],x.flags|=16):T.push(y)}}function n(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function o(x){for(var y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function i(x,y){return x=Jt(x,y),x.index=0,x.sibling=null,x}function l(x,y,T){return x.index=T,t?(T=x.alternate,T!==null?(T=T.index,T<y?(x.flags|=67108866,y):T):(x.flags|=67108866,y)):(x.flags|=1048576,y)}function r(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function u(x,y,T,S){return y===null||y.tag!==6?(y=Vs(T,x.mode,S),y.return=x,y):(y=i(y,T),y.return=x,y)}function c(x,y,T,S){var N=T.type;return N===mo?m(x,y,T.props.children,S,T.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===nn&&qn(N)===y.type)?(y=i(y,T.props),fi(y,T),y.return=x,y):(y=Fl(T.type,T.key,T.props,null,x.mode,S),fi(y,T),y.return=x,y)}function d(x,y,T,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==T.containerInfo||y.stateNode.implementation!==T.implementation?(y=Ls(T,x.mode,S),y.return=x,y):(y=i(y,T.children||[]),y.return=x,y)}function m(x,y,T,S,N){return y===null||y.tag!==7?(y=Pn(T,x.mode,S,N),y.return=x,y):(y=i(y,T),y.return=x,y)}function p(x,y,T){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return y=Vs(""+y,x.mode,T),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case xl:return T=Fl(y.type,y.key,y.props,null,x.mode,T),fi(T,y),T.return=x,T;case yi:return y=Ls(y,x.mode,T),y.return=x,y;case nn:return y=qn(y),p(x,y,T)}if(xi(y)||ui(y))return y=Pn(y,x.mode,T,null),y.return=x,y;if(typeof y.then=="function")return p(x,Nl(y),T);if(y.$$typeof===Ht)return p(x,Al(x,y),T);_l(x,y)}return null}function h(x,y,T,S){var N=y!==null?y.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return N!==null?null:u(x,y,""+T,S);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case xl:return T.key===N?c(x,y,T,S):null;case yi:return T.key===N?d(x,y,T,S):null;case nn:return T=qn(T),h(x,y,T,S)}if(xi(T)||ui(T))return N!==null?null:m(x,y,T,S,null);if(typeof T.then=="function")return h(x,y,Nl(T),S);if(T.$$typeof===Ht)return h(x,y,Al(x,T),S);_l(x,T)}return null}function g(x,y,T,S,N){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return x=x.get(T)||null,u(y,x,""+S,N);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case xl:return x=x.get(S.key===null?T:S.key)||null,c(y,x,S,N);case yi:return x=x.get(S.key===null?T:S.key)||null,d(y,x,S,N);case nn:return S=qn(S),g(x,y,T,S,N)}if(xi(S)||ui(S))return x=x.get(T)||null,m(y,x,S,N,null);if(typeof S.then=="function")return g(x,y,T,Nl(S),N);if(S.$$typeof===Ht)return g(x,y,T,Al(y,S),N);_l(y,S)}return null}function v(x,y,T,S){for(var N=null,R=null,_=y,U=y=0,b=null;_!==null&&U<T.length;U++){_.index>U?(b=_,_=null):b=_.sibling;var I=h(x,_,T[U],S);if(I===null){_===null&&(_=b);break}t&&_&&I.alternate===null&&e(x,_),y=l(I,y,U),R===null?N=I:R.sibling=I,R=I,_=b}if(U===T.length)return n(x,_),ee&&Gt(x,U),N;if(_===null){for(;U<T.length;U++)_=p(x,T[U],S),_!==null&&(y=l(_,y,U),R===null?N=_:R.sibling=_,R=_);return ee&&Gt(x,U),N}for(_=o(_);U<T.length;U++)b=g(_,x,U,T[U],S),b!==null&&(t&&b.alternate!==null&&_.delete(b.key===null?U:b.key),y=l(b,y,U),R===null?N=b:R.sibling=b,R=b);return t&&_.forEach(function(J){return e(x,J)}),ee&&Gt(x,U),N}function C(x,y,T,S){if(T==null)throw Error(w(151));for(var N=null,R=null,_=y,U=y=0,b=null,I=T.next();_!==null&&!I.done;U++,I=T.next()){_.index>U?(b=_,_=null):b=_.sibling;var J=h(x,_,I.value,S);if(J===null){_===null&&(_=b);break}t&&_&&J.alternate===null&&e(x,_),y=l(J,y,U),R===null?N=J:R.sibling=J,R=J,_=b}if(I.done)return n(x,_),ee&&Gt(x,U),N;if(_===null){for(;!I.done;U++,I=T.next())I=p(x,I.value,S),I!==null&&(y=l(I,y,U),R===null?N=I:R.sibling=I,R=I);return ee&&Gt(x,U),N}for(_=o(_);!I.done;U++,I=T.next())I=g(_,x,U,I.value,S),I!==null&&(t&&I.alternate!==null&&_.delete(I.key===null?U:I.key),y=l(I,y,U),R===null?N=I:R.sibling=I,R=I);return t&&_.forEach(function(O){return e(x,O)}),ee&&Gt(x,U),N}function E(x,y,T,S){if(typeof T=="object"&&T!==null&&T.type===mo&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case xl:e:{for(var N=T.key;y!==null;){if(y.key===N){if(N=T.type,N===mo){if(y.tag===7){n(x,y.sibling),S=i(y,T.props.children),S.return=x,x=S;break e}}else if(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===nn&&qn(N)===y.type){n(x,y.sibling),S=i(y,T.props),fi(S,T),S.return=x,x=S;break e}n(x,y);break}else e(x,y);y=y.sibling}T.type===mo?(S=Pn(T.props.children,x.mode,S,T.key),S.return=x,x=S):(S=Fl(T.type,T.key,T.props,null,x.mode,S),fi(S,T),S.return=x,x=S)}return r(x);case yi:e:{for(N=T.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===T.containerInfo&&y.stateNode.implementation===T.implementation){n(x,y.sibling),S=i(y,T.children||[]),S.return=x,x=S;break e}else{n(x,y);break}else e(x,y);y=y.sibling}S=Ls(T,x.mode,S),S.return=x,x=S}return r(x);case nn:return T=qn(T),E(x,y,T,S)}if(xi(T))return v(x,y,T,S);if(ui(T)){if(N=ui(T),typeof N!="function")throw Error(w(150));return T=N.call(T),C(x,y,T,S)}if(typeof T.then=="function")return E(x,y,Nl(T),S);if(T.$$typeof===Ht)return E(x,y,Al(x,T),S);_l(x,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,y!==null&&y.tag===6?(n(x,y.sibling),S=i(y,T),S.return=x,x=S):(n(x,y),S=Vs(T,x.mode,S),S.return=x,x=S),r(x)):n(x,y)}return function(x,y,T,S){try{Fi=0;var N=E(x,y,T,S);return Ro=null,N}catch(_){if(_===Wo||_===$a)throw _;var R=et(29,_,null,x.mode);return R.lanes=S,R.return=x,R}finally{}}}var Jn=rh(!0),uh=rh(!1),on=!1;function zu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ur(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function gn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function yn(t,e,n){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,oe&2){var i=o.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),o.pending=e,e=da(t),eh(t,null,n),e}return Ya(t,o,e,n),da(t)}function Mi(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var o=e.lanes;o&=t.pendingLanes,n|=o,e.lanes=n,Mp(t,n)}}function Gs(t,e){var n=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var i=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var r={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};l===null?i=l=r:l=l.next=r,n=n.next}while(n!==null);l===null?i=l=e:l=l.next=e}else i=l=e;n={baseState:o.baseState,firstBaseUpdate:i,lastBaseUpdate:l,shared:o.shared,callbacks:o.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var qr=!1;function bi(){if(qr){var t=wo;if(t!==null)throw t}}function wi(t,e,n,o){qr=!1;var i=t.updateQueue;on=!1;var l=i.firstBaseUpdate,r=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var c=u,d=c.next;c.next=null,r===null?l=d:r.next=d,r=c;var m=t.alternate;m!==null&&(m=m.updateQueue,u=m.lastBaseUpdate,u!==r&&(u===null?m.firstBaseUpdate=d:u.next=d,m.lastBaseUpdate=c))}if(l!==null){var p=i.baseState;r=0,m=d=c=null,u=l;do{var h=u.lane&-536870913,g=h!==u.lane;if(g?(W&h)===h:(o&h)===h){h!==0&&h===Bo&&(qr=!0),m!==null&&(m=m.next={lane:0,tag:u.tag,payload:u.payload,callback:null,next:null});e:{var v=t,C=u;h=e;var E=n;switch(C.tag){case 1:if(v=C.payload,typeof v=="function"){p=v.call(E,p,h);break e}p=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=C.payload,h=typeof v=="function"?v.call(E,p,h):v,h==null)break e;p=ge({},p,h);break e;case 2:on=!0}}h=u.callback,h!==null&&(t.flags|=64,g&&(t.flags|=8192),g=i.callbacks,g===null?i.callbacks=[h]:g.push(h))}else g={lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},m===null?(d=m=g,c=p):m=m.next=g,r|=h;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;g=u,u=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);m===null&&(c=p),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=m,l===null&&(i.shared.lanes=0),_n|=r,t.lanes=r,t.memoizedState=p}}function ch(t,e){if(typeof t!="function")throw Error(w(191,t));t.call(e)}function dh(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)ch(n[t],e)}var Ho=Rt(null),ha=Rt(0);function Ed(t,e){t=jt,de(ha,t),de(Ho,e),jt=t|e.baseLanes}function Vr(){de(ha,jt),de(Ho,Ho.current)}function Fu(){jt=ha.current,ke(Ho),ke(ha)}var st=Rt(null),gt=null;function an(t){var e=t.alternate;de(Ee,Ee.current&1),de(st,t),gt===null&&(e===null||Ho.current!==null||e.memoizedState!==null)&&(gt=t)}function Lr(t){de(Ee,Ee.current),de(st,t),gt===null&&(gt=t)}function fh(t){t.tag===22?(de(Ee,Ee.current),de(st,t),gt===null&&(gt=t)):sn()}function sn(){de(Ee,Ee.current),de(st,st.current)}function We(t){ke(st),gt===t&&(gt=null),ke(Ee)}var Ee=Rt(0);function ga(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||nu(n)||ou(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Kt=0,K=null,ue=null,Ne=null,ya=!1,Do=!1,On=!1,xa=0,Ji=0,Io=null,fv=0;function ve(){throw Error(w(321))}function Ju(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!at(t[n],e[n]))return!1;return!0}function Ou(t,e,n,o,i,l){return Kt=l,K=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,F.H=t===null||t.memoizedState===null?Fh:nc,On=!1,l=n(o,i),On=!1,Do&&(l=ph(e,n,o,i)),mh(t),l}function mh(t){F.H=Oi;var e=ue!==null&&ue.next!==null;if(Kt=0,Ne=ue=K=null,ya=!1,Ji=0,Io=null,e)throw Error(w(300));t===null||be||(t=t.dependencies,t!==null&&ma(t)&&(be=!0))}function ph(t,e,n,o){K=t;var i=0;do{if(Do&&(Io=null),Ji=0,Do=!1,25<=i)throw Error(w(301));if(i+=1,Ne=ue=null,t.updateQueue!=null){var l=t.updateQueue;l.lastEffect=null,l.events=null,l.stores=null,l.memoCache!=null&&(l.memoCache.index=0)}F.H=Jh,l=e(n,o)}while(Do);return l}function mv(){var t=F.H,e=t.useState()[0];return e=typeof e.then=="function"?ll(e):e,t=t.useState()[0],(ue!==null?ue.memoizedState:null)!==t&&(K.flags|=1024),e}function Yu(){var t=xa!==0;return xa=0,t}function $u(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Ku(t){if(ya){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}ya=!1}Kt=0,Ne=ue=K=null,Do=!1,Ji=xa=0,Io=null}function ze(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?K.memoizedState=Ne=t:Ne=Ne.next=t,Ne}function Ae(){if(ue===null){var t=K.alternate;t=t!==null?t.memoizedState:null}else t=ue.next;var e=Ne===null?K.memoizedState:Ne.next;if(e!==null)Ne=e,ue=t;else{if(t===null)throw K.alternate===null?Error(w(467)):Error(w(310));ue=t,t={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},Ne===null?K.memoizedState=Ne=t:Ne=Ne.next=t}return Ne}function Ka(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ll(t){var e=Ji;return Ji+=1,Io===null&&(Io=[]),t=sh(Io,t,e),e=K,(Ne===null?e.memoizedState:Ne.next)===null&&(e=e.alternate,F.H=e===null||e.memoizedState===null?Fh:nc),t}function Qa(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ll(t);if(t.$$typeof===Ht)return Le(t)}throw Error(w(438,String(t)))}function Qu(t){var e=null,n=K.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var o=K.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(e={data:o.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Ka(),K.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),o=0;o<t;o++)n[o]=Zx;return e.index++,n}function Qt(t,e){return typeof e=="function"?e(t):e}function Ol(t){var e=Ae();return Xu(e,ue,t)}function Xu(t,e,n){var o=t.queue;if(o===null)throw Error(w(311));o.lastRenderedReducer=n;var i=t.baseQueue,l=o.pending;if(l!==null){if(i!==null){var r=i.next;i.next=l.next,l.next=r}e.baseQueue=i=l,o.pending=null}if(l=t.baseState,i===null)t.memoizedState=l;else{e=i.next;var u=r=null,c=null,d=e,m=!1;do{var p=d.lane&-536870913;if(p!==d.lane?(W&p)===p:(Kt&p)===p){var h=d.revertLane;if(h===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),p===Bo&&(m=!0);else if((Kt&h)===h){d=d.next,h===Bo&&(m=!0);continue}else p={lane:0,revertLane:d.revertLane,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},c===null?(u=c=p,r=l):c=c.next=p,K.lanes|=h,_n|=h;p=d.action,On&&n(l,p),l=d.hasEagerState?d.eagerState:n(l,p)}else h={lane:p,revertLane:d.revertLane,gesture:d.gesture,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},c===null?(u=c=h,r=l):c=c.next=h,K.lanes|=p,_n|=p;d=d.next}while(d!==null&&d!==e);if(c===null?r=l:c.next=u,!at(l,t.memoizedState)&&(be=!0,m&&(n=wo,n!==null)))throw n;t.memoizedState=l,t.baseState=r,t.baseQueue=c,o.lastRenderedState=l}return i===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Bs(t){var e=Ae(),n=e.queue;if(n===null)throw Error(w(311));n.lastRenderedReducer=t;var o=n.dispatch,i=n.pending,l=e.memoizedState;if(i!==null){n.pending=null;var r=i=i.next;do l=t(l,r.action),r=r.next;while(r!==i);at(l,e.memoizedState)||(be=!0),e.memoizedState=l,e.baseQueue===null&&(e.baseState=l),n.lastRenderedState=l}return[l,o]}function hh(t,e,n){var o=K,i=Ae(),l=ee;if(l){if(n===void 0)throw Error(w(407));n=n()}else n=e();var r=!at((ue||i).memoizedState,n);if(r&&(i.memoizedState=n,be=!0),i=i.queue,ju(xh.bind(null,o,i,t),[t]),i.getSnapshot!==e||r||Ne!==null&&Ne.memoizedState.tag&1){if(o.flags|=2048,zo(9,{destroy:void 0},yh.bind(null,o,i,n,e),null),ce===null)throw Error(w(349));l||Kt&127||gh(o,e,n)}return n}function gh(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=K.updateQueue,e===null?(e=Ka(),K.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function yh(t,e,n,o){e.value=n,e.getSnapshot=o,vh(e)&&Th(t)}function xh(t,e,n){return n(function(){vh(e)&&Th(t)})}function vh(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!at(t,n)}catch{return!0}}function Th(t){var e=jn(t,2);e!==null&&Qe(e,t,2)}function Pr(t){var e=ze();if(typeof t=="function"){var n=t;if(t=n(),On){un(!0);try{n()}finally{un(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qt,lastRenderedState:t},e}function Sh(t,e,n,o){return t.baseState=n,Xu(t,ue,typeof o=="function"?o:Qt)}function pv(t,e,n,o,i){if(ja(t))throw Error(w(485));if(t=e.action,t!==null){var l={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){l.listeners.push(r)}};F.T!==null?n(!0):l.isTransition=!1,o(l),n=e.pending,n===null?(l.next=e.pending=l,Ch(e,l)):(l.next=n.next,e.pending=n.next=l)}}function Ch(t,e){var n=e.action,o=e.payload,i=t.state;if(e.isTransition){var l=F.T,r={};F.T=r;try{var u=n(i,o),c=F.S;c!==null&&c(r,u),Ad(t,e,u)}catch(d){Gr(t,e,d)}finally{l!==null&&r.types!==null&&(l.types=r.types),F.T=l}}else try{l=n(i,o),Ad(t,e,l)}catch(d){Gr(t,e,d)}}function Ad(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(o){Nd(t,e,o)},function(o){return Gr(t,e,o)}):Nd(t,e,n)}function Nd(t,e,n){e.status="fulfilled",e.value=n,Eh(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,Ch(t,n)))}function Gr(t,e,n){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do e.status="rejected",e.reason=n,Eh(e),e=e.next;while(e!==o)}t.action=null}function Eh(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Ah(t,e){return e}function _d(t,e){if(ee){var n=ce.formState;if(n!==null){e:{var o=K;if(ee){if(pe){t:{for(var i=pe,l=ht;i.nodeType!==8;){if(!l){i=null;break t}if(i=yt(i.nextSibling),i===null){i=null;break t}}l=i.data,i=l==="F!"||l==="F"?i:null}if(i){pe=yt(i.nextSibling),o=i.data==="F!";break e}}An(o)}o=!1}o&&(e=n[0])}}return n=ze(),n.memoizedState=n.baseState=e,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ah,lastRenderedState:e},n.queue=o,n=Bh.bind(null,K,o),o.dispatch=n,o=Pr(!1),l=tc.bind(null,K,!1,o.queue),o=ze(),i={state:e,dispatch:null,action:t,pending:null},o.queue=i,n=pv.bind(null,K,i,l,n),i.dispatch=n,o.memoizedState=t,[e,n,!1]}function Md(t){var e=Ae();return Nh(e,ue,t)}function Nh(t,e,n){if(e=Xu(t,e,Ah)[0],t=Ol(Qt)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var o=ll(e)}catch(r){throw r===Wo?$a:r}else o=e;e=Ae();var i=e.queue,l=i.dispatch;return n!==e.memoizedState&&(K.flags|=2048,zo(9,{destroy:void 0},hv.bind(null,i,n),null)),[o,l,t]}function hv(t,e){t.action=e}function bd(t){var e=Ae(),n=ue;if(n!==null)return Nh(e,n,t);Ae(),e=e.memoizedState,n=Ae();var o=n.queue.dispatch;return n.memoizedState=t,[e,o,!1]}function zo(t,e,n,o){return t={tag:t,create:n,deps:o,inst:e,next:null},e=K.updateQueue,e===null&&(e=Ka(),K.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(o=n.next,n.next=t,t.next=o,e.lastEffect=t),t}function _h(){return Ae().memoizedState}function Yl(t,e,n,o){var i=ze();K.flags|=t,i.memoizedState=zo(1|e,{destroy:void 0},n,o===void 0?null:o)}function Xa(t,e,n,o){var i=Ae();o=o===void 0?null:o;var l=i.memoizedState.inst;ue!==null&&o!==null&&Ju(o,ue.memoizedState.deps)?i.memoizedState=zo(e,l,n,o):(K.flags|=t,i.memoizedState=zo(1|e,l,n,o))}function wd(t,e){Yl(8390656,8,t,e)}function ju(t,e){Xa(2048,8,t,e)}function gv(t){K.flags|=4;var e=K.updateQueue;if(e===null)e=Ka(),K.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function Mh(t){var e=Ae().memoizedState;return gv({ref:e,nextImpl:t}),function(){if(oe&2)throw Error(w(440));return e.impl.apply(void 0,arguments)}}function bh(t,e){return Xa(4,2,t,e)}function wh(t,e){return Xa(4,4,t,e)}function Rh(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Dh(t,e,n){n=n!=null?n.concat([t]):null,Xa(4,4,Rh.bind(null,e,t),n)}function Zu(){}function Ih(t,e){var n=Ae();e=e===void 0?null:e;var o=n.memoizedState;return e!==null&&Ju(e,o[1])?o[0]:(n.memoizedState=[t,e],t)}function kh(t,e){var n=Ae();e=e===void 0?null:e;var o=n.memoizedState;if(e!==null&&Ju(e,o[1]))return o[0];if(o=t(),On){un(!0);try{t()}finally{un(!1)}}return n.memoizedState=[o,e],o}function Wu(t,e,n){return n===void 0||Kt&1073741824&&!(W&261930)?t.memoizedState=e:(t.memoizedState=n,t=Sg(),K.lanes|=t,_n|=t,n)}function Uh(t,e,n,o){return at(n,e)?n:Ho.current!==null?(t=Wu(t,n,o),at(t,e)||(be=!0),t):!(Kt&42)||Kt&1073741824&&!(W&261930)?(be=!0,t.memoizedState=n):(t=Sg(),K.lanes|=t,_n|=t,e)}function qh(t,e,n,o,i){var l=ie.p;ie.p=l!==0&&8>l?l:8;var r=F.T,u={};F.T=u,tc(t,!1,e,n);try{var c=i(),d=F.S;if(d!==null&&d(u,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var m=dv(c,o);Ri(t,e,m,lt(t))}else Ri(t,e,o,lt(t))}catch(p){Ri(t,e,{then:function(){},status:"rejected",reason:p},lt())}finally{ie.p=l,r!==null&&u.types!==null&&(r.types=u.types),F.T=r}}function yv(){}function Br(t,e,n,o){if(t.tag!==5)throw Error(w(476));var i=Vh(t).queue;qh(t,i,e,Ln,n===null?yv:function(){return Lh(t),n(o)})}function Vh(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Ln,baseState:Ln,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qt,lastRenderedState:Ln},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qt,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Lh(t){var e=Vh(t);e.next===null&&(e=t.alternate.memoizedState),Ri(t,e.next.queue,{},lt())}function ec(){return Le(Ki)}function Ph(){return Ae().memoizedState}function Gh(){return Ae().memoizedState}function xv(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=lt();t=gn(n);var o=yn(e,t,n);o!==null&&(Qe(o,e,n),Mi(o,e,n)),e={cache:Gu()},t.payload=e;return}e=e.return}}function vv(t,e,n){var o=lt();n={lane:o,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ja(t)?Hh(e,n):(n=qu(t,e,n,o),n!==null&&(Qe(n,t,o),zh(n,e,o)))}function Bh(t,e,n){var o=lt();Ri(t,e,n,o)}function Ri(t,e,n,o){var i={lane:o,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(ja(t))Hh(e,i);else{var l=t.alternate;if(t.lanes===0&&(l===null||l.lanes===0)&&(l=e.lastRenderedReducer,l!==null))try{var r=e.lastRenderedState,u=l(r,n);if(i.hasEagerState=!0,i.eagerState=u,at(u,r))return Ya(t,e,i,0),ce===null&&Oa(),!1}catch{}finally{}if(n=qu(t,e,i,o),n!==null)return Qe(n,t,o),zh(n,e,o),!0}return!1}function tc(t,e,n,o){if(o={lane:2,revertLane:cc(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ja(t)){if(e)throw Error(w(479))}else e=qu(t,n,o,2),e!==null&&Qe(e,t,2)}function ja(t){var e=t.alternate;return t===K||e!==null&&e===K}function Hh(t,e){Do=ya=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function zh(t,e,n){if(n&4194048){var o=e.lanes;o&=t.pendingLanes,n|=o,e.lanes=n,Mp(t,n)}}var Oi={readContext:Le,use:Qa,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useLayoutEffect:ve,useInsertionEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useSyncExternalStore:ve,useId:ve,useHostTransitionStatus:ve,useFormState:ve,useActionState:ve,useOptimistic:ve,useMemoCache:ve,useCacheRefresh:ve};Oi.useEffectEvent=ve;var Fh={readContext:Le,use:Qa,useCallback:function(t,e){return ze().memoizedState=[t,e===void 0?null:e],t},useContext:Le,useEffect:wd,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Yl(4194308,4,Rh.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Yl(4194308,4,t,e)},useInsertionEffect:function(t,e){Yl(4,2,t,e)},useMemo:function(t,e){var n=ze();e=e===void 0?null:e;var o=t();if(On){un(!0);try{t()}finally{un(!1)}}return n.memoizedState=[o,e],o},useReducer:function(t,e,n){var o=ze();if(n!==void 0){var i=n(e);if(On){un(!0);try{n(e)}finally{un(!1)}}}else i=e;return o.memoizedState=o.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},o.queue=t,t=t.dispatch=vv.bind(null,K,t),[o.memoizedState,t]},useRef:function(t){var e=ze();return t={current:t},e.memoizedState=t},useState:function(t){t=Pr(t);var e=t.queue,n=Bh.bind(null,K,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Zu,useDeferredValue:function(t,e){var n=ze();return Wu(n,t,e)},useTransition:function(){var t=Pr(!1);return t=qh.bind(null,K,t.queue,!0,!1),ze().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var o=K,i=ze();if(ee){if(n===void 0)throw Error(w(407));n=n()}else{if(n=e(),ce===null)throw Error(w(349));W&127||gh(o,e,n)}i.memoizedState=n;var l={value:n,getSnapshot:e};return i.queue=l,wd(xh.bind(null,o,l,t),[t]),o.flags|=2048,zo(9,{destroy:void 0},yh.bind(null,o,l,n,e),null),n},useId:function(){var t=ze(),e=ce.identifierPrefix;if(ee){var n=_t,o=Nt;n=(o&~(1<<32-it(o)-1)).toString(32)+n,e="_"+e+"R_"+n,n=xa++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=fv++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:ec,useFormState:_d,useActionState:_d,useOptimistic:function(t){var e=ze();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=tc.bind(null,K,!0,n),n.dispatch=e,[t,e]},useMemoCache:Qu,useCacheRefresh:function(){return ze().memoizedState=xv.bind(null,K)},useEffectEvent:function(t){var e=ze(),n={impl:t};return e.memoizedState=n,function(){if(oe&2)throw Error(w(440));return n.impl.apply(void 0,arguments)}}},nc={readContext:Le,use:Qa,useCallback:Ih,useContext:Le,useEffect:ju,useImperativeHandle:Dh,useInsertionEffect:bh,useLayoutEffect:wh,useMemo:kh,useReducer:Ol,useRef:_h,useState:function(){return Ol(Qt)},useDebugValue:Zu,useDeferredValue:function(t,e){var n=Ae();return Uh(n,ue.memoizedState,t,e)},useTransition:function(){var t=Ol(Qt)[0],e=Ae().memoizedState;return[typeof t=="boolean"?t:ll(t),e]},useSyncExternalStore:hh,useId:Ph,useHostTransitionStatus:ec,useFormState:Md,useActionState:Md,useOptimistic:function(t,e){var n=Ae();return Sh(n,ue,t,e)},useMemoCache:Qu,useCacheRefresh:Gh};nc.useEffectEvent=Mh;var Jh={readContext:Le,use:Qa,useCallback:Ih,useContext:Le,useEffect:ju,useImperativeHandle:Dh,useInsertionEffect:bh,useLayoutEffect:wh,useMemo:kh,useReducer:Bs,useRef:_h,useState:function(){return Bs(Qt)},useDebugValue:Zu,useDeferredValue:function(t,e){var n=Ae();return ue===null?Wu(n,t,e):Uh(n,ue.memoizedState,t,e)},useTransition:function(){var t=Bs(Qt)[0],e=Ae().memoizedState;return[typeof t=="boolean"?t:ll(t),e]},useSyncExternalStore:hh,useId:Ph,useHostTransitionStatus:ec,useFormState:bd,useActionState:bd,useOptimistic:function(t,e){var n=Ae();return ue!==null?Sh(n,ue,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Qu,useCacheRefresh:Gh};Jh.useEffectEvent=Mh;function Hs(t,e,n,o){e=t.memoizedState,n=n(o,e),n=n==null?e:ge({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Hr={enqueueSetState:function(t,e,n){t=t._reactInternals;var o=lt(),i=gn(o);i.payload=e,n!=null&&(i.callback=n),e=yn(t,i,o),e!==null&&(Qe(e,t,o),Mi(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var o=lt(),i=gn(o);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=yn(t,i,o),e!==null&&(Qe(e,t,o),Mi(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=lt(),o=gn(n);o.tag=2,e!=null&&(o.callback=e),e=yn(t,o,n),e!==null&&(Qe(e,t,n),Mi(e,t,n))}};function Rd(t,e,n,o,i,l,r){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,l,r):e.prototype&&e.prototype.isPureReactComponent?!Bi(n,o)||!Bi(i,l):!0}function Dd(t,e,n,o){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,o),e.state!==t&&Hr.enqueueReplaceState(e,e.state,null)}function Yn(t,e){var n=e;if("ref"in e){n={};for(var o in e)o!=="ref"&&(n[o]=e[o])}if(t=t.defaultProps){n===e&&(n=ge({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}function Oh(t){ca(t)}function Yh(t){console.error(t)}function $h(t){ca(t)}function va(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(o){setTimeout(function(){throw o})}}function Id(t,e,n){try{var o=t.onCaughtError;o(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function zr(t,e,n){return n=gn(n),n.tag=3,n.payload={element:null},n.callback=function(){va(t,e)},n}function Kh(t){return t=gn(t),t.tag=3,t}function Qh(t,e,n,o){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var l=o.value;t.payload=function(){return i(l)},t.callback=function(){Id(e,n,o)}}var r=n.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(t.callback=function(){Id(e,n,o),typeof i!="function"&&(xn===null?xn=new Set([this]):xn.add(this));var u=o.stack;this.componentDidCatch(o.value,{componentStack:u!==null?u:""})})}function Tv(t,e,n,o,i){if(n.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(e=n.alternate,e!==null&&Zo(e,n,i,!0),n=st.current,n!==null){switch(n.tag){case 31:case 13:return gt===null?Aa():n.alternate===null&&Te===0&&(Te=3),n.flags&=-257,n.flags|=65536,n.lanes=i,o===pa?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([o]):e.add(o),Zs(t,o,i)),!1;case 22:return n.flags|=65536,o===pa?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([o])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([o]):n.add(o)),Zs(t,o,i)),!1}throw Error(w(435,n.tag))}return Zs(t,o,i),Aa(),!1}if(ee)return e=st.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,o!==wr&&(t=Error(w(422),{cause:o}),zi(pt(t,n)))):(o!==wr&&(e=Error(w(423),{cause:o}),zi(pt(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,o=pt(o,n),i=zr(t.stateNode,o,i),Gs(t,i),Te!==4&&(Te=2)),!1;var l=Error(w(520),{cause:o});if(l=pt(l,n),ki===null?ki=[l]:ki.push(l),Te!==4&&(Te=2),e===null)return!0;o=pt(o,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=zr(n.stateNode,o,t),Gs(n,t),!1;case 1:if(e=n.type,l=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||l!==null&&typeof l.componentDidCatch=="function"&&(xn===null||!xn.has(l))))return n.flags|=65536,i&=-i,n.lanes|=i,i=Kh(i),Qh(i,t,n,o),Gs(n,i),!1}n=n.return}while(n!==null);return!1}var oc=Error(w(461)),be=!1;function Ue(t,e,n,o){e.child=t===null?uh(e,null,n,o):Jn(e,t.child,n,o)}function kd(t,e,n,o,i){n=n.render;var l=e.ref;if("ref"in o){var r={};for(var u in o)u!=="ref"&&(r[u]=o[u])}else r=o;return Fn(e),o=Ou(t,e,n,r,l,i),u=Yu(),t!==null&&!be?($u(t,e,i),Xt(t,e,i)):(ee&&u&&Lu(e),e.flags|=1,Ue(t,e,o,i),e.child)}function Ud(t,e,n,o,i){if(t===null){var l=n.type;return typeof l=="function"&&!Vu(l)&&l.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=l,Xh(t,e,l,o,i)):(t=Fl(n.type,null,o,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(l=t.child,!ic(t,i)){var r=l.memoizedProps;if(n=n.compare,n=n!==null?n:Bi,n(r,o)&&t.ref===e.ref)return Xt(t,e,i)}return e.flags|=1,t=Jt(l,o),t.ref=e.ref,t.return=e,e.child=t}function Xh(t,e,n,o,i){if(t!==null){var l=t.memoizedProps;if(Bi(l,o)&&t.ref===e.ref)if(be=!1,e.pendingProps=o=l,ic(t,i))t.flags&131072&&(be=!0);else return e.lanes=t.lanes,Xt(t,e,i)}return Fr(t,e,n,o,i)}function jh(t,e,n,o){var i=o.children,l=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if(e.flags&128){if(l=l!==null?l.baseLanes|n:n,t!==null){for(o=e.child=t.child,i=0;o!==null;)i=i|o.lanes|o.childLanes,o=o.sibling;o=i&~l}else o=0,e.child=null;return qd(t,e,l,n,o)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Jl(e,l!==null?l.cachePool:null),l!==null?Ed(e,l):Vr(),fh(e);else return o=e.lanes=536870912,qd(t,e,l!==null?l.baseLanes|n:n,n,o)}else l!==null?(Jl(e,l.cachePool),Ed(e,l),sn(),e.memoizedState=null):(t!==null&&Jl(e,null),Vr(),sn());return Ue(t,e,i,n),e.child}function Ti(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function qd(t,e,n,o,i){var l=Bu();return l=l===null?null:{parent:Me._currentValue,pool:l},e.memoizedState={baseLanes:n,cachePool:l},t!==null&&Jl(e,null),Vr(),fh(e),t!==null&&Zo(t,e,o,!0),e.childLanes=i,null}function $l(t,e){return e=Ta({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Vd(t,e,n){return Jn(e,t.child,null,n),t=$l(e,e.pendingProps),t.flags|=2,We(e),e.memoizedState=null,t}function Sv(t,e,n){var o=e.pendingProps,i=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(ee){if(o.mode==="hidden")return t=$l(e,o),e.lanes=536870912,Ti(null,t);if(Lr(e),(t=pe)?(t=Fg(t,ht),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:En!==null?{id:Nt,overflow:_t}:null,retryLane:536870912,hydrationErrors:null},n=nh(t),n.return=e,e.child=n,Ve=e,pe=null)):t=null,t===null)throw An(e);return e.lanes=536870912,null}return $l(e,o)}var l=t.memoizedState;if(l!==null){var r=l.dehydrated;if(Lr(e),i)if(e.flags&256)e.flags&=-257,e=Vd(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(w(558));else if(be||Zo(t,e,n,!1),i=(n&t.childLanes)!==0,be||i){if(o=ce,o!==null&&(r=bp(o,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,jn(t,r),Qe(o,t,r),oc;Aa(),e=Vd(t,e,n)}else t=l.treeContext,pe=yt(r.nextSibling),Ve=e,ee=!0,hn=null,ht=!1,t!==null&&ih(e,t),e=$l(e,o),e.flags|=4096;return e}return t=Jt(t.child,{mode:o.mode,children:o.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Kl(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(w(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Fr(t,e,n,o,i){return Fn(e),n=Ou(t,e,n,o,void 0,i),o=Yu(),t!==null&&!be?($u(t,e,i),Xt(t,e,i)):(ee&&o&&Lu(e),e.flags|=1,Ue(t,e,n,i),e.child)}function Ld(t,e,n,o,i,l){return Fn(e),e.updateQueue=null,n=ph(e,o,n,i),mh(t),o=Yu(),t!==null&&!be?($u(t,e,l),Xt(t,e,l)):(ee&&o&&Lu(e),e.flags|=1,Ue(t,e,n,l),e.child)}function Pd(t,e,n,o,i){if(Fn(e),e.stateNode===null){var l=So,r=n.contextType;typeof r=="object"&&r!==null&&(l=Le(r)),l=new n(o,l),e.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Hr,e.stateNode=l,l._reactInternals=e,l=e.stateNode,l.props=o,l.state=e.memoizedState,l.refs={},zu(e),r=n.contextType,l.context=typeof r=="object"&&r!==null?Le(r):So,l.state=e.memoizedState,r=n.getDerivedStateFromProps,typeof r=="function"&&(Hs(e,n,r,o),l.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(r=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),r!==l.state&&Hr.enqueueReplaceState(l,l.state,null),wi(e,o,l,i),bi(),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308),o=!0}else if(t===null){l=e.stateNode;var u=e.memoizedProps,c=Yn(n,u);l.props=c;var d=l.context,m=n.contextType;r=So,typeof m=="object"&&m!==null&&(r=Le(m));var p=n.getDerivedStateFromProps;m=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function",u=e.pendingProps!==u,m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u||d!==r)&&Dd(e,l,o,r),on=!1;var h=e.memoizedState;l.state=h,wi(e,o,l,i),bi(),d=e.memoizedState,u||h!==d||on?(typeof p=="function"&&(Hs(e,n,p,o),d=e.memoizedState),(c=on||Rd(e,n,c,o,h,d,r))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=d),l.props=o,l.state=d,l.context=r,o=c):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{l=e.stateNode,Ur(t,e),r=e.memoizedProps,m=Yn(n,r),l.props=m,p=e.pendingProps,h=l.context,d=n.contextType,c=So,typeof d=="object"&&d!==null&&(c=Le(d)),u=n.getDerivedStateFromProps,(d=typeof u=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(r!==p||h!==c)&&Dd(e,l,o,c),on=!1,h=e.memoizedState,l.state=h,wi(e,o,l,i),bi();var g=e.memoizedState;r!==p||h!==g||on||t!==null&&t.dependencies!==null&&ma(t.dependencies)?(typeof u=="function"&&(Hs(e,n,u,o),g=e.memoizedState),(m=on||Rd(e,n,m,o,h,g,c)||t!==null&&t.dependencies!==null&&ma(t.dependencies))?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(o,g,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(o,g,c)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||r===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||r===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=g),l.props=o,l.state=g,l.context=c,o=m):(typeof l.componentDidUpdate!="function"||r===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||r===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),o=!1)}return l=o,Kl(t,e),o=(e.flags&128)!==0,l||o?(l=e.stateNode,n=o&&typeof n.getDerivedStateFromError!="function"?null:l.render(),e.flags|=1,t!==null&&o?(e.child=Jn(e,t.child,null,i),e.child=Jn(e,null,n,i)):Ue(t,e,n,i),e.memoizedState=l.state,t=e.child):t=Xt(t,e,i),t}function Gd(t,e,n,o){return zn(),e.flags|=256,Ue(t,e,n,o),e.child}var zs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fs(t){return{baseLanes:t,cachePool:ah()}}function Js(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=tt),t}function Zh(t,e,n){var o=e.pendingProps,i=!1,l=(e.flags&128)!==0,r;if((r=l)||(r=t!==null&&t.memoizedState===null?!1:(Ee.current&2)!==0),r&&(i=!0,e.flags&=-129),r=(e.flags&32)!==0,e.flags&=-33,t===null){if(ee){if(i?an(e):sn(),(t=pe)?(t=Fg(t,ht),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:En!==null?{id:Nt,overflow:_t}:null,retryLane:536870912,hydrationErrors:null},n=nh(t),n.return=e,e.child=n,Ve=e,pe=null)):t=null,t===null)throw An(e);return ou(t)?e.lanes=32:e.lanes=536870912,null}var u=o.children;return o=o.fallback,i?(sn(),i=e.mode,u=Ta({mode:"hidden",children:u},i),o=Pn(o,i,n,null),u.return=e,o.return=e,u.sibling=o,e.child=u,o=e.child,o.memoizedState=Fs(n),o.childLanes=Js(t,r,n),e.memoizedState=zs,Ti(null,o)):(an(e),Jr(e,u))}var c=t.memoizedState;if(c!==null&&(u=c.dehydrated,u!==null)){if(l)e.flags&256?(an(e),e.flags&=-257,e=Os(t,e,n)):e.memoizedState!==null?(sn(),e.child=t.child,e.flags|=128,e=null):(sn(),u=o.fallback,i=e.mode,o=Ta({mode:"visible",children:o.children},i),u=Pn(u,i,n,null),u.flags|=2,o.return=e,u.return=e,o.sibling=u,e.child=o,Jn(e,t.child,null,n),o=e.child,o.memoizedState=Fs(n),o.childLanes=Js(t,r,n),e.memoizedState=zs,e=Ti(null,o));else if(an(e),ou(u)){if(r=u.nextSibling&&u.nextSibling.dataset,r)var d=r.dgst;r=d,o=Error(w(419)),o.stack="",o.digest=r,zi({value:o,source:null,stack:null}),e=Os(t,e,n)}else if(be||Zo(t,e,n,!1),r=(n&t.childLanes)!==0,be||r){if(r=ce,r!==null&&(o=bp(r,n),o!==0&&o!==c.retryLane))throw c.retryLane=o,jn(t,o),Qe(r,t,o),oc;nu(u)||Aa(),e=Os(t,e,n)}else nu(u)?(e.flags|=192,e.child=t.child,e=null):(t=c.treeContext,pe=yt(u.nextSibling),Ve=e,ee=!0,hn=null,ht=!1,t!==null&&ih(e,t),e=Jr(e,o.children),e.flags|=4096);return e}return i?(sn(),u=o.fallback,i=e.mode,c=t.child,d=c.sibling,o=Jt(c,{mode:"hidden",children:o.children}),o.subtreeFlags=c.subtreeFlags&65011712,d!==null?u=Jt(d,u):(u=Pn(u,i,n,null),u.flags|=2),u.return=e,o.return=e,o.sibling=u,e.child=o,Ti(null,o),o=e.child,u=t.child.memoizedState,u===null?u=Fs(n):(i=u.cachePool,i!==null?(c=Me._currentValue,i=i.parent!==c?{parent:c,pool:c}:i):i=ah(),u={baseLanes:u.baseLanes|n,cachePool:i}),o.memoizedState=u,o.childLanes=Js(t,r,n),e.memoizedState=zs,Ti(t.child,o)):(an(e),n=t.child,t=n.sibling,n=Jt(n,{mode:"visible",children:o.children}),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n)}function Jr(t,e){return e=Ta({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Ta(t,e){return t=et(22,t,null,e),t.lanes=0,t}function Os(t,e,n){return Jn(e,t.child,null,n),t=Jr(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Bd(t,e,n){t.lanes|=e;var o=t.alternate;o!==null&&(o.lanes|=e),Dr(t.return,e,n)}function Ys(t,e,n,o,i,l){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:i,treeForkCount:l}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=o,r.tail=n,r.tailMode=i,r.treeForkCount=l)}function Wh(t,e,n){var o=e.pendingProps,i=o.revealOrder,l=o.tail;o=o.children;var r=Ee.current,u=(r&2)!==0;if(u?(r=r&1|2,e.flags|=128):r&=1,de(Ee,r),Ue(t,e,o,n),o=ee?Hi:0,!u&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Bd(t,n,e);else if(t.tag===19)Bd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ga(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ys(e,!1,i,n,l,o);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ga(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ys(e,!0,n,null,l,o);break;case"together":Ys(e,!1,null,null,void 0,o);break;default:e.memoizedState=null}return e.child}function Xt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),_n|=e.lanes,!(n&e.childLanes))if(t!==null){if(Zo(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(w(153));if(e.child!==null){for(t=e.child,n=Jt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Jt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ic(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&ma(t)))}function Cv(t,e,n){switch(e.tag){case 3:aa(e,e.stateNode.containerInfo),ln(e,Me,t.memoizedState.cache),zn();break;case 27:case 5:xr(e);break;case 4:aa(e,e.stateNode.containerInfo);break;case 10:ln(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Lr(e),null;break;case 13:var o=e.memoizedState;if(o!==null)return o.dehydrated!==null?(an(e),e.flags|=128,null):n&e.child.childLanes?Zh(t,e,n):(an(e),t=Xt(t,e,n),t!==null?t.sibling:null);an(e);break;case 19:var i=(t.flags&128)!==0;if(o=(n&e.childLanes)!==0,o||(Zo(t,e,n,!1),o=(n&e.childLanes)!==0),i){if(o)return Wh(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),de(Ee,Ee.current),o)break;return null;case 22:return e.lanes=0,jh(t,e,n,e.pendingProps);case 24:ln(e,Me,t.memoizedState.cache)}return Xt(t,e,n)}function eg(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)be=!0;else{if(!ic(t,n)&&!(e.flags&128))return be=!1,Cv(t,e,n);be=!!(t.flags&131072)}else be=!1,ee&&e.flags&1048576&&oh(e,Hi,e.index);switch(e.lanes=0,e.tag){case 16:e:{var o=e.pendingProps;if(t=qn(e.elementType),e.type=t,typeof t=="function")Vu(t)?(o=Yn(t,o),e.tag=1,e=Pd(null,e,t,o,n)):(e.tag=0,e=Fr(null,e,t,o,n));else{if(t!=null){var i=t.$$typeof;if(i===Cu){e.tag=11,e=kd(null,e,t,o,n);break e}else if(i===Eu){e.tag=14,e=Ud(null,e,t,o,n);break e}}throw e=gr(t)||t,Error(w(306,e,""))}}return e;case 0:return Fr(t,e,e.type,e.pendingProps,n);case 1:return o=e.type,i=Yn(o,e.pendingProps),Pd(t,e,o,i,n);case 3:e:{if(aa(e,e.stateNode.containerInfo),t===null)throw Error(w(387));o=e.pendingProps;var l=e.memoizedState;i=l.element,Ur(t,e),wi(e,o,null,n);var r=e.memoizedState;if(o=r.cache,ln(e,Me,o),o!==l.cache&&Ir(e,[Me],n,!0),bi(),o=r.element,l.isDehydrated)if(l={element:o,isDehydrated:!1,cache:r.cache},e.updateQueue.baseState=l,e.memoizedState=l,e.flags&256){e=Gd(t,e,o,n);break e}else if(o!==i){i=pt(Error(w(424)),e),zi(i),e=Gd(t,e,o,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(pe=yt(t.firstChild),Ve=e,ee=!0,hn=null,ht=!0,n=uh(e,null,o,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(zn(),o===i){e=Xt(t,e,n);break e}Ue(t,e,o,n)}e=e.child}return e;case 26:return Kl(t,e),t===null?(n=sf(e.type,null,e.pendingProps,null))?e.memoizedState=n:ee||(n=e.type,t=e.pendingProps,o=ba(pn.current).createElement(n),o[qe]=e,o[Xe]=t,Pe(o,n,t),Ie(o),e.stateNode=o):e.memoizedState=sf(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return xr(e),t===null&&ee&&(o=e.stateNode=Jg(e.type,e.pendingProps,pn.current),Ve=e,ht=!0,i=pe,Rn(e.type)?(iu=i,pe=yt(o.firstChild)):pe=i),Ue(t,e,e.pendingProps.children,n),Kl(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&ee&&((i=o=pe)&&(o=Zv(o,e.type,e.pendingProps,ht),o!==null?(e.stateNode=o,Ve=e,pe=yt(o.firstChild),ht=!1,i=!0):i=!1),i||An(e)),xr(e),i=e.type,l=e.pendingProps,r=t!==null?t.memoizedProps:null,o=l.children,eu(i,l)?o=null:r!==null&&eu(i,r)&&(e.flags|=32),e.memoizedState!==null&&(i=Ou(t,e,mv,null,null,n),Ki._currentValue=i),Kl(t,e),Ue(t,e,o,n),e.child;case 6:return t===null&&ee&&((t=n=pe)&&(n=Wv(n,e.pendingProps,ht),n!==null?(e.stateNode=n,Ve=e,pe=null,t=!0):t=!1),t||An(e)),null;case 13:return Zh(t,e,n);case 4:return aa(e,e.stateNode.containerInfo),o=e.pendingProps,t===null?e.child=Jn(e,null,o,n):Ue(t,e,o,n),e.child;case 11:return kd(t,e,e.type,e.pendingProps,n);case 7:return Ue(t,e,e.pendingProps,n),e.child;case 8:return Ue(t,e,e.pendingProps.children,n),e.child;case 12:return Ue(t,e,e.pendingProps.children,n),e.child;case 10:return o=e.pendingProps,ln(e,e.type,o.value),Ue(t,e,o.children,n),e.child;case 9:return i=e.type._context,o=e.pendingProps.children,Fn(e),i=Le(i),o=o(i),e.flags|=1,Ue(t,e,o,n),e.child;case 14:return Ud(t,e,e.type,e.pendingProps,n);case 15:return Xh(t,e,e.type,e.pendingProps,n);case 19:return Wh(t,e,n);case 31:return Sv(t,e,n);case 22:return jh(t,e,n,e.pendingProps);case 24:return Fn(e),o=Le(Me),t===null?(i=Bu(),i===null&&(i=ce,l=Gu(),i.pooledCache=l,l.refCount++,l!==null&&(i.pooledCacheLanes|=n),i=l),e.memoizedState={parent:o,cache:i},zu(e),ln(e,Me,i)):(t.lanes&n&&(Ur(t,e),wi(e,null,null,n),bi()),i=t.memoizedState,l=e.memoizedState,i.parent!==o?(i={parent:o,cache:o},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),ln(e,Me,o)):(o=l.cache,ln(e,Me,o),o!==i.cache&&Ir(e,[Me],n,!0))),Ue(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(w(156,e.tag))}function qt(t){t.flags|=4}function $s(t,e,n,o,i){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(i&335544128)===i)if(t.stateNode.complete)t.flags|=8192;else if(Ag())t.flags|=8192;else throw Bn=pa,Hu}else t.flags&=-16777217}function Hd(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!$g(e))if(Ag())t.flags|=8192;else throw Bn=pa,Hu}function Ml(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Np():536870912,t.lanes|=e,Fo|=e)}function mi(t,e){if(!ee)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function fe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,o=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,o|=i.subtreeFlags&65011712,o|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,o|=i.subtreeFlags,o|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=o,t.childLanes=n,e}function Ev(t,e,n){var o=e.pendingProps;switch(Pu(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(e),null;case 1:return fe(e),null;case 3:return n=e.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),e.memoizedState.cache!==o&&(e.flags|=2048),Ot(Me),Lo(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ao(e)?qt(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ps())),fe(e),null;case 26:var i=e.type,l=e.memoizedState;return t===null?(qt(e),l!==null?(fe(e),Hd(e,l)):(fe(e),$s(e,i,null,o,n))):l?l!==t.memoizedState?(qt(e),fe(e),Hd(e,l)):(fe(e),e.flags&=-16777217):(t=t.memoizedProps,t!==o&&qt(e),fe(e),$s(e,i,t,o,n)),null;case 27:if(sa(e),n=pn.current,i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==o&&qt(e);else{if(!o){if(e.stateNode===null)throw Error(w(166));return fe(e),null}t=bt.current,ao(e)?gd(e):(t=Jg(i,o,n),e.stateNode=t,qt(e))}return fe(e),null;case 5:if(sa(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==o&&qt(e);else{if(!o){if(e.stateNode===null)throw Error(w(166));return fe(e),null}if(l=bt.current,ao(e))gd(e);else{var r=ba(pn.current);switch(l){case 1:l=r.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:l=r.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":l=r.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":l=r.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":l=r.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof o.is=="string"?r.createElement("select",{is:o.is}):r.createElement("select"),o.multiple?l.multiple=!0:o.size&&(l.size=o.size);break;default:l=typeof o.is=="string"?r.createElement(i,{is:o.is}):r.createElement(i)}}l[qe]=e,l[Xe]=o;e:for(r=e.child;r!==null;){if(r.tag===5||r.tag===6)l.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}e.stateNode=l;e:switch(Pe(l,i,o),i){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&qt(e)}}return fe(e),$s(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==o&&qt(e);else{if(typeof o!="string"&&e.stateNode===null)throw Error(w(166));if(t=pn.current,ao(e)){if(t=e.stateNode,n=e.memoizedProps,o=null,i=Ve,i!==null)switch(i.tag){case 27:case 5:o=i.memoizedProps}t[qe]=e,t=!!(t.nodeValue===n||o!==null&&o.suppressHydrationWarning===!0||Bg(t.nodeValue,n)),t||An(e,!0)}else t=ba(t).createTextNode(o),t[qe]=e,e.stateNode=t}return fe(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(o=ao(e),n!==null){if(t===null){if(!o)throw Error(w(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(w(557));t[qe]=e}else zn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;fe(e),t=!1}else n=Ps(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(We(e),e):(We(e),null);if(e.flags&128)throw Error(w(558))}return fe(e),null;case 13:if(o=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=ao(e),o!==null&&o.dehydrated!==null){if(t===null){if(!i)throw Error(w(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(w(317));i[qe]=e}else zn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;fe(e),i=!1}else i=Ps(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(We(e),e):(We(e),null)}return We(e),e.flags&128?(e.lanes=n,e):(n=o!==null,t=t!==null&&t.memoizedState!==null,n&&(o=e.child,i=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(i=o.alternate.memoizedState.cachePool.pool),l=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(l=o.memoizedState.cachePool.pool),l!==i&&(o.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),Ml(e,e.updateQueue),fe(e),null);case 4:return Lo(),t===null&&dc(e.stateNode.containerInfo),fe(e),null;case 10:return Ot(e.type),fe(e),null;case 19:if(ke(Ee),o=e.memoizedState,o===null)return fe(e),null;if(i=(e.flags&128)!==0,l=o.rendering,l===null)if(i)mi(o,!1);else{if(Te!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=ga(t),l!==null){for(e.flags|=128,mi(o,!1),t=l.updateQueue,e.updateQueue=t,Ml(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)th(n,t),n=n.sibling;return de(Ee,Ee.current&1|2),ee&&Gt(e,o.treeForkCount),e.child}t=t.sibling}o.tail!==null&&nt()>Ca&&(e.flags|=128,i=!0,mi(o,!1),e.lanes=4194304)}else{if(!i)if(t=ga(l),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,Ml(e,t),mi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!ee)return fe(e),null}else 2*nt()-o.renderingStartTime>Ca&&n!==536870912&&(e.flags|=128,i=!0,mi(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(t=o.last,t!==null?t.sibling=l:e.child=l,o.last=l)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=nt(),t.sibling=null,n=Ee.current,de(Ee,i?n&1|2:n&1),ee&&Gt(e,o.treeForkCount),t):(fe(e),null);case 22:case 23:return We(e),Fu(),o=e.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(e.flags|=8192):o&&(e.flags|=8192),o?n&536870912&&!(e.flags&128)&&(fe(e),e.subtreeFlags&6&&(e.flags|=8192)):fe(e),n=e.updateQueue,n!==null&&Ml(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),o=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),o!==n&&(e.flags|=2048),t!==null&&ke(Gn),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Ot(Me),fe(e),null;case 25:return null;case 30:return null}throw Error(w(156,e.tag))}function Av(t,e){switch(Pu(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ot(Me),Lo(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return sa(e),null;case 31:if(e.memoizedState!==null){if(We(e),e.alternate===null)throw Error(w(340));zn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(We(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(w(340));zn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ke(Ee),null;case 4:return Lo(),null;case 10:return Ot(e.type),null;case 22:case 23:return We(e),Fu(),t!==null&&ke(Gn),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Ot(Me),null;case 25:return null;default:return null}}function tg(t,e){switch(Pu(e),e.tag){case 3:Ot(Me),Lo();break;case 26:case 27:case 5:sa(e);break;case 4:Lo();break;case 31:e.memoizedState!==null&&We(e);break;case 13:We(e);break;case 19:ke(Ee);break;case 10:Ot(e.type);break;case 22:case 23:We(e),Fu(),t!==null&&ke(Gn);break;case 24:Ot(Me)}}function al(t,e){try{var n=e.updateQueue,o=n!==null?n.lastEffect:null;if(o!==null){var i=o.next;n=i;do{if((n.tag&t)===t){o=void 0;var l=n.create,r=n.inst;o=l(),r.destroy=o}n=n.next}while(n!==i)}}catch(u){se(e,e.return,u)}}function Nn(t,e,n){try{var o=e.updateQueue,i=o!==null?o.lastEffect:null;if(i!==null){var l=i.next;o=l;do{if((o.tag&t)===t){var r=o.inst,u=r.destroy;if(u!==void 0){r.destroy=void 0,i=e;var c=n,d=u;try{d()}catch(m){se(i,c,m)}}}o=o.next}while(o!==l)}}catch(m){se(e,e.return,m)}}function ng(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{dh(e,n)}catch(o){se(t,t.return,o)}}}function og(t,e,n){n.props=Yn(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(o){se(t,e,o)}}function Di(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof n=="function"?t.refCleanup=n(o):n.current=o}}catch(i){se(t,e,i)}}function Mt(t,e){var n=t.ref,o=t.refCleanup;if(n!==null)if(typeof o=="function")try{o()}catch(i){se(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){se(t,e,i)}else n.current=null}function ig(t){var e=t.type,n=t.memoizedProps,o=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&o.focus();break e;case"img":n.src?o.src=n.src:n.srcSet&&(o.srcset=n.srcSet)}}catch(i){se(t,t.return,i)}}function Ks(t,e,n){try{var o=t.stateNode;Yv(o,t.type,n,e),o[Xe]=e}catch(i){se(t,t.return,i)}}function lg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Rn(t.type)||t.tag===4}function Qs(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||lg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Rn(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Or(t,e,n){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=zt));else if(o!==4&&(o===27&&Rn(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Or(t,e,n),t=t.sibling;t!==null;)Or(t,e,n),t=t.sibling}function Sa(t,e,n){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(o!==4&&(o===27&&Rn(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Sa(t,e,n),t=t.sibling;t!==null;)Sa(t,e,n),t=t.sibling}function ag(t){var e=t.stateNode,n=t.memoizedProps;try{for(var o=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Pe(e,o,n),e[qe]=t,e[Xe]=n}catch(l){se(t,t.return,l)}}var Bt=!1,_e=!1,Xs=!1,zd=typeof WeakSet=="function"?WeakSet:Set,De=null;function Nv(t,e){if(t=t.containerInfo,Zr=Ia,t=$p(t),ku(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var i=o.anchorOffset,l=o.focusNode;o=o.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var r=0,u=-1,c=-1,d=0,m=0,p=t,h=null;t:for(;;){for(var g;p!==n||i!==0&&p.nodeType!==3||(u=r+i),p!==l||o!==0&&p.nodeType!==3||(c=r+o),p.nodeType===3&&(r+=p.nodeValue.length),(g=p.firstChild)!==null;)h=p,p=g;for(;;){if(p===t)break t;if(h===n&&++d===i&&(u=r),h===l&&++m===o&&(c=r),(g=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=g}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wr={focusedElem:t,selectionRange:n},Ia=!1,De=e;De!==null;)if(e=De,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,De=t;else for(;De!==null;){switch(e=De,l=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)i=t[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&l!==null){t=void 0,n=e,i=l.memoizedProps,l=l.memoizedState,o=n.stateNode;try{var v=Yn(n.type,i);t=o.getSnapshotBeforeUpdate(v,l),o.__reactInternalSnapshotBeforeUpdate=t}catch(C){se(n,n.return,C)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)tu(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":tu(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(w(163))}if(t=e.sibling,t!==null){t.return=e.return,De=t;break}De=e.return}}function sg(t,e,n){var o=n.flags;switch(n.tag){case 0:case 11:case 15:Lt(t,n),o&4&&al(5,n);break;case 1:if(Lt(t,n),o&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(r){se(n,n.return,r)}else{var i=Yn(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(r){se(n,n.return,r)}}o&64&&ng(n),o&512&&Di(n,n.return);break;case 3:if(Lt(t,n),o&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{dh(t,e)}catch(r){se(n,n.return,r)}}break;case 27:e===null&&o&4&&ag(n);case 26:case 5:Lt(t,n),e===null&&o&4&&ig(n),o&512&&Di(n,n.return);break;case 12:Lt(t,n);break;case 31:Lt(t,n),o&4&&cg(t,n);break;case 13:Lt(t,n),o&4&&dg(t,n),o&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=Uv.bind(null,n),eT(t,n))));break;case 22:if(o=n.memoizedState!==null||Bt,!o){e=e!==null&&e.memoizedState!==null||_e,i=Bt;var l=_e;Bt=o,(_e=e)&&!l?Pt(t,n,(n.subtreeFlags&8772)!==0):Lt(t,n),Bt=i,_e=l}break;case 30:break;default:Lt(t,n)}}function rg(t){var e=t.alternate;e!==null&&(t.alternate=null,rg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Mu(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var xe=null,$e=!1;function Vt(t,e,n){for(n=n.child;n!==null;)ug(t,e,n),n=n.sibling}function ug(t,e,n){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(Wi,n)}catch{}switch(n.tag){case 26:_e||Mt(n,e),Vt(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:_e||Mt(n,e);var o=xe,i=$e;Rn(n.type)&&(xe=n.stateNode,$e=!1),Vt(t,e,n),qi(n.stateNode),xe=o,$e=i;break;case 5:_e||Mt(n,e);case 6:if(o=xe,i=$e,xe=null,Vt(t,e,n),xe=o,$e=i,xe!==null)if($e)try{(xe.nodeType===9?xe.body:xe.nodeName==="HTML"?xe.ownerDocument.body:xe).removeChild(n.stateNode)}catch(l){se(n,e,l)}else try{xe.removeChild(n.stateNode)}catch(l){se(n,e,l)}break;case 18:xe!==null&&($e?(t=xe,tf(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),$o(t)):tf(xe,n.stateNode));break;case 4:o=xe,i=$e,xe=n.stateNode.containerInfo,$e=!0,Vt(t,e,n),xe=o,$e=i;break;case 0:case 11:case 14:case 15:Nn(2,n,e),_e||Nn(4,n,e),Vt(t,e,n);break;case 1:_e||(Mt(n,e),o=n.stateNode,typeof o.componentWillUnmount=="function"&&og(n,e,o)),Vt(t,e,n);break;case 21:Vt(t,e,n);break;case 22:_e=(o=_e)||n.memoizedState!==null,Vt(t,e,n),_e=o;break;default:Vt(t,e,n)}}function cg(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{$o(t)}catch(n){se(e,e.return,n)}}}function dg(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{$o(t)}catch(n){se(e,e.return,n)}}function _v(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new zd),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new zd),e;default:throw Error(w(435,t.tag))}}function bl(t,e){var n=_v(t);e.forEach(function(o){if(!n.has(o)){n.add(o);var i=qv.bind(null,t,o);o.then(i,i)}})}function Oe(t,e){var n=e.deletions;if(n!==null)for(var o=0;o<n.length;o++){var i=n[o],l=t,r=e,u=r;e:for(;u!==null;){switch(u.tag){case 27:if(Rn(u.type)){xe=u.stateNode,$e=!1;break e}break;case 5:xe=u.stateNode,$e=!1;break e;case 3:case 4:xe=u.stateNode.containerInfo,$e=!0;break e}u=u.return}if(xe===null)throw Error(w(160));ug(l,r,i),xe=null,$e=!1,l=i.alternate,l!==null&&(l.return=null),i.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)fg(e,t),e=e.sibling}var Ct=null;function fg(t,e){var n=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Oe(e,t),Ye(t),o&4&&(Nn(3,t,t.return),al(3,t),Nn(5,t,t.return));break;case 1:Oe(e,t),Ye(t),o&512&&(_e||n===null||Mt(n,n.return)),o&64&&Bt&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?o:n.concat(o))));break;case 26:var i=Ct;if(Oe(e,t),Ye(t),o&512&&(_e||n===null||Mt(n,n.return)),o&4){var l=n!==null?n.memoizedState:null;if(o=t.memoizedState,n===null)if(o===null)if(t.stateNode===null){e:{o=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(o){case"title":l=i.getElementsByTagName("title")[0],(!l||l[nl]||l[qe]||l.namespaceURI==="http://www.w3.org/2000/svg"||l.hasAttribute("itemprop"))&&(l=i.createElement(o),i.head.insertBefore(l,i.querySelector("head > title"))),Pe(l,o,n),l[qe]=t,Ie(l),o=l;break e;case"link":var r=uf("link","href",i).get(o+(n.href||""));if(r){for(var u=0;u<r.length;u++)if(l=r[u],l.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&l.getAttribute("rel")===(n.rel==null?null:n.rel)&&l.getAttribute("title")===(n.title==null?null:n.title)&&l.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){r.splice(u,1);break t}}l=i.createElement(o),Pe(l,o,n),i.head.appendChild(l);break;case"meta":if(r=uf("meta","content",i).get(o+(n.content||""))){for(u=0;u<r.length;u++)if(l=r[u],l.getAttribute("content")===(n.content==null?null:""+n.content)&&l.getAttribute("name")===(n.name==null?null:n.name)&&l.getAttribute("property")===(n.property==null?null:n.property)&&l.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&l.getAttribute("charset")===(n.charSet==null?null:n.charSet)){r.splice(u,1);break t}}l=i.createElement(o),Pe(l,o,n),i.head.appendChild(l);break;default:throw Error(w(468,o))}l[qe]=t,Ie(l),o=l}t.stateNode=o}else cf(i,t.type,t.stateNode);else t.stateNode=rf(i,o,t.memoizedProps);else l!==o?(l===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):l.count--,o===null?cf(i,t.type,t.stateNode):rf(i,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Ks(t,t.memoizedProps,n.memoizedProps)}break;case 27:Oe(e,t),Ye(t),o&512&&(_e||n===null||Mt(n,n.return)),n!==null&&o&4&&Ks(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Oe(e,t),Ye(t),o&512&&(_e||n===null||Mt(n,n.return)),t.flags&32){i=t.stateNode;try{Go(i,"")}catch(v){se(t,t.return,v)}}o&4&&t.stateNode!=null&&(i=t.memoizedProps,Ks(t,i,n!==null?n.memoizedProps:i)),o&1024&&(Xs=!0);break;case 6:if(Oe(e,t),Ye(t),o&4){if(t.stateNode===null)throw Error(w(162));o=t.memoizedProps,n=t.stateNode;try{n.nodeValue=o}catch(v){se(t,t.return,v)}}break;case 3:if(jl=null,i=Ct,Ct=wa(e.containerInfo),Oe(e,t),Ct=i,Ye(t),o&4&&n!==null&&n.memoizedState.isDehydrated)try{$o(e.containerInfo)}catch(v){se(t,t.return,v)}Xs&&(Xs=!1,mg(t));break;case 4:o=Ct,Ct=wa(t.stateNode.containerInfo),Oe(e,t),Ye(t),Ct=o;break;case 12:Oe(e,t),Ye(t);break;case 31:Oe(e,t),Ye(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,bl(t,o)));break;case 13:Oe(e,t),Ye(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Za=nt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,bl(t,o)));break;case 22:i=t.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,d=Bt,m=_e;if(Bt=d||i,_e=m||c,Oe(e,t),_e=m,Bt=d,Ye(t),o&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||c||Bt||_e||Vn(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){c=n=e;try{if(l=c.stateNode,i)r=l.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{u=c.stateNode;var p=c.memoizedProps.style,h=p!=null&&p.hasOwnProperty("display")?p.display:null;u.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(v){se(c,c.return,v)}}}else if(e.tag===6){if(n===null){c=e;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(v){se(c,c.return,v)}}}else if(e.tag===18){if(n===null){c=e;try{var g=c.stateNode;i?nf(g,!0):nf(c.stateNode,!1)}catch(v){se(c,c.return,v)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}o&4&&(o=t.updateQueue,o!==null&&(n=o.retryQueue,n!==null&&(o.retryQueue=null,bl(t,n))));break;case 19:Oe(e,t),Ye(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,bl(t,o)));break;case 30:break;case 21:break;default:Oe(e,t),Ye(t)}}function Ye(t){var e=t.flags;if(e&2){try{for(var n,o=t.return;o!==null;){if(lg(o)){n=o;break}o=o.return}if(n==null)throw Error(w(160));switch(n.tag){case 27:var i=n.stateNode,l=Qs(t);Sa(t,l,i);break;case 5:var r=n.stateNode;n.flags&32&&(Go(r,""),n.flags&=-33);var u=Qs(t);Sa(t,u,r);break;case 3:case 4:var c=n.stateNode.containerInfo,d=Qs(t);Or(t,d,c);break;default:throw Error(w(161))}}catch(m){se(t,t.return,m)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function mg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;mg(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Lt(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)sg(t,e.alternate,e),e=e.sibling}function Vn(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Nn(4,e,e.return),Vn(e);break;case 1:Mt(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&og(e,e.return,n),Vn(e);break;case 27:qi(e.stateNode);case 26:case 5:Mt(e,e.return),Vn(e);break;case 22:e.memoizedState===null&&Vn(e);break;case 30:Vn(e);break;default:Vn(e)}t=t.sibling}}function Pt(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var o=e.alternate,i=t,l=e,r=l.flags;switch(l.tag){case 0:case 11:case 15:Pt(i,l,n),al(4,l);break;case 1:if(Pt(i,l,n),o=l,i=o.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(d){se(o,o.return,d)}if(o=l,i=o.updateQueue,i!==null){var u=o.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)ch(c[i],u)}catch(d){se(o,o.return,d)}}n&&r&64&&ng(l),Di(l,l.return);break;case 27:ag(l);case 26:case 5:Pt(i,l,n),n&&o===null&&r&4&&ig(l),Di(l,l.return);break;case 12:Pt(i,l,n);break;case 31:Pt(i,l,n),n&&r&4&&cg(i,l);break;case 13:Pt(i,l,n),n&&r&4&&dg(i,l);break;case 22:l.memoizedState===null&&Pt(i,l,n),Di(l,l.return);break;case 30:break;default:Pt(i,l,n)}e=e.sibling}}function lc(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&il(n))}function ac(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&il(t))}function St(t,e,n,o){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)pg(t,e,n,o),e=e.sibling}function pg(t,e,n,o){var i=e.flags;switch(e.tag){case 0:case 11:case 15:St(t,e,n,o),i&2048&&al(9,e);break;case 1:St(t,e,n,o);break;case 3:St(t,e,n,o),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&il(t)));break;case 12:if(i&2048){St(t,e,n,o),t=e.stateNode;try{var l=e.memoizedProps,r=l.id,u=l.onPostCommit;typeof u=="function"&&u(r,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(c){se(e,e.return,c)}}else St(t,e,n,o);break;case 31:St(t,e,n,o);break;case 13:St(t,e,n,o);break;case 23:break;case 22:l=e.stateNode,r=e.alternate,e.memoizedState!==null?l._visibility&2?St(t,e,n,o):Ii(t,e):l._visibility&2?St(t,e,n,o):(l._visibility|=2,uo(t,e,n,o,(e.subtreeFlags&10256)!==0||!1)),i&2048&&lc(r,e);break;case 24:St(t,e,n,o),i&2048&&ac(e.alternate,e);break;default:St(t,e,n,o)}}function uo(t,e,n,o,i){for(i=i&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var l=t,r=e,u=n,c=o,d=r.flags;switch(r.tag){case 0:case 11:case 15:uo(l,r,u,c,i),al(8,r);break;case 23:break;case 22:var m=r.stateNode;r.memoizedState!==null?m._visibility&2?uo(l,r,u,c,i):Ii(l,r):(m._visibility|=2,uo(l,r,u,c,i)),i&&d&2048&&lc(r.alternate,r);break;case 24:uo(l,r,u,c,i),i&&d&2048&&ac(r.alternate,r);break;default:uo(l,r,u,c,i)}e=e.sibling}}function Ii(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,o=e,i=o.flags;switch(o.tag){case 22:Ii(n,o),i&2048&&lc(o.alternate,o);break;case 24:Ii(n,o),i&2048&&ac(o.alternate,o);break;default:Ii(n,o)}e=e.sibling}}var Si=8192;function so(t,e,n){if(t.subtreeFlags&Si)for(t=t.child;t!==null;)hg(t,e,n),t=t.sibling}function hg(t,e,n){switch(t.tag){case 26:so(t,e,n),t.flags&Si&&t.memoizedState!==null&&fT(n,Ct,t.memoizedState,t.memoizedProps);break;case 5:so(t,e,n);break;case 3:case 4:var o=Ct;Ct=wa(t.stateNode.containerInfo),so(t,e,n),Ct=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Si,Si=16777216,so(t,e,n),Si=o):so(t,e,n));break;default:so(t,e,n)}}function gg(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function pi(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var o=e[n];De=o,xg(o,t)}gg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)yg(t),t=t.sibling}function yg(t){switch(t.tag){case 0:case 11:case 15:pi(t),t.flags&2048&&Nn(9,t,t.return);break;case 3:pi(t);break;case 12:pi(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Ql(t)):pi(t);break;default:pi(t)}}function Ql(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var o=e[n];De=o,xg(o,t)}gg(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Nn(8,e,e.return),Ql(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Ql(e));break;default:Ql(e)}t=t.sibling}}function xg(t,e){for(;De!==null;){var n=De;switch(n.tag){case 0:case 11:case 15:Nn(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var o=n.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:il(n.memoizedState.cache)}if(o=n.child,o!==null)o.return=n,De=o;else e:for(n=t;De!==null;){o=De;var i=o.sibling,l=o.return;if(rg(o),o===n){De=null;break e}if(i!==null){i.return=l,De=i;break e}De=l}}}var Mv={getCacheForType:function(t){var e=Le(Me),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Le(Me).controller.signal}},bv=typeof WeakMap=="function"?WeakMap:Map,oe=0,ce=null,Z=null,W=0,ae=0,Ze=null,dn=!1,ei=!1,sc=!1,jt=0,Te=0,_n=0,Hn=0,rc=0,tt=0,Fo=0,ki=null,Ke=null,Yr=!1,Za=0,vg=0,Ca=1/0,Ea=null,xn=null,we=0,vn=null,Jo=null,Yt=0,$r=0,Kr=null,Tg=null,Ui=0,Qr=null;function lt(){return oe&2&&W!==0?W&-W:F.T!==null?cc():wp()}function Sg(){if(tt===0)if(!(W&536870912)||ee){var t=Tl;Tl<<=1,!(Tl&3932160)&&(Tl=262144),tt=t}else tt=536870912;return t=st.current,t!==null&&(t.flags|=32),tt}function Qe(t,e,n){(t===ce&&(ae===2||ae===9)||t.cancelPendingCommit!==null)&&(Oo(t,0),fn(t,W,tt,!1)),tl(t,n),(!(oe&2)||t!==ce)&&(t===ce&&(!(oe&2)&&(Hn|=n),Te===4&&fn(t,W,tt,!1)),Dt(t))}function Cg(t,e,n){if(oe&6)throw Error(w(327));var o=!n&&(e&127)===0&&(e&t.expiredLanes)===0||el(t,e),i=o?Dv(t,e):js(t,e,!0),l=o;do{if(i===0){ei&&!o&&fn(t,e,0,!1);break}else{if(n=t.current.alternate,l&&!wv(n)){i=js(t,e,!1),l=!1;continue}if(i===2){if(l=e,t.errorRecoveryDisabledLanes&l)var r=0;else r=t.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){e=r;e:{var u=t;i=ki;var c=u.current.memoizedState.isDehydrated;if(c&&(Oo(u,r).flags|=256),r=js(u,r,!1),r!==2){if(sc&&!c){u.errorRecoveryDisabledLanes|=l,Hn|=l,i=4;break e}l=Ke,Ke=i,l!==null&&(Ke===null?Ke=l:Ke.push.apply(Ke,l))}i=r}if(l=!1,i!==2)continue}}if(i===1){Oo(t,0),fn(t,e,0,!0);break}e:{switch(o=t,l=i,l){case 0:case 1:throw Error(w(345));case 4:if((e&4194048)!==e)break;case 6:fn(o,e,tt,!dn);break e;case 2:Ke=null;break;case 3:case 5:break;default:throw Error(w(329))}if((e&62914560)===e&&(i=Za+300-nt(),10<i)){if(fn(o,e,tt,!dn),Ha(o,0,!0)!==0)break e;Yt=e,o.timeoutHandle=zg(Fd.bind(null,o,n,Ke,Ea,Yr,e,tt,Hn,Fo,dn,l,"Throttled",-0,0),i);break e}Fd(o,n,Ke,Ea,Yr,e,tt,Hn,Fo,dn,l,null,-0,0)}}break}while(!0);Dt(t)}function Fd(t,e,n,o,i,l,r,u,c,d,m,p,h,g){if(t.timeoutHandle=-1,p=e.subtreeFlags,p&8192||(p&16785408)===16785408){p={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zt},hg(e,l,p);var v=(l&62914560)===l?Za-nt():(l&4194048)===l?vg-nt():0;if(v=mT(p,v),v!==null){Yt=l,t.cancelPendingCommit=v(Od.bind(null,t,e,l,n,o,i,r,u,c,m,p,null,h,g)),fn(t,l,r,!d);return}}Od(t,e,l,n,o,i,r,u,c)}function wv(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var o=0;o<n.length;o++){var i=n[o],l=i.getSnapshot;i=i.value;try{if(!at(l(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function fn(t,e,n,o){e&=~rc,e&=~Hn,t.suspendedLanes|=e,t.pingedLanes&=~e,o&&(t.warmLanes|=e),o=t.expirationTimes;for(var i=e;0<i;){var l=31-it(i),r=1<<l;o[l]=-1,i&=~r}n!==0&&_p(t,n,e)}function Wa(){return oe&6?!0:(sl(0),!1)}function uc(){if(Z!==null){if(ae===0)var t=Z.return;else t=Z,Ft=Zn=null,Ku(t),Ro=null,Fi=0,t=Z;for(;t!==null;)tg(t.alternate,t),t=t.return;Z=null}}function Oo(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,Qv(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Yt=0,uc(),ce=t,Z=n=Jt(t.current,null),W=e,ae=0,Ze=null,dn=!1,ei=el(t,e),sc=!1,Fo=tt=rc=Hn=_n=Te=0,Ke=ki=null,Yr=!1,e&8&&(e|=e&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=e;0<o;){var i=31-it(o),l=1<<i;e|=t[i],o&=~l}return jt=e,Oa(),n}function Eg(t,e){K=null,F.H=Oi,e===Wo||e===$a?(e=Sd(),ae=3):e===Hu?(e=Sd(),ae=4):ae=e===oc?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Ze=e,Z===null&&(Te=1,va(t,pt(e,t.current)))}function Ag(){var t=st.current;return t===null?!0:(W&4194048)===W?gt===null:(W&62914560)===W||W&536870912?t===gt:!1}function Ng(){var t=F.H;return F.H=Oi,t===null?Oi:t}function _g(){var t=F.A;return F.A=Mv,t}function Aa(){Te=4,dn||(W&4194048)!==W&&st.current!==null||(ei=!0),!(_n&134217727)&&!(Hn&134217727)||ce===null||fn(ce,W,tt,!1)}function js(t,e,n){var o=oe;oe|=2;var i=Ng(),l=_g();(ce!==t||W!==e)&&(Ea=null,Oo(t,e)),e=!1;var r=Te;e:do try{if(ae!==0&&Z!==null){var u=Z,c=Ze;switch(ae){case 8:uc(),r=6;break e;case 3:case 2:case 9:case 6:st.current===null&&(e=!0);var d=ae;if(ae=0,Ze=null,Ao(t,u,c,d),n&&ei){r=0;break e}break;default:d=ae,ae=0,Ze=null,Ao(t,u,c,d)}}Rv(),r=Te;break}catch(m){Eg(t,m)}while(!0);return e&&t.shellSuspendCounter++,Ft=Zn=null,oe=o,F.H=i,F.A=l,Z===null&&(ce=null,W=0,Oa()),r}function Rv(){for(;Z!==null;)Mg(Z)}function Dv(t,e){var n=oe;oe|=2;var o=Ng(),i=_g();ce!==t||W!==e?(Ea=null,Ca=nt()+500,Oo(t,e)):ei=el(t,e);e:do try{if(ae!==0&&Z!==null){e=Z;var l=Ze;t:switch(ae){case 1:ae=0,Ze=null,Ao(t,e,l,1);break;case 2:case 9:if(Td(l)){ae=0,Ze=null,Jd(e);break}e=function(){ae!==2&&ae!==9||ce!==t||(ae=7),Dt(t)},l.then(e,e);break e;case 3:ae=7;break e;case 4:ae=5;break e;case 7:Td(l)?(ae=0,Ze=null,Jd(e)):(ae=0,Ze=null,Ao(t,e,l,7));break;case 5:var r=null;switch(Z.tag){case 26:r=Z.memoizedState;case 5:case 27:var u=Z;if(r?$g(r):u.stateNode.complete){ae=0,Ze=null;var c=u.sibling;if(c!==null)Z=c;else{var d=u.return;d!==null?(Z=d,es(d)):Z=null}break t}}ae=0,Ze=null,Ao(t,e,l,5);break;case 6:ae=0,Ze=null,Ao(t,e,l,6);break;case 8:uc(),Te=6;break e;default:throw Error(w(462))}}Iv();break}catch(m){Eg(t,m)}while(!0);return Ft=Zn=null,F.H=o,F.A=i,oe=n,Z!==null?0:(ce=null,W=0,Oa(),Te)}function Iv(){for(;Z!==null&&!t0();)Mg(Z)}function Mg(t){var e=eg(t.alternate,t,jt);t.memoizedProps=t.pendingProps,e===null?es(t):Z=e}function Jd(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Ld(n,e,e.pendingProps,e.type,void 0,W);break;case 11:e=Ld(n,e,e.pendingProps,e.type.render,e.ref,W);break;case 5:Ku(e);default:tg(n,e),e=Z=th(e,jt),e=eg(n,e,jt)}t.memoizedProps=t.pendingProps,e===null?es(t):Z=e}function Ao(t,e,n,o){Ft=Zn=null,Ku(e),Ro=null,Fi=0;var i=e.return;try{if(Tv(t,i,e,n,W)){Te=1,va(t,pt(n,t.current)),Z=null;return}}catch(l){if(i!==null)throw Z=i,l;Te=1,va(t,pt(n,t.current)),Z=null;return}e.flags&32768?(ee||o===1?t=!0:ei||W&536870912?t=!1:(dn=t=!0,(o===2||o===9||o===3||o===6)&&(o=st.current,o!==null&&o.tag===13&&(o.flags|=16384))),bg(e,t)):es(e)}function es(t){var e=t;do{if(e.flags&32768){bg(e,dn);return}t=e.return;var n=Ev(e.alternate,e,jt);if(n!==null){Z=n;return}if(e=e.sibling,e!==null){Z=e;return}Z=e=t}while(e!==null);Te===0&&(Te=5)}function bg(t,e){do{var n=Av(t.alternate,t);if(n!==null){n.flags&=32767,Z=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){Z=t;return}Z=t=n}while(t!==null);Te=6,Z=null}function Od(t,e,n,o,i,l,r,u,c){t.cancelPendingCommit=null;do ts();while(we!==0);if(oe&6)throw Error(w(327));if(e!==null){if(e===t.current)throw Error(w(177));if(l=e.lanes|e.childLanes,l|=Uu,d0(t,n,l,r,u,c),t===ce&&(Z=ce=null,W=0),Jo=e,vn=t,Yt=n,$r=l,Kr=i,Tg=o,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,Vv(ra,function(){return kg(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(e.flags&13878)!==0,e.subtreeFlags&13878||o){o=F.T,F.T=null,i=ie.p,ie.p=2,r=oe,oe|=4;try{Nv(t,e,n)}finally{oe=r,ie.p=i,F.T=o}}we=1,wg(),Rg(),Dg()}}function wg(){if(we===1){we=0;var t=vn,e=Jo,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=F.T,F.T=null;var o=ie.p;ie.p=2;var i=oe;oe|=4;try{fg(e,t);var l=Wr,r=$p(t.containerInfo),u=l.focusedElem,c=l.selectionRange;if(r!==u&&u&&u.ownerDocument&&Yp(u.ownerDocument.documentElement,u)){if(c!==null&&ku(u)){var d=c.start,m=c.end;if(m===void 0&&(m=d),"selectionStart"in u)u.selectionStart=d,u.selectionEnd=Math.min(m,u.value.length);else{var p=u.ownerDocument||document,h=p&&p.defaultView||window;if(h.getSelection){var g=h.getSelection(),v=u.textContent.length,C=Math.min(c.start,v),E=c.end===void 0?C:Math.min(c.end,v);!g.extend&&C>E&&(r=E,E=C,C=r);var x=md(u,C),y=md(u,E);if(x&&y&&(g.rangeCount!==1||g.anchorNode!==x.node||g.anchorOffset!==x.offset||g.focusNode!==y.node||g.focusOffset!==y.offset)){var T=p.createRange();T.setStart(x.node,x.offset),g.removeAllRanges(),C>E?(g.addRange(T),g.extend(y.node,y.offset)):(T.setEnd(y.node,y.offset),g.addRange(T))}}}}for(p=[],g=u;g=g.parentNode;)g.nodeType===1&&p.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<p.length;u++){var S=p[u];S.element.scrollLeft=S.left,S.element.scrollTop=S.top}}Ia=!!Zr,Wr=Zr=null}finally{oe=i,ie.p=o,F.T=n}}t.current=e,we=2}}function Rg(){if(we===2){we=0;var t=vn,e=Jo,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=F.T,F.T=null;var o=ie.p;ie.p=2;var i=oe;oe|=4;try{sg(t,e.alternate,e)}finally{oe=i,ie.p=o,F.T=n}}we=3}}function Dg(){if(we===4||we===3){we=0,n0();var t=vn,e=Jo,n=Yt,o=Tg;e.subtreeFlags&10256||e.flags&10256?we=5:(we=0,Jo=vn=null,Ig(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(xn=null),_u(n),e=e.stateNode,ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(Wi,e,void 0,(e.current.flags&128)===128)}catch{}if(o!==null){e=F.T,i=ie.p,ie.p=2,F.T=null;try{for(var l=t.onRecoverableError,r=0;r<o.length;r++){var u=o[r];l(u.value,{componentStack:u.stack})}}finally{F.T=e,ie.p=i}}Yt&3&&ts(),Dt(t),i=t.pendingLanes,n&261930&&i&42?t===Qr?Ui++:(Ui=0,Qr=t):Ui=0,sl(0)}}function Ig(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,il(e)))}function ts(){return wg(),Rg(),Dg(),kg()}function kg(){if(we!==5)return!1;var t=vn,e=$r;$r=0;var n=_u(Yt),o=F.T,i=ie.p;try{ie.p=32>n?32:n,F.T=null,n=Kr,Kr=null;var l=vn,r=Yt;if(we=0,Jo=vn=null,Yt=0,oe&6)throw Error(w(331));var u=oe;if(oe|=4,yg(l.current),pg(l,l.current,r,n),oe=u,sl(0,!1),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(Wi,l)}catch{}return!0}finally{ie.p=i,F.T=o,Ig(t,e)}}function Yd(t,e,n){e=pt(n,e),e=zr(t.stateNode,e,2),t=yn(t,e,2),t!==null&&(tl(t,2),Dt(t))}function se(t,e,n){if(t.tag===3)Yd(t,t,n);else for(;e!==null;){if(e.tag===3){Yd(e,t,n);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(xn===null||!xn.has(o))){t=pt(n,t),n=Kh(2),o=yn(e,n,2),o!==null&&(Qh(n,o,e,t),tl(o,2),Dt(o));break}}e=e.return}}function Zs(t,e,n){var o=t.pingCache;if(o===null){o=t.pingCache=new bv;var i=new Set;o.set(e,i)}else i=o.get(e),i===void 0&&(i=new Set,o.set(e,i));i.has(n)||(sc=!0,i.add(n),t=kv.bind(null,t,e,n),e.then(t,t))}function kv(t,e,n){var o=t.pingCache;o!==null&&o.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,ce===t&&(W&n)===n&&(Te===4||Te===3&&(W&62914560)===W&&300>nt()-Za?!(oe&2)&&Oo(t,0):rc|=n,Fo===W&&(Fo=0)),Dt(t)}function Ug(t,e){e===0&&(e=Np()),t=jn(t,e),t!==null&&(tl(t,e),Dt(t))}function Uv(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Ug(t,n)}function qv(t,e){var n=0;switch(t.tag){case 31:case 13:var o=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(w(314))}o!==null&&o.delete(e),Ug(t,n)}function Vv(t,e){return Au(t,e)}var Na=null,co=null,Xr=!1,_a=!1,Ws=!1,mn=0;function Dt(t){t!==co&&t.next===null&&(co===null?Na=co=t:co=co.next=t),_a=!0,Xr||(Xr=!0,Pv())}function sl(t,e){if(!Ws&&_a){Ws=!0;do for(var n=!1,o=Na;o!==null;){if(t!==0){var i=o.pendingLanes;if(i===0)var l=0;else{var r=o.suspendedLanes,u=o.pingedLanes;l=(1<<31-it(42|t)+1)-1,l&=i&~(r&~u),l=l&201326741?l&201326741|1:l?l|2:0}l!==0&&(n=!0,$d(o,l))}else l=W,l=Ha(o,o===ce?l:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),!(l&3)||el(o,l)||(n=!0,$d(o,l));o=o.next}while(n);Ws=!1}}function Lv(){qg()}function qg(){_a=Xr=!1;var t=0;mn!==0&&Kv()&&(t=mn);for(var e=nt(),n=null,o=Na;o!==null;){var i=o.next,l=Vg(o,e);l===0?(o.next=null,n===null?Na=i:n.next=i,i===null&&(co=n)):(n=o,(t!==0||l&3)&&(_a=!0)),o=i}we!==0&&we!==5||sl(t),mn!==0&&(mn=0)}function Vg(t,e){for(var n=t.suspendedLanes,o=t.pingedLanes,i=t.expirationTimes,l=t.pendingLanes&-62914561;0<l;){var r=31-it(l),u=1<<r,c=i[r];c===-1?(!(u&n)||u&o)&&(i[r]=c0(u,e)):c<=e&&(t.expiredLanes|=u),l&=~u}if(e=ce,n=W,n=Ha(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,n===0||t===e&&(ae===2||ae===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Ms(o),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||el(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(o!==null&&Ms(o),_u(n)){case 2:case 8:n=Ep;break;case 32:n=ra;break;case 268435456:n=Ap;break;default:n=ra}return o=Lg.bind(null,t),n=Au(n,o),t.callbackPriority=e,t.callbackNode=n,e}return o!==null&&o!==null&&Ms(o),t.callbackPriority=2,t.callbackNode=null,2}function Lg(t,e){if(we!==0&&we!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(ts()&&t.callbackNode!==n)return null;var o=W;return o=Ha(t,t===ce?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Cg(t,o,e),Vg(t,nt()),t.callbackNode!=null&&t.callbackNode===n?Lg.bind(null,t):null)}function $d(t,e){if(ts())return null;Cg(t,e,!0)}function Pv(){Xv(function(){oe&6?Au(Cp,Lv):qg()})}function cc(){if(mn===0){var t=Bo;t===0&&(t=vl,vl<<=1,!(vl&261888)&&(vl=256)),mn=t}return mn}function Kd(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Bl(""+t)}function Qd(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function Gv(t,e,n,o,i){if(e==="submit"&&n&&n.stateNode===i){var l=Kd((i[Xe]||null).action),r=o.submitter;r&&(e=(e=r[Xe]||null)?Kd(e.formAction):r.getAttribute("formAction"),e!==null&&(l=e,r=null));var u=new za("action","action",null,o,i);t.push({event:u,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(mn!==0){var c=r?Qd(i,r):new FormData(i);Br(n,{pending:!0,data:c,method:i.method,action:l},null,c)}}else typeof l=="function"&&(u.preventDefault(),c=r?Qd(i,r):new FormData(i),Br(n,{pending:!0,data:c,method:i.method,action:l},l,c))},currentTarget:i}]})}}for(var er=0;er<br.length;er++){var tr=br[er],Bv=tr.toLowerCase(),Hv=tr[0].toUpperCase()+tr.slice(1);Et(Bv,"on"+Hv)}Et(Qp,"onAnimationEnd");Et(Xp,"onAnimationIteration");Et(jp,"onAnimationStart");Et("dblclick","onDoubleClick");Et("focusin","onFocus");Et("focusout","onBlur");Et(ov,"onTransitionRun");Et(iv,"onTransitionStart");Et(lv,"onTransitionCancel");Et(Zp,"onTransitionEnd");Po("onMouseEnter",["mouseout","mouseover"]);Po("onMouseLeave",["mouseout","mouseover"]);Po("onPointerEnter",["pointerout","pointerover"]);Po("onPointerLeave",["pointerout","pointerover"]);Kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Kn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yi));function Pg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var o=t[n],i=o.event;o=o.listeners;e:{var l=void 0;if(e)for(var r=o.length-1;0<=r;r--){var u=o[r],c=u.instance,d=u.currentTarget;if(u=u.listener,c!==l&&i.isPropagationStopped())break e;l=u,i.currentTarget=d;try{l(i)}catch(m){ca(m)}i.currentTarget=null,l=c}else for(r=0;r<o.length;r++){if(u=o[r],c=u.instance,d=u.currentTarget,u=u.listener,c!==l&&i.isPropagationStopped())break e;l=u,i.currentTarget=d;try{l(i)}catch(m){ca(m)}i.currentTarget=null,l=c}}}}function j(t,e){var n=e[Tr];n===void 0&&(n=e[Tr]=new Set);var o=t+"__bubble";n.has(o)||(Gg(e,t,2,!1),n.add(o))}function nr(t,e,n){var o=0;e&&(o|=4),Gg(n,t,o,e)}var wl="_reactListening"+Math.random().toString(36).slice(2);function dc(t){if(!t[wl]){t[wl]=!0,Rp.forEach(function(n){n!=="selectionchange"&&(zv.has(n)||nr(n,!1,t),nr(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[wl]||(e[wl]=!0,nr("selectionchange",!1,e))}}function Gg(t,e,n,o){switch(Zg(e)){case 2:var i=gT;break;case 8:i=yT;break;default:i=hc}n=i.bind(null,e,n,t),i=void 0,!Nr||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),o?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function or(t,e,n,o,i){var l=o;if(!(e&1)&&!(e&2)&&o!==null)e:for(;;){if(o===null)return;var r=o.tag;if(r===3||r===4){var u=o.stateNode.containerInfo;if(u===i)break;if(r===4)for(r=o.return;r!==null;){var c=r.tag;if((c===3||c===4)&&r.stateNode.containerInfo===i)return;r=r.return}for(;u!==null;){if(r=ho(u),r===null)return;if(c=r.tag,c===5||c===6||c===26||c===27){o=l=r;continue e}u=u.parentNode}}o=o.return}Pp(function(){var d=l,m=wu(n),p=[];e:{var h=Wp.get(t);if(h!==void 0){var g=za,v=t;switch(t){case"keypress":if(zl(n)===0)break e;case"keydown":case"keyup":g=q0;break;case"focusin":v="focus",g=Is;break;case"focusout":v="blur",g=Is;break;case"beforeblur":case"afterblur":g=Is;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=od;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=E0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=P0;break;case Qp:case Xp:case jp:g=_0;break;case Zp:g=B0;break;case"scroll":case"scrollend":g=S0;break;case"wheel":g=z0;break;case"copy":case"cut":case"paste":g=b0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=ld;break;case"toggle":case"beforetoggle":g=J0}var C=(e&4)!==0,E=!C&&(t==="scroll"||t==="scrollend"),x=C?h!==null?h+"Capture":null:h;C=[];for(var y=d,T;y!==null;){var S=y;if(T=S.stateNode,S=S.tag,S!==5&&S!==26&&S!==27||T===null||x===null||(S=Pi(y,x),S!=null&&C.push($i(y,S,T))),E)break;y=y.return}0<C.length&&(h=new g(h,v,null,n,m),p.push({event:h,listeners:C}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==Ar&&(v=n.relatedTarget||n.fromElement)&&(ho(v)||v[Xo]))break e;if((g||h)&&(h=m.window===m?m:(h=m.ownerDocument)?h.defaultView||h.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=d,v=v?ho(v):null,v!==null&&(E=Zi(v),C=v.tag,v!==E||C!==5&&C!==27&&C!==6)&&(v=null)):(g=null,v=d),g!==v)){if(C=od,S="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(C=ld,S="onPointerLeave",x="onPointerEnter",y="pointer"),E=g==null?h:vi(g),T=v==null?h:vi(v),h=new C(S,y+"leave",g,n,m),h.target=E,h.relatedTarget=T,S=null,ho(m)===d&&(C=new C(x,y+"enter",v,n,m),C.target=T,C.relatedTarget=E,S=C),E=S,g&&v)t:{for(C=Fv,x=g,y=v,T=0,S=x;S;S=C(S))T++;S=0;for(var N=y;N;N=C(N))S++;for(;0<T-S;)x=C(x),T--;for(;0<S-T;)y=C(y),S--;for(;T--;){if(x===y||y!==null&&x===y.alternate){C=x;break t}x=C(x),y=C(y)}C=null}else C=null;g!==null&&Xd(p,h,g,C,!1),v!==null&&E!==null&&Xd(p,E,v,C,!0)}}e:{if(h=d?vi(d):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var R=ud;else if(rd(h))if(Jp)R=ev;else{R=Z0;var _=j0}else g=h.nodeName,!g||g.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?d&&bu(d.elementType)&&(R=ud):R=W0;if(R&&(R=R(t,d))){Fp(p,R,n,m);break e}_&&_(t,h,d),t==="focusout"&&d&&h.type==="number"&&d.memoizedProps.value!=null&&Er(h,"number",h.value)}switch(_=d?vi(d):window,t){case"focusin":(rd(_)||_.contentEditable==="true")&&(xo=_,_r=d,Ni=null);break;case"focusout":Ni=_r=xo=null;break;case"mousedown":Mr=!0;break;case"contextmenu":case"mouseup":case"dragend":Mr=!1,pd(p,n,m);break;case"selectionchange":if(nv)break;case"keydown":case"keyup":pd(p,n,m)}var U;if(Iu)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else yo?Hp(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(Bp&&n.locale!=="ko"&&(yo||b!=="onCompositionStart"?b==="onCompositionEnd"&&yo&&(U=Gp()):(cn=m,Ru="value"in cn?cn.value:cn.textContent,yo=!0)),_=Ma(d,b),0<_.length&&(b=new id(b,t,null,n,m),p.push({event:b,listeners:_}),U?b.data=U:(U=zp(n),U!==null&&(b.data=U)))),(U=Y0?$0(t,n):K0(t,n))&&(b=Ma(d,"onBeforeInput"),0<b.length&&(_=new id("onBeforeInput","beforeinput",null,n,m),p.push({event:_,listeners:b}),_.data=U)),Gv(p,t,d,n,m)}Pg(p,e)})}function $i(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ma(t,e){for(var n=e+"Capture",o=[];t!==null;){var i=t,l=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||l===null||(i=Pi(t,n),i!=null&&o.unshift($i(t,i,l)),i=Pi(t,e),i!=null&&o.push($i(t,i,l))),t.tag===3)return o;t=t.return}return[]}function Fv(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Xd(t,e,n,o,i){for(var l=e._reactName,r=[];n!==null&&n!==o;){var u=n,c=u.alternate,d=u.stateNode;if(u=u.tag,c!==null&&c===o)break;u!==5&&u!==26&&u!==27||d===null||(c=d,i?(d=Pi(n,l),d!=null&&r.unshift($i(n,d,c))):i||(d=Pi(n,l),d!=null&&r.push($i(n,d,c)))),n=n.return}r.length!==0&&t.push({event:e,listeners:r})}var Jv=/\r\n?/g,Ov=/\u0000|\uFFFD/g;function jd(t){return(typeof t=="string"?t:""+t).replace(Jv,`
`).replace(Ov,"")}function Bg(t,e){return e=jd(e),jd(t)===e}function re(t,e,n,o,i,l){switch(n){case"children":typeof o=="string"?e==="body"||e==="textarea"&&o===""||Go(t,o):(typeof o=="number"||typeof o=="bigint")&&e!=="body"&&Go(t,""+o);break;case"className":Cl(t,"class",o);break;case"tabIndex":Cl(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Cl(t,n,o);break;case"style":Lp(t,o,l);break;case"data":if(e!=="object"){Cl(t,"data",o);break}case"src":case"href":if(o===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(n);break}o=Bl(""+o),t.setAttribute(n,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof l=="function"&&(n==="formAction"?(e!=="input"&&re(t,e,"name",i.name,i,null),re(t,e,"formEncType",i.formEncType,i,null),re(t,e,"formMethod",i.formMethod,i,null),re(t,e,"formTarget",i.formTarget,i,null)):(re(t,e,"encType",i.encType,i,null),re(t,e,"method",i.method,i,null),re(t,e,"target",i.target,i,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(n);break}o=Bl(""+o),t.setAttribute(n,o);break;case"onClick":o!=null&&(t.onclick=zt);break;case"onScroll":o!=null&&j("scroll",t);break;case"onScrollEnd":o!=null&&j("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(w(61));if(n=o.__html,n!=null){if(i.children!=null)throw Error(w(60));t.innerHTML=n}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}n=Bl(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(n,""+o):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":o===!0?t.setAttribute(n,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(n,o):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(n,o):t.removeAttribute(n);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(n):t.setAttribute(n,o);break;case"popover":j("beforetoggle",t),j("toggle",t),Gl(t,"popover",o);break;case"xlinkActuate":Ut(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ut(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ut(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ut(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ut(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ut(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Gl(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=v0.get(n)||n,Gl(t,n,o))}}function jr(t,e,n,o,i,l){switch(n){case"style":Lp(t,o,l);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(w(61));if(n=o.__html,n!=null){if(i.children!=null)throw Error(w(60));t.innerHTML=n}}break;case"children":typeof o=="string"?Go(t,o):(typeof o=="number"||typeof o=="bigint")&&Go(t,""+o);break;case"onScroll":o!=null&&j("scroll",t);break;case"onScrollEnd":o!=null&&j("scrollend",t);break;case"onClick":o!=null&&(t.onclick=zt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dp.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),l=t[Xe]||null,l=l!=null?l[n]:null,typeof l=="function"&&t.removeEventListener(e,l,i),typeof o=="function")){typeof l!="function"&&l!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,o,i);break e}n in t?t[n]=o:o===!0?t.setAttribute(n,""):Gl(t,n,o)}}}function Pe(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":j("error",t),j("load",t);var o=!1,i=!1,l;for(l in n)if(n.hasOwnProperty(l)){var r=n[l];if(r!=null)switch(l){case"src":o=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(w(137,e));default:re(t,e,l,r,n,null)}}i&&re(t,e,"srcSet",n.srcSet,n,null),o&&re(t,e,"src",n.src,n,null);return;case"input":j("invalid",t);var u=l=r=i=null,c=null,d=null;for(o in n)if(n.hasOwnProperty(o)){var m=n[o];if(m!=null)switch(o){case"name":i=m;break;case"type":r=m;break;case"checked":c=m;break;case"defaultChecked":d=m;break;case"value":l=m;break;case"defaultValue":u=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(w(137,e));break;default:re(t,e,o,m,n,null)}}Up(t,l,u,c,d,r,i,!1);return;case"select":j("invalid",t),o=r=l=null;for(i in n)if(n.hasOwnProperty(i)&&(u=n[i],u!=null))switch(i){case"value":l=u;break;case"defaultValue":r=u;break;case"multiple":o=u;default:re(t,e,i,u,n,null)}e=l,n=r,t.multiple=!!o,e!=null?Mo(t,!!o,e,!1):n!=null&&Mo(t,!!o,n,!0);return;case"textarea":j("invalid",t),l=i=o=null;for(r in n)if(n.hasOwnProperty(r)&&(u=n[r],u!=null))switch(r){case"value":o=u;break;case"defaultValue":i=u;break;case"children":l=u;break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(w(91));break;default:re(t,e,r,u,n,null)}Vp(t,o,i,l);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(o=n[c],o!=null))switch(c){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:re(t,e,c,o,n,null)}return;case"dialog":j("beforetoggle",t),j("toggle",t),j("cancel",t),j("close",t);break;case"iframe":case"object":j("load",t);break;case"video":case"audio":for(o=0;o<Yi.length;o++)j(Yi[o],t);break;case"image":j("error",t),j("load",t);break;case"details":j("toggle",t);break;case"embed":case"source":case"link":j("error",t),j("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in n)if(n.hasOwnProperty(d)&&(o=n[d],o!=null))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(w(137,e));default:re(t,e,d,o,n,null)}return;default:if(bu(e)){for(m in n)n.hasOwnProperty(m)&&(o=n[m],o!==void 0&&jr(t,e,m,o,n,void 0));return}}for(u in n)n.hasOwnProperty(u)&&(o=n[u],o!=null&&re(t,e,u,o,n,null))}function Yv(t,e,n,o){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,l=null,r=null,u=null,c=null,d=null,m=null;for(g in n){var p=n[g];if(n.hasOwnProperty(g)&&p!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":c=p;default:o.hasOwnProperty(g)||re(t,e,g,null,o,p)}}for(var h in o){var g=o[h];if(p=n[h],o.hasOwnProperty(h)&&(g!=null||p!=null))switch(h){case"type":l=g;break;case"name":i=g;break;case"checked":d=g;break;case"defaultChecked":m=g;break;case"value":r=g;break;case"defaultValue":u=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(w(137,e));break;default:g!==p&&re(t,e,h,g,o,p)}}Cr(t,r,u,c,d,m,l,i);return;case"select":g=r=u=h=null;for(l in n)if(c=n[l],n.hasOwnProperty(l)&&c!=null)switch(l){case"value":break;case"multiple":g=c;default:o.hasOwnProperty(l)||re(t,e,l,null,o,c)}for(i in o)if(l=o[i],c=n[i],o.hasOwnProperty(i)&&(l!=null||c!=null))switch(i){case"value":h=l;break;case"defaultValue":u=l;break;case"multiple":r=l;default:l!==c&&re(t,e,i,l,o,c)}e=u,n=r,o=g,h!=null?Mo(t,!!n,h,!1):!!o!=!!n&&(e!=null?Mo(t,!!n,e,!0):Mo(t,!!n,n?[]:"",!1));return;case"textarea":g=h=null;for(u in n)if(i=n[u],n.hasOwnProperty(u)&&i!=null&&!o.hasOwnProperty(u))switch(u){case"value":break;case"children":break;default:re(t,e,u,null,o,i)}for(r in o)if(i=o[r],l=n[r],o.hasOwnProperty(r)&&(i!=null||l!=null))switch(r){case"value":h=i;break;case"defaultValue":g=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(w(91));break;default:i!==l&&re(t,e,r,i,o,l)}qp(t,h,g);return;case"option":for(var v in n)if(h=n[v],n.hasOwnProperty(v)&&h!=null&&!o.hasOwnProperty(v))switch(v){case"selected":t.selected=!1;break;default:re(t,e,v,null,o,h)}for(c in o)if(h=o[c],g=n[c],o.hasOwnProperty(c)&&h!==g&&(h!=null||g!=null))switch(c){case"selected":t.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:re(t,e,c,h,o,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var C in n)h=n[C],n.hasOwnProperty(C)&&h!=null&&!o.hasOwnProperty(C)&&re(t,e,C,null,o,h);for(d in o)if(h=o[d],g=n[d],o.hasOwnProperty(d)&&h!==g&&(h!=null||g!=null))switch(d){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(w(137,e));break;default:re(t,e,d,h,o,g)}return;default:if(bu(e)){for(var E in n)h=n[E],n.hasOwnProperty(E)&&h!==void 0&&!o.hasOwnProperty(E)&&jr(t,e,E,void 0,o,h);for(m in o)h=o[m],g=n[m],!o.hasOwnProperty(m)||h===g||h===void 0&&g===void 0||jr(t,e,m,h,o,g);return}}for(var x in n)h=n[x],n.hasOwnProperty(x)&&h!=null&&!o.hasOwnProperty(x)&&re(t,e,x,null,o,h);for(p in o)h=o[p],g=n[p],!o.hasOwnProperty(p)||h===g||h==null&&g==null||re(t,e,p,h,o,g)}function Zd(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $v(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),o=0;o<n.length;o++){var i=n[o],l=i.transferSize,r=i.initiatorType,u=i.duration;if(l&&u&&Zd(r)){for(r=0,u=i.responseEnd,o+=1;o<n.length;o++){var c=n[o],d=c.startTime;if(d>u)break;var m=c.transferSize,p=c.initiatorType;m&&Zd(p)&&(c=c.responseEnd,r+=m*(c<u?1:(u-d)/(c-d)))}if(--o,e+=8*(l+r)/(i.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Zr=null,Wr=null;function ba(t){return t.nodeType===9?t:t.ownerDocument}function Wd(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hg(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function eu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ir=null;function Kv(){var t=window.event;return t&&t.type==="popstate"?t===ir?!1:(ir=t,!0):(ir=null,!1)}var zg=typeof setTimeout=="function"?setTimeout:void 0,Qv=typeof clearTimeout=="function"?clearTimeout:void 0,ef=typeof Promise=="function"?Promise:void 0,Xv=typeof queueMicrotask=="function"?queueMicrotask:typeof ef<"u"?function(t){return ef.resolve(null).then(t).catch(jv)}:zg;function jv(t){setTimeout(function(){throw t})}function Rn(t){return t==="head"}function tf(t,e){var n=e,o=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(o===0){t.removeChild(i),$o(e);return}o--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")o++;else if(n==="html")qi(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,qi(n);for(var l=n.firstChild;l;){var r=l.nextSibling,u=l.nodeName;l[nl]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&l.rel.toLowerCase()==="stylesheet"||n.removeChild(l),l=r}}else n==="body"&&qi(t.ownerDocument.body);n=i}while(n);$o(e)}function nf(t,e){var n=t;t=0;do{var o=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=o}while(n)}function tu(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":tu(n),Mu(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function Zv(t,e,n,o){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[nl])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(l=t.getAttribute("rel"),l==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(l!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(l=t.getAttribute("src"),(l!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&l&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var l=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===l)return t}else return t;if(t=yt(t.nextSibling),t===null)break}return null}function Wv(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=yt(t.nextSibling),t===null))return null;return t}function Fg(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=yt(t.nextSibling),t===null))return null;return t}function nu(t){return t.data==="$?"||t.data==="$~"}function ou(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function eT(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var o=function(){e(),n.removeEventListener("DOMContentLoaded",o)};n.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function yt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var iu=null;function of(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return yt(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function lf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function Jg(t,e,n){switch(e=ba(n),t){case"html":if(t=e.documentElement,!t)throw Error(w(452));return t;case"head":if(t=e.head,!t)throw Error(w(453));return t;case"body":if(t=e.body,!t)throw Error(w(454));return t;default:throw Error(w(451))}}function qi(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Mu(t)}var vt=new Map,af=new Set;function wa(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Zt=ie.d;ie.d={f:tT,r:nT,D:oT,C:iT,L:lT,m:aT,X:rT,S:sT,M:uT};function tT(){var t=Zt.f(),e=Wa();return t||e}function nT(t){var e=jo(t);e!==null&&e.tag===5&&e.type==="form"?Lh(e):Zt.r(t)}var ti=typeof document>"u"?null:document;function Og(t,e,n){var o=ti;if(o&&typeof e=="string"&&e){var i=mt(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),af.has(i)||(af.add(i),t={rel:t,crossOrigin:n,href:e},o.querySelector(i)===null&&(e=o.createElement("link"),Pe(e,"link",t),Ie(e),o.head.appendChild(e)))}}function oT(t){Zt.D(t),Og("dns-prefetch",t,null)}function iT(t,e){Zt.C(t,e),Og("preconnect",t,e)}function lT(t,e,n){Zt.L(t,e,n);var o=ti;if(o&&t&&e){var i='link[rel="preload"][as="'+mt(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+mt(n.imageSizes)+'"]')):i+='[href="'+mt(t)+'"]';var l=i;switch(e){case"style":l=Yo(t);break;case"script":l=ni(t)}vt.has(l)||(t=ge({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),vt.set(l,t),o.querySelector(i)!==null||e==="style"&&o.querySelector(rl(l))||e==="script"&&o.querySelector(ul(l))||(e=o.createElement("link"),Pe(e,"link",t),Ie(e),o.head.appendChild(e)))}}function aT(t,e){Zt.m(t,e);var n=ti;if(n&&t){var o=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+mt(o)+'"][href="'+mt(t)+'"]',l=i;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":l=ni(t)}if(!vt.has(l)&&(t=ge({rel:"modulepreload",href:t},e),vt.set(l,t),n.querySelector(i)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(ul(l)))return}o=n.createElement("link"),Pe(o,"link",t),Ie(o),n.head.appendChild(o)}}}function sT(t,e,n){Zt.S(t,e,n);var o=ti;if(o&&t){var i=_o(o).hoistableStyles,l=Yo(t);e=e||"default";var r=i.get(l);if(!r){var u={loading:0,preload:null};if(r=o.querySelector(rl(l)))u.loading=5;else{t=ge({rel:"stylesheet",href:t,"data-precedence":e},n),(n=vt.get(l))&&fc(t,n);var c=r=o.createElement("link");Ie(c),Pe(c,"link",t),c._p=new Promise(function(d,m){c.onload=d,c.onerror=m}),c.addEventListener("load",function(){u.loading|=1}),c.addEventListener("error",function(){u.loading|=2}),u.loading|=4,Xl(r,e,o)}r={type:"stylesheet",instance:r,count:1,state:u},i.set(l,r)}}}function rT(t,e){Zt.X(t,e);var n=ti;if(n&&t){var o=_o(n).hoistableScripts,i=ni(t),l=o.get(i);l||(l=n.querySelector(ul(i)),l||(t=ge({src:t,async:!0},e),(e=vt.get(i))&&mc(t,e),l=n.createElement("script"),Ie(l),Pe(l,"link",t),n.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},o.set(i,l))}}function uT(t,e){Zt.M(t,e);var n=ti;if(n&&t){var o=_o(n).hoistableScripts,i=ni(t),l=o.get(i);l||(l=n.querySelector(ul(i)),l||(t=ge({src:t,async:!0,type:"module"},e),(e=vt.get(i))&&mc(t,e),l=n.createElement("script"),Ie(l),Pe(l,"link",t),n.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},o.set(i,l))}}function sf(t,e,n,o){var i=(i=pn.current)?wa(i):null;if(!i)throw Error(w(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Yo(n.href),n=_o(i).hoistableStyles,o=n.get(e),o||(o={type:"style",instance:null,count:0,state:null},n.set(e,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Yo(n.href);var l=_o(i).hoistableStyles,r=l.get(t);if(r||(i=i.ownerDocument||i,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},l.set(t,r),(l=i.querySelector(rl(t)))&&!l._p&&(r.instance=l,r.state.loading=5),vt.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},vt.set(t,n),l||cT(i,t,n,r.state))),e&&o===null)throw Error(w(528,""));return r}if(e&&o!==null)throw Error(w(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=ni(n),n=_o(i).hoistableScripts,o=n.get(e),o||(o={type:"script",instance:null,count:0,state:null},n.set(e,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(w(444,t))}}function Yo(t){return'href="'+mt(t)+'"'}function rl(t){return'link[rel="stylesheet"]['+t+"]"}function Yg(t){return ge({},t,{"data-precedence":t.precedence,precedence:null})}function cT(t,e,n,o){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?o.loading=1:(e=t.createElement("link"),o.preload=e,e.addEventListener("load",function(){return o.loading|=1}),e.addEventListener("error",function(){return o.loading|=2}),Pe(e,"link",n),Ie(e),t.head.appendChild(e))}function ni(t){return'[src="'+mt(t)+'"]'}function ul(t){return"script[async]"+t}function rf(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var o=t.querySelector('style[data-href~="'+mt(n.href)+'"]');if(o)return e.instance=o,Ie(o),o;var i=ge({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Ie(o),Pe(o,"style",i),Xl(o,n.precedence,t),e.instance=o;case"stylesheet":i=Yo(n.href);var l=t.querySelector(rl(i));if(l)return e.state.loading|=4,e.instance=l,Ie(l),l;o=Yg(n),(i=vt.get(i))&&fc(o,i),l=(t.ownerDocument||t).createElement("link"),Ie(l);var r=l;return r._p=new Promise(function(u,c){r.onload=u,r.onerror=c}),Pe(l,"link",o),e.state.loading|=4,Xl(l,n.precedence,t),e.instance=l;case"script":return l=ni(n.src),(i=t.querySelector(ul(l)))?(e.instance=i,Ie(i),i):(o=n,(i=vt.get(l))&&(o=ge({},n),mc(o,i)),t=t.ownerDocument||t,i=t.createElement("script"),Ie(i),Pe(i,"link",o),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(w(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(o=e.instance,e.state.loading|=4,Xl(o,n.precedence,t));return e.instance}function Xl(t,e,n){for(var o=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=o.length?o[o.length-1]:null,l=i,r=0;r<o.length;r++){var u=o[r];if(u.dataset.precedence===e)l=u;else if(l!==i)break}l?l.parentNode.insertBefore(t,l.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function fc(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function mc(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var jl=null;function uf(t,e,n){if(jl===null){var o=new Map,i=jl=new Map;i.set(n,o)}else i=jl,o=i.get(n),o||(o=new Map,i.set(n,o));if(o.has(t))return o;for(o.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var l=n[i];if(!(l[nl]||l[qe]||t==="link"&&l.getAttribute("rel")==="stylesheet")&&l.namespaceURI!=="http://www.w3.org/2000/svg"){var r=l.getAttribute(e)||"";r=t+r;var u=o.get(r);u?u.push(l):o.set(r,[l])}}return o}function cf(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function dT(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function $g(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function fT(t,e,n,o){if(n.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=Yo(o.href),l=e.querySelector(rl(i));if(l){e=l._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Ra.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=l,Ie(l);return}l=e.ownerDocument||e,o=Yg(o),(i=vt.get(i))&&fc(o,i),l=l.createElement("link"),Ie(l);var r=l;r._p=new Promise(function(u,c){r.onload=u,r.onerror=c}),Pe(l,"link",o),n.instance=l}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=Ra.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var lr=0;function mT(t,e){return t.stylesheets&&t.count===0&&Zl(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var o=setTimeout(function(){if(t.stylesheets&&Zl(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4+e);0<t.imgBytes&&lr===0&&(lr=62500*$v());var i=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Zl(t,t.stylesheets),t.unsuspend)){var l=t.unsuspend;t.unsuspend=null,l()}},(t.imgBytes>lr?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(i)}}:null}function Ra(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zl(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Da=null;function Zl(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Da=new Map,e.forEach(pT,t),Da=null,Ra.call(t))}function pT(t,e){if(!(e.state.loading&4)){var n=Da.get(t);if(n)var o=n.get(null);else{n=new Map,Da.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),l=0;l<i.length;l++){var r=i[l];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(n.set(r.dataset.precedence,r),o=r)}o&&n.set(null,o)}i=e.instance,r=i.getAttribute("data-precedence"),l=n.get(r)||o,l===o&&n.set(null,i),n.set(r,i),this.count++,o=Ra.bind(this),i.addEventListener("load",o),i.addEventListener("error",o),l?l.parentNode.insertBefore(i,l.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var Ki={$$typeof:Ht,Provider:null,Consumer:null,_currentValue:Ln,_currentValue2:Ln,_threadCount:0};function hT(t,e,n,o,i,l,r,u,c){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bs(0),this.hiddenUpdates=bs(null),this.identifierPrefix=o,this.onUncaughtError=i,this.onCaughtError=l,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function Kg(t,e,n,o,i,l,r,u,c,d,m,p){return t=new hT(t,e,n,r,c,d,m,p,u),e=1,l===!0&&(e|=24),l=et(3,null,null,e),t.current=l,l.stateNode=t,e=Gu(),e.refCount++,t.pooledCache=e,e.refCount++,l.memoizedState={element:o,isDehydrated:n,cache:e},zu(l),t}function Qg(t){return t?(t=So,t):So}function Xg(t,e,n,o,i,l){i=Qg(i),o.context===null?o.context=i:o.pendingContext=i,o=gn(e),o.payload={element:n},l=l===void 0?null:l,l!==null&&(o.callback=l),n=yn(t,o,e),n!==null&&(Qe(n,t,e),Mi(n,t,e))}function df(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function pc(t,e){df(t,e),(t=t.alternate)&&df(t,e)}function jg(t){if(t.tag===13||t.tag===31){var e=jn(t,67108864);e!==null&&Qe(e,t,67108864),pc(t,67108864)}}function ff(t){if(t.tag===13||t.tag===31){var e=lt();e=Nu(e);var n=jn(t,e);n!==null&&Qe(n,t,e),pc(t,e)}}var Ia=!0;function gT(t,e,n,o){var i=F.T;F.T=null;var l=ie.p;try{ie.p=2,hc(t,e,n,o)}finally{ie.p=l,F.T=i}}function yT(t,e,n,o){var i=F.T;F.T=null;var l=ie.p;try{ie.p=8,hc(t,e,n,o)}finally{ie.p=l,F.T=i}}function hc(t,e,n,o){if(Ia){var i=lu(o);if(i===null)or(t,e,o,ka,n),mf(t,o);else if(vT(i,t,e,n,o))o.stopPropagation();else if(mf(t,o),e&4&&-1<xT.indexOf(t)){for(;i!==null;){var l=jo(i);if(l!==null)switch(l.tag){case 3:if(l=l.stateNode,l.current.memoizedState.isDehydrated){var r=Un(l.pendingLanes);if(r!==0){var u=l;for(u.pendingLanes|=2,u.entangledLanes|=2;r;){var c=1<<31-it(r);u.entanglements[1]|=c,r&=~c}Dt(l),!(oe&6)&&(Ca=nt()+500,sl(0))}}break;case 31:case 13:u=jn(l,2),u!==null&&Qe(u,l,2),Wa(),pc(l,2)}if(l=lu(o),l===null&&or(t,e,o,ka,n),l===i)break;i=l}i!==null&&o.stopPropagation()}else or(t,e,o,null,n)}}function lu(t){return t=wu(t),gc(t)}var ka=null;function gc(t){if(ka=null,t=ho(t),t!==null){var e=Zi(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=yp(e),t!==null)return t;t=null}else if(n===31){if(t=xp(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return ka=t,null}function Zg(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(o0()){case Cp:return 2;case Ep:return 8;case ra:case i0:return 32;case Ap:return 268435456;default:return 32}default:return 32}}var au=!1,Tn=null,Sn=null,Cn=null,Qi=new Map,Xi=new Map,rn=[],xT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mf(t,e){switch(t){case"focusin":case"focusout":Tn=null;break;case"dragenter":case"dragleave":Sn=null;break;case"mouseover":case"mouseout":Cn=null;break;case"pointerover":case"pointerout":Qi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xi.delete(e.pointerId)}}function hi(t,e,n,o,i,l){return t===null||t.nativeEvent!==l?(t={blockedOn:e,domEventName:n,eventSystemFlags:o,nativeEvent:l,targetContainers:[i]},e!==null&&(e=jo(e),e!==null&&jg(e)),t):(t.eventSystemFlags|=o,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function vT(t,e,n,o,i){switch(e){case"focusin":return Tn=hi(Tn,t,e,n,o,i),!0;case"dragenter":return Sn=hi(Sn,t,e,n,o,i),!0;case"mouseover":return Cn=hi(Cn,t,e,n,o,i),!0;case"pointerover":var l=i.pointerId;return Qi.set(l,hi(Qi.get(l)||null,t,e,n,o,i)),!0;case"gotpointercapture":return l=i.pointerId,Xi.set(l,hi(Xi.get(l)||null,t,e,n,o,i)),!0}return!1}function Wg(t){var e=ho(t.target);if(e!==null){var n=Zi(e);if(n!==null){if(e=n.tag,e===13){if(e=yp(n),e!==null){t.blockedOn=e,Xc(t.priority,function(){ff(n)});return}}else if(e===31){if(e=xp(n),e!==null){t.blockedOn=e,Xc(t.priority,function(){ff(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=lu(t.nativeEvent);if(n===null){n=t.nativeEvent;var o=new n.constructor(n.type,n);Ar=o,n.target.dispatchEvent(o),Ar=null}else return e=jo(n),e!==null&&jg(e),t.blockedOn=n,!1;e.shift()}return!0}function pf(t,e,n){Wl(t)&&n.delete(e)}function TT(){au=!1,Tn!==null&&Wl(Tn)&&(Tn=null),Sn!==null&&Wl(Sn)&&(Sn=null),Cn!==null&&Wl(Cn)&&(Cn=null),Qi.forEach(pf),Xi.forEach(pf)}function Rl(t,e){t.blockedOn===e&&(t.blockedOn=null,au||(au=!0,Re.unstable_scheduleCallback(Re.unstable_NormalPriority,TT)))}var Dl=null;function hf(t){Dl!==t&&(Dl=t,Re.unstable_scheduleCallback(Re.unstable_NormalPriority,function(){Dl===t&&(Dl=null);for(var e=0;e<t.length;e+=3){var n=t[e],o=t[e+1],i=t[e+2];if(typeof o!="function"){if(gc(o||n)===null)continue;break}var l=jo(n);l!==null&&(t.splice(e,3),e-=3,Br(l,{pending:!0,data:i,method:n.method,action:o},o,i))}}))}function $o(t){function e(c){return Rl(c,t)}Tn!==null&&Rl(Tn,t),Sn!==null&&Rl(Sn,t),Cn!==null&&Rl(Cn,t),Qi.forEach(e),Xi.forEach(e);for(var n=0;n<rn.length;n++){var o=rn[n];o.blockedOn===t&&(o.blockedOn=null)}for(;0<rn.length&&(n=rn[0],n.blockedOn===null);)Wg(n),n.blockedOn===null&&rn.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(o=0;o<n.length;o+=3){var i=n[o],l=n[o+1],r=i[Xe]||null;if(typeof l=="function")r||hf(n);else if(r){var u=null;if(l&&l.hasAttribute("formAction")){if(i=l,r=l[Xe]||null)u=r.formAction;else if(gc(i)!==null)continue}else u=r.action;typeof u=="function"?n[o+1]=u:(n.splice(o,3),o-=3),hf(n)}}}function ey(){function t(l){l.canIntercept&&l.info==="react-transition"&&l.intercept({handler:function(){return new Promise(function(r){return i=r})},focusReset:"manual",scroll:"manual"})}function e(){i!==null&&(i(),i=null),o||setTimeout(n,20)}function n(){if(!o&&!navigation.transition){var l=navigation.currentEntry;l&&l.url!=null&&navigation.navigate(l.url,{state:l.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,i=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),i!==null&&(i(),i=null)}}}function yc(t){this._internalRoot=t}ns.prototype.render=yc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(w(409));var n=e.current,o=lt();Xg(n,o,t,e,null,null)};ns.prototype.unmount=yc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Xg(t.current,2,null,t,null,null),Wa(),e[Xo]=null}};function ns(t){this._internalRoot=t}ns.prototype.unstable_scheduleHydration=function(t){if(t){var e=wp();t={blockedOn:null,target:t,priority:e};for(var n=0;n<rn.length&&e!==0&&e<rn[n].priority;n++);rn.splice(n,0,t),n===0&&Wg(t)}};var gf=hp.version;if(gf!=="19.2.0")throw Error(w(527,gf,"19.2.0"));ie.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(w(188)):(t=Object.keys(t).join(","),Error(w(268,t)));return t=Xx(e),t=t!==null?vp(t):null,t=t===null?null:t.stateNode,t};var ST={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Il.isDisabled&&Il.supportsFiber)try{Wi=Il.inject(ST),ot=Il}catch{}}Ga.createRoot=function(t,e){if(!gp(t))throw Error(w(299));var n=!1,o="",i=Oh,l=Yh,r=$h;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(l=e.onCaughtError),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Kg(t,1,!1,null,null,n,o,null,i,l,r,ey),t[Xo]=e.current,dc(t),new yc(e)};Ga.hydrateRoot=function(t,e,n){if(!gp(t))throw Error(w(299));var o=!1,i="",l=Oh,r=Yh,u=$h,c=null;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(l=n.onUncaughtError),n.onCaughtError!==void 0&&(r=n.onCaughtError),n.onRecoverableError!==void 0&&(u=n.onRecoverableError),n.formState!==void 0&&(c=n.formState)),e=Kg(t,1,!0,e,n??null,o,i,c,l,r,u,ey),e.context=Qg(null),n=e.current,o=lt(),o=Nu(o),i=gn(o),i.callback=null,yn(n,i,o),n=o,e.current.lanes=n,tl(e,n),Dt(e),t[Xo]=e.current,dc(t),new ns(e)};Ga.version="19.2.0";function ty(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ty)}catch(t){console.error(t)}}ty(),up.exports=Ga;var CT=up.exports;const ET=Wm(CT),AT=({className:t})=>f.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}),NT=({className:t})=>f.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}),ny=({className:t})=>f.jsxs("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),ea=({className:t})=>f.jsxs("svg",{className:t,fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9a9.75 9.75 0 011.05-4.383 9.75 9.75 0 014.383-1.05h.134a9.75 9.75 0 014.383 1.05 9.75 9.75 0 011.05 4.383z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 1.5v6.75m0 0l-3-3m3 3l3-3M5.25 9.75A9.75 9.75 0 0112 4.5a9.75 9.75 0 016.75 5.25"})]}),He=({className:t})=>f.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})}),ta={name:"Islamic Blue & Gold",light:{primary:"#2563eb",background:"#f8fafd",card:"#ffffff",textPrimary:"#1f2937",textSecondary:"#6b7280",border:"#e5e7eb",backgroundStart:"#f8fafd",backgroundEnd:"#eef4ff"},dark:{primary:"#f59e0b",background:"#111827",card:"#1f2937",textPrimary:"#f9fafb",textSecondary:"#a1a1aa",border:"#3f3f46",backgroundStart:"#111827",backgroundEnd:"#25210f"}},_T=[ta,{name:"Emerald Green",light:{primary:"#059669",background:"#f9fafb",card:"#ffffff",textPrimary:"#1f2937",textSecondary:"#6b7280",border:"#e5e7eb",backgroundStart:"#f9fafb",backgroundEnd:"#f0fdf4"},dark:{primary:"#10b981",background:"#111827",card:"#1f2937",textPrimary:"#f9fafb",textSecondary:"#a1a1aa",border:"#3f3f46",backgroundStart:"#111827",backgroundEnd:"#064e3b"}},{name:"Royal Purple",light:{primary:"#7c3aed",background:"#f9fafb",card:"#ffffff",textPrimary:"#1f2937",textSecondary:"#6b7280",border:"#e5e7eb",backgroundStart:"#f9fafb",backgroundEnd:"#f5f3ff"},dark:{primary:"#8b5cf6",background:"#111827",card:"#1f2937",textPrimary:"#f9fafb",textSecondary:"#a1a1aa",border:"#3f3f46",backgroundStart:"#1e1b4b",backgroundEnd:"#312e81"}}],MT=({currentTheme:t,onThemeChange:e})=>{const[n,o]=A.useState(!1),i=A.useRef(null);return A.useEffect(()=>{function l(r){i.current&&!i.current.contains(r.target)&&o(!1)}return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[i]),f.jsxs("div",{ref:i,className:"relative",children:[f.jsx("button",{onClick:()=>o(!n),className:"w-6 h-6 rounded-full border-2 border-border-color",style:{backgroundColor:t.light.primary},"aria-label":"Change theme"}),n&&f.jsx("div",{className:"absolute top-full right-0 mt-2 p-2 bg-card rounded-lg shadow-lg border border-border-color z-20",children:f.jsx("div",{className:"flex gap-3",children:_T.map(l=>f.jsx("button",{onClick:()=>{e(l),o(!1)},className:`w-8 h-8 rounded-full transition-transform hover:scale-110 ${!l.isCustom&&t.name===l.name?"ring-2 ring-primary ring-offset-2 dark:ring-offset-card":""}`,style:{backgroundColor:l.light.primary},"aria-label":`Select ${l.name} theme`},l.name))})})]})},bT={home:"رونق",audio:"المصحف المسموع",reading:"المصحف المقروء",quiz:"فقه وحكمة",asbab:"أسباب النزول",kids:"عالم الطفل"},wT=({reciters:t,selectedReciter:e,onReciterChange:n,isDarkMode:o,onToggleDarkMode:i,onSettingsClick:l,onChallengeClick:r,currentPage:u,onNavigate:c,currentTheme:d,onThemeChange:m})=>{const p=h=>{const g=h.target.value,v=t.find(C=>C.identifier===g);v&&n(v)};return f.jsx("header",{className:"bg-card/70 dark:bg-card/70 backdrop-blur-lg sticky top-0 z-10 shadow-sm",children:f.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex items-center justify-between h-16",children:[f.jsxs("div",{className:"flex-1 flex items-center",children:[u!=="home"&&f.jsx("button",{onClick:()=>c("home"),className:"p-2 -ml-2 rounded-full text-text-secondary hover:bg-border-color","aria-label":"العودة للصفحة الرئيسية",children:f.jsx(He,{className:"w-6 h-6"})}),f.jsx("h1",{className:"text-2xl font-bold text-text-primary mr-2",children:bT[u]})]}),f.jsx("div",{className:"flex-1 text-center truncate",children:u==="audio"&&f.jsxs("select",{value:(e==null?void 0:e.identifier)||"",onChange:p,disabled:!e||t.length===0,className:"bg-background dark:bg-card border border-border-color text-text-primary text-sm rounded-lg focus:ring-primary focus:border-primary block w-full max-w-[200px] sm:max-w-xs p-2.5 mx-auto",children:[t.length===0&&f.jsx("option",{children:"Loading..."}),t.map(h=>f.jsx("option",{value:h.identifier,children:h.name},h.identifier))]})}),f.jsxs("div",{className:"flex flex-1 items-center justify-end space-x-1 sm:space-x-2",children:[f.jsx(MT,{currentTheme:d,onThemeChange:m}),f.jsx("button",{onClick:i,className:"p-2 rounded-full text-text-secondary hover:bg-border-color focus:outline-none","aria-label":"Toggle dark mode",children:o?f.jsx(AT,{className:"w-6 h-6"}):f.jsx(NT,{className:"w-6 h-6"})}),f.jsx("button",{onClick:r,className:"p-2 rounded-full text-text-secondary hover:bg-border-color focus:outline-none","aria-label":"Quran Challenge",children:f.jsx(ea,{className:"w-6 h-6"})}),f.jsx("button",{onClick:l,className:"p-2 rounded-full text-text-secondary hover:bg-border-color focus:outline-none","aria-label":"Settings",children:f.jsx(ny,{className:"w-6 h-6"})})]})]})})})},oy=({className:t})=>f.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),Ko=({className:t})=>f.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),yf=({className:t})=>f.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),RT=({className:t})=>f.jsxs("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 19.5A2.5 2.5 0 016.5 17H20"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.5 2H20v20H6.5A2.5 2.5 0 014 19.5v-15A2.5 2.5 0 016.5 2z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 7v6m0 0l-2-2m2 2l2-2"})]}),DT=({surahs:t,onSurahSelect:e,currentSurahId:n,bookmarks:o,selectedReciter:i,downloadedSurahs:l,downloadProgress:r,onDownloadSurah:u,onCancelDownload:c,downloadedTafsir:d,tafsirDownloadProgress:m,onDownloadTafsir:p,onCancelTafsirDownload:h})=>f.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pt-4 pb-8",children:f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(g=>{const v=i?`${i.identifier}-${g.id}`:"",C=l.has(v),E=r[v],x=E!==void 0,y=d.has(g.id),T=m[g.id],S=T!==void 0,N=()=>C?f.jsx("div",{className:"p-2","aria-label":"Audio downloaded",children:f.jsx(Ko,{className:"w-6 h-6 text-primary"})}):x?f.jsxs("div",{className:"flex items-center",children:[f.jsxs("div",{className:"w-8 text-center text-xs font-mono text-text-secondary",role:"progressbar","aria-valuenow":E,children:[E,"%"]}),f.jsx("button",{onClick:_=>{_.stopPropagation(),c(g)},className:"p-1 rounded-full text-red-500 hover:bg-red-500/10","aria-label":"Cancel audio download",children:f.jsx(yf,{className:"w-5 h-5"})})]}):f.jsx("button",{onClick:_=>{_.stopPropagation(),u(g)},className:"p-2 rounded-full text-text-secondary hover:text-primary",disabled:!i,"aria-label":"Download audio for offline",children:f.jsx(oy,{className:"w-6 h-6"})}),R=()=>y?f.jsx("div",{className:"p-2","aria-label":"Tafsir downloaded",children:f.jsx(Ko,{className:"w-6 h-6 text-primary"})}):S?f.jsxs("div",{className:"flex items-center",children:[f.jsxs("div",{className:"w-8 text-center text-xs font-mono text-text-secondary",role:"progressbar","aria-valuenow":T,children:[T,"%"]}),f.jsx("button",{onClick:_=>{_.stopPropagation(),h(g)},className:"p-1 rounded-full text-red-500 hover:bg-red-500/10","aria-label":"Cancel tafsir download",children:f.jsx(yf,{className:"w-5 h-5"})})]}):f.jsx("button",{onClick:_=>{_.stopPropagation(),p(g)},className:"p-2 rounded-full text-text-secondary hover:text-primary","aria-label":"Download tafsir for offline",children:f.jsx(RT,{className:"w-6 h-6"})});return f.jsxs("div",{onClick:()=>e(g),className:`p-4 rounded-lg shadow-md transition-all duration-200 text-left w-full flex items-center justify-between cursor-pointer ${n===g.id?"bg-primary text-white transform scale-105":"bg-card hover:bg-border-color"}`,children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("span",{className:`w-10 h-10 flex items-center justify-center rounded-full text-sm font-medium ml-4 ${n===g.id?"bg-white text-primary":"bg-background text-text-secondary"}`,children:g.id}),f.jsx("div",{className:"flex items-center",children:f.jsx("p",{className:`font-semibold font-amiri-quran text-xl ${n===g.id?"text-white":"text-text-primary"}`,children:g.name})})]}),f.jsxs("div",{className:"flex items-center space-x-1",children:[R(),N()]})]},g.id)})})}),iy=({className:t})=>f.jsx("svg",{className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M8 5.14v14l11-7-11-7z"})}),IT=({className:t})=>f.jsx("svg",{className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"})}),ly=({className:t})=>f.jsx("svg",{className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"})}),kT=({className:t})=>f.jsx("svg",{className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M6 6h2v12H6V6zm3.5 6l8.5 6V6l-8.5 6z"})}),UT=({className:t})=>f.jsxs("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h5M20 11a8.1 8.1 0 00-15.5 2m.5-6H20v5h-5"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 4l5 5-5 5"})]}),qT=({surah:t,reciter:e,isPlaying:n,onPlayPause:o,onNext:i,onPrev:l,onEnded:r,audioSrc:u,currentAyah:c,totalAyahs:d,onDurationChange:m})=>{const p=A.useRef(null),[h,g]=A.useState(0),[v,C]=A.useState(0),[E,x]=A.useState(0),[y,T]=A.useState(!1);A.useEffect(()=>{p.current&&(p.current.loop=y)},[y]),A.useEffect(()=>{const b=p.current;if(b)if(u)if(b.src!==u&&(b.src=u,C(0),x(0),g(0)),n){const I=b.play();I!==void 0&&I.catch(J=>{J.name!=="AbortError"&&console.error("Audio play failed",J)})}else b.pause();else b.pause(),b.src=""},[n,u]);const S=()=>{if(p.current){const{currentTime:b,duration:I}=p.current;C(b),I&&g(b/I*100)}},N=()=>{if(p.current){g(0);const b=p.current.duration;isFinite(b)&&(x(b),m(b))}},R=()=>{y||r()},_=b=>{if(p.current&&E>0){const I=b.currentTarget.getBoundingClientRect(),J=b.clientX-I.left,O=I.width;p.current.currentTime=J/O*E}},U=b=>{if(isNaN(b)||b<0)return"0:00";const I=Math.floor(b/60),J=Math.floor(b%60);return`${I}:${J.toString().padStart(2,"0")}`};return t?f.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-card/80 backdrop-blur-lg shadow-t-lg z-20",children:[f.jsx("audio",{ref:p,onEnded:R,onTimeUpdate:S,onLoadedMetadata:N}),f.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("div",{className:"flex items-center min-w-0 w-1/4",children:f.jsxs("div",{className:"mr-4 truncate",children:[f.jsx("p",{className:"font-semibold text-text-primary font-amiri-quran text-lg truncate",children:t.name}),f.jsx("p",{className:"text-sm text-text-secondary truncate",children:e.name})]})}),f.jsxs("div",{className:"flex flex-col items-center justify-center flex-grow mx-4",children:[f.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[f.jsx("button",{onClick:l,className:"p-2 rounded-full text-text-primary hover:bg-border-color focus:outline-none","aria-label":"Previous Surah",children:f.jsx(kT,{className:"w-7 h-7"})}),f.jsx("button",{onClick:o,className:"p-4 rounded-full bg-primary text-white shadow-lg hover:opacity-90 focus:outline-none","aria-label":n?"Pause":"Play",children:n?f.jsx(IT,{className:"w-8 h-8"}):f.jsx(iy,{className:"w-8 h-8"})}),f.jsx("button",{onClick:i,className:"p-2 rounded-full text-text-primary hover:bg-border-color focus:outline-none","aria-label":"Next Surah",children:f.jsx(ly,{className:"w-7 h-7"})})]}),f.jsxs("div",{className:"w-full flex items-center gap-2 mt-3",children:[f.jsx("span",{className:"text-xs font-mono text-text-secondary w-10 text-center",children:U(v)}),f.jsx("div",{className:"w-full bg-border-color rounded-full h-2 cursor-pointer group",onClick:_,role:"slider","aria-valuenow":h,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"Audio progress",children:f.jsx("div",{className:"bg-primary h-2 rounded-full relative",style:{width:`${h}%`},children:f.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 translate-x-1/2 w-4 h-4 bg-white rounded-full shadow border-2 border-primary transition-transform group-hover:scale-110"})})}),f.jsx("span",{className:"text-xs font-mono text-text-secondary w-10 text-center",children:U(E)})]})]}),f.jsxs("div",{className:"w-1/4 flex items-center justify-end",children:[f.jsx("button",{onClick:()=>T(b=>!b),className:`p-2 rounded-full hover:bg-border-color focus:outline-none ${y?"text-primary":"text-text-secondary"}`,"aria-label":"Repeat Ayah",children:f.jsx(UT,{className:"w-6 h-6"})}),d>0&&c&&f.jsxs("p",{className:"text-sm text-text-secondary mr-2",children:[c.numberInSurah,"/",d]})]})]})})]}):null},VT=({className:t})=>f.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),LT=({className:t,isFilled:e})=>f.jsx("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:e?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"})}),PT=({className:t})=>f.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 11a7 7 0 01-14 0m7 6v4m0 0H9m4 0h2m-4-8a4 4 0 014-4h0a4 4 0 014 4v2m-8 0v2a4 4 0 004 4h0a4 4 0 004-4v-2"})}),GT=({surah:t,currentAyah:e,showTafsir:n,onToggleTafsir:o,tafsirText:i,isTafsirLoading:l,isTafsirError:r,bookmarks:u,onToggleBookmark:c,onCoachAyah:d})=>{const m=t.revelationType==="Meccan"?"مكية":"مدنية",p=!!(e&&u[t.id]===e.numberInSurah);return f.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pt-6",children:f.jsxs("div",{className:"bg-card rounded-lg shadow-md p-6 animate-fade-in",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h2",{className:"text-3xl font-bold text-text-primary font-amiri-quran",children:t.name}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("button",{onClick:()=>e&&d(e),disabled:!e,className:"p-2 rounded-full text-text-secondary hover:bg-border-color","aria-label":"Pronunciation Coach",children:f.jsx(PT,{className:"w-6 h-6"})}),f.jsx("button",{onClick:()=>e&&c(t.id,e.numberInSurah),disabled:!e,className:`p-2 rounded-full transition-colors ${p?"bg-primary/20 text-primary":"text-text-secondary hover:bg-border-color"}`,"aria-label":p?"Remove bookmark":"Add bookmark",children:f.jsx(LT,{className:"w-6 h-6",isFilled:p})}),f.jsx("button",{onClick:o,className:`p-2 rounded-full transition-colors ${n?"bg-primary/20 text-primary":"text-text-secondary hover:bg-border-color"}`,"aria-label":"Toggle Tafsir",children:f.jsx(VT,{className:"w-6 h-6"})})]})]}),f.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 text-center border-t border-border-color py-4",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-text-secondary",children:"مكان النزول"}),f.jsx("p",{className:"font-semibold text-text-primary capitalize",children:m})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-text-secondary",children:"رقم السورة"}),f.jsx("p",{className:"font-semibold text-text-primary",children:t.id})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-text-secondary",children:"عدد الآيات"}),f.jsx("p",{className:"font-semibold text-text-primary",children:t.numberOfAyahs})]})]}),f.jsx("div",{className:"border-t border-border-color pt-4 mt-4",children:e?f.jsx("div",{className:"min-h-[10rem] flex items-center justify-center p-4",children:f.jsxs("p",{className:"text-2xl md:text-3xl font-amiri-quran text-text-primary leading-loose text-center",children:[e.text,f.jsx("span",{className:"font-sans text-base align-middle mx-2 p-1 bg-background rounded-full",children:e.numberInSurah})]})}):f.jsx("div",{className:"min-h-[10rem] flex items-center justify-center",children:f.jsx("p",{className:"text-text-secondary",children:"اختر سورة للبدء."})})}),n&&f.jsxs("div",{className:"border-t border-border-color pt-4 mt-4",children:[f.jsx("h4",{className:"font-semibold mb-2 text-text-primary",children:"التفسير الميسر"}),f.jsx("div",{className:"min-h-[8rem] flex items-center justify-center p-4 rounded-lg bg-background",children:l?f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary",role:"status",children:f.jsx("span",{className:"sr-only",children:"Loading..."})}):r?f.jsx("p",{className:"text-red-500 text-center",children:i}):i&&f.jsx("p",{className:"text-text-secondary max-w-none leading-relaxed text-right",children:i})})]})]})})},BT=({className:t})=>f.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Ua=({className:t})=>f.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),ko={Australia:["Sydney","Melbourne","Brisbane","Perth","Adelaide","Gold Coast","Canberra","Newcastle","Wollongong","Logan City"],Canada:["Toronto","Montreal","Vancouver","Calgary","Edmonton","Ottawa","Mississauga","Winnipeg","Quebec City","Hamilton"],Egypt:["Cairo","Alexandria","Giza","Shubra El-Kheima","Port Said","Suez","Luxor","al-Mansura","El-Mahalla El-Kubra","Tanta","Asyut","Ismailia","Fayyum","Zagazig","Aswan","Damietta","Damanhur","al-Minya","Beni Suef","Qena","Sohag","Hurghada","6th of October City","Shibin El Kom","Banha","Kafr el-Sheikh","Arish","Mallawi","10th of Ramadan City","Bilbais","Marsa Matruh","Idfu","Mit Ghamr","Al-Hamidiyya","Desouk","Qalyub","Abu Kabir","Kafr el-Dawwar","Jirja","Akhmim","Matareya"],India:["Delhi","Mumbai","Kolkata","Bangalore","Chennai","Hyderabad","Pune","Ahmedabad","Surat","Lucknow"],Indonesia:["Jakarta","Surabaya","Bandung","Medan","Bekasi","Tangerang","Depok","Semarang","Palembang","Makassar"],Malaysia:["Kuala Lumpur","George Town","Ipoh","Shah Alam","Petaling Jaya","Johor Bahru","Malacca City","Kota Kinabalu","Alor Setar","Kuantan"],Pakistan:["Karachi","Lahore","Faisalabad","Rawalpindi","Gujranwala","Peshawar","Multan","Hyderabad","Islamabad","Quetta"],"Saudi Arabia":["Riyadh","Jeddah","Mecca","Medina","Sultanah","Dammam","Ta'if","Tabuk","Al Kharj","Buraidah","Khamis Mushait","Al Hufuf","Al Mubarraz","Hafar Al-Batin","Ha'il","Najran","Al Jubayl","Abha","Yanbu","Al Qunfudhah","Sabya","Jizan","Al Bahah","Skaka"],"United Arab Emirates":["Dubai","Abu Dhabi","Sharjah","Al Ain","Ajman","Ras Al Khaimah","Fujairah","Umm Al Quwain","Khor Fakkan","Dibba Al-Fujairah"],"United Kingdom":["London","Birmingham","Glasgow","Liverpool","Bristol","Manchester","Sheffield","Leeds","Edinburgh","Leicester"],"United States":["New York","Los Angeles","Chicago","Houston","Phoenix","Philadelphia","San Antonio","San Diego","Dallas","San Jose","Austin","Jacksonville","Fort Worth","Columbus","Charlotte","San Francisco","Indianapolis","Seattle","Denver","Washington"]},xf=["سبحان الله وبحمده، سبحان الله العظيم","لا إله إلا الله وحده لا شريك له، له الملك وله الحمد وهو على كل شيء قدير","اللهم صلِّ وسلِّم على نبينا محمد","أستغفر الله العظيم وأتوب إليه","سبحان الله، والحمد لله، ولا إله إلا الله، والله أكبر","لا حول ولا قوة إلا بالله","اللهم أعنِّي على ذكرك وشكرك وحسن عبادتك","يا حي يا قيوم برحمتك أستغيث","رضيت بالله ربًا، وبالإسلام دينًا، وبمحمدٍ نبيًا"],ar={1:1,2:2,3:50,4:77,5:106,6:128,7:151,8:177,9:187,10:208,11:221,12:235,13:249,14:255,15:262,16:267,17:282,18:293,19:305,20:312,21:322,22:332,23:342,24:350,25:359,26:367,27:377,28:385,29:396,30:404,31:411,32:415,33:418,34:428,35:434,36:440,37:446,38:453,39:458,40:467,41:477,42:483,43:489,44:496,45:499,46:502,47:507,48:511,49:515,50:518,51:520,52:523,53:526,54:528,55:531,56:534,57:537,58:542,59:545,60:549,61:551,62:553,63:554,64:556,65:558,66:560,67:562,68:564,69:566,70:568,71:570,72:572,73:574,74:575,75:577,76:578,77:580,78:582,79:583,80:585,81:586,82:587,83:587,84:589,85:590,86:591,87:591,88:592,89:593,90:594,91:595,92:595,93:596,94:596,95:597,96:597,97:598,98:598,99:599,100:599,101:600,102:600,103:601,104:601,105:601,106:602,107:602,108:602,109:603,110:603,111:603,112:604,113:604,114:604},ay=[{id:1,name:"Muslim World League"},{id:2,name:"ISNA (North America)"},{id:3,name:"Egyptian General Authority"},{id:4,name:"Umm Al-Qura, Makkah"},{id:5,name:"University of Islamic Sciences, Karachi"},{id:0,name:"Shia Ithna-Ansari"},{id:7,name:"Institute of Geophysics, University of Tehran"},{id:8,name:"Kuwait"},{id:9,name:"Qatar"},{id:10,name:"Singapore"},{id:11,name:"Union Organization islamic de France"},{id:12,name:"Diyanet İşleri Başkanlığı, Turkey"},{id:13,name:"Spiritual Administration of Muslims of Russia"},{id:14,name:"Moonsighting Committee Worldwide"},{id:15,name:"Dubai"}],HT=({isOpen:t,onClose:e,remindersEnabled:n,onToggleReminders:o,currentSettings:i,onSaveSettings:l,azkarSettings:r,onAzkarSettingsChange:u,surahs:c,downloadedAudio:d,downloadedTafsir:m,selectedReciter:p,onDeleteAudio:h,onDeleteTafsir:g})=>{const[v,C]=A.useState((i==null?void 0:i.country)||""),[E,x]=A.useState((i==null?void 0:i.region)||""),[y,T]=A.useState((i==null?void 0:i.method)??3),[S,N]=A.useState(""),[R,_]=A.useState(!1),U=A.useMemo(()=>Object.keys(ko).sort(),[]),b=A.useMemo(()=>v&&ko[v]?ko[v].sort():[],[v]);A.useEffect(()=>{t&&(C((i==null?void 0:i.country)||""),x((i==null?void 0:i.region)||""),T((i==null?void 0:i.method)??3),N(""))},[t,i]);const I=q=>{const le=q.target.value;C(le),x("")},J=()=>{if(!v||!E){N("Please complete all location selections.");return}N(""),l({country:v,region:E,method:y})},O=()=>{if(!r.isEnabled){if(typeof Notification>"u"){alert("هذا المتصفح لا يدعم الإشعارات.");return}Notification.permission==="granted"?(u({...r,isEnabled:!0}),_(!0)):Notification.permission!=="denied"?Notification.requestPermission().then(le=>{le==="granted"?(u({...r,isEnabled:!0}),_(!0)):alert("لتمكين الإشعارات، يرجى منح الإذن.")}):alert("تم حظر الإشعارات. يرجى تفعيلها من إعدادات المتصفح.")}else u({...r,isEnabled:!1})},B=c.filter(q=>{const le=p?`${p.identifier}-${q.id}`:"";return d.has(le)||m.has(q.id)});return t?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"fixed inset-0 bg-black/75 flex items-center justify-center z-50 animate-fade-in",onClick:e,children:f.jsxs("div",{className:"bg-card rounded-lg shadow-xl p-6 sm:p-8 w-full max-w-md m-4",onClick:q=>q.stopPropagation(),children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-2xl font-bold text-text-primary",children:"الإعدادات"}),f.jsx("button",{onClick:e,className:"text-text-secondary text-3xl leading-none hover:text-text-primary",children:"×"})]}),S&&f.jsx("p",{className:"text-red-500 text-center mb-4 text-sm",children:S}),f.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2",children:[f.jsxs("div",{className:"p-3 bg-background rounded-lg space-y-3",children:[f.jsx("h3",{className:"font-medium text-text-primary",children:"إعدادات التنبيهات"}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("label",{htmlFor:"reminders-toggle",className:"text-sm text-text-primary",children:"تنبيهات الصلاة"}),f.jsx("button",{role:"switch","aria-checked":n,onClick:o,className:`${n?"bg-primary":"bg-border-color"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none`,children:f.jsx("span",{className:`${n?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("label",{htmlFor:"azkar-toggle",className:"text-sm text-text-primary",children:"تنبيهات الأذكار"}),f.jsx("button",{role:"switch","aria-checked":r.isEnabled,onClick:O,className:`${r.isEnabled?"bg-primary":"bg-border-color"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none`,children:f.jsx("span",{className:`${r.isEnabled?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),r.isEnabled&&f.jsxs("div",{className:"flex items-center justify-between animate-fade-in pl-2",children:[f.jsx("label",{htmlFor:"azkar-frequency",className:"text-xs text-text-secondary",children:"التكرار"}),f.jsxs("select",{id:"azkar-frequency",value:r.frequency,onChange:q=>u({...r,frequency:Number(q.target.value)}),className:"bg-card border border-border-color text-text-primary text-xs rounded-md focus:ring-primary focus:border-primary block p-1",children:[f.jsx("option",{value:1,children:"كل ساعة"}),f.jsx("option",{value:3,children:"كل 3 ساعات"}),f.jsx("option",{value:12,children:"مرتين يوميًا"})]})]})]}),f.jsxs("div",{className:"p-3 bg-background rounded-lg space-y-3",children:[f.jsx("h3",{className:"font-medium text-text-primary",children:"إدارة المحتوى المحمّل"}),f.jsx("div",{className:"max-h-40 overflow-y-auto space-y-2",children:B.length>0?B.map(q=>{const le=p?`${p.identifier}-${q.id}`:"",k=d.has(le),H=m.has(q.id);return f.jsxs("div",{className:"flex items-center justify-between p-2 bg-card rounded",children:[f.jsx("span",{className:"text-sm font-amiri-quran",children:q.name}),f.jsxs("div",{className:"flex items-center gap-3",children:[k&&f.jsxs("div",{className:"flex items-center gap-1 text-xs text-text-secondary",children:[f.jsx("span",{children:"صوت"}),f.jsx("button",{onClick:()=>h(q),className:"text-red-500 hover:text-red-700","aria-label":`Delete audio for ${q.name}`,children:f.jsx(Ua,{className:"w-4 h-4"})})]}),H&&f.jsxs("div",{className:"flex items-center gap-1 text-xs text-text-secondary",children:[f.jsx("span",{children:"تفسير"}),f.jsx("button",{onClick:()=>g(q.id),className:"text-red-500 hover:text-red-700","aria-label":`Delete tafsir for ${q.name}`,children:f.jsx(Ua,{className:"w-4 h-4"})})]})]})]},q.id)}):f.jsx("p",{className:"text-xs text-text-secondary text-center p-4",children:"لا يوجد محتوى محمّل."})})]}),f.jsxs("div",{className:"p-3 bg-background rounded-lg space-y-3",children:[f.jsx("h3",{className:"font-medium text-text-primary",children:"الموقع وطريقة الحساب"}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"settings-country",className:"block text-xs font-medium text-text-secondary",children:"الدولة"}),f.jsxs("select",{id:"settings-country",value:v,onChange:I,className:"mt-1 block w-full bg-card border border-border-color rounded-md py-1 px-2 text-sm focus:outline-none focus:ring-1 focus:ring-primary focus:border-primary",children:[f.jsx("option",{value:"",children:"اختر الدولة"}),U.map(q=>f.jsx("option",{value:q,children:q},q))]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"settings-region",className:"block text-xs font-medium text-text-secondary",children:"المدينة/المنطقة"}),f.jsxs("select",{id:"settings-region",value:E,onChange:q=>x(q.target.value),disabled:!v,className:"mt-1 block w-full bg-card border border-border-color rounded-md py-1 px-2 text-sm focus:outline-none focus:ring-1 focus:ring-primary focus:border-primary",children:[f.jsx("option",{value:"",children:v?"اختر المدينة/المنطقة":"اختر الدولة أولاً"}),b.map(q=>f.jsx("option",{value:q,children:q},q))]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"settings-method",className:"block text-xs font-medium text-text-secondary",children:"طريقة الحساب"}),f.jsx("select",{id:"settings-method",value:y,onChange:q=>T(Number(q.target.value)),className:"mt-1 block w-full bg-card border border-border-color rounded-md py-1 px-2 text-sm focus:outline-none focus:ring-1 focus:ring-primary focus:border-primary",children:ay.map(q=>f.jsx("option",{value:q.id,children:q.name},q.id))})]}),f.jsx("button",{onClick:J,className:"w-full mt-2 bg-primary/20 text-primary font-bold py-1.5 px-4 rounded-md hover:bg-primary/30 focus:outline-none",children:"حفظ الإعدادات"})]})]})]}),f.jsx("div",{className:"mt-8 text-center",children:f.jsx("button",{onClick:e,className:"bg-primary text-white font-bold py-2 px-6 rounded-md hover:opacity-90 focus:outline-none",children:"تم"})})]})}),R&&f.jsx("div",{className:"fixed inset-0 bg-black/75 flex items-center justify-center z-[60]",onClick:()=>_(!1),children:f.jsxs("div",{className:"bg-card rounded-lg shadow-xl p-6 w-full max-w-sm m-4 text-center",onClick:q=>q.stopPropagation(),children:[f.jsx("div",{className:"flex justify-center mb-4",children:f.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:f.jsx(BT,{className:"w-6 h-6 text-primary"})})}),f.jsx("h3",{className:"text-lg font-bold text-text-primary mb-3",children:"تنبيه هام"}),f.jsx("p",{className:"text-sm text-text-secondary mb-5",children:"لضمان وصول إشعارات الأذكار بانتظام، قد تحتاج إلى استثناء التطبيق من إعدادات توفير البطارية على جهازك."}),f.jsx("button",{onClick:()=>_(!1),className:"bg-primary text-white font-bold py-2 px-6 rounded-md hover:opacity-90 w-full",children:"حسنًا، فهمت"})]})})]}):null},vf=6236,zT=()=>new Date().toISOString().split("T")[0],FT=({isOpen:t,onClose:e,challenge:n,onUpdateChallenge:o})=>{const[i,l]=A.useState(30),r=()=>{const g={isActive:!0,isPaused:!1,startDate:new Date().toISOString(),durationDays:i,progress:{},completedAyahs:{}};o(g)},u=()=>{window.confirm("هل أنت متأكد من رغبتك في إعادة تعيين التحدي؟ سيتم حذف كل تقدمك.")&&o(null)},c=()=>{n&&o({...n,isPaused:!n.isPaused})},d=()=>{const g=window.prompt("أدخل المدة الجديدة بالأيام:",String((n==null?void 0:n.durationDays)||30));if(g){const v=parseInt(g,10);!isNaN(v)&&v>0&&n&&o({...n,durationDays:v})}},m=A.useMemo(()=>{if(!n||!n.isActive)return null;const g=Object.values(n.completedAyahs||{}).flat().length,v=vf-g,C=Math.min(100,g/vf*100),E=new Date(n.startDate),y=new Date(zT()).getTime()-E.getTime(),T=Math.max(0,Math.floor(y/(1e3*3600*24))),S=Math.max(0,n.durationDays-T),N=S>0?Math.ceil(v/S):v;return{totalCompleted:g,ayahsRemaining:v,overallProgress:C,daysElapsed:T,daysRemaining:S,requiredPace:N}},[n]);if(!t)return null;const p=()=>f.jsxs("div",{className:"text-center",children:[f.jsx("h3",{className:"text-xl font-bold text-text-primary mb-2",children:"ابدأ تحدي ختم القرآن"}),f.jsx("p",{className:"text-text-secondary mb-6",children:"حدد المدة التي ترغب في إكمال القرآن خلالها."}),f.jsxs("div",{className:"flex items-center justify-center gap-4 mb-8",children:[f.jsx("label",{htmlFor:"duration",className:"font-medium text-text-primary",children:"أريد أن أختم في"}),f.jsx("input",{type:"number",id:"duration",value:i,onChange:g=>l(Math.max(1,parseInt(g.target.value,10)||1)),className:"w-24 text-center bg-background border border-border-color rounded-md p-2 focus:ring-primary focus:border-primary"}),f.jsx("span",{className:"font-medium text-text-primary",children:"يومًا"})]}),f.jsx("button",{onClick:r,className:"w-full bg-primary text-white font-bold py-2 px-4 rounded-md hover:opacity-90",children:"ابدأ التحدي"})]}),h=()=>{if(!n||!m)return null;const{totalCompleted:g,ayahsRemaining:v,overallProgress:C,daysRemaining:E,requiredPace:x}=m;return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[f.jsx("h3",{className:"font-bold text-text-primary",children:"تقدمك في الختمة"}),f.jsxs("span",{className:"text-sm font-mono text-primary",children:[C.toFixed(1),"%"]})]}),f.jsx("div",{className:"w-full bg-border-color rounded-full h-2.5",children:f.jsx("div",{className:"bg-primary h-2.5 rounded-full",style:{width:`${C}%`}})})]}),f.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 text-center",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-2xl font-bold text-primary",children:g}),f.jsx("p",{className:"text-sm text-text-secondary",children:"آية تمت قراءتها"})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-2xl font-bold text-primary",children:E}),f.jsx("p",{className:"text-sm text-text-secondary",children:"يومًا متبقيًا"})]}),f.jsxs("div",{className:"col-span-2 sm:col-span-1",children:[f.jsx("p",{className:"text-2xl font-bold text-primary",children:n.isPaused?"-":x}),f.jsx("p",{className:"text-sm text-text-secondary",children:"آية/يوم للمتابعة"})]})]}),n.isPaused&&f.jsx("div",{className:"p-4 text-center bg-yellow-500/10 text-yellow-700 dark:text-yellow-400 rounded-lg",children:f.jsx("p",{className:"font-semibold",children:"التحدي متوقف مؤقتًا. استأنف للمتابعة."})}),f.jsxs("div",{className:"border-t border-border-color pt-4",children:[f.jsx("h4",{className:"font-semibold text-text-primary mb-3",children:"إدارة التحدي"}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsx("button",{onClick:c,className:"bg-primary/20 text-primary font-semibold py-2 px-4 rounded-md hover:bg-primary/30",children:n.isPaused?"استئناف التحدي":"إيقاف مؤقت"}),f.jsx("button",{onClick:d,className:"bg-background text-text-primary font-semibold py-2 px-4 rounded-md hover:bg-border-color",children:"تعديل المدة"}),f.jsx("button",{onClick:u,className:"col-span-2 bg-red-500/10 text-red-600 font-semibold py-2 px-4 rounded-md hover:bg-red-500/20",children:"إعادة تعيين التحدي"})]})]})]})};return f.jsx("div",{className:"fixed inset-0 bg-black/75 flex items-center justify-center z-50 animate-fade-in",onClick:e,children:f.jsxs("div",{className:"bg-card rounded-lg shadow-xl p-6 sm:p-8 w-full max-w-md m-4",onClick:g=>g.stopPropagation(),children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-2xl font-bold text-text-primary",children:"تحدي ختم القرآن"}),f.jsx("button",{onClick:e,className:"text-text-secondary text-3xl leading-none hover:text-text-primary",children:"×"})]}),n&&n.isActive?h():p()]})})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let JT,OT;function YT(){return{geminiUrl:JT,vertexUrl:OT}}function $T(t,e,n,o){var i,l;if(!(t!=null&&t.baseUrl)){const r=YT();return e?(i=r.vertexUrl)!==null&&i!==void 0?i:n:(l=r.geminiUrl)!==null&&l!==void 0?l:o}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wn{}function P(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(o,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const l=e[i];return l!=null?String(l):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function s(t,e,n){for(let l=0;l<e.length-1;l++){const r=e[l];if(r.endsWith("[]")){const u=r.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${r}`);if(Array.isArray(t[u])){const c=t[u];if(Array.isArray(n))for(let d=0;d<c.length;d++){const m=c[d];s(m,e.slice(l+1),n[d])}else for(const d of c)s(d,e.slice(l+1),n)}return}else if(r.endsWith("[0]")){const u=r.slice(0,-3);u in t||(t[u]=[{}]);const c=t[u];s(c[0],e.slice(l+1),n);return}(!t[r]||typeof t[r]!="object")&&(t[r]={}),t=t[r]}const o=e[e.length-1],i=t[o];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[o]=n}function a(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const o=e[n];if(o.endsWith("[]")){const i=o.slice(0,-2);if(i in t){const l=t[i];return Array.isArray(l)?l.map(r=>a(r,e.slice(n+1))):void 0}else return}else t=t[o]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xc(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KT(t){const e={},n=a(t,["operationName"]);n!=null&&s(e,["operationName"],n);const o=a(t,["resourceName"]);return o!=null&&s(e,["_url","resourceName"],o),e}function QT(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const o=a(t,["metadata"]);o!=null&&s(e,["metadata"],o);const i=a(t,["done"]);i!=null&&s(e,["done"],i);const l=a(t,["error"]);l!=null&&s(e,["error"],l);const r=a(t,["response","generateVideoResponse"]);return r!=null&&s(e,["response"],jT(r)),e}function XT(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const o=a(t,["metadata"]);o!=null&&s(e,["metadata"],o);const i=a(t,["done"]);i!=null&&s(e,["done"],i);const l=a(t,["error"]);l!=null&&s(e,["error"],l);const r=a(t,["response"]);return r!=null&&s(e,["response"],ZT(r)),e}function jT(t){const e={},n=a(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(r=>WT(r))),s(e,["generatedVideos"],l)}const o=a(t,["raiMediaFilteredCount"]);o!=null&&s(e,["raiMediaFilteredCount"],o);const i=a(t,["raiMediaFilteredReasons"]);return i!=null&&s(e,["raiMediaFilteredReasons"],i),e}function ZT(t){const e={},n=a(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(r=>eS(r))),s(e,["generatedVideos"],l)}const o=a(t,["raiMediaFilteredCount"]);o!=null&&s(e,["raiMediaFilteredCount"],o);const i=a(t,["raiMediaFilteredReasons"]);return i!=null&&s(e,["raiMediaFilteredReasons"],i),e}function WT(t){const e={},n=a(t,["_self"]);return n!=null&&s(e,["video"],oS(n)),e}function eS(t){const e={},n=a(t,["_self"]);return n!=null&&s(e,["video"],iS(n)),e}function tS(t){const e={},n=a(t,["operationName"]);return n!=null&&s(e,["_url","operationName"],n),e}function nS(t){const e={},n=a(t,["operationName"]);return n!=null&&s(e,["_url","operationName"],n),e}function oS(t){const e={},n=a(t,["video","uri"]);n!=null&&s(e,["uri"],n);const o=a(t,["video","encodedVideo"]);o!=null&&s(e,["videoBytes"],xc(o));const i=a(t,["encoding"]);return i!=null&&s(e,["mimeType"],i),e}function iS(t){const e={},n=a(t,["gcsUri"]);n!=null&&s(e,["uri"],n);const o=a(t,["bytesBase64Encoded"]);o!=null&&s(e,["videoBytes"],xc(o));const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Tf;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Tf||(Tf={}));var Sf;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Sf||(Sf={}));var Ce;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Ce||(Ce={}));var Cf;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Cf||(Cf={}));var Ef;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Ef||(Ef={}));var Af;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Af||(Af={}));var Nf;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Nf||(Nf={}));var _f;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(_f||(_f={}));var Mf;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Mf||(Mf={}));var bf;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(bf||(bf={}));var wf;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT"})(wf||(wf={}));var Rf;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Rf||(Rf={}));var Df;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Df||(Df={}));var If;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(If||(If={}));var kf;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(kf||(kf={}));var qa;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(qa||(qa={}));var Uf;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Uf||(Uf={}));var su;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(su||(su={}));var qf;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(qf||(qf={}));var Vf;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Vf||(Vf={}));var Lf;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V"})(Lf||(Lf={}));var Pf;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Pf||(Pf={}));var Gf;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Gf||(Gf={}));var Bf;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Bf||(Bf={}));var Hf;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Hf||(Hf={}));var zf;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(zf||(zf={}));var Ff;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Ff||(Ff={}));var Jf;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Jf||(Jf={}));var Of;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Of||(Of={}));var Yf;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Yf||(Yf={}));var $f;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})($f||($f={}));var Kf;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Kf||(Kf={}));var Qf;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Qf||(Qf={}));var Xf;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Xf||(Xf={}));var jf;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(jf||(jf={}));var Zf;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(Zf||(Zf={}));var Wf;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Wf||(Wf={}));var em;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(em||(em={}));var tm;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(tm||(tm={}));var nm;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(nm||(nm={}));var om;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(om||(om={}));var im;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(im||(im={}));var lm;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(lm||(lm={}));var am;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(am||(am={}));var sm;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(sm||(sm={}));var rm;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(rm||(rm={}));var um;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(um||(um={}));var cm;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(cm||(cm={}));var No;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(No||(No={}));class ru{constructor(e){const n={};for(const o of e.headers.entries())n[o[0]]=o[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class gi{get text(){var e,n,o,i,l,r,u,c;if(((i=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",m=!1;const p=[];for(const h of(c=(u=(r=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||r===void 0?void 0:r.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[g,v]of Object.entries(h))g!=="text"&&g!=="thought"&&(v!==null||v!==void 0)&&p.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;m=!0,d+=h.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),m?d:void 0}get data(){var e,n,o,i,l,r,u,c;if(((i=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const m=[];for(const p of(c=(u=(r=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||r===void 0?void 0:r.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[h,g]of Object.entries(p))h!=="inlineData"&&(g!==null||g!==void 0)&&m.push(h);p.inlineData&&typeof p.inlineData.data=="string"&&(d+=atob(p.inlineData.data))}return m.length>0&&console.warn(`there are non-data parts ${m} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,o,i,l,r,u,c;if(((i=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(c=(u=(r=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||r===void 0?void 0:r.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.functionCall).map(m=>m.functionCall).filter(m=>m!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,o,i,l,r,u,c,d;if(((i=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const m=(c=(u=(r=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||r===void 0?void 0:r.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((m==null?void 0:m.length)!==0)return(d=m==null?void 0:m[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,o,i,l,r,u,c,d;if(((i=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const m=(c=(u=(r=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||r===void 0?void 0:r.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((m==null?void 0:m.length)!==0)return(d=m==null?void 0:m[0])===null||d===void 0?void 0:d.output}}class dm{}class fm{}class lS{}class aS{}class sS{}class rS{}class mm{}class pm{}class hm{}class uS{}class Va{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const o=new Va;let i;const l=e;return n?i=XT(l):i=QT(l),Object.assign(o,i),o}}class gm{}class ym{}class xm{}class cS{}class dS{}class fS{}class vm{}class mS{get text(){var e,n,o;let i="",l=!1;const r=[];for(const u of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[c,d]of Object.entries(u))c!=="text"&&c!=="thought"&&d!==null&&r.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;l=!0,i+=u.text}}return r.length>0&&console.warn(`there are non-text parts ${r} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?i:void 0}get data(){var e,n,o;let i="";const l=[];for(const r of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[u,c]of Object.entries(r))u!=="inlineData"&&c!==null&&l.push(u);r.inlineData&&typeof r.inlineData.data=="string"&&(i+=atob(r.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class pS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ne(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function sy(t,e){const n=ne(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function ry(t){return Array.isArray(t)?t.map(e=>La(e)):[La(t)]}function La(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function uy(t){const e=La(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function cy(t){const e=La(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Tm(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function dy(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Tm(e)):[Tm(t)]}function uu(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Sm(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Cm(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Be(t){if(t==null)throw new Error("ContentUnion is required");return uu(t)?t:{role:"user",parts:dy(t)}}function vc(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const o=Be(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(t.isVertexAI()){const n=Be(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Be(n)):[Be(e)]}function xt(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Sm(t)||Cm(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Be(t)]}const e=[],n=[],o=uu(t[0]);for(const i of t){const l=uu(i);if(l!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)e.push(i);else{if(Sm(i)||Cm(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return o||e.push({role:"user",parts:dy(n)}),e}function hS(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(o=>o!=="null");if(n.length===1)e.type=Object.values(Ce).includes(n[0].toUpperCase())?n[0].toUpperCase():Ce.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of n)e.anyOf.push({type:Object.values(Ce).includes(o.toUpperCase())?o.toUpperCase():Ce.TYPE_UNSPECIFIED})}}function Uo(t){const e={},n=["items"],o=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=t.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(e.nullable=!0,t=l[1]):l[1].type==="null"&&(e.nullable=!0,t=l[0])),t.type instanceof Array&&hS(t.type,e);for(const[r,u]of Object.entries(t))if(u!=null)if(r=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(Ce).includes(u.toUpperCase())?u.toUpperCase():Ce.TYPE_UNSPECIFIED}else if(n.includes(r))e[r]=Uo(u);else if(o.includes(r)){const c=[];for(const d of u){if(d.type=="null"){e.nullable=!0;continue}c.push(Uo(d))}e[r]=c}else if(i.includes(r)){const c={};for(const[d,m]of Object.entries(u))c[d]=Uo(m);e[r]=c}else{if(r==="additionalProperties")continue;e[r]=u}return e}function Tc(t){return Uo(t)}function Sc(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Cc(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function oi(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Uo(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Uo(e.response));return t}function ii(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function gS(t,e,n,o=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===o;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Wt(t,e){if(typeof e!="string")throw new Error("name must be a string");return gS(t,e,"cachedContents")}function fy(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function eo(t){return xc(t)}function yS(t){return t!=null&&typeof t=="object"&&"name"in t}function xS(t){return t!=null&&typeof t=="object"&&"video"in t}function vS(t){return t!=null&&typeof t=="object"&&"uri"in t}function my(t){var e;let n;if(yS(t)&&(n=t.name),!(vS(t)&&(n=t.uri,n===void 0))&&!(xS(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function py(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function hy(t){for(const e of["models","tunedModels","publisherModels"])if(TS(t,e))return t[e];return[]}function TS(t,e){return t!==null&&typeof t=="object"&&e in t}function SS(t,e={}){const n=t,o={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(o.responseJsonSchema=n.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function CS(t,e={}){const n=[],o=new Set;for(const i of t){const l=i.name;if(o.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);o.add(l);const r=SS(i,e);r.functionDeclarations&&n.push(...r.functionDeclarations)}return{functionDeclarations:n}}function gy(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const o=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function ES(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function yy(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let l=!1;for(const r of i){if(typeof r!="object"||r===null)continue;const c=r.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){l=!0;break}}return l&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function li(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function xy(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AS(t){const e={},n=a(t,["responsesFile"]);n!=null&&s(e,["fileName"],n);const o=a(t,["inlinedResponses","inlinedResponses"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(r=>fC(r))),s(e,["inlinedResponses"],l)}const i=a(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(r=>cC(r))),s(e,["inlinedEmbedContentResponses"],l)}return e}function NS(t){const e={},n=a(t,["predictionsFormat"]);n!=null&&s(e,["format"],n);const o=a(t,["gcsDestination","outputUriPrefix"]);o!=null&&s(e,["gcsUri"],o);const i=a(t,["bigqueryDestination","outputUri"]);return i!=null&&s(e,["bigqueryUri"],i),e}function _S(t){const e={},n=a(t,["format"]);n!=null&&s(e,["predictionsFormat"],n);const o=a(t,["gcsUri"]);o!=null&&s(e,["gcsDestination","outputUriPrefix"],o);const i=a(t,["bigqueryUri"]);if(i!=null&&s(e,["bigqueryDestination","outputUri"],i),a(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(a(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function fo(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const o=a(t,["metadata","displayName"]);o!=null&&s(e,["displayName"],o);const i=a(t,["metadata","state"]);i!=null&&s(e,["state"],xy(i));const l=a(t,["metadata","createTime"]);l!=null&&s(e,["createTime"],l);const r=a(t,["metadata","endTime"]);r!=null&&s(e,["endTime"],r);const u=a(t,["metadata","updateTime"]);u!=null&&s(e,["updateTime"],u);const c=a(t,["metadata","model"]);c!=null&&s(e,["model"],c);const d=a(t,["metadata","output"]);return d!=null&&s(e,["dest"],AS(yy(d))),e}function cu(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const o=a(t,["displayName"]);o!=null&&s(e,["displayName"],o);const i=a(t,["state"]);i!=null&&s(e,["state"],xy(i));const l=a(t,["error"]);l!=null&&s(e,["error"],Ty(l));const r=a(t,["createTime"]);r!=null&&s(e,["createTime"],r);const u=a(t,["startTime"]);u!=null&&s(e,["startTime"],u);const c=a(t,["endTime"]);c!=null&&s(e,["endTime"],c);const d=a(t,["updateTime"]);d!=null&&s(e,["updateTime"],d);const m=a(t,["model"]);m!=null&&s(e,["model"],m);const p=a(t,["inputConfig"]);p!=null&&s(e,["src"],MS(p));const h=a(t,["outputConfig"]);return h!=null&&s(e,["dest"],NS(yy(h))),e}function MS(t){const e={},n=a(t,["instancesFormat"]);n!=null&&s(e,["format"],n);const o=a(t,["gcsSource","uris"]);o!=null&&s(e,["gcsUri"],o);const i=a(t,["bigquerySource","inputUri"]);return i!=null&&s(e,["bigqueryUri"],i),e}function bS(t,e){const n={};if(a(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=a(e,["fileName"]);o!=null&&s(n,["fileName"],o);const i=a(e,["inlinedRequests"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(r=>dC(t,r))),s(n,["requests","requests"],l)}return n}function wS(t){const e={},n=a(t,["format"]);n!=null&&s(e,["instancesFormat"],n);const o=a(t,["gcsUri"]);o!=null&&s(e,["gcsSource","uris"],o);const i=a(t,["bigqueryUri"]);if(i!=null&&s(e,["bigquerySource","inputUri"],i),a(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function RS(t){const e={},n=a(t,["data"]);n!=null&&s(e,["data"],n);const o=a(t,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function DS(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&s(e,["data"],n);const o=a(t,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function IS(t,e){const n={},o=a(e,["name"]);return o!=null&&s(n,["_url","name"],li(t,o)),n}function kS(t,e){const n={},o=a(e,["name"]);return o!=null&&s(n,["_url","name"],li(t,o)),n}function US(t){const e={},n=a(t,["content"]);n!=null&&s(e,["content"],PS(n));const o=a(t,["citationMetadata"]);o!=null&&s(e,["citationMetadata"],qS(o));const i=a(t,["tokenCount"]);i!=null&&s(e,["tokenCount"],i);const l=a(t,["finishReason"]);l!=null&&s(e,["finishReason"],l);const r=a(t,["urlContextMetadata"]);r!=null&&s(e,["urlContextMetadata"],UC(r));const u=a(t,["avgLogprobs"]);u!=null&&s(e,["avgLogprobs"],u);const c=a(t,["groundingMetadata"]);c!=null&&s(e,["groundingMetadata"],c);const d=a(t,["index"]);d!=null&&s(e,["index"],d);const m=a(t,["logprobsResult"]);m!=null&&s(e,["logprobsResult"],m);const p=a(t,["safetyRatings"]);return p!=null&&s(e,["safetyRatings"],p),e}function qS(t){const e={},n=a(t,["citationSources"]);return n!=null&&s(e,["citations"],n),e}function VS(t){const e={},n=a(t,["environment"]);n!=null&&s(e,["environment"],n);const o=a(t,["excludedPredefinedFunctions"]);return o!=null&&s(e,["excludedPredefinedFunctions"],o),e}function LS(t){const e={},n=a(t,["values"]);return n!=null&&s(e,["values"],n),e}function PS(t){const e={},n=a(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>CC(l))),s(e,["parts"],i)}const o=a(t,["role"]);return o!=null&&s(e,["role"],o),e}function vy(t){const e={},n=a(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>EC(l))),s(e,["parts"],i)}const o=a(t,["role"]);return o!=null&&s(e,["role"],o),e}function GS(t,e){const n={},o=a(t,["displayName"]);if(e!==void 0&&o!=null&&s(e,["batch","displayName"],o),a(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function BS(t,e){const n={},o=a(t,["displayName"]);e!==void 0&&o!=null&&s(e,["displayName"],o);const i=a(t,["dest"]);return e!==void 0&&i!=null&&s(e,["outputConfig"],_S(ES(i))),n}function sr(t,e){const n={},o=a(e,["model"]);o!=null&&s(n,["_url","model"],ne(t,o));const i=a(e,["src"]);i!=null&&s(n,["batch","inputConfig"],bS(t,gy(t,i)));const l=a(e,["config"]);return l!=null&&GS(l,n),n}function HS(t,e){const n={},o=a(e,["model"]);o!=null&&s(n,["model"],ne(t,o));const i=a(e,["src"]);i!=null&&s(n,["inputConfig"],wS(gy(t,i)));const l=a(e,["config"]);return l!=null&&BS(l,n),n}function zS(t,e){const n={},o=a(t,["displayName"]);return e!==void 0&&o!=null&&s(e,["batch","displayName"],o),n}function rr(t,e){const n={},o=a(e,["model"]);o!=null&&s(n,["_url","model"],ne(t,o));const i=a(e,["src"]);i!=null&&s(n,["batch","inputConfig"],XS(t,i));const l=a(e,["config"]);return l!=null&&zS(l,n),n}function FS(t,e){const n={},o=a(e,["name"]);return o!=null&&s(n,["_url","name"],li(t,o)),n}function JS(t,e){const n={},o=a(e,["name"]);return o!=null&&s(n,["_url","name"],li(t,o)),n}function OS(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const o=a(t,["name"]);o!=null&&s(e,["name"],o);const i=a(t,["done"]);i!=null&&s(e,["done"],i);const l=a(t,["error"]);return l!=null&&s(e,["error"],Ec(l)),e}function YS(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const o=a(t,["name"]);o!=null&&s(e,["name"],o);const i=a(t,["done"]);i!=null&&s(e,["done"],i);const l=a(t,["error"]);return l!=null&&s(e,["error"],Ty(l)),e}function $S(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const o=a(t,["dynamicThreshold"]);return o!=null&&s(e,["dynamicThreshold"],o),e}function KS(t,e){const n={},o=a(e,["contents"]);o!=null&&s(n,["requests[]","request","content"],vc(t,o));const i=a(e,["config"]);return i!=null&&s(n,["config"],QS(i,n)),n}function QS(t,e){const n={},o=a(t,["taskType"]);e!==void 0&&o!=null&&s(e,["requests[]","taskType"],o);const i=a(t,["title"]);e!==void 0&&i!=null&&s(e,["requests[]","title"],i);const l=a(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&s(e,["requests[]","outputDimensionality"],l),a(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function XS(t,e){const n={},o=a(e,["fileName"]);o!=null&&s(n,["file_name"],o);const i=a(e,["inlinedRequests"]);return i!=null&&s(n,["requests"],KS(t,i)),n}function jS(t){const e={},n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const o=a(t,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function ZS(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const o=a(t,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function WS(t){const e={},n=a(t,["id"]);n!=null&&s(e,["id"],n);const o=a(t,["args"]);o!=null&&s(e,["args"],o);const i=a(t,["name"]);return i!=null&&s(e,["name"],i),e}function eC(t){const e={},n=a(t,["id"]);n!=null&&s(e,["id"],n);const o=a(t,["args"]);o!=null&&s(e,["args"],o);const i=a(t,["name"]);return i!=null&&s(e,["name"],i),e}function tC(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const o=a(t,["allowedFunctionNames"]);return o!=null&&s(e,["allowedFunctionNames"],o),e}function nC(t){const e={},n=a(t,["behavior"]);n!=null&&s(e,["behavior"],n);const o=a(t,["description"]);o!=null&&s(e,["description"],o);const i=a(t,["name"]);i!=null&&s(e,["name"],i);const l=a(t,["parameters"]);l!=null&&s(e,["parameters"],l);const r=a(t,["parametersJsonSchema"]);r!=null&&s(e,["parametersJsonSchema"],r);const u=a(t,["response"]);u!=null&&s(e,["response"],u);const c=a(t,["responseJsonSchema"]);return c!=null&&s(e,["responseJsonSchema"],c),e}function oC(t,e,n){const o={},i=a(e,["systemInstruction"]);n!==void 0&&i!=null&&s(n,["systemInstruction"],vy(Be(i)));const l=a(e,["temperature"]);l!=null&&s(o,["temperature"],l);const r=a(e,["topP"]);r!=null&&s(o,["topP"],r);const u=a(e,["topK"]);u!=null&&s(o,["topK"],u);const c=a(e,["candidateCount"]);c!=null&&s(o,["candidateCount"],c);const d=a(e,["maxOutputTokens"]);d!=null&&s(o,["maxOutputTokens"],d);const m=a(e,["stopSequences"]);m!=null&&s(o,["stopSequences"],m);const p=a(e,["responseLogprobs"]);p!=null&&s(o,["responseLogprobs"],p);const h=a(e,["logprobs"]);h!=null&&s(o,["logprobs"],h);const g=a(e,["presencePenalty"]);g!=null&&s(o,["presencePenalty"],g);const v=a(e,["frequencyPenalty"]);v!=null&&s(o,["frequencyPenalty"],v);const C=a(e,["seed"]);C!=null&&s(o,["seed"],C);const E=a(e,["responseMimeType"]);E!=null&&s(o,["responseMimeType"],E);const x=a(e,["responseSchema"]);x!=null&&s(o,["responseSchema"],MC(Tc(x)));const y=a(e,["responseJsonSchema"]);if(y!=null&&s(o,["responseJsonSchema"],y),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=a(e,["safetySettings"]);if(n!==void 0&&T!=null){let O=T;Array.isArray(O)&&(O=O.map(B=>_C(B))),s(n,["safetySettings"],O)}const S=a(e,["tools"]);if(n!==void 0&&S!=null){let O=ii(S);Array.isArray(O)&&(O=O.map(B=>kC(oi(B)))),s(n,["tools"],O)}const N=a(e,["toolConfig"]);if(n!==void 0&&N!=null&&s(n,["toolConfig"],IC(N)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=a(e,["cachedContent"]);n!==void 0&&R!=null&&s(n,["cachedContent"],Wt(t,R));const _=a(e,["responseModalities"]);_!=null&&s(o,["responseModalities"],_);const U=a(e,["mediaResolution"]);U!=null&&s(o,["mediaResolution"],U);const b=a(e,["speechConfig"]);if(b!=null&&s(o,["speechConfig"],RC(Sc(b))),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const I=a(e,["thinkingConfig"]);I!=null&&s(o,["thinkingConfig"],DC(I));const J=a(e,["imageConfig"]);return J!=null&&s(o,["imageConfig"],uC(J)),o}function iC(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const o=a(t,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>US(d))),s(e,["candidates"],c)}const i=a(t,["modelVersion"]);i!=null&&s(e,["modelVersion"],i);const l=a(t,["promptFeedback"]);l!=null&&s(e,["promptFeedback"],l);const r=a(t,["responseId"]);r!=null&&s(e,["responseId"],r);const u=a(t,["usageMetadata"]);return u!=null&&s(e,["usageMetadata"],u),e}function lC(t,e){const n={},o=a(e,["name"]);return o!=null&&s(n,["_url","name"],li(t,o)),n}function aC(t,e){const n={},o=a(e,["name"]);return o!=null&&s(n,["_url","name"],li(t,o)),n}function sC(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],$S(n)),e}function rC(t){const e={},n=a(t,["timeRangeFilter"]);if(n!=null&&s(e,["timeRangeFilter"],mC(n)),a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function uC(t){const e={},n=a(t,["aspectRatio"]);return n!=null&&s(e,["aspectRatio"],n),e}function cC(t){const e={},n=a(t,["response"]);n!=null&&s(e,["response"],bC(n));const o=a(t,["error"]);return o!=null&&s(e,["error"],Ec(o)),e}function dC(t,e){const n={},o=a(e,["model"]);o!=null&&s(n,["request","model"],ne(t,o));const i=a(e,["contents"]);if(i!=null){let r=xt(i);Array.isArray(r)&&(r=r.map(u=>vy(u))),s(n,["request","contents"],r)}const l=a(e,["config"]);return l!=null&&s(n,["request","generationConfig"],oC(t,l,n)),n}function fC(t){const e={},n=a(t,["response"]);n!=null&&s(e,["response"],iC(n));const o=a(t,["error"]);return o!=null&&s(e,["error"],Ec(o)),e}function mC(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const o=a(t,["endTime"]);return o!=null&&s(e,["endTime"],o),e}function Ec(t){const e={},n=a(t,["details"]);n!=null&&s(e,["details"],n);const o=a(t,["code"]);o!=null&&s(e,["code"],o);const i=a(t,["message"]);return i!=null&&s(e,["message"],i),e}function Ty(t){const e={},n=a(t,["details"]);n!=null&&s(e,["details"],n);const o=a(t,["code"]);o!=null&&s(e,["code"],o);const i=a(t,["message"]);return i!=null&&s(e,["message"],i),e}function pC(t){const e={},n=a(t,["latitude"]);n!=null&&s(e,["latitude"],n);const o=a(t,["longitude"]);return o!=null&&s(e,["longitude"],o),e}function hC(t,e){const n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&s(e,["_query","pageSize"],o);const i=a(t,["pageToken"]);if(e!==void 0&&i!=null&&s(e,["_query","pageToken"],i),a(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function gC(t,e){const n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&s(e,["_query","pageSize"],o);const i=a(t,["pageToken"]);e!==void 0&&i!=null&&s(e,["_query","pageToken"],i);const l=a(t,["filter"]);return e!==void 0&&l!=null&&s(e,["_query","filter"],l),n}function yC(t){const e={},n=a(t,["config"]);return n!=null&&hC(n,e),e}function xC(t){const e={},n=a(t,["config"]);return n!=null&&gC(n,e),e}function vC(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const o=a(t,["nextPageToken"]);o!=null&&s(e,["nextPageToken"],o);const i=a(t,["operations"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(r=>fo(r))),s(e,["batchJobs"],l)}return e}function TC(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const o=a(t,["nextPageToken"]);o!=null&&s(e,["nextPageToken"],o);const i=a(t,["batchPredictionJobs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(r=>cu(r))),s(e,["batchJobs"],l)}return e}function SC(t){const e={},n=a(t,["speakerVoiceConfigs"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>wC(i))),s(e,["speakerVoiceConfigs"],o)}return e}function CC(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],LC(n));const o=a(t,["thought"]);o!=null&&s(e,["thought"],o);const i=a(t,["inlineData"]);i!=null&&s(e,["inlineData"],RS(i));const l=a(t,["fileData"]);l!=null&&s(e,["fileData"],jS(l));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["functionCall"]);u!=null&&s(e,["functionCall"],WS(u));const c=a(t,["codeExecutionResult"]);c!=null&&s(e,["codeExecutionResult"],c);const d=a(t,["executableCode"]);d!=null&&s(e,["executableCode"],d);const m=a(t,["functionResponse"]);m!=null&&s(e,["functionResponse"],m);const p=a(t,["text"]);return p!=null&&s(e,["text"],p),e}function EC(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],PC(n));const o=a(t,["thought"]);o!=null&&s(e,["thought"],o);const i=a(t,["inlineData"]);i!=null&&s(e,["inlineData"],DS(i));const l=a(t,["fileData"]);l!=null&&s(e,["fileData"],ZS(l));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["functionCall"]);u!=null&&s(e,["functionCall"],eC(u));const c=a(t,["codeExecutionResult"]);c!=null&&s(e,["codeExecutionResult"],c);const d=a(t,["executableCode"]);d!=null&&s(e,["executableCode"],d);const m=a(t,["functionResponse"]);m!=null&&s(e,["functionResponse"],m);const p=a(t,["text"]);return p!=null&&s(e,["text"],p),e}function AC(t){const e={},n=a(t,["voiceName"]);return n!=null&&s(e,["voiceName"],n),e}function NC(t){const e={},n=a(t,["latLng"]);n!=null&&s(e,["latLng"],pC(n));const o=a(t,["languageCode"]);return o!=null&&s(e,["languageCode"],o),e}function _C(t){const e={};if(a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=a(t,["category"]);n!=null&&s(e,["category"],n);const o=a(t,["threshold"]);return o!=null&&s(e,["threshold"],o),e}function MC(t){const e={},n=a(t,["anyOf"]);n!=null&&s(e,["anyOf"],n);const o=a(t,["default"]);o!=null&&s(e,["default"],o);const i=a(t,["description"]);i!=null&&s(e,["description"],i);const l=a(t,["enum"]);l!=null&&s(e,["enum"],l);const r=a(t,["example"]);r!=null&&s(e,["example"],r);const u=a(t,["format"]);u!=null&&s(e,["format"],u);const c=a(t,["items"]);c!=null&&s(e,["items"],c);const d=a(t,["maxItems"]);d!=null&&s(e,["maxItems"],d);const m=a(t,["maxLength"]);m!=null&&s(e,["maxLength"],m);const p=a(t,["maxProperties"]);p!=null&&s(e,["maxProperties"],p);const h=a(t,["maximum"]);h!=null&&s(e,["maximum"],h);const g=a(t,["minItems"]);g!=null&&s(e,["minItems"],g);const v=a(t,["minLength"]);v!=null&&s(e,["minLength"],v);const C=a(t,["minProperties"]);C!=null&&s(e,["minProperties"],C);const E=a(t,["minimum"]);E!=null&&s(e,["minimum"],E);const x=a(t,["nullable"]);x!=null&&s(e,["nullable"],x);const y=a(t,["pattern"]);y!=null&&s(e,["pattern"],y);const T=a(t,["properties"]);T!=null&&s(e,["properties"],T);const S=a(t,["propertyOrdering"]);S!=null&&s(e,["propertyOrdering"],S);const N=a(t,["required"]);N!=null&&s(e,["required"],N);const R=a(t,["title"]);R!=null&&s(e,["title"],R);const _=a(t,["type"]);return _!=null&&s(e,["type"],_),e}function bC(t){const e={},n=a(t,["embedding"]);n!=null&&s(e,["embedding"],LS(n));const o=a(t,["tokenCount"]);return o!=null&&s(e,["tokenCount"],o),e}function wC(t){const e={},n=a(t,["speaker"]);n!=null&&s(e,["speaker"],n);const o=a(t,["voiceConfig"]);return o!=null&&s(e,["voiceConfig"],Sy(o)),e}function RC(t){const e={},n=a(t,["voiceConfig"]);n!=null&&s(e,["voiceConfig"],Sy(n));const o=a(t,["multiSpeakerVoiceConfig"]);o!=null&&s(e,["multiSpeakerVoiceConfig"],SC(o));const i=a(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function DC(t){const e={},n=a(t,["includeThoughts"]);n!=null&&s(e,["includeThoughts"],n);const o=a(t,["thinkingBudget"]);return o!=null&&s(e,["thinkingBudget"],o),e}function IC(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&s(e,["functionCallingConfig"],tC(n));const o=a(t,["retrievalConfig"]);return o!=null&&s(e,["retrievalConfig"],NC(o)),e}function kC(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>nC(d))),s(e,["functionDeclarations"],c)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=a(t,["googleSearch"]);o!=null&&s(e,["googleSearch"],rC(o));const i=a(t,["googleSearchRetrieval"]);if(i!=null&&s(e,["googleSearchRetrieval"],sC(i)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&s(e,["urlContext"],qC());const r=a(t,["computerUse"]);r!=null&&s(e,["computerUse"],VS(r));const u=a(t,["codeExecution"]);return u!=null&&s(e,["codeExecution"],u),e}function UC(t){const e={},n=a(t,["urlMetadata"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>VC(i))),s(e,["urlMetadata"],o)}return e}function qC(){return{}}function VC(t){const e={},n=a(t,["retrievedUrl"]);n!=null&&s(e,["retrievedUrl"],n);const o=a(t,["urlRetrievalStatus"]);return o!=null&&s(e,["urlRetrievalStatus"],o),e}function LC(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const o=a(t,["endOffset"]);o!=null&&s(e,["endOffset"],o);const i=a(t,["startOffset"]);return i!=null&&s(e,["startOffset"],i),e}function PC(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const o=a(t,["endOffset"]);o!=null&&s(e,["endOffset"],o);const i=a(t,["startOffset"]);return i!=null&&s(e,["startOffset"],i),e}function Sy(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&s(e,["prebuiltVoiceConfig"],AC(n)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var $n;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})($n||($n={}));class cl{constructor(e,n,o,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,o,i)}init(e,n,o){var i,l;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let r={config:{}};!o||Object.keys(o).length===0?r={config:{}}:typeof o=="object"?r=Object.assign({},o):r=o,r.config&&(r.config.pageToken=n.nextPageToken),this.paramsInternal=r,this.pageInternalSize=(l=(i=r.config)===null||i===void 0?void 0:i.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GC extends Wn{constructor(e){super(),this.apiClient=e,this.create=async n=>{var o,i;if(this.apiClient.isVertexAI())return n.config=this.formatDestination(n.src,n.config),this.createInternal(n);const l=n.src;if(!(Array.isArray(n.src)||l.inlinedRequests!==void 0))return this.createInternal(n);const u=this.createInlinedGenerateContentRequest(n),c=u.path,d=u.body,m=sr(this.apiClient,n)._query||{};return this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()).then(h=>fo(h))},this.createEmbeddings=async n=>{var o,i;if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");if(!(n.src.inlinedRequests!==void 0))return this.createEmbeddingsInternal(n);const u=this.createInlinedEmbedContentRequest(n),c=u.path,d=u.body,m=rr(this.apiClient,n)._query||{};return this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()).then(h=>fo(h))},this.list=async(n={})=>new cl($n.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=sr(this.apiClient,e),o=n._url,i=P("{model}:batchGenerateContent",o),u=n.batch.inputConfig.requests,c=u.requests,d=[];for(const m of c){const p=Object.assign({},m);if(p.systemInstruction){const h=p.systemInstruction;delete p.systemInstruction;const g=p.request;g.systemInstruction=h,p.request=g}d.push(p)}return u.requests=d,delete n.config,delete n._url,delete n._query,{path:i,body:n}}createInlinedEmbedContentRequest(e){const n=rr(this.apiClient,e),o=n._url,i=P("{model}:asyncBatchEmbedContent",o),u=n.batch.inputConfig.requests,c=u.requests,d=[];delete u.config;for(const m of c){const p=Object.assign({},m),h=p.request;for(const g in p)g!=="request"&&(h[g]=p[g],delete p[g]);d.push(p)}return u.requests=d,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const o=n?Object.assign({},n):{},i=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${i}`),o.dest===void 0){const l=this.getGcsUri(e),r=this.getBigqueryUri(e);if(l)l.endsWith(".jsonl")?o.dest=`${l.slice(0,-6)}/dest`:o.dest=`${l}_dest_${i}`;else if(r)o.dest=`${r}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var n,o,i,l;let r,u="",c={};if(this.apiClient.isVertexAI()){const d=HS(this.apiClient,e);return u=P("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),r.then(m=>cu(m))}else{const d=sr(this.apiClient,e);return u=P("{model}:batchGenerateContent",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),r.then(m=>fo(m))}}async createEmbeddingsInternal(e){var n,o;let i,l="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=rr(this.apiClient,e);return l=P("{model}:asyncBatchEmbedContent",u._url),r=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:l,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>fo(c))}}async get(e){var n,o,i,l;let r,u="",c={};if(this.apiClient.isVertexAI()){const d=aC(this.apiClient,e);return u=P("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),r.then(m=>cu(m))}else{const d=lC(this.apiClient,e);return u=P("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),r.then(m=>fo(m))}}async cancel(e){var n,o,i,l;let r="",u={};if(this.apiClient.isVertexAI()){const c=kS(this.apiClient,e);r=P("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:r,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const c=IS(this.apiClient,e);r=P("batches/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:r,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var n,o,i,l;let r,u="",c={};if(this.apiClient.isVertexAI()){const d=xC(e);return u=P("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),r.then(m=>{const p=TC(m),h=new vm;return Object.assign(h,p),h})}else{const d=yC(e);return u=P("batches",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),r.then(m=>{const p=vC(m),h=new vm;return Object.assign(h,p),h})}}async delete(e){var n,o,i,l;let r,u="",c={};if(this.apiClient.isVertexAI()){const d=JS(this.apiClient,e);return u=P("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),r.then(m=>YS(m))}else{const d=FS(this.apiClient,e);return u=P("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),r.then(m=>OS(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BC(t){const e={},n=a(t,["apiKeyString"]);return n!=null&&s(e,["apiKeyString"],n),e}function HC(t){const e={},n=a(t,["apiKeyConfig"]);n!=null&&s(e,["apiKeyConfig"],BC(n));const o=a(t,["authType"]);o!=null&&s(e,["authType"],o);const i=a(t,["googleServiceAccountConfig"]);i!=null&&s(e,["googleServiceAccountConfig"],i);const l=a(t,["httpBasicAuthConfig"]);l!=null&&s(e,["httpBasicAuthConfig"],l);const r=a(t,["oauthConfig"]);r!=null&&s(e,["oauthConfig"],r);const u=a(t,["oidcConfig"]);return u!=null&&s(e,["oidcConfig"],u),e}function zC(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&s(e,["data"],n);const o=a(t,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function FC(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const o=a(t,["data"]);o!=null&&s(e,["data"],o);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function na(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const o=a(t,["displayName"]);o!=null&&s(e,["displayName"],o);const i=a(t,["model"]);i!=null&&s(e,["model"],i);const l=a(t,["createTime"]);l!=null&&s(e,["createTime"],l);const r=a(t,["updateTime"]);r!=null&&s(e,["updateTime"],r);const u=a(t,["expireTime"]);u!=null&&s(e,["expireTime"],u);const c=a(t,["usageMetadata"]);return c!=null&&s(e,["usageMetadata"],c),e}function oa(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const o=a(t,["displayName"]);o!=null&&s(e,["displayName"],o);const i=a(t,["model"]);i!=null&&s(e,["model"],i);const l=a(t,["createTime"]);l!=null&&s(e,["createTime"],l);const r=a(t,["updateTime"]);r!=null&&s(e,["updateTime"],r);const u=a(t,["expireTime"]);u!=null&&s(e,["expireTime"],u);const c=a(t,["usageMetadata"]);return c!=null&&s(e,["usageMetadata"],c),e}function JC(t){const e={},n=a(t,["environment"]);n!=null&&s(e,["environment"],n);const o=a(t,["excludedPredefinedFunctions"]);return o!=null&&s(e,["excludedPredefinedFunctions"],o),e}function OC(t){const e={},n=a(t,["environment"]);n!=null&&s(e,["environment"],n);const o=a(t,["excludedPredefinedFunctions"]);return o!=null&&s(e,["excludedPredefinedFunctions"],o),e}function Em(t){const e={},n=a(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>bE(l))),s(e,["parts"],i)}const o=a(t,["role"]);return o!=null&&s(e,["role"],o),e}function Am(t){const e={},n=a(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>wE(l))),s(e,["parts"],i)}const o=a(t,["role"]);return o!=null&&s(e,["role"],o),e}function YC(t,e){const n={},o=a(t,["ttl"]);e!==void 0&&o!=null&&s(e,["ttl"],o);const i=a(t,["expireTime"]);e!==void 0&&i!=null&&s(e,["expireTime"],i);const l=a(t,["displayName"]);e!==void 0&&l!=null&&s(e,["displayName"],l);const r=a(t,["contents"]);if(e!==void 0&&r!=null){let m=xt(r);Array.isArray(m)&&(m=m.map(p=>Em(p))),s(e,["contents"],m)}const u=a(t,["systemInstruction"]);e!==void 0&&u!=null&&s(e,["systemInstruction"],Em(Be(u)));const c=a(t,["tools"]);if(e!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(p=>UE(p))),s(e,["tools"],m)}const d=a(t,["toolConfig"]);if(e!==void 0&&d!=null&&s(e,["toolConfig"],IE(d)),a(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function $C(t,e){const n={},o=a(t,["ttl"]);e!==void 0&&o!=null&&s(e,["ttl"],o);const i=a(t,["expireTime"]);e!==void 0&&i!=null&&s(e,["expireTime"],i);const l=a(t,["displayName"]);e!==void 0&&l!=null&&s(e,["displayName"],l);const r=a(t,["contents"]);if(e!==void 0&&r!=null){let p=xt(r);Array.isArray(p)&&(p=p.map(h=>Am(h))),s(e,["contents"],p)}const u=a(t,["systemInstruction"]);e!==void 0&&u!=null&&s(e,["systemInstruction"],Am(Be(u)));const c=a(t,["tools"]);if(e!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(h=>qE(h))),s(e,["tools"],p)}const d=a(t,["toolConfig"]);e!==void 0&&d!=null&&s(e,["toolConfig"],kE(d));const m=a(t,["kmsKeyName"]);return e!==void 0&&m!=null&&s(e,["encryption_spec","kmsKeyName"],m),n}function KC(t,e){const n={},o=a(e,["model"]);o!=null&&s(n,["model"],sy(t,o));const i=a(e,["config"]);return i!=null&&YC(i,n),n}function QC(t,e){const n={},o=a(e,["model"]);o!=null&&s(n,["model"],sy(t,o));const i=a(e,["config"]);return i!=null&&$C(i,n),n}function XC(t,e){const n={},o=a(e,["name"]);return o!=null&&s(n,["_url","name"],Wt(t,o)),n}function jC(t,e){const n={},o=a(e,["name"]);return o!=null&&s(n,["_url","name"],Wt(t,o)),n}function ZC(t){const e={},n=a(t,["sdkHttpResponse"]);return n!=null&&s(e,["sdkHttpResponse"],n),e}function WC(t){const e={},n=a(t,["sdkHttpResponse"]);return n!=null&&s(e,["sdkHttpResponse"],n),e}function eE(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const o=a(t,["dynamicThreshold"]);return o!=null&&s(e,["dynamicThreshold"],o),e}function tE(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const o=a(t,["dynamicThreshold"]);return o!=null&&s(e,["dynamicThreshold"],o),e}function nE(t){const e={},n=a(t,["excludeDomains"]);return n!=null&&s(e,["excludeDomains"],n),e}function oE(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const o=a(t,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function iE(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const o=a(t,["fileUri"]);o!=null&&s(e,["fileUri"],o);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function lE(t){const e={},n=a(t,["id"]);n!=null&&s(e,["id"],n);const o=a(t,["args"]);o!=null&&s(e,["args"],o);const i=a(t,["name"]);return i!=null&&s(e,["name"],i),e}function aE(t){const e={},n=a(t,["id"]);n!=null&&s(e,["id"],n);const o=a(t,["args"]);o!=null&&s(e,["args"],o);const i=a(t,["name"]);return i!=null&&s(e,["name"],i),e}function sE(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const o=a(t,["allowedFunctionNames"]);return o!=null&&s(e,["allowedFunctionNames"],o),e}function rE(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const o=a(t,["allowedFunctionNames"]);return o!=null&&s(e,["allowedFunctionNames"],o),e}function uE(t){const e={},n=a(t,["behavior"]);n!=null&&s(e,["behavior"],n);const o=a(t,["description"]);o!=null&&s(e,["description"],o);const i=a(t,["name"]);i!=null&&s(e,["name"],i);const l=a(t,["parameters"]);l!=null&&s(e,["parameters"],l);const r=a(t,["parametersJsonSchema"]);r!=null&&s(e,["parametersJsonSchema"],r);const u=a(t,["response"]);u!=null&&s(e,["response"],u);const c=a(t,["responseJsonSchema"]);return c!=null&&s(e,["responseJsonSchema"],c),e}function cE(t){const e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(t,["description"]);n!=null&&s(e,["description"],n);const o=a(t,["name"]);o!=null&&s(e,["name"],o);const i=a(t,["parameters"]);i!=null&&s(e,["parameters"],i);const l=a(t,["parametersJsonSchema"]);l!=null&&s(e,["parametersJsonSchema"],l);const r=a(t,["response"]);r!=null&&s(e,["response"],r);const u=a(t,["responseJsonSchema"]);return u!=null&&s(e,["responseJsonSchema"],u),e}function dE(t,e){const n={},o=a(e,["name"]);return o!=null&&s(n,["_url","name"],Wt(t,o)),n}function fE(t,e){const n={},o=a(e,["name"]);return o!=null&&s(n,["_url","name"],Wt(t,o)),n}function mE(t){const e={},n=a(t,["authConfig"]);return n!=null&&s(e,["authConfig"],HC(n)),e}function pE(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],eE(n)),e}function hE(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],tE(n)),e}function gE(t){const e={},n=a(t,["timeRangeFilter"]);if(n!=null&&s(e,["timeRangeFilter"],xE(n)),a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function yE(t){const e={},n=a(t,["timeRangeFilter"]);n!=null&&s(e,["timeRangeFilter"],vE(n));const o=a(t,["excludeDomains"]);return o!=null&&s(e,["excludeDomains"],o),e}function xE(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const o=a(t,["endTime"]);return o!=null&&s(e,["endTime"],o),e}function vE(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const o=a(t,["endTime"]);return o!=null&&s(e,["endTime"],o),e}function TE(t){const e={},n=a(t,["latitude"]);n!=null&&s(e,["latitude"],n);const o=a(t,["longitude"]);return o!=null&&s(e,["longitude"],o),e}function SE(t){const e={},n=a(t,["latitude"]);n!=null&&s(e,["latitude"],n);const o=a(t,["longitude"]);return o!=null&&s(e,["longitude"],o),e}function CE(t,e){const n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&s(e,["_query","pageSize"],o);const i=a(t,["pageToken"]);return e!==void 0&&i!=null&&s(e,["_query","pageToken"],i),n}function EE(t,e){const n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&s(e,["_query","pageSize"],o);const i=a(t,["pageToken"]);return e!==void 0&&i!=null&&s(e,["_query","pageToken"],i),n}function AE(t){const e={},n=a(t,["config"]);return n!=null&&CE(n,e),e}function NE(t){const e={},n=a(t,["config"]);return n!=null&&EE(n,e),e}function _E(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const o=a(t,["nextPageToken"]);o!=null&&s(e,["nextPageToken"],o);const i=a(t,["cachedContents"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(r=>na(r))),s(e,["cachedContents"],l)}return e}function ME(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const o=a(t,["nextPageToken"]);o!=null&&s(e,["nextPageToken"],o);const i=a(t,["cachedContents"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(r=>oa(r))),s(e,["cachedContents"],l)}return e}function bE(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],zE(n));const o=a(t,["thought"]);o!=null&&s(e,["thought"],o);const i=a(t,["inlineData"]);i!=null&&s(e,["inlineData"],zC(i));const l=a(t,["fileData"]);l!=null&&s(e,["fileData"],oE(l));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["functionCall"]);u!=null&&s(e,["functionCall"],lE(u));const c=a(t,["codeExecutionResult"]);c!=null&&s(e,["codeExecutionResult"],c);const d=a(t,["executableCode"]);d!=null&&s(e,["executableCode"],d);const m=a(t,["functionResponse"]);m!=null&&s(e,["functionResponse"],m);const p=a(t,["text"]);return p!=null&&s(e,["text"],p),e}function wE(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],FE(n));const o=a(t,["thought"]);o!=null&&s(e,["thought"],o);const i=a(t,["inlineData"]);i!=null&&s(e,["inlineData"],FC(i));const l=a(t,["fileData"]);l!=null&&s(e,["fileData"],iE(l));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["functionCall"]);u!=null&&s(e,["functionCall"],aE(u));const c=a(t,["codeExecutionResult"]);c!=null&&s(e,["codeExecutionResult"],c);const d=a(t,["executableCode"]);d!=null&&s(e,["executableCode"],d);const m=a(t,["functionResponse"]);m!=null&&s(e,["functionResponse"],m);const p=a(t,["text"]);return p!=null&&s(e,["text"],p),e}function RE(t){const e={},n=a(t,["latLng"]);n!=null&&s(e,["latLng"],TE(n));const o=a(t,["languageCode"]);return o!=null&&s(e,["languageCode"],o),e}function DE(t){const e={},n=a(t,["latLng"]);n!=null&&s(e,["latLng"],SE(n));const o=a(t,["languageCode"]);return o!=null&&s(e,["languageCode"],o),e}function IE(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&s(e,["functionCallingConfig"],sE(n));const o=a(t,["retrievalConfig"]);return o!=null&&s(e,["retrievalConfig"],RE(o)),e}function kE(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&s(e,["functionCallingConfig"],rE(n));const o=a(t,["retrievalConfig"]);return o!=null&&s(e,["retrievalConfig"],DE(o)),e}function UE(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>uE(d))),s(e,["functionDeclarations"],c)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=a(t,["googleSearch"]);o!=null&&s(e,["googleSearch"],gE(o));const i=a(t,["googleSearchRetrieval"]);if(i!=null&&s(e,["googleSearchRetrieval"],pE(i)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&s(e,["urlContext"],BE());const r=a(t,["computerUse"]);r!=null&&s(e,["computerUse"],JC(r));const u=a(t,["codeExecution"]);return u!=null&&s(e,["codeExecution"],u),e}function qE(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>cE(h))),s(e,["functionDeclarations"],p)}const o=a(t,["retrieval"]);o!=null&&s(e,["retrieval"],o);const i=a(t,["googleSearch"]);i!=null&&s(e,["googleSearch"],yE(i));const l=a(t,["googleSearchRetrieval"]);l!=null&&s(e,["googleSearchRetrieval"],hE(l));const r=a(t,["enterpriseWebSearch"]);r!=null&&s(e,["enterpriseWebSearch"],nE(r));const u=a(t,["googleMaps"]);u!=null&&s(e,["googleMaps"],mE(u)),a(t,["urlContext"])!=null&&s(e,["urlContext"],HE());const d=a(t,["computerUse"]);d!=null&&s(e,["computerUse"],OC(d));const m=a(t,["codeExecution"]);return m!=null&&s(e,["codeExecution"],m),e}function VE(t,e){const n={},o=a(t,["ttl"]);e!==void 0&&o!=null&&s(e,["ttl"],o);const i=a(t,["expireTime"]);return e!==void 0&&i!=null&&s(e,["expireTime"],i),n}function LE(t,e){const n={},o=a(t,["ttl"]);e!==void 0&&o!=null&&s(e,["ttl"],o);const i=a(t,["expireTime"]);return e!==void 0&&i!=null&&s(e,["expireTime"],i),n}function PE(t,e){const n={},o=a(e,["name"]);o!=null&&s(n,["_url","name"],Wt(t,o));const i=a(e,["config"]);return i!=null&&VE(i,n),n}function GE(t,e){const n={},o=a(e,["name"]);o!=null&&s(n,["_url","name"],Wt(t,o));const i=a(e,["config"]);return i!=null&&LE(i,n),n}function BE(){return{}}function HE(){return{}}function zE(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const o=a(t,["endOffset"]);o!=null&&s(e,["endOffset"],o);const i=a(t,["startOffset"]);return i!=null&&s(e,["startOffset"],i),e}function FE(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const o=a(t,["endOffset"]);o!=null&&s(e,["endOffset"],o);const i=a(t,["startOffset"]);return i!=null&&s(e,["startOffset"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JE extends Wn{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new cl($n.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(n),n)}async create(e){var n,o,i,l;let r,u="",c={};if(this.apiClient.isVertexAI()){const d=QC(this.apiClient,e);return u=P("cachedContents",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),r.then(m=>oa(m))}else{const d=KC(this.apiClient,e);return u=P("cachedContents",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),r.then(m=>na(m))}}async get(e){var n,o,i,l;let r,u="",c={};if(this.apiClient.isVertexAI()){const d=fE(this.apiClient,e);return u=P("{name}",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),r.then(m=>oa(m))}else{const d=dE(this.apiClient,e);return u=P("{name}",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),r.then(m=>na(m))}}async delete(e){var n,o,i,l;let r,u="",c={};if(this.apiClient.isVertexAI()){const d=jC(this.apiClient,e);return u=P("{name}",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),r.then(m=>{const p=WC(m),h=new ym;return Object.assign(h,p),h})}else{const d=XC(this.apiClient,e);return u=P("{name}",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),r.then(m=>{const p=ZC(m),h=new ym;return Object.assign(h,p),h})}}async update(e){var n,o,i,l;let r,u="",c={};if(this.apiClient.isVertexAI()){const d=GE(this.apiClient,e);return u=P("{name}",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),r.then(m=>oa(m))}else{const d=PE(this.apiClient,e);return u=P("{name}",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),r.then(m=>na(m))}}async listInternal(e){var n,o,i,l;let r,u="",c={};if(this.apiClient.isVertexAI()){const d=NE(e);return u=P("cachedContents",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),r.then(m=>{const p=ME(m),h=new xm;return Object.assign(h,p),h})}else{const d=AE(e);return u=P("cachedContents",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),r.then(m=>{const p=_E(m),h=new xm;return Object.assign(h,p),h})}}}function Nm(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function me(t){return this instanceof me?(this.v=t,this):new me(t)}function qo(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(t,e||[]),i,l=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",r),i[Symbol.asyncIterator]=function(){return this},i;function r(g){return function(v){return Promise.resolve(v).then(g,p)}}function u(g,v){o[g]&&(i[g]=function(C){return new Promise(function(E,x){l.push([g,C,E,x])>1||c(g,C)})},v&&(i[g]=v(i[g])))}function c(g,v){try{d(o[g](v))}catch(C){h(l[0][3],C)}}function d(g){g.value instanceof me?Promise.resolve(g.value.v).then(m,p):h(l[0][2],g)}function m(g){c("next",g)}function p(g){c("throw",g)}function h(g,v){g(v),l.shift(),l.length&&c(l[0][0],l[0][1])}}function Vi(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Nm=="function"?Nm(t):t[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(l){n[l]=t[l]&&function(r){return new Promise(function(u,c){r=t[l](r),i(u,c,r.done,r.value)})}}function i(l,r,u,c){Promise.resolve(c).then(function(d){l({value:d,done:u})},r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OE(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Cy(n)}function Cy(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function YE(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function _m(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let o=0;for(;o<n;)if(t[o].role==="user")e.push(t[o]),o++;else{const i=[];let l=!0;for(;o<n&&t[o].role==="model";)i.push(t[o]),l&&!Cy(t[o])&&(l=!1),o++;l?e.push(...i):e.pop()}return e}class $E{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new KE(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class KE{constructor(e,n,o,i={},l=[]){this.apiClient=e,this.modelsModule=n,this.model=o,this.config=i,this.history=l,this.sendPromise=Promise.resolve(),YE(l)}async sendMessage(e){var n;await this.sendPromise;const o=Be(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var l,r,u;const c=await i,d=(r=(l=c.candidates)===null||l===void 0?void 0:l[0])===null||r===void 0?void 0:r.content,m=c.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let h=[];m!=null&&(h=(u=m.slice(p))!==null&&u!==void 0?u:[]);const g=d?[d]:[];this.recordHistory(o,g,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const o=Be(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const l=await i;return this.processStreamResponse(l,o)}getHistory(e=!1){const n=e?_m(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var o,i;return qo(this,arguments,function*(){var r,u,c,d;const m=[];try{for(var p=!0,h=Vi(e),g;g=yield me(h.next()),r=g.done,!r;p=!0){d=g.value,p=!1;const v=d;if(OE(v)){const C=(i=(o=v.candidates)===null||o===void 0?void 0:o[0])===null||i===void 0?void 0:i.content;C!==void 0&&m.push(C)}yield yield me(v)}}catch(v){u={error:v}}finally{try{!p&&!r&&(c=h.return)&&(yield me(c.call(h)))}finally{if(u)throw u.error}}this.recordHistory(n,m)})}recordHistory(e,n,o){let i=[];n.length>0&&n.every(l=>l.role!==void 0)?i=n:i.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(..._m(o)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class os extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,os.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QE(t){const e={},n=a(t,["file"]);return n!=null&&s(e,["file"],t1(n)),e}function XE(t){const e={},n=a(t,["sdkHttpResponse"]);return n!=null&&s(e,["sdkHttpResponse"],n),e}function jE(t){const e={},n=a(t,["name"]);return n!=null&&s(e,["_url","file"],my(n)),e}function ZE(t){const e={},n=a(t,["sdkHttpResponse"]);return n!=null&&s(e,["sdkHttpResponse"],n),e}function du(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const o=a(t,["displayName"]);o!=null&&s(e,["displayName"],o);const i=a(t,["mimeType"]);i!=null&&s(e,["mimeType"],i);const l=a(t,["sizeBytes"]);l!=null&&s(e,["sizeBytes"],l);const r=a(t,["createTime"]);r!=null&&s(e,["createTime"],r);const u=a(t,["expirationTime"]);u!=null&&s(e,["expirationTime"],u);const c=a(t,["updateTime"]);c!=null&&s(e,["updateTime"],c);const d=a(t,["sha256Hash"]);d!=null&&s(e,["sha256Hash"],d);const m=a(t,["uri"]);m!=null&&s(e,["uri"],m);const p=a(t,["downloadUri"]);p!=null&&s(e,["downloadUri"],p);const h=a(t,["state"]);h!=null&&s(e,["state"],h);const g=a(t,["source"]);g!=null&&s(e,["source"],g);const v=a(t,["videoMetadata"]);v!=null&&s(e,["videoMetadata"],v);const C=a(t,["error"]);return C!=null&&s(e,["error"],WE(C)),e}function WE(t){const e={},n=a(t,["details"]);n!=null&&s(e,["details"],n);const o=a(t,["message"]);o!=null&&s(e,["message"],o);const i=a(t,["code"]);return i!=null&&s(e,["code"],i),e}function e1(t){const e={},n=a(t,["details"]);n!=null&&s(e,["details"],n);const o=a(t,["message"]);o!=null&&s(e,["message"],o);const i=a(t,["code"]);return i!=null&&s(e,["code"],i),e}function t1(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const o=a(t,["displayName"]);o!=null&&s(e,["displayName"],o);const i=a(t,["mimeType"]);i!=null&&s(e,["mimeType"],i);const l=a(t,["sizeBytes"]);l!=null&&s(e,["sizeBytes"],l);const r=a(t,["createTime"]);r!=null&&s(e,["createTime"],r);const u=a(t,["expirationTime"]);u!=null&&s(e,["expirationTime"],u);const c=a(t,["updateTime"]);c!=null&&s(e,["updateTime"],c);const d=a(t,["sha256Hash"]);d!=null&&s(e,["sha256Hash"],d);const m=a(t,["uri"]);m!=null&&s(e,["uri"],m);const p=a(t,["downloadUri"]);p!=null&&s(e,["downloadUri"],p);const h=a(t,["state"]);h!=null&&s(e,["state"],h);const g=a(t,["source"]);g!=null&&s(e,["source"],g);const v=a(t,["videoMetadata"]);v!=null&&s(e,["videoMetadata"],v);const C=a(t,["error"]);return C!=null&&s(e,["error"],e1(C)),e}function n1(t){const e={},n=a(t,["name"]);return n!=null&&s(e,["_url","file"],my(n)),e}function o1(t,e){const n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&s(e,["_query","pageSize"],o);const i=a(t,["pageToken"]);return e!==void 0&&i!=null&&s(e,["_query","pageToken"],i),n}function i1(t){const e={},n=a(t,["config"]);return n!=null&&o1(n,e),e}function l1(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const o=a(t,["nextPageToken"]);o!=null&&s(e,["nextPageToken"],o);const i=a(t,["files"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(r=>du(r))),s(e,["files"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class a1 extends Wn{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new cl($n.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>du(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,o;let i,l="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=i1(e);return l=P("files",u._url),r=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:l,queryParams:r,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:c.headers},m})),i.then(c=>{const d=l1(c),m=new cS;return Object.assign(m,d),m})}}async createInternal(e){var n,o;let i,l="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=QE(e);return l=P("upload/v1beta/files",u._url),r=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:l,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>{const d=XE(c),m=new dS;return Object.assign(m,d),m})}}async get(e){var n,o;let i,l="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=n1(e);return l=P("files/{file}",u._url),r=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:l,queryParams:r,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>du(c))}}async delete(e){var n,o;let i,l="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=jE(e);return l=P("files/{file}",u._url),r=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:l,queryParams:r,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:c.headers},m})),i.then(c=>{const d=ZE(c),m=new fS;return Object.assign(m,d),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function s1(){return{}}function r1(){return{}}function u1(){return{}}function c1(){return{}}function d1(t){const e={},n=a(t,["apiKeyString"]);return n!=null&&s(e,["apiKeyString"],n),e}function f1(t){const e={},n=a(t,["data"]);n!=null&&s(e,["data"],n);const o=a(t,["mimeType"]);o!=null&&s(e,["mimeType"],o);const i=a(t,["sourceMetadata"]);return i!=null&&s(e,["sourceMetadata"],iA(i)),e}function Mm(){return{}}function bm(){return{}}function m1(t){const e={},n=a(t,["apiKeyConfig"]);n!=null&&s(e,["apiKeyConfig"],d1(n));const o=a(t,["authType"]);o!=null&&s(e,["authType"],o);const i=a(t,["googleServiceAccountConfig"]);i!=null&&s(e,["googleServiceAccountConfig"],i);const l=a(t,["httpBasicAuthConfig"]);l!=null&&s(e,["httpBasicAuthConfig"],l);const r=a(t,["oauthConfig"]);r!=null&&s(e,["oauthConfig"],r);const u=a(t,["oidcConfig"]);return u!=null&&s(e,["oidcConfig"],u),e}function p1(t){const e={},n=a(t,["disabled"]);n!=null&&s(e,["disabled"],n);const o=a(t,["startOfSpeechSensitivity"]);o!=null&&s(e,["startOfSpeechSensitivity"],o);const i=a(t,["endOfSpeechSensitivity"]);i!=null&&s(e,["endOfSpeechSensitivity"],i);const l=a(t,["prefixPaddingMs"]);l!=null&&s(e,["prefixPaddingMs"],l);const r=a(t,["silenceDurationMs"]);return r!=null&&s(e,["silenceDurationMs"],r),e}function h1(t){const e={},n=a(t,["disabled"]);n!=null&&s(e,["disabled"],n);const o=a(t,["startOfSpeechSensitivity"]);o!=null&&s(e,["startOfSpeechSensitivity"],o);const i=a(t,["endOfSpeechSensitivity"]);i!=null&&s(e,["endOfSpeechSensitivity"],i);const l=a(t,["prefixPaddingMs"]);l!=null&&s(e,["prefixPaddingMs"],l);const r=a(t,["silenceDurationMs"]);return r!=null&&s(e,["silenceDurationMs"],r),e}function g1(t){const e={},n=a(t,["data"]);n!=null&&s(e,["data"],n);const o=a(t,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function y1(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const o=a(t,["data"]);o!=null&&s(e,["data"],o);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function x1(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&s(e,["data"],n);const o=a(t,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function v1(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const o=a(t,["data"]);o!=null&&s(e,["data"],o);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function T1(t){const e={},n=a(t,["environment"]);n!=null&&s(e,["environment"],n);const o=a(t,["excludedPredefinedFunctions"]);return o!=null&&s(e,["excludedPredefinedFunctions"],o),e}function S1(t){const e={},n=a(t,["environment"]);n!=null&&s(e,["environment"],n);const o=a(t,["excludedPredefinedFunctions"]);return o!=null&&s(e,["excludedPredefinedFunctions"],o),e}function C1(t){const e={},n=a(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>CA(l))),s(e,["parts"],i)}const o=a(t,["role"]);return o!=null&&s(e,["role"],o),e}function E1(t){const e={},n=a(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>EA(l))),s(e,["parts"],i)}const o=a(t,["role"]);return o!=null&&s(e,["role"],o),e}function A1(t){const e={},n=a(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>AA(l))),s(e,["parts"],i)}const o=a(t,["role"]);return o!=null&&s(e,["role"],o),e}function N1(t){const e={},n=a(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>NA(l))),s(e,["parts"],i)}const o=a(t,["role"]);return o!=null&&s(e,["role"],o),e}function _1(t){const e={},n=a(t,["triggerTokens"]);n!=null&&s(e,["triggerTokens"],n);const o=a(t,["slidingWindow"]);return o!=null&&s(e,["slidingWindow"],UA(o)),e}function M1(t){const e={},n=a(t,["triggerTokens"]);n!=null&&s(e,["triggerTokens"],n);const o=a(t,["slidingWindow"]);return o!=null&&s(e,["slidingWindow"],qA(o)),e}function b1(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const o=a(t,["dynamicThreshold"]);return o!=null&&s(e,["dynamicThreshold"],o),e}function w1(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const o=a(t,["dynamicThreshold"]);return o!=null&&s(e,["dynamicThreshold"],o),e}function R1(t){const e={},n=a(t,["excludeDomains"]);return n!=null&&s(e,["excludeDomains"],n),e}function D1(t){const e={},n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const o=a(t,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function I1(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const o=a(t,["fileUri"]);o!=null&&s(e,["fileUri"],o);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function k1(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const o=a(t,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function U1(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const o=a(t,["fileUri"]);o!=null&&s(e,["fileUri"],o);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function Ey(t){const e={},n=a(t,["id"]);n!=null&&s(e,["id"],n);const o=a(t,["args"]);o!=null&&s(e,["args"],o);const i=a(t,["name"]);return i!=null&&s(e,["name"],i),e}function Ay(t){const e={},n=a(t,["id"]);n!=null&&s(e,["id"],n);const o=a(t,["args"]);o!=null&&s(e,["args"],o);const i=a(t,["name"]);return i!=null&&s(e,["name"],i),e}function q1(t){const e={},n=a(t,["id"]);n!=null&&s(e,["id"],n);const o=a(t,["args"]);o!=null&&s(e,["args"],o);const i=a(t,["name"]);return i!=null&&s(e,["name"],i),e}function V1(t){const e={},n=a(t,["id"]);n!=null&&s(e,["id"],n);const o=a(t,["args"]);o!=null&&s(e,["args"],o);const i=a(t,["name"]);return i!=null&&s(e,["name"],i),e}function L1(t){const e={},n=a(t,["behavior"]);n!=null&&s(e,["behavior"],n);const o=a(t,["description"]);o!=null&&s(e,["description"],o);const i=a(t,["name"]);i!=null&&s(e,["name"],i);const l=a(t,["parameters"]);l!=null&&s(e,["parameters"],l);const r=a(t,["parametersJsonSchema"]);r!=null&&s(e,["parametersJsonSchema"],r);const u=a(t,["response"]);u!=null&&s(e,["response"],u);const c=a(t,["responseJsonSchema"]);return c!=null&&s(e,["responseJsonSchema"],c),e}function P1(t){const e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(t,["description"]);n!=null&&s(e,["description"],n);const o=a(t,["name"]);o!=null&&s(e,["name"],o);const i=a(t,["parameters"]);i!=null&&s(e,["parameters"],i);const l=a(t,["parametersJsonSchema"]);l!=null&&s(e,["parametersJsonSchema"],l);const r=a(t,["response"]);r!=null&&s(e,["response"],r);const u=a(t,["responseJsonSchema"]);return u!=null&&s(e,["responseJsonSchema"],u),e}function G1(t){const e={},n=a(t,["authConfig"]);return n!=null&&s(e,["authConfig"],m1(n)),e}function B1(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],b1(n)),e}function H1(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],w1(n)),e}function z1(t){const e={},n=a(t,["timeRangeFilter"]);if(n!=null&&s(e,["timeRangeFilter"],J1(n)),a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function F1(t){const e={},n=a(t,["timeRangeFilter"]);n!=null&&s(e,["timeRangeFilter"],O1(n));const o=a(t,["excludeDomains"]);return o!=null&&s(e,["excludeDomains"],o),e}function J1(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const o=a(t,["endTime"]);return o!=null&&s(e,["endTime"],o),e}function O1(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const o=a(t,["endTime"]);return o!=null&&s(e,["endTime"],o),e}function Y1(t,e){const n={},o=a(t,["generationConfig"]);e!==void 0&&o!=null&&s(e,["setup","generationConfig"],o);const i=a(t,["responseModalities"]);e!==void 0&&i!=null&&s(e,["setup","generationConfig","responseModalities"],i);const l=a(t,["temperature"]);e!==void 0&&l!=null&&s(e,["setup","generationConfig","temperature"],l);const r=a(t,["topP"]);e!==void 0&&r!=null&&s(e,["setup","generationConfig","topP"],r);const u=a(t,["topK"]);e!==void 0&&u!=null&&s(e,["setup","generationConfig","topK"],u);const c=a(t,["maxOutputTokens"]);e!==void 0&&c!=null&&s(e,["setup","generationConfig","maxOutputTokens"],c);const d=a(t,["mediaResolution"]);e!==void 0&&d!=null&&s(e,["setup","generationConfig","mediaResolution"],d);const m=a(t,["seed"]);e!==void 0&&m!=null&&s(e,["setup","generationConfig","seed"],m);const p=a(t,["speechConfig"]);e!==void 0&&p!=null&&s(e,["setup","generationConfig","speechConfig"],LA(Cc(p)));const h=a(t,["thinkingConfig"]);e!==void 0&&h!=null&&s(e,["setup","generationConfig","thinkingConfig"],GA(h));const g=a(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&s(e,["setup","generationConfig","enableAffectiveDialog"],g);const v=a(t,["systemInstruction"]);e!==void 0&&v!=null&&s(e,["setup","systemInstruction"],A1(Be(v)));const C=a(t,["tools"]);if(e!==void 0&&C!=null){let R=ii(C);Array.isArray(R)&&(R=R.map(_=>HA(oi(_)))),s(e,["setup","tools"],R)}const E=a(t,["sessionResumption"]);e!==void 0&&E!=null&&s(e,["setup","sessionResumption"],IA(E));const x=a(t,["inputAudioTranscription"]);e!==void 0&&x!=null&&s(e,["setup","inputAudioTranscription"],Mm());const y=a(t,["outputAudioTranscription"]);e!==void 0&&y!=null&&s(e,["setup","outputAudioTranscription"],Mm());const T=a(t,["realtimeInputConfig"]);e!==void 0&&T!=null&&s(e,["setup","realtimeInputConfig"],RA(T));const S=a(t,["contextWindowCompression"]);e!==void 0&&S!=null&&s(e,["setup","contextWindowCompression"],_1(S));const N=a(t,["proactivity"]);return e!==void 0&&N!=null&&s(e,["setup","proactivity"],bA(N)),n}function $1(t,e){const n={},o=a(t,["generationConfig"]);e!==void 0&&o!=null&&s(e,["setup","generationConfig"],o);const i=a(t,["responseModalities"]);e!==void 0&&i!=null&&s(e,["setup","generationConfig","responseModalities"],i);const l=a(t,["temperature"]);e!==void 0&&l!=null&&s(e,["setup","generationConfig","temperature"],l);const r=a(t,["topP"]);e!==void 0&&r!=null&&s(e,["setup","generationConfig","topP"],r);const u=a(t,["topK"]);e!==void 0&&u!=null&&s(e,["setup","generationConfig","topK"],u);const c=a(t,["maxOutputTokens"]);e!==void 0&&c!=null&&s(e,["setup","generationConfig","maxOutputTokens"],c);const d=a(t,["mediaResolution"]);e!==void 0&&d!=null&&s(e,["setup","generationConfig","mediaResolution"],d);const m=a(t,["seed"]);e!==void 0&&m!=null&&s(e,["setup","generationConfig","seed"],m);const p=a(t,["speechConfig"]);e!==void 0&&p!=null&&s(e,["setup","generationConfig","speechConfig"],PA(Cc(p)));const h=a(t,["thinkingConfig"]);e!==void 0&&h!=null&&s(e,["setup","generationConfig","thinkingConfig"],BA(h));const g=a(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&s(e,["setup","generationConfig","enableAffectiveDialog"],g);const v=a(t,["systemInstruction"]);e!==void 0&&v!=null&&s(e,["setup","systemInstruction"],N1(Be(v)));const C=a(t,["tools"]);if(e!==void 0&&C!=null){let R=ii(C);Array.isArray(R)&&(R=R.map(_=>zA(oi(_)))),s(e,["setup","tools"],R)}const E=a(t,["sessionResumption"]);e!==void 0&&E!=null&&s(e,["setup","sessionResumption"],kA(E));const x=a(t,["inputAudioTranscription"]);e!==void 0&&x!=null&&s(e,["setup","inputAudioTranscription"],bm());const y=a(t,["outputAudioTranscription"]);e!==void 0&&y!=null&&s(e,["setup","outputAudioTranscription"],bm());const T=a(t,["realtimeInputConfig"]);e!==void 0&&T!=null&&s(e,["setup","realtimeInputConfig"],DA(T));const S=a(t,["contextWindowCompression"]);e!==void 0&&S!=null&&s(e,["setup","contextWindowCompression"],M1(S));const N=a(t,["proactivity"]);return e!==void 0&&N!=null&&s(e,["setup","proactivity"],wA(N)),n}function K1(t,e){const n={},o=a(e,["model"]);o!=null&&s(n,["setup","model"],ne(t,o));const i=a(e,["config"]);return i!=null&&s(n,["config"],Y1(i,n)),n}function Q1(t,e){const n={},o=a(e,["model"]);o!=null&&s(n,["setup","model"],ne(t,o));const i=a(e,["config"]);return i!=null&&s(n,["config"],$1(i,n)),n}function X1(t){const e={},n=a(t,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>eN(i))),s(e,["weightedPrompts"],o)}return e}function Ny(t){const e={},n=a(t,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>wy(i))),s(e,["weightedPrompts"],o)}return e}function fu(t){const e={},n=a(t,["setup"]);n!=null&&s(e,["setup"],_y(n));const o=a(t,["clientContent"]);o!=null&&s(e,["clientContent"],Ny(o));const i=a(t,["musicGenerationConfig"]);i!=null&&s(e,["musicGenerationConfig"],My(i));const l=a(t,["playbackControl"]);return l!=null&&s(e,["playbackControl"],l),e}function _y(t){const e={},n=a(t,["model"]);return n!=null&&s(e,["model"],n),e}function j1(t){const e={},n=a(t,["text"]);n!=null&&s(e,["text"],n);const o=a(t,["filteredReason"]);return o!=null&&s(e,["filteredReason"],o),e}function Z1(t){const e={},n=a(t,["temperature"]);n!=null&&s(e,["temperature"],n);const o=a(t,["topK"]);o!=null&&s(e,["topK"],o);const i=a(t,["seed"]);i!=null&&s(e,["seed"],i);const l=a(t,["guidance"]);l!=null&&s(e,["guidance"],l);const r=a(t,["bpm"]);r!=null&&s(e,["bpm"],r);const u=a(t,["density"]);u!=null&&s(e,["density"],u);const c=a(t,["brightness"]);c!=null&&s(e,["brightness"],c);const d=a(t,["scale"]);d!=null&&s(e,["scale"],d);const m=a(t,["muteBass"]);m!=null&&s(e,["muteBass"],m);const p=a(t,["muteDrums"]);p!=null&&s(e,["muteDrums"],p);const h=a(t,["onlyBassAndDrums"]);h!=null&&s(e,["onlyBassAndDrums"],h);const g=a(t,["musicGenerationMode"]);return g!=null&&s(e,["musicGenerationMode"],g),e}function My(t){const e={},n=a(t,["temperature"]);n!=null&&s(e,["temperature"],n);const o=a(t,["topK"]);o!=null&&s(e,["topK"],o);const i=a(t,["seed"]);i!=null&&s(e,["seed"],i);const l=a(t,["guidance"]);l!=null&&s(e,["guidance"],l);const r=a(t,["bpm"]);r!=null&&s(e,["bpm"],r);const u=a(t,["density"]);u!=null&&s(e,["density"],u);const c=a(t,["brightness"]);c!=null&&s(e,["brightness"],c);const d=a(t,["scale"]);d!=null&&s(e,["scale"],d);const m=a(t,["muteBass"]);m!=null&&s(e,["muteBass"],m);const p=a(t,["muteDrums"]);p!=null&&s(e,["muteDrums"],p);const h=a(t,["onlyBassAndDrums"]);h!=null&&s(e,["onlyBassAndDrums"],h);const g=a(t,["musicGenerationMode"]);return g!=null&&s(e,["musicGenerationMode"],g),e}function W1(t){const e={},n=a(t,["audioChunks"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>f1(i))),s(e,["audioChunks"],o)}return e}function eA(t){const e={};a(t,["setupComplete"])!=null&&s(e,["setupComplete"],tA());const o=a(t,["serverContent"]);o!=null&&s(e,["serverContent"],W1(o));const i=a(t,["filteredPrompt"]);return i!=null&&s(e,["filteredPrompt"],j1(i)),e}function tA(){return{}}function nA(t){const e={},n=a(t,["musicGenerationConfig"]);return n!=null&&s(e,["musicGenerationConfig"],My(n)),e}function oA(t){const e={},n=a(t,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>wy(i))),s(e,["weightedPrompts"],o)}return e}function iA(t){const e={},n=a(t,["clientContent"]);n!=null&&s(e,["clientContent"],X1(n));const o=a(t,["musicGenerationConfig"]);return o!=null&&s(e,["musicGenerationConfig"],Z1(o)),e}function lA(t){const e={},n=a(t,["media"]);if(n!=null){let d=ry(n);Array.isArray(d)&&(d=d.map(m=>m)),s(e,["mediaChunks"],d)}const o=a(t,["audio"]);o!=null&&s(e,["audio"],cy(o));const i=a(t,["audioStreamEnd"]);i!=null&&s(e,["audioStreamEnd"],i);const l=a(t,["video"]);l!=null&&s(e,["video"],uy(l));const r=a(t,["text"]);return r!=null&&s(e,["text"],r),a(t,["activityStart"])!=null&&s(e,["activityStart"],u1()),a(t,["activityEnd"])!=null&&s(e,["activityEnd"],s1()),e}function aA(t){const e={},n=a(t,["media"]);if(n!=null){let d=ry(n);Array.isArray(d)&&(d=d.map(m=>m)),s(e,["mediaChunks"],d)}const o=a(t,["audio"]);o!=null&&s(e,["audio"],cy(o));const i=a(t,["audioStreamEnd"]);i!=null&&s(e,["audioStreamEnd"],i);const l=a(t,["video"]);l!=null&&s(e,["video"],uy(l));const r=a(t,["text"]);return r!=null&&s(e,["text"],r),a(t,["activityStart"])!=null&&s(e,["activityStart"],c1()),a(t,["activityEnd"])!=null&&s(e,["activityEnd"],r1()),e}function sA(t){const e={},n=a(t,["modelTurn"]);n!=null&&s(e,["modelTurn"],C1(n));const o=a(t,["turnComplete"]);o!=null&&s(e,["turnComplete"],o);const i=a(t,["interrupted"]);i!=null&&s(e,["interrupted"],i);const l=a(t,["groundingMetadata"]);l!=null&&s(e,["groundingMetadata"],l);const r=a(t,["generationComplete"]);r!=null&&s(e,["generationComplete"],r);const u=a(t,["inputTranscription"]);u!=null&&s(e,["inputTranscription"],wm(u));const c=a(t,["outputTranscription"]);c!=null&&s(e,["outputTranscription"],wm(c));const d=a(t,["urlContextMetadata"]);d!=null&&s(e,["urlContextMetadata"],FA(d));const m=a(t,["turnCompleteReason"]);m!=null&&s(e,["turnCompleteReason"],m);const p=a(t,["waitingForInput"]);return p!=null&&s(e,["waitingForInput"],p),e}function rA(t){const e={},n=a(t,["modelTurn"]);n!=null&&s(e,["modelTurn"],E1(n));const o=a(t,["turnComplete"]);o!=null&&s(e,["turnComplete"],o);const i=a(t,["interrupted"]);i!=null&&s(e,["interrupted"],i);const l=a(t,["groundingMetadata"]);l!=null&&s(e,["groundingMetadata"],l);const r=a(t,["generationComplete"]);r!=null&&s(e,["generationComplete"],r);const u=a(t,["inputTranscription"]);u!=null&&s(e,["inputTranscription"],Rm(u));const c=a(t,["outputTranscription"]);c!=null&&s(e,["outputTranscription"],Rm(c));const d=a(t,["turnCompleteReason"]);d!=null&&s(e,["turnCompleteReason"],d);const m=a(t,["waitingForInput"]);return m!=null&&s(e,["waitingForInput"],m),e}function uA(t){const e={},n=a(t,["timeLeft"]);return n!=null&&s(e,["timeLeft"],n),e}function cA(t){const e={},n=a(t,["timeLeft"]);return n!=null&&s(e,["timeLeft"],n),e}function dA(t){const e={};a(t,["setupComplete"])!=null&&s(e,["setupComplete"],hA());const o=a(t,["serverContent"]);o!=null&&s(e,["serverContent"],sA(o));const i=a(t,["toolCall"]);i!=null&&s(e,["toolCall"],vA(i));const l=a(t,["toolCallCancellation"]);l!=null&&s(e,["toolCallCancellation"],yA(l));const r=a(t,["usageMetadata"]);r!=null&&s(e,["usageMetadata"],$A(r));const u=a(t,["goAway"]);u!=null&&s(e,["goAway"],uA(u));const c=a(t,["sessionResumptionUpdate"]);return c!=null&&s(e,["sessionResumptionUpdate"],mA(c)),e}function fA(t){const e={},n=a(t,["setupComplete"]);n!=null&&s(e,["setupComplete"],gA(n));const o=a(t,["serverContent"]);o!=null&&s(e,["serverContent"],rA(o));const i=a(t,["toolCall"]);i!=null&&s(e,["toolCall"],TA(i));const l=a(t,["toolCallCancellation"]);l!=null&&s(e,["toolCallCancellation"],xA(l));const r=a(t,["usageMetadata"]);r!=null&&s(e,["usageMetadata"],KA(r));const u=a(t,["goAway"]);u!=null&&s(e,["goAway"],cA(u));const c=a(t,["sessionResumptionUpdate"]);return c!=null&&s(e,["sessionResumptionUpdate"],pA(c)),e}function mA(t){const e={},n=a(t,["newHandle"]);n!=null&&s(e,["newHandle"],n);const o=a(t,["resumable"]);o!=null&&s(e,["resumable"],o);const i=a(t,["lastConsumedClientMessageIndex"]);return i!=null&&s(e,["lastConsumedClientMessageIndex"],i),e}function pA(t){const e={},n=a(t,["newHandle"]);n!=null&&s(e,["newHandle"],n);const o=a(t,["resumable"]);o!=null&&s(e,["resumable"],o);const i=a(t,["lastConsumedClientMessageIndex"]);return i!=null&&s(e,["lastConsumedClientMessageIndex"],i),e}function hA(){return{}}function gA(t){const e={},n=a(t,["sessionId"]);return n!=null&&s(e,["sessionId"],n),e}function yA(t){const e={},n=a(t,["ids"]);return n!=null&&s(e,["ids"],n),e}function xA(t){const e={},n=a(t,["ids"]);return n!=null&&s(e,["ids"],n),e}function vA(t){const e={},n=a(t,["functionCalls"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>Ey(i))),s(e,["functionCalls"],o)}return e}function TA(t){const e={},n=a(t,["functionCalls"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>Ay(i))),s(e,["functionCalls"],o)}return e}function kl(t){const e={},n=a(t,["modality"]);n!=null&&s(e,["modality"],n);const o=a(t,["tokenCount"]);return o!=null&&s(e,["tokenCount"],o),e}function Ul(t){const e={},n=a(t,["modality"]);n!=null&&s(e,["modality"],n);const o=a(t,["tokenCount"]);return o!=null&&s(e,["tokenCount"],o),e}function SA(t){const e={},n=a(t,["speakerVoiceConfigs"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>VA(i))),s(e,["speakerVoiceConfigs"],o)}return e}function CA(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],QA(n));const o=a(t,["thought"]);o!=null&&s(e,["thought"],o);const i=a(t,["inlineData"]);i!=null&&s(e,["inlineData"],g1(i));const l=a(t,["fileData"]);l!=null&&s(e,["fileData"],D1(l));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["functionCall"]);u!=null&&s(e,["functionCall"],Ey(u));const c=a(t,["codeExecutionResult"]);c!=null&&s(e,["codeExecutionResult"],c);const d=a(t,["executableCode"]);d!=null&&s(e,["executableCode"],d);const m=a(t,["functionResponse"]);m!=null&&s(e,["functionResponse"],m);const p=a(t,["text"]);return p!=null&&s(e,["text"],p),e}function EA(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],XA(n));const o=a(t,["thought"]);o!=null&&s(e,["thought"],o);const i=a(t,["inlineData"]);i!=null&&s(e,["inlineData"],y1(i));const l=a(t,["fileData"]);l!=null&&s(e,["fileData"],I1(l));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["functionCall"]);u!=null&&s(e,["functionCall"],Ay(u));const c=a(t,["codeExecutionResult"]);c!=null&&s(e,["codeExecutionResult"],c);const d=a(t,["executableCode"]);d!=null&&s(e,["executableCode"],d);const m=a(t,["functionResponse"]);m!=null&&s(e,["functionResponse"],m);const p=a(t,["text"]);return p!=null&&s(e,["text"],p),e}function AA(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],jA(n));const o=a(t,["thought"]);o!=null&&s(e,["thought"],o);const i=a(t,["inlineData"]);i!=null&&s(e,["inlineData"],x1(i));const l=a(t,["fileData"]);l!=null&&s(e,["fileData"],k1(l));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["functionCall"]);u!=null&&s(e,["functionCall"],q1(u));const c=a(t,["codeExecutionResult"]);c!=null&&s(e,["codeExecutionResult"],c);const d=a(t,["executableCode"]);d!=null&&s(e,["executableCode"],d);const m=a(t,["functionResponse"]);m!=null&&s(e,["functionResponse"],m);const p=a(t,["text"]);return p!=null&&s(e,["text"],p),e}function NA(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],ZA(n));const o=a(t,["thought"]);o!=null&&s(e,["thought"],o);const i=a(t,["inlineData"]);i!=null&&s(e,["inlineData"],v1(i));const l=a(t,["fileData"]);l!=null&&s(e,["fileData"],U1(l));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["functionCall"]);u!=null&&s(e,["functionCall"],V1(u));const c=a(t,["codeExecutionResult"]);c!=null&&s(e,["codeExecutionResult"],c);const d=a(t,["executableCode"]);d!=null&&s(e,["executableCode"],d);const m=a(t,["functionResponse"]);m!=null&&s(e,["functionResponse"],m);const p=a(t,["text"]);return p!=null&&s(e,["text"],p),e}function _A(t){const e={},n=a(t,["voiceName"]);return n!=null&&s(e,["voiceName"],n),e}function MA(t){const e={},n=a(t,["voiceName"]);return n!=null&&s(e,["voiceName"],n),e}function bA(t){const e={},n=a(t,["proactiveAudio"]);return n!=null&&s(e,["proactiveAudio"],n),e}function wA(t){const e={},n=a(t,["proactiveAudio"]);return n!=null&&s(e,["proactiveAudio"],n),e}function RA(t){const e={},n=a(t,["automaticActivityDetection"]);n!=null&&s(e,["automaticActivityDetection"],p1(n));const o=a(t,["activityHandling"]);o!=null&&s(e,["activityHandling"],o);const i=a(t,["turnCoverage"]);return i!=null&&s(e,["turnCoverage"],i),e}function DA(t){const e={},n=a(t,["automaticActivityDetection"]);n!=null&&s(e,["automaticActivityDetection"],h1(n));const o=a(t,["activityHandling"]);o!=null&&s(e,["activityHandling"],o);const i=a(t,["turnCoverage"]);return i!=null&&s(e,["turnCoverage"],i),e}function IA(t){const e={},n=a(t,["handle"]);if(n!=null&&s(e,["handle"],n),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function kA(t){const e={},n=a(t,["handle"]);n!=null&&s(e,["handle"],n);const o=a(t,["transparent"]);return o!=null&&s(e,["transparent"],o),e}function UA(t){const e={},n=a(t,["targetTokens"]);return n!=null&&s(e,["targetTokens"],n),e}function qA(t){const e={},n=a(t,["targetTokens"]);return n!=null&&s(e,["targetTokens"],n),e}function VA(t){const e={},n=a(t,["speaker"]);n!=null&&s(e,["speaker"],n);const o=a(t,["voiceConfig"]);return o!=null&&s(e,["voiceConfig"],by(o)),e}function LA(t){const e={},n=a(t,["voiceConfig"]);n!=null&&s(e,["voiceConfig"],by(n));const o=a(t,["multiSpeakerVoiceConfig"]);o!=null&&s(e,["multiSpeakerVoiceConfig"],SA(o));const i=a(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function PA(t){const e={},n=a(t,["voiceConfig"]);if(n!=null&&s(e,["voiceConfig"],WA(n)),a(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=a(t,["languageCode"]);return o!=null&&s(e,["languageCode"],o),e}function GA(t){const e={},n=a(t,["includeThoughts"]);n!=null&&s(e,["includeThoughts"],n);const o=a(t,["thinkingBudget"]);return o!=null&&s(e,["thinkingBudget"],o),e}function BA(t){const e={},n=a(t,["includeThoughts"]);n!=null&&s(e,["includeThoughts"],n);const o=a(t,["thinkingBudget"]);return o!=null&&s(e,["thinkingBudget"],o),e}function HA(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>L1(d))),s(e,["functionDeclarations"],c)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=a(t,["googleSearch"]);o!=null&&s(e,["googleSearch"],z1(o));const i=a(t,["googleSearchRetrieval"]);if(i!=null&&s(e,["googleSearchRetrieval"],B1(i)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&s(e,["urlContext"],JA());const r=a(t,["computerUse"]);r!=null&&s(e,["computerUse"],T1(r));const u=a(t,["codeExecution"]);return u!=null&&s(e,["codeExecution"],u),e}function zA(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>P1(h))),s(e,["functionDeclarations"],p)}const o=a(t,["retrieval"]);o!=null&&s(e,["retrieval"],o);const i=a(t,["googleSearch"]);i!=null&&s(e,["googleSearch"],F1(i));const l=a(t,["googleSearchRetrieval"]);l!=null&&s(e,["googleSearchRetrieval"],H1(l));const r=a(t,["enterpriseWebSearch"]);r!=null&&s(e,["enterpriseWebSearch"],R1(r));const u=a(t,["googleMaps"]);u!=null&&s(e,["googleMaps"],G1(u)),a(t,["urlContext"])!=null&&s(e,["urlContext"],OA());const d=a(t,["computerUse"]);d!=null&&s(e,["computerUse"],S1(d));const m=a(t,["codeExecution"]);return m!=null&&s(e,["codeExecution"],m),e}function wm(t){const e={},n=a(t,["text"]);n!=null&&s(e,["text"],n);const o=a(t,["finished"]);return o!=null&&s(e,["finished"],o),e}function Rm(t){const e={},n=a(t,["text"]);n!=null&&s(e,["text"],n);const o=a(t,["finished"]);return o!=null&&s(e,["finished"],o),e}function FA(t){const e={},n=a(t,["urlMetadata"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>YA(i))),s(e,["urlMetadata"],o)}return e}function JA(){return{}}function OA(){return{}}function YA(t){const e={},n=a(t,["retrievedUrl"]);n!=null&&s(e,["retrievedUrl"],n);const o=a(t,["urlRetrievalStatus"]);return o!=null&&s(e,["urlRetrievalStatus"],o),e}function $A(t){const e={},n=a(t,["promptTokenCount"]);n!=null&&s(e,["promptTokenCount"],n);const o=a(t,["cachedContentTokenCount"]);o!=null&&s(e,["cachedContentTokenCount"],o);const i=a(t,["responseTokenCount"]);i!=null&&s(e,["responseTokenCount"],i);const l=a(t,["toolUsePromptTokenCount"]);l!=null&&s(e,["toolUsePromptTokenCount"],l);const r=a(t,["thoughtsTokenCount"]);r!=null&&s(e,["thoughtsTokenCount"],r);const u=a(t,["totalTokenCount"]);u!=null&&s(e,["totalTokenCount"],u);const c=a(t,["promptTokensDetails"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>kl(g))),s(e,["promptTokensDetails"],h)}const d=a(t,["cacheTokensDetails"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>kl(g))),s(e,["cacheTokensDetails"],h)}const m=a(t,["responseTokensDetails"]);if(m!=null){let h=m;Array.isArray(h)&&(h=h.map(g=>kl(g))),s(e,["responseTokensDetails"],h)}const p=a(t,["toolUsePromptTokensDetails"]);if(p!=null){let h=p;Array.isArray(h)&&(h=h.map(g=>kl(g))),s(e,["toolUsePromptTokensDetails"],h)}return e}function KA(t){const e={},n=a(t,["promptTokenCount"]);n!=null&&s(e,["promptTokenCount"],n);const o=a(t,["cachedContentTokenCount"]);o!=null&&s(e,["cachedContentTokenCount"],o);const i=a(t,["candidatesTokenCount"]);i!=null&&s(e,["responseTokenCount"],i);const l=a(t,["toolUsePromptTokenCount"]);l!=null&&s(e,["toolUsePromptTokenCount"],l);const r=a(t,["thoughtsTokenCount"]);r!=null&&s(e,["thoughtsTokenCount"],r);const u=a(t,["totalTokenCount"]);u!=null&&s(e,["totalTokenCount"],u);const c=a(t,["promptTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(v=>Ul(v))),s(e,["promptTokensDetails"],g)}const d=a(t,["cacheTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>Ul(v))),s(e,["cacheTokensDetails"],g)}const m=a(t,["candidatesTokensDetails"]);if(m!=null){let g=m;Array.isArray(g)&&(g=g.map(v=>Ul(v))),s(e,["responseTokensDetails"],g)}const p=a(t,["toolUsePromptTokensDetails"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(v=>Ul(v))),s(e,["toolUsePromptTokensDetails"],g)}const h=a(t,["trafficType"]);return h!=null&&s(e,["trafficType"],h),e}function QA(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const o=a(t,["endOffset"]);o!=null&&s(e,["endOffset"],o);const i=a(t,["startOffset"]);return i!=null&&s(e,["startOffset"],i),e}function XA(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const o=a(t,["endOffset"]);o!=null&&s(e,["endOffset"],o);const i=a(t,["startOffset"]);return i!=null&&s(e,["startOffset"],i),e}function jA(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const o=a(t,["endOffset"]);o!=null&&s(e,["endOffset"],o);const i=a(t,["startOffset"]);return i!=null&&s(e,["startOffset"],i),e}function ZA(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const o=a(t,["endOffset"]);o!=null&&s(e,["endOffset"],o);const i=a(t,["startOffset"]);return i!=null&&s(e,["startOffset"],i),e}function by(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&s(e,["prebuiltVoiceConfig"],_A(n)),e}function WA(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&s(e,["prebuiltVoiceConfig"],MA(n)),e}function eN(t){const e={},n=a(t,["text"]);n!=null&&s(e,["text"],n);const o=a(t,["weight"]);return o!=null&&s(e,["weight"],o),e}function wy(t){const e={},n=a(t,["text"]);n!=null&&s(e,["text"],n);const o=a(t,["weight"]);return o!=null&&s(e,["weight"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tN(t){const e={},n=a(t,["apiKeyString"]);return n!=null&&s(e,["apiKeyString"],n),e}function nN(t){const e={},n=a(t,["apiKeyConfig"]);n!=null&&s(e,["apiKeyConfig"],tN(n));const o=a(t,["authType"]);o!=null&&s(e,["authType"],o);const i=a(t,["googleServiceAccountConfig"]);i!=null&&s(e,["googleServiceAccountConfig"],i);const l=a(t,["httpBasicAuthConfig"]);l!=null&&s(e,["httpBasicAuthConfig"],l);const r=a(t,["oauthConfig"]);r!=null&&s(e,["oauthConfig"],r);const u=a(t,["oidcConfig"]);return u!=null&&s(e,["oidcConfig"],u),e}function oN(t){const e={},n=a(t,["data"]);n!=null&&s(e,["data"],n);const o=a(t,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function iN(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const o=a(t,["data"]);o!=null&&s(e,["data"],o);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function lN(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&s(e,["data"],n);const o=a(t,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function aN(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const o=a(t,["data"]);o!=null&&s(e,["data"],o);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function sN(t){const e={},n=a(t,["content"]);n!=null&&s(e,["content"],vN(n));const o=a(t,["citationMetadata"]);o!=null&&s(e,["citationMetadata"],cN(o));const i=a(t,["tokenCount"]);i!=null&&s(e,["tokenCount"],i);const l=a(t,["finishReason"]);l!=null&&s(e,["finishReason"],l);const r=a(t,["urlContextMetadata"]);r!=null&&s(e,["urlContextMetadata"],G2(r));const u=a(t,["avgLogprobs"]);u!=null&&s(e,["avgLogprobs"],u);const c=a(t,["groundingMetadata"]);c!=null&&s(e,["groundingMetadata"],c);const d=a(t,["index"]);d!=null&&s(e,["index"],d);const m=a(t,["logprobsResult"]);m!=null&&s(e,["logprobsResult"],m);const p=a(t,["safetyRatings"]);return p!=null&&s(e,["safetyRatings"],p),e}function rN(t){const e={},n=a(t,["content"]);n!=null&&s(e,["content"],TN(n));const o=a(t,["citationMetadata"]);o!=null&&s(e,["citationMetadata"],dN(o));const i=a(t,["finishMessage"]);i!=null&&s(e,["finishMessage"],i);const l=a(t,["finishReason"]);l!=null&&s(e,["finishReason"],l);const r=a(t,["urlContextMetadata"]);r!=null&&s(e,["urlContextMetadata"],B2(r));const u=a(t,["avgLogprobs"]);u!=null&&s(e,["avgLogprobs"],u);const c=a(t,["groundingMetadata"]);c!=null&&s(e,["groundingMetadata"],c);const d=a(t,["index"]);d!=null&&s(e,["index"],d);const m=a(t,["logprobsResult"]);m!=null&&s(e,["logprobsResult"],m);const p=a(t,["safetyRatings"]);return p!=null&&s(e,["safetyRatings"],p),e}function uN(t){const e={},n=a(t,["checkpointId"]);n!=null&&s(e,["checkpointId"],n);const o=a(t,["epoch"]);o!=null&&s(e,["epoch"],o);const i=a(t,["step"]);return i!=null&&s(e,["step"],i),e}function cN(t){const e={},n=a(t,["citationSources"]);return n!=null&&s(e,["citations"],n),e}function dN(t){const e={},n=a(t,["citations"]);return n!=null&&s(e,["citations"],n),e}function fN(t,e){const n={},o=a(e,["model"]);o!=null&&s(n,["_url","model"],ne(t,o));const i=a(e,["contents"]);if(i!=null){let l=xt(i);Array.isArray(l)&&(l=l.map(r=>ai(r))),s(n,["contents"],l)}return n}function mN(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const o=a(t,["tokensInfo"]);return o!=null&&s(e,["tokensInfo"],o),e}function pN(t){const e={},n=a(t,["environment"]);n!=null&&s(e,["environment"],n);const o=a(t,["excludedPredefinedFunctions"]);return o!=null&&s(e,["excludedPredefinedFunctions"],o),e}function hN(t){const e={},n=a(t,["environment"]);n!=null&&s(e,["environment"],n);const o=a(t,["excludedPredefinedFunctions"]);return o!=null&&s(e,["excludedPredefinedFunctions"],o),e}function gN(t){const e={},n=a(t,["values"]);return n!=null&&s(e,["values"],n),e}function yN(t){const e={},n=a(t,["values"]);n!=null&&s(e,["values"],n);const o=a(t,["statistics"]);return o!=null&&s(e,["statistics"],xN(o)),e}function xN(t){const e={},n=a(t,["truncated"]);n!=null&&s(e,["truncated"],n);const o=a(t,["token_count"]);return o!=null&&s(e,["tokenCount"],o),e}function vN(t){const e={},n=a(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>j_(l))),s(e,["parts"],i)}const o=a(t,["role"]);return o!=null&&s(e,["role"],o),e}function TN(t){const e={},n=a(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>Z_(l))),s(e,["parts"],i)}const o=a(t,["role"]);return o!=null&&s(e,["role"],o),e}function is(t){const e={},n=a(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>W_(l))),s(e,["parts"],i)}const o=a(t,["role"]);return o!=null&&s(e,["role"],o),e}function ai(t){const e={},n=a(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>e2(l))),s(e,["parts"],i)}const o=a(t,["role"]);return o!=null&&s(e,["role"],o),e}function SN(t){const e={},n=a(t,["controlType"]);n!=null&&s(e,["controlType"],n);const o=a(t,["enableControlImageComputation"]);return o!=null&&s(e,["computeControl"],o),e}function CN(t){const e={};if(a(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(a(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(a(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function EN(t,e){const n={},o=a(t,["systemInstruction"]);e!==void 0&&o!=null&&s(e,["systemInstruction"],ai(Be(o)));const i=a(t,["tools"]);if(e!==void 0&&i!=null){let r=i;Array.isArray(r)&&(r=r.map(u=>Uy(u))),s(e,["tools"],r)}const l=a(t,["generationConfig"]);return e!==void 0&&l!=null&&s(e,["generationConfig"],l),n}function AN(t,e){const n={},o=a(e,["model"]);o!=null&&s(n,["_url","model"],ne(t,o));const i=a(e,["contents"]);if(i!=null){let r=xt(i);Array.isArray(r)&&(r=r.map(u=>is(u))),s(n,["contents"],r)}const l=a(e,["config"]);return l!=null&&CN(l),n}function NN(t,e){const n={},o=a(e,["model"]);o!=null&&s(n,["_url","model"],ne(t,o));const i=a(e,["contents"]);if(i!=null){let r=xt(i);Array.isArray(r)&&(r=r.map(u=>ai(u))),s(n,["contents"],r)}const l=a(e,["config"]);return l!=null&&EN(l,n),n}function _N(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const o=a(t,["totalTokens"]);o!=null&&s(e,["totalTokens"],o);const i=a(t,["cachedContentTokenCount"]);return i!=null&&s(e,["cachedContentTokenCount"],i),e}function MN(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const o=a(t,["totalTokens"]);return o!=null&&s(e,["totalTokens"],o),e}function bN(t,e){const n={},o=a(e,["model"]);return o!=null&&s(n,["_url","name"],ne(t,o)),n}function wN(t,e){const n={},o=a(e,["model"]);return o!=null&&s(n,["_url","name"],ne(t,o)),n}function RN(t){const e={},n=a(t,["sdkHttpResponse"]);return n!=null&&s(e,["sdkHttpResponse"],n),e}function DN(t){const e={},n=a(t,["sdkHttpResponse"]);return n!=null&&s(e,["sdkHttpResponse"],n),e}function IN(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const o=a(t,["dynamicThreshold"]);return o!=null&&s(e,["dynamicThreshold"],o),e}function kN(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const o=a(t,["dynamicThreshold"]);return o!=null&&s(e,["dynamicThreshold"],o),e}function UN(t,e){const n={},o=a(t,["outputGcsUri"]);e!==void 0&&o!=null&&s(e,["parameters","storageUri"],o);const i=a(t,["negativePrompt"]);e!==void 0&&i!=null&&s(e,["parameters","negativePrompt"],i);const l=a(t,["numberOfImages"]);e!==void 0&&l!=null&&s(e,["parameters","sampleCount"],l);const r=a(t,["aspectRatio"]);e!==void 0&&r!=null&&s(e,["parameters","aspectRatio"],r);const u=a(t,["guidanceScale"]);e!==void 0&&u!=null&&s(e,["parameters","guidanceScale"],u);const c=a(t,["seed"]);e!==void 0&&c!=null&&s(e,["parameters","seed"],c);const d=a(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&s(e,["parameters","safetySetting"],d);const m=a(t,["personGeneration"]);e!==void 0&&m!=null&&s(e,["parameters","personGeneration"],m);const p=a(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&s(e,["parameters","includeSafetyAttributes"],p);const h=a(t,["includeRaiReason"]);e!==void 0&&h!=null&&s(e,["parameters","includeRaiReason"],h);const g=a(t,["language"]);e!==void 0&&g!=null&&s(e,["parameters","language"],g);const v=a(t,["outputMimeType"]);e!==void 0&&v!=null&&s(e,["parameters","outputOptions","mimeType"],v);const C=a(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&s(e,["parameters","outputOptions","compressionQuality"],C);const E=a(t,["addWatermark"]);e!==void 0&&E!=null&&s(e,["parameters","addWatermark"],E);const x=a(t,["editMode"]);e!==void 0&&x!=null&&s(e,["parameters","editMode"],x);const y=a(t,["baseSteps"]);return e!==void 0&&y!=null&&s(e,["parameters","editConfig","baseSteps"],y),n}function qN(t,e){const n={},o=a(e,["model"]);o!=null&&s(n,["_url","model"],ne(t,o));const i=a(e,["prompt"]);i!=null&&s(n,["instances[0]","prompt"],i);const l=a(e,["referenceImages"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>r2(c))),s(n,["instances[0]","referenceImages"],u)}const r=a(e,["config"]);return r!=null&&UN(r,n),n}function VN(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const o=a(t,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>ls(l))),s(e,["generatedImages"],i)}return e}function LN(t,e){const n={},o=a(t,["taskType"]);e!==void 0&&o!=null&&s(e,["requests[]","taskType"],o);const i=a(t,["title"]);e!==void 0&&i!=null&&s(e,["requests[]","title"],i);const l=a(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&s(e,["requests[]","outputDimensionality"],l),a(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function PN(t,e){const n={},o=a(t,["taskType"]);e!==void 0&&o!=null&&s(e,["instances[]","task_type"],o);const i=a(t,["title"]);e!==void 0&&i!=null&&s(e,["instances[]","title"],i);const l=a(t,["outputDimensionality"]);e!==void 0&&l!=null&&s(e,["parameters","outputDimensionality"],l);const r=a(t,["mimeType"]);e!==void 0&&r!=null&&s(e,["instances[]","mimeType"],r);const u=a(t,["autoTruncate"]);return e!==void 0&&u!=null&&s(e,["parameters","autoTruncate"],u),n}function GN(){return{}}function BN(t){const e={},n=a(t,["billableCharacterCount"]);return n!=null&&s(e,["billableCharacterCount"],n),e}function HN(t,e){const n={},o=a(e,["model"]);o!=null&&s(n,["_url","model"],ne(t,o));const i=a(e,["contents"]);i!=null&&s(n,["requests[]","content"],vc(t,i));const l=a(e,["config"]);l!=null&&LN(l,n);const r=a(e,["model"]);return r!==void 0&&s(n,["requests[]","model"],ne(t,r)),n}function zN(t,e){const n={},o=a(e,["model"]);o!=null&&s(n,["_url","model"],ne(t,o));const i=a(e,["contents"]);i!=null&&s(n,["instances[]","content"],vc(t,i));const l=a(e,["config"]);return l!=null&&PN(l,n),n}function FN(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const o=a(t,["embeddings"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(r=>gN(r))),s(e,["embeddings"],l)}return a(t,["metadata"])!=null&&s(e,["metadata"],GN()),e}function JN(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const o=a(t,["predictions[]","embeddings"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(r=>yN(r))),s(e,["embeddings"],l)}const i=a(t,["metadata"]);return i!=null&&s(e,["metadata"],BN(i)),e}function ON(t){const e={},n=a(t,["endpoint"]);n!=null&&s(e,["name"],n);const o=a(t,["deployedModelId"]);return o!=null&&s(e,["deployedModelId"],o),e}function YN(t){const e={},n=a(t,["excludeDomains"]);return n!=null&&s(e,["excludeDomains"],n),e}function $N(t){const e={},n=a(t,["label"]);n!=null&&s(e,["label"],n);const o=a(t,["score"]);return o!=null&&s(e,["score"],o),e}function KN(t){const e={},n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const o=a(t,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function QN(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const o=a(t,["fileUri"]);o!=null&&s(e,["fileUri"],o);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function XN(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const o=a(t,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function jN(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const o=a(t,["fileUri"]);o!=null&&s(e,["fileUri"],o);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function ZN(t){const e={},n=a(t,["id"]);n!=null&&s(e,["id"],n);const o=a(t,["args"]);o!=null&&s(e,["args"],o);const i=a(t,["name"]);return i!=null&&s(e,["name"],i),e}function WN(t){const e={},n=a(t,["id"]);n!=null&&s(e,["id"],n);const o=a(t,["args"]);o!=null&&s(e,["args"],o);const i=a(t,["name"]);return i!=null&&s(e,["name"],i),e}function e_(t){const e={},n=a(t,["id"]);n!=null&&s(e,["id"],n);const o=a(t,["args"]);o!=null&&s(e,["args"],o);const i=a(t,["name"]);return i!=null&&s(e,["name"],i),e}function t_(t){const e={},n=a(t,["id"]);n!=null&&s(e,["id"],n);const o=a(t,["args"]);o!=null&&s(e,["args"],o);const i=a(t,["name"]);return i!=null&&s(e,["name"],i),e}function n_(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const o=a(t,["allowedFunctionNames"]);return o!=null&&s(e,["allowedFunctionNames"],o),e}function o_(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const o=a(t,["allowedFunctionNames"]);return o!=null&&s(e,["allowedFunctionNames"],o),e}function i_(t){const e={},n=a(t,["behavior"]);n!=null&&s(e,["behavior"],n);const o=a(t,["description"]);o!=null&&s(e,["description"],o);const i=a(t,["name"]);i!=null&&s(e,["name"],i);const l=a(t,["parameters"]);l!=null&&s(e,["parameters"],l);const r=a(t,["parametersJsonSchema"]);r!=null&&s(e,["parametersJsonSchema"],r);const u=a(t,["response"]);u!=null&&s(e,["response"],u);const c=a(t,["responseJsonSchema"]);return c!=null&&s(e,["responseJsonSchema"],c),e}function l_(t){const e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(t,["description"]);n!=null&&s(e,["description"],n);const o=a(t,["name"]);o!=null&&s(e,["name"],o);const i=a(t,["parameters"]);i!=null&&s(e,["parameters"],i);const l=a(t,["parametersJsonSchema"]);l!=null&&s(e,["parametersJsonSchema"],l);const r=a(t,["response"]);r!=null&&s(e,["response"],r);const u=a(t,["responseJsonSchema"]);return u!=null&&s(e,["responseJsonSchema"],u),e}function a_(t,e,n){const o={},i=a(e,["systemInstruction"]);n!==void 0&&i!=null&&s(n,["systemInstruction"],is(Be(i)));const l=a(e,["temperature"]);l!=null&&s(o,["temperature"],l);const r=a(e,["topP"]);r!=null&&s(o,["topP"],r);const u=a(e,["topK"]);u!=null&&s(o,["topK"],u);const c=a(e,["candidateCount"]);c!=null&&s(o,["candidateCount"],c);const d=a(e,["maxOutputTokens"]);d!=null&&s(o,["maxOutputTokens"],d);const m=a(e,["stopSequences"]);m!=null&&s(o,["stopSequences"],m);const p=a(e,["responseLogprobs"]);p!=null&&s(o,["responseLogprobs"],p);const h=a(e,["logprobs"]);h!=null&&s(o,["logprobs"],h);const g=a(e,["presencePenalty"]);g!=null&&s(o,["presencePenalty"],g);const v=a(e,["frequencyPenalty"]);v!=null&&s(o,["frequencyPenalty"],v);const C=a(e,["seed"]);C!=null&&s(o,["seed"],C);const E=a(e,["responseMimeType"]);E!=null&&s(o,["responseMimeType"],E);const x=a(e,["responseSchema"]);x!=null&&s(o,["responseSchema"],m2(Tc(x)));const y=a(e,["responseJsonSchema"]);if(y!=null&&s(o,["responseJsonSchema"],y),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=a(e,["safetySettings"]);if(n!==void 0&&T!=null){let O=T;Array.isArray(O)&&(O=O.map(B=>d2(B))),s(n,["safetySettings"],O)}const S=a(e,["tools"]);if(n!==void 0&&S!=null){let O=ii(S);Array.isArray(O)&&(O=O.map(B=>w2(oi(B)))),s(n,["tools"],O)}const N=a(e,["toolConfig"]);if(n!==void 0&&N!=null&&s(n,["toolConfig"],M2(N)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=a(e,["cachedContent"]);n!==void 0&&R!=null&&s(n,["cachedContent"],Wt(t,R));const _=a(e,["responseModalities"]);_!=null&&s(o,["responseModalities"],_);const U=a(e,["mediaResolution"]);U!=null&&s(o,["mediaResolution"],U);const b=a(e,["speechConfig"]);if(b!=null&&s(o,["speechConfig"],S2(Sc(b))),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const I=a(e,["thinkingConfig"]);I!=null&&s(o,["thinkingConfig"],N2(I));const J=a(e,["imageConfig"]);return J!=null&&s(o,["imageConfig"],q_(J)),o}function s_(t,e,n){const o={},i=a(e,["systemInstruction"]);n!==void 0&&i!=null&&s(n,["systemInstruction"],ai(Be(i)));const l=a(e,["temperature"]);l!=null&&s(o,["temperature"],l);const r=a(e,["topP"]);r!=null&&s(o,["topP"],r);const u=a(e,["topK"]);u!=null&&s(o,["topK"],u);const c=a(e,["candidateCount"]);c!=null&&s(o,["candidateCount"],c);const d=a(e,["maxOutputTokens"]);d!=null&&s(o,["maxOutputTokens"],d);const m=a(e,["stopSequences"]);m!=null&&s(o,["stopSequences"],m);const p=a(e,["responseLogprobs"]);p!=null&&s(o,["responseLogprobs"],p);const h=a(e,["logprobs"]);h!=null&&s(o,["logprobs"],h);const g=a(e,["presencePenalty"]);g!=null&&s(o,["presencePenalty"],g);const v=a(e,["frequencyPenalty"]);v!=null&&s(o,["frequencyPenalty"],v);const C=a(e,["seed"]);C!=null&&s(o,["seed"],C);const E=a(e,["responseMimeType"]);E!=null&&s(o,["responseMimeType"],E);const x=a(e,["responseSchema"]);x!=null&&s(o,["responseSchema"],p2(Tc(x)));const y=a(e,["responseJsonSchema"]);y!=null&&s(o,["responseJsonSchema"],y);const T=a(e,["routingConfig"]);T!=null&&s(o,["routingConfig"],T);const S=a(e,["modelSelectionConfig"]);S!=null&&s(o,["modelConfig"],Q_(S));const N=a(e,["safetySettings"]);if(n!==void 0&&N!=null){let k=N;Array.isArray(k)&&(k=k.map(H=>f2(H))),s(n,["safetySettings"],k)}const R=a(e,["tools"]);if(n!==void 0&&R!=null){let k=ii(R);Array.isArray(k)&&(k=k.map(H=>Uy(oi(H)))),s(n,["tools"],k)}const _=a(e,["toolConfig"]);n!==void 0&&_!=null&&s(n,["toolConfig"],b2(_));const U=a(e,["labels"]);n!==void 0&&U!=null&&s(n,["labels"],U);const b=a(e,["cachedContent"]);n!==void 0&&b!=null&&s(n,["cachedContent"],Wt(t,b));const I=a(e,["responseModalities"]);I!=null&&s(o,["responseModalities"],I);const J=a(e,["mediaResolution"]);J!=null&&s(o,["mediaResolution"],J);const O=a(e,["speechConfig"]);O!=null&&s(o,["speechConfig"],C2(Sc(O)));const B=a(e,["audioTimestamp"]);B!=null&&s(o,["audioTimestamp"],B);const q=a(e,["thinkingConfig"]);q!=null&&s(o,["thinkingConfig"],_2(q));const le=a(e,["imageConfig"]);return le!=null&&s(o,["imageConfig"],V_(le)),o}function Dm(t,e){const n={},o=a(e,["model"]);o!=null&&s(n,["_url","model"],ne(t,o));const i=a(e,["contents"]);if(i!=null){let r=xt(i);Array.isArray(r)&&(r=r.map(u=>is(u))),s(n,["contents"],r)}const l=a(e,["config"]);return l!=null&&s(n,["generationConfig"],a_(t,l,n)),n}function Im(t,e){const n={},o=a(e,["model"]);o!=null&&s(n,["_url","model"],ne(t,o));const i=a(e,["contents"]);if(i!=null){let r=xt(i);Array.isArray(r)&&(r=r.map(u=>ai(u))),s(n,["contents"],r)}const l=a(e,["config"]);return l!=null&&s(n,["generationConfig"],s_(t,l,n)),n}function km(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const o=a(t,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>sN(d))),s(e,["candidates"],c)}const i=a(t,["modelVersion"]);i!=null&&s(e,["modelVersion"],i);const l=a(t,["promptFeedback"]);l!=null&&s(e,["promptFeedback"],l);const r=a(t,["responseId"]);r!=null&&s(e,["responseId"],r);const u=a(t,["usageMetadata"]);return u!=null&&s(e,["usageMetadata"],u),e}function Um(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const o=a(t,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>rN(m))),s(e,["candidates"],d)}const i=a(t,["createTime"]);i!=null&&s(e,["createTime"],i);const l=a(t,["modelVersion"]);l!=null&&s(e,["modelVersion"],l);const r=a(t,["promptFeedback"]);r!=null&&s(e,["promptFeedback"],r);const u=a(t,["responseId"]);u!=null&&s(e,["responseId"],u);const c=a(t,["usageMetadata"]);return c!=null&&s(e,["usageMetadata"],c),e}function r_(t,e){const n={};if(a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=a(t,["numberOfImages"]);e!==void 0&&o!=null&&s(e,["parameters","sampleCount"],o);const i=a(t,["aspectRatio"]);e!==void 0&&i!=null&&s(e,["parameters","aspectRatio"],i);const l=a(t,["guidanceScale"]);if(e!==void 0&&l!=null&&s(e,["parameters","guidanceScale"],l),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const r=a(t,["safetyFilterLevel"]);e!==void 0&&r!=null&&s(e,["parameters","safetySetting"],r);const u=a(t,["personGeneration"]);e!==void 0&&u!=null&&s(e,["parameters","personGeneration"],u);const c=a(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&s(e,["parameters","includeSafetyAttributes"],c);const d=a(t,["includeRaiReason"]);e!==void 0&&d!=null&&s(e,["parameters","includeRaiReason"],d);const m=a(t,["language"]);e!==void 0&&m!=null&&s(e,["parameters","language"],m);const p=a(t,["outputMimeType"]);e!==void 0&&p!=null&&s(e,["parameters","outputOptions","mimeType"],p);const h=a(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&s(e,["parameters","outputOptions","compressionQuality"],h),a(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const g=a(t,["imageSize"]);if(e!==void 0&&g!=null&&s(e,["parameters","sampleImageSize"],g),a(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function u_(t,e){const n={},o=a(t,["outputGcsUri"]);e!==void 0&&o!=null&&s(e,["parameters","storageUri"],o);const i=a(t,["negativePrompt"]);e!==void 0&&i!=null&&s(e,["parameters","negativePrompt"],i);const l=a(t,["numberOfImages"]);e!==void 0&&l!=null&&s(e,["parameters","sampleCount"],l);const r=a(t,["aspectRatio"]);e!==void 0&&r!=null&&s(e,["parameters","aspectRatio"],r);const u=a(t,["guidanceScale"]);e!==void 0&&u!=null&&s(e,["parameters","guidanceScale"],u);const c=a(t,["seed"]);e!==void 0&&c!=null&&s(e,["parameters","seed"],c);const d=a(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&s(e,["parameters","safetySetting"],d);const m=a(t,["personGeneration"]);e!==void 0&&m!=null&&s(e,["parameters","personGeneration"],m);const p=a(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&s(e,["parameters","includeSafetyAttributes"],p);const h=a(t,["includeRaiReason"]);e!==void 0&&h!=null&&s(e,["parameters","includeRaiReason"],h);const g=a(t,["language"]);e!==void 0&&g!=null&&s(e,["parameters","language"],g);const v=a(t,["outputMimeType"]);e!==void 0&&v!=null&&s(e,["parameters","outputOptions","mimeType"],v);const C=a(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&s(e,["parameters","outputOptions","compressionQuality"],C);const E=a(t,["addWatermark"]);e!==void 0&&E!=null&&s(e,["parameters","addWatermark"],E);const x=a(t,["imageSize"]);e!==void 0&&x!=null&&s(e,["parameters","sampleImageSize"],x);const y=a(t,["enhancePrompt"]);return e!==void 0&&y!=null&&s(e,["parameters","enhancePrompt"],y),n}function c_(t,e){const n={},o=a(e,["model"]);o!=null&&s(n,["_url","model"],ne(t,o));const i=a(e,["prompt"]);i!=null&&s(n,["instances[0]","prompt"],i);const l=a(e,["config"]);return l!=null&&r_(l,n),n}function d_(t,e){const n={},o=a(e,["model"]);o!=null&&s(n,["_url","model"],ne(t,o));const i=a(e,["prompt"]);i!=null&&s(n,["instances[0]","prompt"],i);const l=a(e,["config"]);return l!=null&&u_(l,n),n}function f_(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const o=a(t,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(r=>A_(r))),s(e,["generatedImages"],l)}const i=a(t,["positivePromptSafetyAttributes"]);return i!=null&&s(e,["positivePromptSafetyAttributes"],Iy(i)),e}function m_(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const o=a(t,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(r=>ls(r))),s(e,["generatedImages"],l)}const i=a(t,["positivePromptSafetyAttributes"]);return i!=null&&s(e,["positivePromptSafetyAttributes"],ky(i)),e}function p_(t,e){const n={},o=a(t,["numberOfVideos"]);if(e!==void 0&&o!=null&&s(e,["parameters","sampleCount"],o),a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=a(t,["durationSeconds"]);if(e!==void 0&&i!=null&&s(e,["parameters","durationSeconds"],i),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=a(t,["aspectRatio"]);e!==void 0&&l!=null&&s(e,["parameters","aspectRatio"],l);const r=a(t,["resolution"]);e!==void 0&&r!=null&&s(e,["parameters","resolution"],r);const u=a(t,["personGeneration"]);if(e!==void 0&&u!=null&&s(e,["parameters","personGeneration"],u),a(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=a(t,["negativePrompt"]);e!==void 0&&c!=null&&s(e,["parameters","negativePrompt"],c);const d=a(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&s(e,["parameters","enhancePrompt"],d),a(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(a(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(a(t,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(a(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(a(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function h_(t,e){const n={},o=a(t,["numberOfVideos"]);e!==void 0&&o!=null&&s(e,["parameters","sampleCount"],o);const i=a(t,["outputGcsUri"]);e!==void 0&&i!=null&&s(e,["parameters","storageUri"],i);const l=a(t,["fps"]);e!==void 0&&l!=null&&s(e,["parameters","fps"],l);const r=a(t,["durationSeconds"]);e!==void 0&&r!=null&&s(e,["parameters","durationSeconds"],r);const u=a(t,["seed"]);e!==void 0&&u!=null&&s(e,["parameters","seed"],u);const c=a(t,["aspectRatio"]);e!==void 0&&c!=null&&s(e,["parameters","aspectRatio"],c);const d=a(t,["resolution"]);e!==void 0&&d!=null&&s(e,["parameters","resolution"],d);const m=a(t,["personGeneration"]);e!==void 0&&m!=null&&s(e,["parameters","personGeneration"],m);const p=a(t,["pubsubTopic"]);e!==void 0&&p!=null&&s(e,["parameters","pubsubTopic"],p);const h=a(t,["negativePrompt"]);e!==void 0&&h!=null&&s(e,["parameters","negativePrompt"],h);const g=a(t,["enhancePrompt"]);e!==void 0&&g!=null&&s(e,["parameters","enhancePrompt"],g);const v=a(t,["generateAudio"]);e!==void 0&&v!=null&&s(e,["parameters","generateAudio"],v);const C=a(t,["lastFrame"]);e!==void 0&&C!=null&&s(e,["instances[0]","lastFrame"],At(C));const E=a(t,["referenceImages"]);if(e!==void 0&&E!=null){let T=E;Array.isArray(T)&&(T=T.map(S=>K2(S))),s(e,["instances[0]","referenceImages"],T)}const x=a(t,["mask"]);e!==void 0&&x!=null&&s(e,["instances[0]","mask"],$2(x));const y=a(t,["compressionQuality"]);return e!==void 0&&y!=null&&s(e,["parameters","compressionQuality"],y),n}function g_(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const o=a(t,["metadata"]);o!=null&&s(e,["metadata"],o);const i=a(t,["done"]);i!=null&&s(e,["done"],i);const l=a(t,["error"]);l!=null&&s(e,["error"],l);const r=a(t,["response","generateVideoResponse"]);return r!=null&&s(e,["response"],T_(r)),e}function y_(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const o=a(t,["metadata"]);o!=null&&s(e,["metadata"],o);const i=a(t,["done"]);i!=null&&s(e,["done"],i);const l=a(t,["error"]);l!=null&&s(e,["error"],l);const r=a(t,["response"]);return r!=null&&s(e,["response"],S_(r)),e}function x_(t,e){const n={},o=a(e,["model"]);o!=null&&s(n,["_url","model"],ne(t,o));const i=a(e,["prompt"]);i!=null&&s(n,["instances[0]","prompt"],i);const l=a(e,["image"]);if(l!=null&&s(n,["instances[0]","image"],Dy(l)),a(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const r=a(e,["source"]);r!=null&&C_(r,n);const u=a(e,["config"]);return u!=null&&p_(u,n),n}function v_(t,e){const n={},o=a(e,["model"]);o!=null&&s(n,["_url","model"],ne(t,o));const i=a(e,["prompt"]);i!=null&&s(n,["instances[0]","prompt"],i);const l=a(e,["image"]);l!=null&&s(n,["instances[0]","image"],At(l));const r=a(e,["video"]);r!=null&&s(n,["instances[0]","video"],qy(r));const u=a(e,["source"]);u!=null&&E_(u,n);const c=a(e,["config"]);return c!=null&&h_(c,n),n}function T_(t){const e={},n=a(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(r=>__(r))),s(e,["generatedVideos"],l)}const o=a(t,["raiMediaFilteredCount"]);o!=null&&s(e,["raiMediaFilteredCount"],o);const i=a(t,["raiMediaFilteredReasons"]);return i!=null&&s(e,["raiMediaFilteredReasons"],i),e}function S_(t){const e={},n=a(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(r=>M_(r))),s(e,["generatedVideos"],l)}const o=a(t,["raiMediaFilteredCount"]);o!=null&&s(e,["raiMediaFilteredCount"],o);const i=a(t,["raiMediaFilteredReasons"]);return i!=null&&s(e,["raiMediaFilteredReasons"],i),e}function C_(t,e){const n={},o=a(t,["prompt"]);e!==void 0&&o!=null&&s(e,["instances[0]","prompt"],o);const i=a(t,["image"]);if(e!==void 0&&i!=null&&s(e,["instances[0]","image"],Dy(i)),a(t,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");return n}function E_(t,e){const n={},o=a(t,["prompt"]);e!==void 0&&o!=null&&s(e,["instances[0]","prompt"],o);const i=a(t,["image"]);e!==void 0&&i!=null&&s(e,["instances[0]","image"],At(i));const l=a(t,["video"]);return e!==void 0&&l!=null&&s(e,["instances[0]","video"],qy(l)),n}function A_(t){const e={},n=a(t,["_self"]);n!=null&&s(e,["image"],L_(n));const o=a(t,["raiFilteredReason"]);o!=null&&s(e,["raiFilteredReason"],o);const i=a(t,["_self"]);return i!=null&&s(e,["safetyAttributes"],Iy(i)),e}function ls(t){const e={},n=a(t,["_self"]);n!=null&&s(e,["image"],Ry(n));const o=a(t,["raiFilteredReason"]);o!=null&&s(e,["raiFilteredReason"],o);const i=a(t,["_self"]);i!=null&&s(e,["safetyAttributes"],ky(i));const l=a(t,["prompt"]);return l!=null&&s(e,["enhancedPrompt"],l),e}function N_(t){const e={},n=a(t,["_self"]);n!=null&&s(e,["mask"],Ry(n));const o=a(t,["labels"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>$N(l))),s(e,["labels"],i)}return e}function __(t){const e={},n=a(t,["_self"]);return n!=null&&s(e,["video"],O2(n)),e}function M_(t){const e={},n=a(t,["_self"]);return n!=null&&s(e,["video"],Y2(n)),e}function b_(t,e){const n={},o=a(e,["model"]);return o!=null&&s(n,["_url","name"],ne(t,o)),n}function w_(t,e){const n={},o=a(e,["model"]);return o!=null&&s(n,["_url","name"],ne(t,o)),n}function R_(t){const e={},n=a(t,["authConfig"]);return n!=null&&s(e,["authConfig"],nN(n)),e}function D_(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],IN(n)),e}function I_(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],kN(n)),e}function k_(t){const e={},n=a(t,["timeRangeFilter"]);if(n!=null&&s(e,["timeRangeFilter"],P_(n)),a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function U_(t){const e={},n=a(t,["timeRangeFilter"]);n!=null&&s(e,["timeRangeFilter"],G_(n));const o=a(t,["excludeDomains"]);return o!=null&&s(e,["excludeDomains"],o),e}function q_(t){const e={},n=a(t,["aspectRatio"]);return n!=null&&s(e,["aspectRatio"],n),e}function V_(t){const e={},n=a(t,["aspectRatio"]);return n!=null&&s(e,["aspectRatio"],n),e}function L_(t){const e={},n=a(t,["bytesBase64Encoded"]);n!=null&&s(e,["imageBytes"],eo(n));const o=a(t,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function Ry(t){const e={},n=a(t,["gcsUri"]);n!=null&&s(e,["gcsUri"],n);const o=a(t,["bytesBase64Encoded"]);o!=null&&s(e,["imageBytes"],eo(o));const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function Dy(t){const e={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=a(t,["imageBytes"]);n!=null&&s(e,["bytesBase64Encoded"],eo(n));const o=a(t,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function At(t){const e={},n=a(t,["gcsUri"]);n!=null&&s(e,["gcsUri"],n);const o=a(t,["imageBytes"]);o!=null&&s(e,["bytesBase64Encoded"],eo(o));const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function P_(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const o=a(t,["endTime"]);return o!=null&&s(e,["endTime"],o),e}function G_(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const o=a(t,["endTime"]);return o!=null&&s(e,["endTime"],o),e}function B_(t){const e={},n=a(t,["latitude"]);n!=null&&s(e,["latitude"],n);const o=a(t,["longitude"]);return o!=null&&s(e,["longitude"],o),e}function H_(t){const e={},n=a(t,["latitude"]);n!=null&&s(e,["latitude"],n);const o=a(t,["longitude"]);return o!=null&&s(e,["longitude"],o),e}function z_(t,e,n){const o={},i=a(e,["pageSize"]);n!==void 0&&i!=null&&s(n,["_query","pageSize"],i);const l=a(e,["pageToken"]);n!==void 0&&l!=null&&s(n,["_query","pageToken"],l);const r=a(e,["filter"]);n!==void 0&&r!=null&&s(n,["_query","filter"],r);const u=a(e,["queryBase"]);return n!==void 0&&u!=null&&s(n,["_url","models_url"],py(t,u)),o}function F_(t,e,n){const o={},i=a(e,["pageSize"]);n!==void 0&&i!=null&&s(n,["_query","pageSize"],i);const l=a(e,["pageToken"]);n!==void 0&&l!=null&&s(n,["_query","pageToken"],l);const r=a(e,["filter"]);n!==void 0&&r!=null&&s(n,["_query","filter"],r);const u=a(e,["queryBase"]);return n!==void 0&&u!=null&&s(n,["_url","models_url"],py(t,u)),o}function J_(t,e){const n={},o=a(e,["config"]);return o!=null&&z_(t,o,n),n}function O_(t,e){const n={},o=a(e,["config"]);return o!=null&&F_(t,o,n),n}function Y_(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const o=a(t,["nextPageToken"]);o!=null&&s(e,["nextPageToken"],o);const i=a(t,["_self"]);if(i!=null){let l=hy(i);Array.isArray(l)&&(l=l.map(r=>mu(r))),s(e,["models"],l)}return e}function $_(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const o=a(t,["nextPageToken"]);o!=null&&s(e,["nextPageToken"],o);const i=a(t,["_self"]);if(i!=null){let l=hy(i);Array.isArray(l)&&(l=l.map(r=>pu(r))),s(e,["models"],l)}return e}function K_(t){const e={},n=a(t,["maskMode"]);n!=null&&s(e,["maskMode"],n);const o=a(t,["segmentationClasses"]);o!=null&&s(e,["maskClasses"],o);const i=a(t,["maskDilation"]);return i!=null&&s(e,["dilation"],i),e}function mu(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const o=a(t,["displayName"]);o!=null&&s(e,["displayName"],o);const i=a(t,["description"]);i!=null&&s(e,["description"],i);const l=a(t,["version"]);l!=null&&s(e,["version"],l);const r=a(t,["_self"]);r!=null&&s(e,["tunedModelInfo"],R2(r));const u=a(t,["inputTokenLimit"]);u!=null&&s(e,["inputTokenLimit"],u);const c=a(t,["outputTokenLimit"]);c!=null&&s(e,["outputTokenLimit"],c);const d=a(t,["supportedGenerationMethods"]);return d!=null&&s(e,["supportedActions"],d),e}function pu(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const o=a(t,["displayName"]);o!=null&&s(e,["displayName"],o);const i=a(t,["description"]);i!=null&&s(e,["description"],i);const l=a(t,["versionId"]);l!=null&&s(e,["version"],l);const r=a(t,["deployedModels"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(h=>ON(h))),s(e,["endpoints"],p)}const u=a(t,["labels"]);u!=null&&s(e,["labels"],u);const c=a(t,["_self"]);c!=null&&s(e,["tunedModelInfo"],D2(c));const d=a(t,["defaultCheckpointId"]);d!=null&&s(e,["defaultCheckpointId"],d);const m=a(t,["checkpoints"]);if(m!=null){let p=m;Array.isArray(p)&&(p=p.map(h=>uN(h))),s(e,["checkpoints"],p)}return e}function Q_(t){const e={},n=a(t,["featureSelectionPreference"]);return n!=null&&s(e,["featureSelectionPreference"],n),e}function X_(t){const e={},n=a(t,["speakerVoiceConfigs"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>T2(i))),s(e,["speakerVoiceConfigs"],o)}return e}function j_(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],Q2(n));const o=a(t,["thought"]);o!=null&&s(e,["thought"],o);const i=a(t,["inlineData"]);i!=null&&s(e,["inlineData"],oN(i));const l=a(t,["fileData"]);l!=null&&s(e,["fileData"],KN(l));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["functionCall"]);u!=null&&s(e,["functionCall"],ZN(u));const c=a(t,["codeExecutionResult"]);c!=null&&s(e,["codeExecutionResult"],c);const d=a(t,["executableCode"]);d!=null&&s(e,["executableCode"],d);const m=a(t,["functionResponse"]);m!=null&&s(e,["functionResponse"],m);const p=a(t,["text"]);return p!=null&&s(e,["text"],p),e}function Z_(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],X2(n));const o=a(t,["thought"]);o!=null&&s(e,["thought"],o);const i=a(t,["inlineData"]);i!=null&&s(e,["inlineData"],iN(i));const l=a(t,["fileData"]);l!=null&&s(e,["fileData"],QN(l));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["functionCall"]);u!=null&&s(e,["functionCall"],WN(u));const c=a(t,["codeExecutionResult"]);c!=null&&s(e,["codeExecutionResult"],c);const d=a(t,["executableCode"]);d!=null&&s(e,["executableCode"],d);const m=a(t,["functionResponse"]);m!=null&&s(e,["functionResponse"],m);const p=a(t,["text"]);return p!=null&&s(e,["text"],p),e}function W_(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],j2(n));const o=a(t,["thought"]);o!=null&&s(e,["thought"],o);const i=a(t,["inlineData"]);i!=null&&s(e,["inlineData"],lN(i));const l=a(t,["fileData"]);l!=null&&s(e,["fileData"],XN(l));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["functionCall"]);u!=null&&s(e,["functionCall"],e_(u));const c=a(t,["codeExecutionResult"]);c!=null&&s(e,["codeExecutionResult"],c);const d=a(t,["executableCode"]);d!=null&&s(e,["executableCode"],d);const m=a(t,["functionResponse"]);m!=null&&s(e,["functionResponse"],m);const p=a(t,["text"]);return p!=null&&s(e,["text"],p),e}function e2(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],Z2(n));const o=a(t,["thought"]);o!=null&&s(e,["thought"],o);const i=a(t,["inlineData"]);i!=null&&s(e,["inlineData"],aN(i));const l=a(t,["fileData"]);l!=null&&s(e,["fileData"],jN(l));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["functionCall"]);u!=null&&s(e,["functionCall"],t_(u));const c=a(t,["codeExecutionResult"]);c!=null&&s(e,["codeExecutionResult"],c);const d=a(t,["executableCode"]);d!=null&&s(e,["executableCode"],d);const m=a(t,["functionResponse"]);m!=null&&s(e,["functionResponse"],m);const p=a(t,["text"]);return p!=null&&s(e,["text"],p),e}function t2(t){const e={},n=a(t,["voiceName"]);return n!=null&&s(e,["voiceName"],n),e}function n2(t){const e={},n=a(t,["voiceName"]);return n!=null&&s(e,["voiceName"],n),e}function o2(t){const e={},n=a(t,["productImage"]);return n!=null&&s(e,["image"],At(n)),e}function i2(t,e){const n={},o=a(t,["numberOfImages"]);e!==void 0&&o!=null&&s(e,["parameters","sampleCount"],o);const i=a(t,["baseSteps"]);e!==void 0&&i!=null&&s(e,["parameters","editConfig","baseSteps"],i);const l=a(t,["outputGcsUri"]);e!==void 0&&l!=null&&s(e,["parameters","storageUri"],l);const r=a(t,["seed"]);e!==void 0&&r!=null&&s(e,["parameters","seed"],r);const u=a(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&s(e,["parameters","safetySetting"],u);const c=a(t,["personGeneration"]);e!==void 0&&c!=null&&s(e,["parameters","personGeneration"],c);const d=a(t,["addWatermark"]);e!==void 0&&d!=null&&s(e,["parameters","addWatermark"],d);const m=a(t,["outputMimeType"]);e!==void 0&&m!=null&&s(e,["parameters","outputOptions","mimeType"],m);const p=a(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&s(e,["parameters","outputOptions","compressionQuality"],p);const h=a(t,["enhancePrompt"]);return e!==void 0&&h!=null&&s(e,["parameters","enhancePrompt"],h),n}function l2(t,e){const n={},o=a(e,["model"]);o!=null&&s(n,["_url","model"],ne(t,o));const i=a(e,["source"]);i!=null&&s2(i,n);const l=a(e,["config"]);return l!=null&&i2(l,n),n}function a2(t){const e={},n=a(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>ls(i))),s(e,["generatedImages"],o)}return e}function s2(t,e){const n={},o=a(t,["prompt"]);e!==void 0&&o!=null&&s(e,["instances[0]","prompt"],o);const i=a(t,["personImage"]);e!==void 0&&i!=null&&s(e,["instances[0]","personImage","image"],At(i));const l=a(t,["productImages"]);if(e!==void 0&&l!=null){let r=l;Array.isArray(r)&&(r=r.map(u=>o2(u))),s(e,["instances[0]","productImages"],r)}return n}function r2(t){const e={},n=a(t,["referenceImage"]);n!=null&&s(e,["referenceImage"],At(n));const o=a(t,["referenceId"]);o!=null&&s(e,["referenceId"],o);const i=a(t,["referenceType"]);i!=null&&s(e,["referenceType"],i);const l=a(t,["maskImageConfig"]);l!=null&&s(e,["maskImageConfig"],K_(l));const r=a(t,["controlImageConfig"]);r!=null&&s(e,["controlImageConfig"],SN(r));const u=a(t,["styleImageConfig"]);u!=null&&s(e,["styleImageConfig"],E2(u));const c=a(t,["subjectImageConfig"]);return c!=null&&s(e,["subjectImageConfig"],A2(c)),e}function u2(t){const e={},n=a(t,["latLng"]);n!=null&&s(e,["latLng"],B_(n));const o=a(t,["languageCode"]);return o!=null&&s(e,["languageCode"],o),e}function c2(t){const e={},n=a(t,["latLng"]);n!=null&&s(e,["latLng"],H_(n));const o=a(t,["languageCode"]);return o!=null&&s(e,["languageCode"],o),e}function Iy(t){const e={},n=a(t,["safetyAttributes","categories"]);n!=null&&s(e,["categories"],n);const o=a(t,["safetyAttributes","scores"]);o!=null&&s(e,["scores"],o);const i=a(t,["contentType"]);return i!=null&&s(e,["contentType"],i),e}function ky(t){const e={},n=a(t,["safetyAttributes","categories"]);n!=null&&s(e,["categories"],n);const o=a(t,["safetyAttributes","scores"]);o!=null&&s(e,["scores"],o);const i=a(t,["contentType"]);return i!=null&&s(e,["contentType"],i),e}function d2(t){const e={};if(a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=a(t,["category"]);n!=null&&s(e,["category"],n);const o=a(t,["threshold"]);return o!=null&&s(e,["threshold"],o),e}function f2(t){const e={},n=a(t,["method"]);n!=null&&s(e,["method"],n);const o=a(t,["category"]);o!=null&&s(e,["category"],o);const i=a(t,["threshold"]);return i!=null&&s(e,["threshold"],i),e}function m2(t){const e={},n=a(t,["anyOf"]);n!=null&&s(e,["anyOf"],n);const o=a(t,["default"]);o!=null&&s(e,["default"],o);const i=a(t,["description"]);i!=null&&s(e,["description"],i);const l=a(t,["enum"]);l!=null&&s(e,["enum"],l);const r=a(t,["example"]);r!=null&&s(e,["example"],r);const u=a(t,["format"]);u!=null&&s(e,["format"],u);const c=a(t,["items"]);c!=null&&s(e,["items"],c);const d=a(t,["maxItems"]);d!=null&&s(e,["maxItems"],d);const m=a(t,["maxLength"]);m!=null&&s(e,["maxLength"],m);const p=a(t,["maxProperties"]);p!=null&&s(e,["maxProperties"],p);const h=a(t,["maximum"]);h!=null&&s(e,["maximum"],h);const g=a(t,["minItems"]);g!=null&&s(e,["minItems"],g);const v=a(t,["minLength"]);v!=null&&s(e,["minLength"],v);const C=a(t,["minProperties"]);C!=null&&s(e,["minProperties"],C);const E=a(t,["minimum"]);E!=null&&s(e,["minimum"],E);const x=a(t,["nullable"]);x!=null&&s(e,["nullable"],x);const y=a(t,["pattern"]);y!=null&&s(e,["pattern"],y);const T=a(t,["properties"]);T!=null&&s(e,["properties"],T);const S=a(t,["propertyOrdering"]);S!=null&&s(e,["propertyOrdering"],S);const N=a(t,["required"]);N!=null&&s(e,["required"],N);const R=a(t,["title"]);R!=null&&s(e,["title"],R);const _=a(t,["type"]);return _!=null&&s(e,["type"],_),e}function p2(t){const e={},n=a(t,["anyOf"]);n!=null&&s(e,["anyOf"],n);const o=a(t,["default"]);o!=null&&s(e,["default"],o);const i=a(t,["description"]);i!=null&&s(e,["description"],i);const l=a(t,["enum"]);l!=null&&s(e,["enum"],l);const r=a(t,["example"]);r!=null&&s(e,["example"],r);const u=a(t,["format"]);u!=null&&s(e,["format"],u);const c=a(t,["items"]);c!=null&&s(e,["items"],c);const d=a(t,["maxItems"]);d!=null&&s(e,["maxItems"],d);const m=a(t,["maxLength"]);m!=null&&s(e,["maxLength"],m);const p=a(t,["maxProperties"]);p!=null&&s(e,["maxProperties"],p);const h=a(t,["maximum"]);h!=null&&s(e,["maximum"],h);const g=a(t,["minItems"]);g!=null&&s(e,["minItems"],g);const v=a(t,["minLength"]);v!=null&&s(e,["minLength"],v);const C=a(t,["minProperties"]);C!=null&&s(e,["minProperties"],C);const E=a(t,["minimum"]);E!=null&&s(e,["minimum"],E);const x=a(t,["nullable"]);x!=null&&s(e,["nullable"],x);const y=a(t,["pattern"]);y!=null&&s(e,["pattern"],y);const T=a(t,["properties"]);T!=null&&s(e,["properties"],T);const S=a(t,["propertyOrdering"]);S!=null&&s(e,["propertyOrdering"],S);const N=a(t,["required"]);N!=null&&s(e,["required"],N);const R=a(t,["title"]);R!=null&&s(e,["title"],R);const _=a(t,["type"]);return _!=null&&s(e,["type"],_),e}function h2(t){const e={},n=a(t,["image"]);return n!=null&&s(e,["image"],At(n)),e}function g2(t,e){const n={},o=a(t,["mode"]);e!==void 0&&o!=null&&s(e,["parameters","mode"],o);const i=a(t,["maxPredictions"]);e!==void 0&&i!=null&&s(e,["parameters","maxPredictions"],i);const l=a(t,["confidenceThreshold"]);e!==void 0&&l!=null&&s(e,["parameters","confidenceThreshold"],l);const r=a(t,["maskDilation"]);e!==void 0&&r!=null&&s(e,["parameters","maskDilation"],r);const u=a(t,["binaryColorThreshold"]);return e!==void 0&&u!=null&&s(e,["parameters","binaryColorThreshold"],u),n}function y2(t,e){const n={},o=a(e,["model"]);o!=null&&s(n,["_url","model"],ne(t,o));const i=a(e,["source"]);i!=null&&v2(i,n);const l=a(e,["config"]);return l!=null&&g2(l,n),n}function x2(t){const e={},n=a(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>N_(i))),s(e,["generatedMasks"],o)}return e}function v2(t,e){const n={},o=a(t,["prompt"]);e!==void 0&&o!=null&&s(e,["instances[0]","prompt"],o);const i=a(t,["image"]);e!==void 0&&i!=null&&s(e,["instances[0]","image"],At(i));const l=a(t,["scribbleImage"]);return e!==void 0&&l!=null&&s(e,["instances[0]","scribble"],h2(l)),n}function T2(t){const e={},n=a(t,["speaker"]);n!=null&&s(e,["speaker"],n);const o=a(t,["voiceConfig"]);return o!=null&&s(e,["voiceConfig"],Vy(o)),e}function S2(t){const e={},n=a(t,["voiceConfig"]);n!=null&&s(e,["voiceConfig"],Vy(n));const o=a(t,["multiSpeakerVoiceConfig"]);o!=null&&s(e,["multiSpeakerVoiceConfig"],X_(o));const i=a(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function C2(t){const e={},n=a(t,["voiceConfig"]);if(n!=null&&s(e,["voiceConfig"],W2(n)),a(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=a(t,["languageCode"]);return o!=null&&s(e,["languageCode"],o),e}function E2(t){const e={},n=a(t,["styleDescription"]);return n!=null&&s(e,["styleDescription"],n),e}function A2(t){const e={},n=a(t,["subjectType"]);n!=null&&s(e,["subjectType"],n);const o=a(t,["subjectDescription"]);return o!=null&&s(e,["subjectDescription"],o),e}function N2(t){const e={},n=a(t,["includeThoughts"]);n!=null&&s(e,["includeThoughts"],n);const o=a(t,["thinkingBudget"]);return o!=null&&s(e,["thinkingBudget"],o),e}function _2(t){const e={},n=a(t,["includeThoughts"]);n!=null&&s(e,["includeThoughts"],n);const o=a(t,["thinkingBudget"]);return o!=null&&s(e,["thinkingBudget"],o),e}function M2(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&s(e,["functionCallingConfig"],n_(n));const o=a(t,["retrievalConfig"]);return o!=null&&s(e,["retrievalConfig"],u2(o)),e}function b2(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&s(e,["functionCallingConfig"],o_(n));const o=a(t,["retrievalConfig"]);return o!=null&&s(e,["retrievalConfig"],c2(o)),e}function w2(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>i_(d))),s(e,["functionDeclarations"],c)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=a(t,["googleSearch"]);o!=null&&s(e,["googleSearch"],k_(o));const i=a(t,["googleSearchRetrieval"]);if(i!=null&&s(e,["googleSearchRetrieval"],D_(i)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&s(e,["urlContext"],H2());const r=a(t,["computerUse"]);r!=null&&s(e,["computerUse"],pN(r));const u=a(t,["codeExecution"]);return u!=null&&s(e,["codeExecution"],u),e}function Uy(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>l_(h))),s(e,["functionDeclarations"],p)}const o=a(t,["retrieval"]);o!=null&&s(e,["retrieval"],o);const i=a(t,["googleSearch"]);i!=null&&s(e,["googleSearch"],U_(i));const l=a(t,["googleSearchRetrieval"]);l!=null&&s(e,["googleSearchRetrieval"],I_(l));const r=a(t,["enterpriseWebSearch"]);r!=null&&s(e,["enterpriseWebSearch"],YN(r));const u=a(t,["googleMaps"]);u!=null&&s(e,["googleMaps"],R_(u)),a(t,["urlContext"])!=null&&s(e,["urlContext"],z2());const d=a(t,["computerUse"]);d!=null&&s(e,["computerUse"],hN(d));const m=a(t,["codeExecution"]);return m!=null&&s(e,["codeExecution"],m),e}function R2(t){const e={},n=a(t,["baseModel"]);n!=null&&s(e,["baseModel"],n);const o=a(t,["createTime"]);o!=null&&s(e,["createTime"],o);const i=a(t,["updateTime"]);return i!=null&&s(e,["updateTime"],i),e}function D2(t){const e={},n=a(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&s(e,["baseModel"],n);const o=a(t,["createTime"]);o!=null&&s(e,["createTime"],o);const i=a(t,["updateTime"]);return i!=null&&s(e,["updateTime"],i),e}function I2(t,e){const n={},o=a(t,["displayName"]);e!==void 0&&o!=null&&s(e,["displayName"],o);const i=a(t,["description"]);e!==void 0&&i!=null&&s(e,["description"],i);const l=a(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&s(e,["defaultCheckpointId"],l),n}function k2(t,e){const n={},o=a(t,["displayName"]);e!==void 0&&o!=null&&s(e,["displayName"],o);const i=a(t,["description"]);e!==void 0&&i!=null&&s(e,["description"],i);const l=a(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&s(e,["defaultCheckpointId"],l),n}function U2(t,e){const n={},o=a(e,["model"]);o!=null&&s(n,["_url","name"],ne(t,o));const i=a(e,["config"]);return i!=null&&I2(i,n),n}function q2(t,e){const n={},o=a(e,["model"]);o!=null&&s(n,["_url","model"],ne(t,o));const i=a(e,["config"]);return i!=null&&k2(i,n),n}function V2(t,e){const n={},o=a(t,["outputGcsUri"]);e!==void 0&&o!=null&&s(e,["parameters","storageUri"],o);const i=a(t,["includeRaiReason"]);e!==void 0&&i!=null&&s(e,["parameters","includeRaiReason"],i);const l=a(t,["outputMimeType"]);e!==void 0&&l!=null&&s(e,["parameters","outputOptions","mimeType"],l);const r=a(t,["outputCompressionQuality"]);e!==void 0&&r!=null&&s(e,["parameters","outputOptions","compressionQuality"],r);const u=a(t,["enhanceInputImage"]);e!==void 0&&u!=null&&s(e,["parameters","upscaleConfig","enhanceInputImage"],u);const c=a(t,["imagePreservationFactor"]);e!==void 0&&c!=null&&s(e,["parameters","upscaleConfig","imagePreservationFactor"],c);const d=a(t,["numberOfImages"]);e!==void 0&&d!=null&&s(e,["parameters","sampleCount"],d);const m=a(t,["mode"]);return e!==void 0&&m!=null&&s(e,["parameters","mode"],m),n}function L2(t,e){const n={},o=a(e,["model"]);o!=null&&s(n,["_url","model"],ne(t,o));const i=a(e,["image"]);i!=null&&s(n,["instances[0]","image"],At(i));const l=a(e,["upscaleFactor"]);l!=null&&s(n,["parameters","upscaleConfig","upscaleFactor"],l);const r=a(e,["config"]);return r!=null&&V2(r,n),n}function P2(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const o=a(t,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>ls(l))),s(e,["generatedImages"],i)}return e}function G2(t){const e={},n=a(t,["urlMetadata"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>F2(i))),s(e,["urlMetadata"],o)}return e}function B2(t){const e={},n=a(t,["urlMetadata"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>J2(i))),s(e,["urlMetadata"],o)}return e}function H2(){return{}}function z2(){return{}}function F2(t){const e={},n=a(t,["retrievedUrl"]);n!=null&&s(e,["retrievedUrl"],n);const o=a(t,["urlRetrievalStatus"]);return o!=null&&s(e,["urlRetrievalStatus"],o),e}function J2(t){const e={},n=a(t,["retrievedUrl"]);n!=null&&s(e,["retrievedUrl"],n);const o=a(t,["urlRetrievalStatus"]);return o!=null&&s(e,["urlRetrievalStatus"],o),e}function O2(t){const e={},n=a(t,["video","uri"]);n!=null&&s(e,["uri"],n);const o=a(t,["video","encodedVideo"]);o!=null&&s(e,["videoBytes"],eo(o));const i=a(t,["encoding"]);return i!=null&&s(e,["mimeType"],i),e}function Y2(t){const e={},n=a(t,["gcsUri"]);n!=null&&s(e,["uri"],n);const o=a(t,["bytesBase64Encoded"]);o!=null&&s(e,["videoBytes"],eo(o));const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function $2(t){const e={},n=a(t,["image"]);n!=null&&s(e,["_self"],At(n));const o=a(t,["maskMode"]);return o!=null&&s(e,["maskMode"],o),e}function K2(t){const e={},n=a(t,["image"]);n!=null&&s(e,["image"],At(n));const o=a(t,["referenceType"]);return o!=null&&s(e,["referenceType"],o),e}function Q2(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const o=a(t,["endOffset"]);o!=null&&s(e,["endOffset"],o);const i=a(t,["startOffset"]);return i!=null&&s(e,["startOffset"],i),e}function X2(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const o=a(t,["endOffset"]);o!=null&&s(e,["endOffset"],o);const i=a(t,["startOffset"]);return i!=null&&s(e,["startOffset"],i),e}function j2(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const o=a(t,["endOffset"]);o!=null&&s(e,["endOffset"],o);const i=a(t,["startOffset"]);return i!=null&&s(e,["startOffset"],i),e}function Z2(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const o=a(t,["endOffset"]);o!=null&&s(e,["endOffset"],o);const i=a(t,["startOffset"]);return i!=null&&s(e,["startOffset"],i),e}function qy(t){const e={},n=a(t,["uri"]);n!=null&&s(e,["gcsUri"],n);const o=a(t,["videoBytes"]);o!=null&&s(e,["bytesBase64Encoded"],eo(o));const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function Vy(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&s(e,["prebuiltVoiceConfig"],t2(n)),e}function W2(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&s(e,["prebuiltVoiceConfig"],n2(n)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eM="Content-Type",tM="X-Server-Timeout",nM="User-Agent",hu="x-goog-api-client",oM="1.22.0",iM=`google-genai-sdk/${oM}`,lM="v1beta1",aM="v1beta",qm=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class sM{constructor(e){var n,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:lM,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:aM,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,o){const i=[this.getRequestUrlInternal(n)];return o&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,o);if(e.queryParams)for(const[r,u]of Object.entries(e.queryParams))i.searchParams.append(r,String(u));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,n,e.abortSignal),this.unaryApiCall(i,l,e.httpMethod)}patchHttpOptions(e,n){const o=JSON.parse(JSON.stringify(e));for(const[i,l]of Object.entries(n))typeof l=="object"?o[i]=Object.assign(Object.assign({},o[i]),l):l!==void 0&&(o[i]=l);return o}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,o);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,n,e.abortSignal),this.streamApiCall(i,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,o){if(n&&n.timeout||o){const i=new AbortController,l=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const r=setTimeout(()=>i.abort(),n.timeout);r&&typeof r.unref=="function"&&r.unref()}o&&o.addEventListener("abort",()=>{i.abort()}),e.signal=l}return n&&n.extraBody!==null&&rM(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async i=>(await Vm(i),new ru(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async i=>(await Vm(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return qo(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),l=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let r="";for(;;){const{done:u,value:c}=yield me(i.read());if(u){if(r.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=l.decode(c,{stream:!0});try{const p=JSON.parse(d);if("error"in p){const h=JSON.parse(JSON.stringify(p.error)),g=h.status,v=h.code,C=`got status: ${g}. ${JSON.stringify(p)}`;if(v>=400&&v<600)throw new os({message:C,status:v})}}catch(p){if(p.name==="ApiError")throw p}r+=d;let m=r.match(qm);for(;m;){const p=m[1];try{const h=new Response(p,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield me(new ru(h)),r=r.slice(m[0].length),m=r.match(qm)}catch(h){throw new Error(`exception parsing stream chunk ${p}. ${h}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},n=iM+" "+this.clientOptions.userAgentExtra;return e[nM]=n,e[hu]=n,e[eM]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[o,i]of Object.entries(e.headers))n.append(o,i);e.timeout&&e.timeout>0&&n.append(tM,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var o;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const l=this.clientOptions.uploader,r=await l.stat(e);i.sizeBytes=String(r.size);const u=(o=n==null?void 0:n.mimeType)!==null&&o!==void 0?o:r.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const c=await this.fetchUploadUrl(i,n);return l.upload(e,c,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var o;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const l={file:e},r=await this.request({path:P("upload/v1beta/files",l._url),body:JSON.stringify(l),httpMethod:"POST",httpOptions:i});if(!r||!(r!=null&&r.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(o=r==null?void 0:r.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function Vm(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let o;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await t.json():o={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(o);throw n>=400&&n<600?new os({message:i,status:n}):new Error(i)}}function rM(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const l=JSON.parse(t.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))n=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(l,r){const u=Object.assign({},l);for(const c in r)if(Object.prototype.hasOwnProperty.call(r,c)){const d=r[c],m=u[c];d&&typeof d=="object"&&!Array.isArray(d)&&m&&typeof m=="object"&&!Array.isArray(m)?u[c]=o(m,d):(m&&d&&typeof m!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof m}, New type: ${typeof d}. Overwriting.`),u[c]=d)}return u}const i=o(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uM="mcp_used/unknown";let cM=!1;function Ly(t){for(const e of t)if(dM(e)||typeof e=="object"&&"inputSchema"in e)return!0;return cM}function Py(t){var e;const n=(e=t[hu])!==null&&e!==void 0?e:"";t[hu]=(n+` ${uM}`).trimStart()}function dM(t){return t!==null&&typeof t=="object"&&t instanceof Ac}function fM(t,e=100){return qo(this,arguments,function*(){let o,i=0;for(;i<e;){const l=yield me(t.listTools({cursor:o}));for(const r of l.tools)yield yield me(r),i++;if(!l.nextCursor)break;o=l.nextCursor}})}class Ac{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Ac(e,n)}async initialize(){var e,n,o,i;if(this.mcpTools.length>0)return;const l={},r=[];for(const m of this.mcpClients)try{for(var u=!0,c=(n=void 0,Vi(fM(m))),d;d=await c.next(),e=d.done,!e;u=!0){i=d.value,u=!1;const p=i;r.push(p);const h=p.name;if(l[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);l[h]=m}}catch(p){n={error:p}}finally{try{!u&&!e&&(o=c.return)&&await o.call(c)}finally{if(n)throw n.error}}this.mcpTools=r,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),CS(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[o.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const r=await i.callTool({name:o.name,arguments:o.args},void 0,l);n.push({functionResponse:{name:o.name,response:r.isError?{error:r}:r}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function mM(t,e,n){const o=new pS;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data);const l=eA(i);Object.assign(o,l),e(o)}class pM{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o}async connect(e){var n,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),r=yM(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${u}`;let d=()=>{};const m=new Promise(T=>{d=T}),p=e.callbacks,h=function(){d({})},g=this.apiClient,v={onopen:h,onmessage:T=>{mM(g,p.onmessage,T)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(T){},onclose:(o=p==null?void 0:p.onclose)!==null&&o!==void 0?o:function(T){}},C=this.webSocketFactory.create(c,gM(r),v);C.connect(),await m;const E=ne(this.apiClient,e.model),x=_y({model:E}),y=fu({setup:x});return C.send(JSON.stringify(y)),new hM(C,this.apiClient)}}class hM{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=oA(e),o=Ny(n);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=nA(e),o=fu(n);this.conn.send(JSON.stringify(o))}sendPlaybackControl(e){const n=fu({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(No.PLAY)}pause(){this.sendPlaybackControl(No.PAUSE)}stop(){this.sendPlaybackControl(No.STOP)}resetContext(){this.sendPlaybackControl(No.RESET_CONTEXT)}close(){this.conn.close()}}function gM(t){const e={};return t.forEach((n,o)=>{e[o]=n}),e}function yM(t){const e=new Headers;for(const[n,o]of Object.entries(t))e.append(n,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xM="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function vM(t,e,n){const o=new mS;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const l=JSON.parse(i);if(t.isVertexAI()){const r=fA(l);Object.assign(o,r)}else{const r=dA(l);Object.assign(o,r)}e(o)}class TM{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o,this.music=new pM(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,o,i,l,r,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let m;const p=this.apiClient.getHeaders();e.config&&e.config.tools&&Ly(e.config.tools)&&Py(p);const h=AM(p);if(this.apiClient.isVertexAI())m=`${c}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h);else{const b=this.apiClient.getApiKey();let I="BidiGenerateContent",J="key";b!=null&&b.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),I="BidiGenerateContentConstrained",J="access_token"),m=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.${I}?${J}=${b}`}let g=()=>{};const v=new Promise(b=>{g=b}),C=e.callbacks,E=function(){var b;(b=C==null?void 0:C.onopen)===null||b===void 0||b.call(C),g({})},x=this.apiClient,y={onopen:E,onmessage:b=>{vM(x,C.onmessage,b)},onerror:(n=C==null?void 0:C.onerror)!==null&&n!==void 0?n:function(b){},onclose:(o=C==null?void 0:C.onclose)!==null&&o!==void 0?o:function(b){}},T=this.webSocketFactory.create(m,EM(h),y);T.connect(),await v;let S=ne(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&S.startsWith("publishers/")){const b=this.apiClient.getProject(),I=this.apiClient.getLocation();S=`projects/${b}/locations/${I}/`+S}let N={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[qa.AUDIO]}:e.config.responseModalities=[qa.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const R=(u=(r=e.config)===null||r===void 0?void 0:r.tools)!==null&&u!==void 0?u:[],_=[];for(const b of R)if(this.isCallableTool(b)){const I=b;_.push(await I.tool())}else _.push(b);_.length>0&&(e.config.tools=_);const U={model:S,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?N=Q1(this.apiClient,U):N=K1(this.apiClient,U),delete N.config,T.send(JSON.stringify(N)),new CM(T,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const SM={turnComplete:!0};class CM{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let o=[];try{o=xt(n.turns),e.isVertexAI()?o=o.map(i=>ai(i)):o=o.map(i=>is(i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let o=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?o=n.functionResponses:o=[n.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const l of o){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(xM)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},SM),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:aA(e)}:n={realtimeInput:lA(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function EM(t){const e={};return t.forEach((n,o)=>{e[o]=n}),e}function AM(t){const e=new Headers;for(const[n,o]of Object.entries(t))e.append(n,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lm=10;function Pm(t){var e,n,o;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const r of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Vo(r)){i=!0;break}if(!i)return!0;const l=(o=t==null?void 0:t.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function Vo(t){return"callTool"in t&&typeof t.callTool=="function"}function NM(t){var e,n,o;return(o=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Vo(i)))!==null&&o!==void 0?o:!1}function _M(t){var e,n,o;return(o=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>!Vo(i)))!==null&&o!==void 0?o:!1}function Gm(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MM extends Wn{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var o,i,l,r,u;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!NM(n)||Pm(n.config))return await this.generateContentInternal(c);if(_M(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let d,m;const p=xt(c.contents),h=(l=(i=(o=c.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&l!==void 0?l:Lm;let g=0;for(;g<h&&(d=await this.generateContentInternal(c),!(!d.functionCalls||d.functionCalls.length===0));){const v=d.candidates[0].content,C=[];for(const E of(u=(r=n.config)===null||r===void 0?void 0:r.tools)!==null&&u!==void 0?u:[])if(Vo(E)){const y=await E.callTool(d.functionCalls);C.push(...y)}g++,m={role:"user",parts:C},c.contents=xt(c.contents),c.contents.push(v),c.contents.push(m),Gm(c.config)&&(p.push(v),p.push(m))}return Gm(c.config)&&(d.automaticFunctionCallingHistory=p),d},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),Pm(n.config)){const o=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(o)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(o=>{var i;let l;const r=[];if(o!=null&&o.generatedImages)for(const c of o.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?l=c==null?void 0:c.safetyAttributes:r.push(c);let u;return l?u={generatedImages:r,positivePromptSafetyAttributes:l,sdkHttpResponse:o.sdkHttpResponse}:u={generatedImages:r,sdkHttpResponse:o.sdkHttpResponse},u}),this.list=async n=>{var o;const r={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!r.config.queryBase){if(!((o=r.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");r.config.filter="labels.tune-type:*"}return new cl($n.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(r),r)},this.editImage=async n=>{const o={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(o.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async n=>{let o={numberOfImages:1,mode:"upscale"};n.config&&(o=Object.assign(Object.assign({},o),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:o};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,o,i;const l=(n=e.config)===null||n===void 0?void 0:n.tools;if(!l)return e;const r=await Promise.all(l.map(async c=>Vo(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:r})};if(u.config.tools=r,e.config&&e.config.tools&&Ly(e.config.tools)){const c=(i=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},c);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),Py(d),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(e){var n,o,i;const l=new Map;for(const r of(o=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&o!==void 0?o:[])if(Vo(r)){const u=r,c=await u.tool();for(const d of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(l.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);l.set(d.name,u)}}return l}async processAfcStream(e){var n,o,i;const l=(i=(o=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&i!==void 0?i:Lm;let r=!1,u=0;const c=await this.initAfcToolsMap(e);return function(d,m,p){var h,g;return qo(this,arguments,function*(){for(var v,C,E,x;u<l;){r&&(u++,r=!1);const N=yield me(d.processParamsMaybeAddMcpUsage(p)),R=yield me(d.generateContentStreamInternal(N)),_=[],U=[];try{for(var y=!0,T=(C=void 0,Vi(R)),S;S=yield me(T.next()),v=S.done,!v;y=!0){x=S.value,y=!1;const b=x;if(yield yield me(b),b.candidates&&(!((h=b.candidates[0])===null||h===void 0)&&h.content)){U.push(b.candidates[0].content);for(const I of(g=b.candidates[0].content.parts)!==null&&g!==void 0?g:[])if(u<l&&I.functionCall){if(!I.functionCall.name)throw new Error("Function call name was not returned by the model.");if(m.has(I.functionCall.name)){const J=yield me(m.get(I.functionCall.name).callTool([I.functionCall]));_.push(...J)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${m.keys()}, mising tool: ${I.functionCall.name}`)}}}}catch(b){C={error:b}}finally{try{!y&&!v&&(E=T.return)&&(yield me(E.call(T)))}finally{if(C)throw C.error}}if(_.length>0){r=!0;const b=new gi;b.candidates=[{content:{role:"user",parts:_}}],yield yield me(b);const I=[];I.push(...U),I.push({role:"user",parts:_});const J=xt(p.contents).concat(I);p.contents=J}else break}})}(this,c,e)}async generateContentInternal(e){var n,o,i,l;let r,u="",c={};if(this.apiClient.isVertexAI()){const d=Im(this.apiClient,e);return u=P("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),r.then(m=>{const p=Um(m),h=new gi;return Object.assign(h,p),h})}else{const d=Dm(this.apiClient,e);return u=P("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),r.then(m=>{const p=km(m),h=new gi;return Object.assign(h,p),h})}}async generateContentStreamInternal(e){var n,o,i,l;let r,u="",c={};if(this.apiClient.isVertexAI()){const d=Im(this.apiClient,e);return u=P("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),r.then(function(p){return qo(this,arguments,function*(){var h,g,v,C;try{for(var E=!0,x=Vi(p),y;y=yield me(x.next()),h=y.done,!h;E=!0){C=y.value,E=!1;const T=C,S=Um(yield me(T.json()));S.sdkHttpResponse={headers:T.headers};const N=new gi;Object.assign(N,S),yield yield me(N)}}catch(T){g={error:T}}finally{try{!E&&!h&&(v=x.return)&&(yield me(v.call(x)))}finally{if(g)throw g.error}}})})}else{const d=Dm(this.apiClient,e);return u=P("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),r.then(function(p){return qo(this,arguments,function*(){var h,g,v,C;try{for(var E=!0,x=Vi(p),y;y=yield me(x.next()),h=y.done,!h;E=!0){C=y.value,E=!1;const T=C,S=km(yield me(T.json()));S.sdkHttpResponse={headers:T.headers};const N=new gi;Object.assign(N,S),yield yield me(N)}}catch(T){g={error:T}}finally{try{!E&&!h&&(v=x.return)&&(yield me(v.call(x)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var n,o,i,l;let r,u="",c={};if(this.apiClient.isVertexAI()){const d=zN(this.apiClient,e);return u=P("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),r.then(m=>{const p=JN(m),h=new dm;return Object.assign(h,p),h})}else{const d=HN(this.apiClient,e);return u=P("{model}:batchEmbedContents",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),r.then(m=>{const p=FN(m),h=new dm;return Object.assign(h,p),h})}}async generateImagesInternal(e){var n,o,i,l;let r,u="",c={};if(this.apiClient.isVertexAI()){const d=d_(this.apiClient,e);return u=P("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),r.then(m=>{const p=m_(m),h=new fm;return Object.assign(h,p),h})}else{const d=c_(this.apiClient,e);return u=P("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),r.then(m=>{const p=f_(m),h=new fm;return Object.assign(h,p),h})}}async editImageInternal(e){var n,o;let i,l="",r={};if(this.apiClient.isVertexAI()){const u=qN(this.apiClient,e);return l=P("{model}:predict",u._url),r=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:l,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:c.headers},m})),i.then(c=>{const d=VN(c),m=new lS;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,o;let i,l="",r={};if(this.apiClient.isVertexAI()){const u=L2(this.apiClient,e);return l=P("{model}:predict",u._url),r=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:l,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:c.headers},m})),i.then(c=>{const d=P2(c),m=new aS;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,o;let i,l="",r={};if(this.apiClient.isVertexAI()){const u=l2(this.apiClient,e);return l=P("{model}:predict",u._url),r=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:l,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>{const d=a2(c),m=new sS;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,o;let i,l="",r={};if(this.apiClient.isVertexAI()){const u=y2(this.apiClient,e);return l=P("{model}:predict",u._url),r=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:l,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>{const d=x2(c),m=new rS;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,o,i,l;let r,u="",c={};if(this.apiClient.isVertexAI()){const d=w_(this.apiClient,e);return u=P("{name}",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),r.then(m=>pu(m))}else{const d=b_(this.apiClient,e);return u=P("{name}",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),r.then(m=>mu(m))}}async listInternal(e){var n,o,i,l;let r,u="",c={};if(this.apiClient.isVertexAI()){const d=O_(this.apiClient,e);return u=P("{models_url}",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),r.then(m=>{const p=$_(m),h=new mm;return Object.assign(h,p),h})}else{const d=J_(this.apiClient,e);return u=P("{models_url}",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),r.then(m=>{const p=Y_(m),h=new mm;return Object.assign(h,p),h})}}async update(e){var n,o,i,l;let r,u="",c={};if(this.apiClient.isVertexAI()){const d=q2(this.apiClient,e);return u=P("{model}",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),r.then(m=>pu(m))}else{const d=U2(this.apiClient,e);return u=P("{name}",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),r.then(m=>mu(m))}}async delete(e){var n,o,i,l;let r,u="",c={};if(this.apiClient.isVertexAI()){const d=wN(this.apiClient,e);return u=P("{name}",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),r.then(m=>{const p=DN(m),h=new pm;return Object.assign(h,p),h})}else{const d=bN(this.apiClient,e);return u=P("{name}",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),r.then(m=>{const p=RN(m),h=new pm;return Object.assign(h,p),h})}}async countTokens(e){var n,o,i,l;let r,u="",c={};if(this.apiClient.isVertexAI()){const d=NN(this.apiClient,e);return u=P("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),r.then(m=>{const p=MN(m),h=new hm;return Object.assign(h,p),h})}else{const d=AN(this.apiClient,e);return u=P("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),r.then(m=>{const p=_N(m),h=new hm;return Object.assign(h,p),h})}}async computeTokens(e){var n,o;let i,l="",r={};if(this.apiClient.isVertexAI()){const u=fN(this.apiClient,e);return l=P("{model}:computeTokens",u._url),r=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:l,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:c.headers},m})),i.then(c=>{const d=mN(c),m=new uS;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,o,i,l;let r,u="",c={};if(this.apiClient.isVertexAI()){const d=v_(this.apiClient,e);return u=P("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),r.then(m=>{const p=y_(m),h=new Va;return Object.assign(h,p),h})}else{const d=x_(this.apiClient,e);return u=P("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),r.then(m=>{const p=g_(m),h=new Va;return Object.assign(h,p),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bM extends Wn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let l;o&&"httpOptions"in o&&(l=o.httpOptions);const r=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:r,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async get(e){const n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let l;o&&"httpOptions"in o&&(l=o.httpOptions);const r=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:r,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,o,i,l;let r,u="",c={};if(this.apiClient.isVertexAI()){const d=nS(e);return u=P("{operationName}",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),r}else{const d=tS(e);return u=P("{operationName}",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),r}}async fetchPredictVideosOperationInternal(e){var n,o;let i,l="",r={};if(this.apiClient.isVertexAI()){const u=KT(e);return l=P("{resourceName}:fetchPredictOperation",u._url),r=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:l,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bm(){return{}}function wM(t){const e={},n=a(t,["name"]);return n!=null&&s(e,["name"],n),e}function RM(t){const e={},n=a(t,["disabled"]);n!=null&&s(e,["disabled"],n);const o=a(t,["startOfSpeechSensitivity"]);o!=null&&s(e,["startOfSpeechSensitivity"],o);const i=a(t,["endOfSpeechSensitivity"]);i!=null&&s(e,["endOfSpeechSensitivity"],i);const l=a(t,["prefixPaddingMs"]);l!=null&&s(e,["prefixPaddingMs"],l);const r=a(t,["silenceDurationMs"]);return r!=null&&s(e,["silenceDurationMs"],r),e}function DM(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&s(e,["data"],n);const o=a(t,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function IM(t){const e={},n=a(t,["environment"]);n!=null&&s(e,["environment"],n);const o=a(t,["excludedPredefinedFunctions"]);return o!=null&&s(e,["excludedPredefinedFunctions"],o),e}function kM(t){const e={},n=a(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>$M(l))),s(e,["parts"],i)}const o=a(t,["role"]);return o!=null&&s(e,["role"],o),e}function UM(t){const e={},n=a(t,["triggerTokens"]);n!=null&&s(e,["triggerTokens"],n);const o=a(t,["slidingWindow"]);return o!=null&&s(e,["slidingWindow"],ZM(o)),e}function qM(t,e,n){const o={},i=a(e,["expireTime"]);n!==void 0&&i!=null&&s(n,["expireTime"],i);const l=a(e,["newSessionExpireTime"]);n!==void 0&&l!=null&&s(n,["newSessionExpireTime"],l);const r=a(e,["uses"]);n!==void 0&&r!=null&&s(n,["uses"],r);const u=a(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&s(n,["bidiGenerateContentSetup"],OM(t,u));const c=a(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&s(n,["fieldMask"],c),o}function VM(t,e){const n={},o=a(e,["config"]);return o!=null&&s(n,["config"],qM(t,o,n)),n}function LM(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const o=a(t,["dynamicThreshold"]);return o!=null&&s(e,["dynamicThreshold"],o),e}function PM(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const o=a(t,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function GM(t){const e={},n=a(t,["id"]);n!=null&&s(e,["id"],n);const o=a(t,["args"]);o!=null&&s(e,["args"],o);const i=a(t,["name"]);return i!=null&&s(e,["name"],i),e}function BM(t){const e={},n=a(t,["behavior"]);n!=null&&s(e,["behavior"],n);const o=a(t,["description"]);o!=null&&s(e,["description"],o);const i=a(t,["name"]);i!=null&&s(e,["name"],i);const l=a(t,["parameters"]);l!=null&&s(e,["parameters"],l);const r=a(t,["parametersJsonSchema"]);r!=null&&s(e,["parametersJsonSchema"],r);const u=a(t,["response"]);u!=null&&s(e,["response"],u);const c=a(t,["responseJsonSchema"]);return c!=null&&s(e,["responseJsonSchema"],c),e}function HM(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],LM(n)),e}function zM(t){const e={},n=a(t,["timeRangeFilter"]);if(n!=null&&s(e,["timeRangeFilter"],FM(n)),a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function FM(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const o=a(t,["endTime"]);return o!=null&&s(e,["endTime"],o),e}function JM(t,e){const n={},o=a(t,["generationConfig"]);e!==void 0&&o!=null&&s(e,["setup","generationConfig"],o);const i=a(t,["responseModalities"]);e!==void 0&&i!=null&&s(e,["setup","generationConfig","responseModalities"],i);const l=a(t,["temperature"]);e!==void 0&&l!=null&&s(e,["setup","generationConfig","temperature"],l);const r=a(t,["topP"]);e!==void 0&&r!=null&&s(e,["setup","generationConfig","topP"],r);const u=a(t,["topK"]);e!==void 0&&u!=null&&s(e,["setup","generationConfig","topK"],u);const c=a(t,["maxOutputTokens"]);e!==void 0&&c!=null&&s(e,["setup","generationConfig","maxOutputTokens"],c);const d=a(t,["mediaResolution"]);e!==void 0&&d!=null&&s(e,["setup","generationConfig","mediaResolution"],d);const m=a(t,["seed"]);e!==void 0&&m!=null&&s(e,["setup","generationConfig","seed"],m);const p=a(t,["speechConfig"]);e!==void 0&&p!=null&&s(e,["setup","generationConfig","speechConfig"],eb(Cc(p)));const h=a(t,["thinkingConfig"]);e!==void 0&&h!=null&&s(e,["setup","generationConfig","thinkingConfig"],tb(h));const g=a(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&s(e,["setup","generationConfig","enableAffectiveDialog"],g);const v=a(t,["systemInstruction"]);e!==void 0&&v!=null&&s(e,["setup","systemInstruction"],kM(Be(v)));const C=a(t,["tools"]);if(e!==void 0&&C!=null){let R=ii(C);Array.isArray(R)&&(R=R.map(_=>nb(oi(_)))),s(e,["setup","tools"],R)}const E=a(t,["sessionResumption"]);e!==void 0&&E!=null&&s(e,["setup","sessionResumption"],jM(E));const x=a(t,["inputAudioTranscription"]);e!==void 0&&x!=null&&s(e,["setup","inputAudioTranscription"],Bm());const y=a(t,["outputAudioTranscription"]);e!==void 0&&y!=null&&s(e,["setup","outputAudioTranscription"],Bm());const T=a(t,["realtimeInputConfig"]);e!==void 0&&T!=null&&s(e,["setup","realtimeInputConfig"],XM(T));const S=a(t,["contextWindowCompression"]);e!==void 0&&S!=null&&s(e,["setup","contextWindowCompression"],UM(S));const N=a(t,["proactivity"]);return e!==void 0&&N!=null&&s(e,["setup","proactivity"],QM(N)),n}function OM(t,e){const n={},o=a(e,["model"]);o!=null&&s(n,["setup","model"],ne(t,o));const i=a(e,["config"]);return i!=null&&s(n,["config"],JM(i,n)),n}function YM(t){const e={},n=a(t,["speakerVoiceConfigs"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>WM(i))),s(e,["speakerVoiceConfigs"],o)}return e}function $M(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],ib(n));const o=a(t,["thought"]);o!=null&&s(e,["thought"],o);const i=a(t,["inlineData"]);i!=null&&s(e,["inlineData"],DM(i));const l=a(t,["fileData"]);l!=null&&s(e,["fileData"],PM(l));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["functionCall"]);u!=null&&s(e,["functionCall"],GM(u));const c=a(t,["codeExecutionResult"]);c!=null&&s(e,["codeExecutionResult"],c);const d=a(t,["executableCode"]);d!=null&&s(e,["executableCode"],d);const m=a(t,["functionResponse"]);m!=null&&s(e,["functionResponse"],m);const p=a(t,["text"]);return p!=null&&s(e,["text"],p),e}function KM(t){const e={},n=a(t,["voiceName"]);return n!=null&&s(e,["voiceName"],n),e}function QM(t){const e={},n=a(t,["proactiveAudio"]);return n!=null&&s(e,["proactiveAudio"],n),e}function XM(t){const e={},n=a(t,["automaticActivityDetection"]);n!=null&&s(e,["automaticActivityDetection"],RM(n));const o=a(t,["activityHandling"]);o!=null&&s(e,["activityHandling"],o);const i=a(t,["turnCoverage"]);return i!=null&&s(e,["turnCoverage"],i),e}function jM(t){const e={},n=a(t,["handle"]);if(n!=null&&s(e,["handle"],n),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function ZM(t){const e={},n=a(t,["targetTokens"]);return n!=null&&s(e,["targetTokens"],n),e}function WM(t){const e={},n=a(t,["speaker"]);n!=null&&s(e,["speaker"],n);const o=a(t,["voiceConfig"]);return o!=null&&s(e,["voiceConfig"],Gy(o)),e}function eb(t){const e={},n=a(t,["voiceConfig"]);n!=null&&s(e,["voiceConfig"],Gy(n));const o=a(t,["multiSpeakerVoiceConfig"]);o!=null&&s(e,["multiSpeakerVoiceConfig"],YM(o));const i=a(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function tb(t){const e={},n=a(t,["includeThoughts"]);n!=null&&s(e,["includeThoughts"],n);const o=a(t,["thinkingBudget"]);return o!=null&&s(e,["thinkingBudget"],o),e}function nb(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>BM(d))),s(e,["functionDeclarations"],c)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=a(t,["googleSearch"]);o!=null&&s(e,["googleSearch"],zM(o));const i=a(t,["googleSearchRetrieval"]);if(i!=null&&s(e,["googleSearchRetrieval"],HM(i)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&s(e,["urlContext"],ob());const r=a(t,["computerUse"]);r!=null&&s(e,["computerUse"],IM(r));const u=a(t,["codeExecution"]);return u!=null&&s(e,["codeExecution"],u),e}function ob(){return{}}function ib(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const o=a(t,["endOffset"]);o!=null&&s(e,["endOffset"],o);const i=a(t,["startOffset"]);return i!=null&&s(e,["startOffset"],i),e}function Gy(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&s(e,["prebuiltVoiceConfig"],KM(n)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lb(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const o=t[n];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const i=Object.keys(o).map(l=>`${n}.${l}`);e.push(...i)}else e.push(n)}return e.join(",")}function ab(t,e){let n=null;const o=t.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const l=o.setup;typeof l=="object"&&l!==null?(t.bidiGenerateContentSetup=l,n=l):delete t.bidiGenerateContentSetup}else o!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const l=lb(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)l?t.fieldMask=l:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const r=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(d=>r.includes(d)?`generationConfig.${d}`:d));const c=[];l&&c.push(l),u.length>0&&c.push(...u),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class sb extends Wn{constructor(e){super(),this.apiClient=e}async create(e){var n,o;let i,l="",r={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=VM(this.apiClient,e);l=P("auth_tokens",u._url),r=u._query,delete u.config,delete u._url,delete u._query;const c=ab(u,e.config);return i=this.apiClient.request({path:l,queryParams:r,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>wM(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rb(t){const e={},n=a(t,["name"]);return n!=null&&s(e,["_url","name"],n),e}function ub(t){const e={},n=a(t,["name"]);return n!=null&&s(e,["_url","name"],n),e}function cb(t,e){const n={};if(a(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=a(t,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&s(e,["displayName"],o),a(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=a(t,["epochCount"]);e!==void 0&&i!=null&&s(e,["tuningTask","hyperparameters","epochCount"],i);const l=a(t,["learningRateMultiplier"]);if(l!=null&&s(n,["tuningTask","hyperparameters","learningRateMultiplier"],l),a(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(a(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(a(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const r=a(t,["batchSize"]);e!==void 0&&r!=null&&s(e,["tuningTask","hyperparameters","batchSize"],r);const u=a(t,["learningRate"]);if(e!==void 0&&u!=null&&s(e,["tuningTask","hyperparameters","learningRate"],u),a(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return n}function db(t,e){const n={},o=a(t,["validationDataset"]);e!==void 0&&o!=null&&s(e,["supervisedTuningSpec"],wb(o,n));const i=a(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&s(e,["tunedModelDisplayName"],i);const l=a(t,["description"]);e!==void 0&&l!=null&&s(e,["description"],l);const r=a(t,["epochCount"]);e!==void 0&&r!=null&&s(e,["supervisedTuningSpec","hyperParameters","epochCount"],r);const u=a(t,["learningRateMultiplier"]);e!==void 0&&u!=null&&s(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],u);const c=a(t,["exportLastCheckpointOnly"]);e!==void 0&&c!=null&&s(e,["supervisedTuningSpec","exportLastCheckpointOnly"],c);const d=a(t,["adapterSize"]);if(e!==void 0&&d!=null&&s(e,["supervisedTuningSpec","hyperParameters","adapterSize"],d),a(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(a(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=a(t,["labels"]);return e!==void 0&&m!=null&&s(e,["labels"],m),n}function fb(t){const e={},n=a(t,["baseModel"]);n!=null&&s(e,["baseModel"],n);const o=a(t,["preTunedModel"]);o!=null&&s(e,["preTunedModel"],o);const i=a(t,["trainingDataset"]);i!=null&&s(e,["tuningTask","trainingData"],Nb(i));const l=a(t,["config"]);return l!=null&&cb(l,e),e}function mb(t){const e={},n=a(t,["baseModel"]);n!=null&&s(e,["baseModel"],n);const o=a(t,["preTunedModel"]);o!=null&&s(e,["preTunedModel"],o);const i=a(t,["trainingDataset"]);i!=null&&s(e,["supervisedTuningSpec","trainingDatasetUri"],_b(i,e));const l=a(t,["config"]);return l!=null&&db(l,e),e}function pb(t){const e={},n=a(t,["name"]);return n!=null&&s(e,["_url","name"],n),e}function hb(t){const e={},n=a(t,["name"]);return n!=null&&s(e,["_url","name"],n),e}function gb(t,e){const n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&s(e,["_query","pageSize"],o);const i=a(t,["pageToken"]);e!==void 0&&i!=null&&s(e,["_query","pageToken"],i);const l=a(t,["filter"]);return e!==void 0&&l!=null&&s(e,["_query","filter"],l),n}function yb(t,e){const n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&s(e,["_query","pageSize"],o);const i=a(t,["pageToken"]);e!==void 0&&i!=null&&s(e,["_query","pageToken"],i);const l=a(t,["filter"]);return e!==void 0&&l!=null&&s(e,["_query","filter"],l),n}function xb(t){const e={},n=a(t,["config"]);return n!=null&&gb(n,e),e}function vb(t){const e={},n=a(t,["config"]);return n!=null&&yb(n,e),e}function Tb(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const o=a(t,["nextPageToken"]);o!=null&&s(e,["nextPageToken"],o);const i=a(t,["tunedModels"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(r=>By(r))),s(e,["tuningJobs"],l)}return e}function Sb(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const o=a(t,["nextPageToken"]);o!=null&&s(e,["nextPageToken"],o);const i=a(t,["tuningJobs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(r=>gu(r))),s(e,["tuningJobs"],l)}return e}function Cb(t){const e={},n=a(t,["checkpointId"]);n!=null&&s(e,["checkpointId"],n);const o=a(t,["epoch"]);o!=null&&s(e,["epoch"],o);const i=a(t,["step"]);i!=null&&s(e,["step"],i);const l=a(t,["endpoint"]);return l!=null&&s(e,["endpoint"],l),e}function Eb(t){const e={},n=a(t,["name"]);n!=null&&s(e,["model"],n);const o=a(t,["name"]);return o!=null&&s(e,["endpoint"],o),e}function Ab(t){const e={},n=a(t,["model"]);n!=null&&s(e,["model"],n);const o=a(t,["endpoint"]);o!=null&&s(e,["endpoint"],o);const i=a(t,["checkpoints"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(r=>Cb(r))),s(e,["checkpoints"],l)}return e}function Nb(t){const e={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=a(t,["examples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>Mb(i))),s(e,["examples","examples"],o)}return e}function _b(t,e){const n={},o=a(t,["gcsUri"]);e!==void 0&&o!=null&&s(e,["supervisedTuningSpec","trainingDatasetUri"],o);const i=a(t,["vertexDatasetResource"]);if(e!==void 0&&i!=null&&s(e,["supervisedTuningSpec","trainingDatasetUri"],i),a(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function Mb(t){const e={},n=a(t,["textInput"]);n!=null&&s(e,["textInput"],n);const o=a(t,["output"]);return o!=null&&s(e,["output"],o),e}function By(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const o=a(t,["name"]);o!=null&&s(e,["name"],o);const i=a(t,["state"]);i!=null&&s(e,["state"],fy(i));const l=a(t,["createTime"]);l!=null&&s(e,["createTime"],l);const r=a(t,["tuningTask","startTime"]);r!=null&&s(e,["startTime"],r);const u=a(t,["tuningTask","completeTime"]);u!=null&&s(e,["endTime"],u);const c=a(t,["updateTime"]);c!=null&&s(e,["updateTime"],c);const d=a(t,["description"]);d!=null&&s(e,["description"],d);const m=a(t,["baseModel"]);m!=null&&s(e,["baseModel"],m);const p=a(t,["_self"]);p!=null&&s(e,["tunedModel"],Eb(p));const h=a(t,["customBaseModel"]);h!=null&&s(e,["customBaseModel"],h);const g=a(t,["experiment"]);g!=null&&s(e,["experiment"],g);const v=a(t,["labels"]);v!=null&&s(e,["labels"],v);const C=a(t,["outputUri"]);C!=null&&s(e,["outputUri"],C);const E=a(t,["pipelineJob"]);E!=null&&s(e,["pipelineJob"],E);const x=a(t,["serviceAccount"]);x!=null&&s(e,["serviceAccount"],x);const y=a(t,["tunedModelDisplayName"]);y!=null&&s(e,["tunedModelDisplayName"],y);const T=a(t,["veoTuningSpec"]);return T!=null&&s(e,["veoTuningSpec"],T),e}function gu(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const o=a(t,["name"]);o!=null&&s(e,["name"],o);const i=a(t,["state"]);i!=null&&s(e,["state"],fy(i));const l=a(t,["createTime"]);l!=null&&s(e,["createTime"],l);const r=a(t,["startTime"]);r!=null&&s(e,["startTime"],r);const u=a(t,["endTime"]);u!=null&&s(e,["endTime"],u);const c=a(t,["updateTime"]);c!=null&&s(e,["updateTime"],c);const d=a(t,["error"]);d!=null&&s(e,["error"],d);const m=a(t,["description"]);m!=null&&s(e,["description"],m);const p=a(t,["baseModel"]);p!=null&&s(e,["baseModel"],p);const h=a(t,["tunedModel"]);h!=null&&s(e,["tunedModel"],Ab(h));const g=a(t,["preTunedModel"]);g!=null&&s(e,["preTunedModel"],g);const v=a(t,["supervisedTuningSpec"]);v!=null&&s(e,["supervisedTuningSpec"],v);const C=a(t,["tuningDataStats"]);C!=null&&s(e,["tuningDataStats"],C);const E=a(t,["encryptionSpec"]);E!=null&&s(e,["encryptionSpec"],E);const x=a(t,["partnerModelTuningSpec"]);x!=null&&s(e,["partnerModelTuningSpec"],x);const y=a(t,["customBaseModel"]);y!=null&&s(e,["customBaseModel"],y);const T=a(t,["experiment"]);T!=null&&s(e,["experiment"],T);const S=a(t,["labels"]);S!=null&&s(e,["labels"],S);const N=a(t,["outputUri"]);N!=null&&s(e,["outputUri"],N);const R=a(t,["pipelineJob"]);R!=null&&s(e,["pipelineJob"],R);const _=a(t,["serviceAccount"]);_!=null&&s(e,["serviceAccount"],_);const U=a(t,["tunedModelDisplayName"]);U!=null&&s(e,["tunedModelDisplayName"],U);const b=a(t,["veoTuningSpec"]);return b!=null&&s(e,["veoTuningSpec"],b),e}function bb(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const o=a(t,["name"]);o!=null&&s(e,["name"],o);const i=a(t,["metadata"]);i!=null&&s(e,["metadata"],i);const l=a(t,["done"]);l!=null&&s(e,["done"],l);const r=a(t,["error"]);return r!=null&&s(e,["error"],r),e}function wb(t,e){const n={},o=a(t,["gcsUri"]);o!=null&&s(n,["validationDatasetUri"],o);const i=a(t,["vertexDatasetResource"]);return e!==void 0&&i!=null&&s(e,["supervisedTuningSpec","trainingDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rb extends Wn{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new cl($n.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.tune=async n=>{var o;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((o=n.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const l=Object.assign(Object.assign({},n),{preTunedModel:i});return l.baseModel=void 0,await this.tuneInternal(l)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),l=await this.tuneMldevInternal(i);let r="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?r=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(r=l.name.split("/operations/")[0]),{name:r,state:su.JOB_STATE_QUEUED}}}}async getInternal(e){var n,o,i,l;let r,u="",c={};if(this.apiClient.isVertexAI()){const d=hb(e);return u=P("{name}",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),r.then(m=>gu(m))}else{const d=pb(e);return u=P("{name}",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),r.then(m=>By(m))}}async listInternal(e){var n,o,i,l;let r,u="",c={};if(this.apiClient.isVertexAI()){const d=vb(e);return u=P("tuningJobs",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),r.then(m=>{const p=Sb(m),h=new gm;return Object.assign(h,p),h})}else{const d=xb(e);return u=P("tunedModels",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),r.then(m=>{const p=Tb(m),h=new gm;return Object.assign(h,p),h})}}async cancel(e){var n,o,i,l;let r="",u={};if(this.apiClient.isVertexAI()){const c=ub(e);r=P("{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:r,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const c=rb(e);r=P("{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:r,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async tuneInternal(e){var n,o;let i,l="",r={};if(this.apiClient.isVertexAI()){const u=mb(e);return l=P("tuningJobs",u._url),r=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:l,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:c.headers},m})),i.then(c=>gu(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,o;let i,l="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=fb(e);return l=P("tunedModels",u._url),r=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:l,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:c.headers},m})),i.then(c=>bb(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Db{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Ib=1024*1024*8,kb=3,Ub=1e3,qb=2,ur="x-goog-upload-status";async function Vb(t,e,n){var o,i,l;let r=0,u=0,c=new ru(new Response),d="upload";for(r=t.size;u<r;){const p=Math.min(Ib,r-u),h=t.slice(u,u+p);u+p>=r&&(d+=", finalize");let g=0,v=Ub;for(;g<kb&&(c=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(u),"Content-Length":String(p)}}}),!(!((o=c==null?void 0:c.headers)===null||o===void 0)&&o[ur]));)g++,await Pb(v),v=v*qb;if(u+=p,((i=c==null?void 0:c.headers)===null||i===void 0?void 0:i[ur])!=="active")break;if(r<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const m=await(c==null?void 0:c.json());if(((l=c==null?void 0:c.headers)===null||l===void 0?void 0:l[ur])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return m.file}async function Lb(t){return{size:t.size,type:t.type}}function Pb(t){return new Promise(e=>setTimeout(e,t))}class Gb{async upload(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Vb(e,n,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Lb(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bb{create(e,n,o){return new Hb(e,n,o)}}class Hb{constructor(e,n,o){this.url=e,this.headers=n,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hm="x-goog-api-key";class zb{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(Hm)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Hm,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fb="gl-node/";class Hy{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const o=$T(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion;const i=new zb(this.apiKey);this.apiClient=new sM({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:Fb+"web",uploader:new Gb,downloader:new Db}),this.models=new MM(this.apiClient),this.live=new TM(this.apiClient,i,new Bb),this.batches=new GC(this.apiClient),this.chats=new $E(this.models,this.apiClient),this.caches=new JE(this.apiClient),this.files=new a1(this.apiClient),this.operations=new bM(this.apiClient),this.authTokens=new sb(this.apiClient),this.tunings=new Rb(this.apiClient)}}var zm={};const Jb=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 11a7 7 0 01-14 0m7 6v4m0 0H9m4 0h2m-4-8a4 4 0 014-4h0a4 4 0 014 4v2m-8 0v2a4 4 0 004 4h0a4 4 0 004-4v-2"})}),Ob=({className:t})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 10h6v4H9z"})]}),Yb=({isOpen:t,onClose:e,surah:n,ayah:o,onRecitationSuccess:i})=>{const[l,r]=A.useState("idle"),[u,c]=A.useState(""),[d,m]=A.useState(null),[p,h]=A.useState(null),g=A.useRef(null),v=A.useRef(l);v.current=l;const C=()=>{r("idle"),c(""),m(null),h(null)};A.useEffect(()=>{if(!t)return;C();const T=window.SpeechRecognition||window.webkitSpeechRecognition;if(!T){h("متصفحك لا يدعم التعرف على الكلام. حاول استخدام Chrome.");return}const S=new T;return S.lang="ar-SA",S.continuous=!1,S.interimResults=!1,S.maxAlternatives=1,S.onresult=N=>{const R=N.results[0][0].transcript;R?(c(R),r("analyzing"),E(o.text,R)):(h("لم نتمكن من التعرف على أي كلام. يرجى المحاولة بصوت أوضح."),r("idle"))},S.onerror=N=>{console.error("Speech recognition error",N.error);let R="حدث خطأ أثناء التعرف على الصوت.";N.error==="no-speech"?R="لم يتم اكتشاف أي كلام. يرجى المحاولة مرة أخرى.":(N.error==="not-allowed"||N.error==="service-not-allowed")&&(R="تم رفض الوصول إلى الميكروفون. يرجى تفعيل الإذن في إعدادات المتصفح."),h(R),r("idle")},S.onend=()=>{v.current==="recording"&&r("idle")},g.current=S,()=>{g.current&&g.current.abort()}},[t,n,o,i]);const E=async(T,S)=>{if(!zm.API_KEY){h("لم يتم تكوين مفتاح API. هذه الميزة غير متاحة."),r("idle");return}const N=new Hy({apiKey:zm.API_KEY}),R="أنت خبير في التجويد والنطق القرآني. مهمتك هي تحليل تلاوة المستخدم (المقدمة كنص) مقابل النص العربي الأصلي لآية قرآنية. قدم تحليلاً كلمة بكلمة. يجب أن تكون الاستجابة فقط كائن JSON صالح يتوافق مع المخطط المقدم. لا تقم بتضمين أي علامات markdown أو أي نص خارج كائن JSON. يجب أن يحتوي حقل 'wordAnalysis' على كل كلمة من الآية الأصلية. يجب أن تكون قيمة 'isRecitationCorrect' صحيحة (true) فقط إذا كانت التلاوة مثالية أو بها أخطاء طفيفة جدًا لا تذكر. وإلا، يجب أن تكون خاطئة (false). يجب أن تكون جميع الملاحظات والتعليقات باللغة العربية الفصحى.",_=`الآية الأصلية: "${T}"
تلاوة المستخدم (نصية): "${S}"`,U={type:Ce.OBJECT,properties:{overallFeedback:{type:Ce.STRING,description:"ملخص عام موجز باللغة العربية لجودة التلاوة والنقاط الرئيسية للتحسين."},wordAnalysis:{type:Ce.ARRAY,items:{type:Ce.OBJECT,properties:{word:{type:Ce.STRING,description:"الكلمة الأصلية من الآية."},status:{type:Ce.STRING,description:"يمكن أن تكون 'correct' أو 'incorrect'."}},required:["word","status"]}},isRecitationCorrect:{type:Ce.BOOLEAN,description:"قيمة منطقية تشير إلى ما إذا كانت التلاوة الإجمالية تعتبر صحيحة بما يكفي لوضع علامة 'مكتملة'."}},required:["overallFeedback","wordAnalysis","isRecitationCorrect"]};try{const b=await N.models.generateContent({model:"gemini-2.5-flash",contents:_,config:{systemInstruction:R,responseMimeType:"application/json",responseSchema:U}}),I=JSON.parse(b.text);m(I),I.isRecitationCorrect&&i(n,o),r("feedback")}catch(b){console.error("Error with Gemini API:",b),h("حدث خطأ أثناء تحليل التلاوة. حاول مرة أخرى."),r("idle")}},x=()=>{var T;l==="recording"?(T=g.current)==null||T.stop():g.current?(C(),r("recording"),g.current.start()):h("ميزة التعرف على الكلام غير متاحة في هذا المتصفح.")},y=()=>{const T=l==="recording",S=l==="analyzing";let N="ابدأ التسجيل";return l==="feedback"&&(N="حاول مرة أخرى"),T&&(N="إيقاف التسجيل"),S&&(N="جاري التحليل..."),f.jsxs("button",{onClick:x,disabled:S,className:`font-bold py-3 px-8 rounded-full hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-gray-800 flex items-center justify-center gap-3 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed ${T?"bg-red-500 text-white focus:ring-red-500":"bg-primary text-white focus:ring-primary"}`,children:[T?f.jsx(Ob,{className:"w-6 h-6"}):f.jsx(Jb,{className:"w-6 h-6"}),N]})};return t?f.jsx("div",{className:"fixed inset-0 bg-black/75 flex items-center justify-center z-50 animate-fade-in",onClick:e,children:f.jsxs("div",{className:"bg-card rounded-lg shadow-xl p-6 sm:p-8 w-full max-w-lg m-4",onClick:T=>T.stopPropagation(),children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h2",{className:"text-xl font-bold text-text-primary",children:"مدرب النطق"}),f.jsx("button",{onClick:e,className:"text-text-secondary text-3xl leading-none hover:text-text-primary",children:"×"})]}),f.jsx("div",{className:"bg-background p-4 rounded-lg mb-4",children:f.jsx("p",{className:"text-xl font-amiri-quran text-text-primary leading-loose text-center",children:o.text})}),f.jsxs("div",{className:"min-h-[12rem] flex flex-col justify-center items-center p-2",children:[l==="idle"&&f.jsx("p",{className:"text-text-secondary text-center",children:"اضغط على الزر لبدء تسجيل تلاوتك."}),l==="recording"&&f.jsxs("div",{className:"flex flex-col items-center gap-3 text-red-500",children:[f.jsxs("div",{className:"flex items-center gap-3 animate-pulse",children:[f.jsxs("span",{className:"relative flex h-3 w-3",children:[f.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),f.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]}),f.jsx("p",{className:"font-semibold",children:"...جاري التسجيل"})]}),f.jsx("p",{className:"text-sm text-text-secondary mt-2",children:'انقر على "إيقاف التسجيل" عند الانتهاء.'})]}),l==="analyzing"&&f.jsxs("div",{className:"flex flex-col items-center gap-3 text-primary",children:[f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"}),f.jsx("p",{className:"font-semibold",children:"...جاري تحليل التلاوة"})]}),l==="feedback"&&d&&f.jsxs("div",{className:"w-full text-right animate-fade-in",children:[f.jsx("h3",{className:"font-semibold text-text-primary mb-2",children:"تحليل التلاوة:"}),f.jsx("div",{className:"bg-background p-3 rounded text-xl font-amiri-quran flex flex-wrap-reverse justify-center items-center gap-x-2 gap-y-4",dir:"rtl",children:d.wordAnalysis.map((T,S)=>f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx("span",{children:T.word}),T.status==="correct"?f.jsx("span",{className:"text-green-500",title:"صحيح",children:"✅"}):f.jsx("span",{className:"text-yellow-500",title:"بحاجة إلى تحسين",children:"⚠️"})]},S))}),f.jsx("h3",{className:"font-semibold text-text-primary mt-4 mb-2",children:"ملاحظات المدرب:"}),f.jsx("p",{className:"bg-background p-3 rounded whitespace-pre-wrap leading-relaxed",children:d.overallFeedback}),d.isRecitationCorrect&&f.jsx("p",{className:"text-center text-sm font-semibold text-green-600 dark:text-green-400 bg-green-500/10 p-2 rounded-md mt-3",children:"أحسنت! تمت إضافة هذه الآية لتقدمك في تحدي الختمة."})]}),p&&f.jsx("p",{className:"text-red-500 mt-4 text-center text-sm",children:p})]}),f.jsx("div",{className:"mt-6 flex flex-col items-center",children:y()})]})}):null},$b=({surahResults:t,ayahResults:e,isSearching:n,searchError:o,onSurahSelect:i,onPlayAyah:l,currentSurahId:r})=>{const u=n||e.length>0||o;return f.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pt-4 pb-8",children:f.jsxs("div",{className:"space-y-6",children:[t.length>0&&f.jsxs("div",{className:"animate-fade-in",children:[f.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-3 px-2",children:"السور المطابقة"}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(c=>f.jsx("div",{onClick:()=>i(c),className:`p-4 rounded-lg shadow-md transition-all duration-200 text-left w-full flex items-center justify-between cursor-pointer ${r===c.id?"bg-primary text-white transform scale-105":"bg-card hover:bg-border-color"}`,children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("span",{className:`w-10 h-10 flex items-center justify-center rounded-full text-sm font-medium ml-4 ${r===c.id?"bg-white text-primary":"bg-background text-text-secondary"}`,children:c.id}),f.jsx("p",{className:`font-semibold font-amiri-quran text-xl ${r===c.id?"text-white":"text-text-primary"}`,children:c.name})]})},`surah-res-${c.id}`))})]}),u&&f.jsxs("div",{className:"animate-fade-in",children:[f.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-3 px-2",children:"الآيات ذات الصلة"}),n&&f.jsx("div",{className:"flex justify-center items-center p-8",children:f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary",role:"status",children:f.jsx("span",{className:"sr-only",children:"Searching..."})})}),o&&f.jsx("p",{className:"text-red-500 text-center bg-red-500/10 p-4 rounded-lg",children:o}),!n&&e.length>0&&f.jsx("div",{className:"space-y-3",children:e.map(c=>f.jsxs("div",{className:"bg-card p-4 rounded-lg shadow-md flex items-center justify-between gap-4",children:[f.jsxs("div",{className:"flex-grow",children:[f.jsx("p",{className:"font-amiri-quran text-lg text-text-primary leading-relaxed",children:c.text}),f.jsxs("p",{className:"text-xs text-text-secondary mt-2",children:[c.surahName," - الآية ",c.ayahIdInSurah]})]}),f.jsx("button",{onClick:()=>l(c),className:"p-3 rounded-full text-primary bg-primary/10 hover:bg-primary/20 transition-colors flex-shrink-0","aria-label":`Play Ayah ${c.ayahIdInSurah} from Surah ${c.surahName}`,children:f.jsx(iy,{className:"w-6 h-6"})})]},`${c.surahId}-${c.ayahIdInSurah}`))}),!n&&!o&&e.length===0&&t.length===0&&f.jsxs("div",{className:"text-center text-text-secondary py-8",children:[f.jsx("p",{className:"font-semibold",children:"لا توجد نتائج."}),f.jsx("p",{className:"text-sm",children:'حاول البحث عن موضوع مثل "الصبر" أو "الجنة".'})]})]})]})})},Kb=({stats:t})=>f.jsxs("div",{className:"bg-card rounded-lg shadow-md p-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-3 text-center",children:"إحصائيات الاستماع"}),f.jsxs("div",{className:"flex justify-around",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-2xl font-bold text-primary",children:t.hoursThisWeek.toFixed(1)}),f.jsx("p",{className:"text-sm text-text-secondary",children:"ساعة هذا الأسبوع"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-2xl font-bold text-primary",children:t.surahsCompleted}),f.jsx("p",{className:"text-sm text-text-secondary",children:"سورة مكتملة"})]})]})]}),Fm=6236,Qb=()=>new Date().toISOString().split("T")[0],Xb=({challenge:t})=>{if(!t||!t.isActive)return null;const e=Object.values(t.completedAyahs||{}).flat().length;if(e>=Fm)return f.jsxs("div",{className:"bg-card rounded-lg shadow-md p-4 flex items-center gap-4 animate-fade-in",children:[f.jsx(ea,{className:"w-8 h-8 text-primary"}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-text-primary",children:"مبارك!"}),f.jsx("p",{className:"text-sm text-text-secondary",children:"لقد أكملت تحدي ختم القرآن بنجاح."})]})]});if(t.isPaused)return f.jsxs("div",{className:"bg-card rounded-lg shadow-md p-4 flex items-center gap-4 animate-fade-in",children:[f.jsx(ea,{className:"w-8 h-8 text-text-secondary"}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-text-primary",children:"التحدي متوقف مؤقتًا"}),f.jsx("p",{className:"text-sm text-text-secondary",children:"استأنف التحدي من صفحة التحدي للمتابعة."})]})]});const n=Qb(),o=new Date(t.startDate),l=new Date(n).getTime()-o.getTime(),r=Math.max(0,Math.floor(l/(1e3*3600*24))),u=Fm-e,c=Math.max(1,t.durationDays-r),d=c>0?Math.ceil(u/c):u,m=t.progress[n]||0,p=Math.max(0,d-m);return f.jsx("div",{className:"bg-card rounded-lg shadow-md p-4 animate-fade-in",children:f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(ea,{className:"w-8 h-8 text-primary"}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-text-primary",children:"ورد اليوم"}),f.jsx("p",{className:"text-sm text-text-secondary",children:"هدف اليوم لإتمام ختم القرآن."})]})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-2xl font-bold text-primary",children:p}),f.jsx("p",{className:"text-sm text-text-secondary",children:"آية متبقية"})]})]})})},In={Fajr:"الفجر",Dhuhr:"الظهر",Asr:"العصر",Maghrib:"المغرب",Isha:"العشاء"},jb=({prayerSettings:t,remindersEnabled:e})=>{const[n,o]=A.useState(null),[i,l]=A.useState(null),[r,u]=A.useState(!1),[c,d]=A.useState(null);return A.useEffect(()=>{t&&t.method!==void 0&&(async()=>{u(!0),d(null),o(null);try{const p=encodeURIComponent(t.country),h=encodeURIComponent(t.region),g=t.method,C=await(await fetch(`https://api.aladhan.com/v1/timingsByCity?city=${h}&country=${p}&method=${g}`)).json();if(C.code!==200||!C.data.timings){const x=(C==null?void 0:C.data)||`Failed to fetch prayer times (status: ${C.status}).`;throw new Error(x)}const E={Fajr:C.data.timings.Fajr,Dhuhr:C.data.timings.Dhuhr,Asr:C.data.timings.Asr,Maghrib:C.data.timings.Maghrib,Isha:C.data.timings.Isha};o(E)}catch(p){p instanceof Error?d(p.message):d("An unknown error occurred.")}finally{u(!1)}})()},[t]),A.useEffect(()=>{if(n&&e&&typeof window.Notification<"u"&&Notification.permission==="granted"){const m=new Date,p=[];return Object.entries(n).forEach(([h,g])=>{if(In[h]){const[v,C]=g.split(":").map(Number),E=new Date;if(E.setHours(v,C,0,0),E>m){const x=E.getTime()-m.getTime(),y=window.setTimeout(()=>{new Notification("حي على الصلاة",{body:`حان الآن وقت صلاة ${In[h]}`,icon:"https://i.imgur.com/1m8xN9N.png"})},x);p.push(y)}}}),()=>{p.forEach(clearTimeout)}}},[n,e]),A.useEffect(()=>{if(n){const m=new Date;let p=null;const h=Object.entries(n).filter(([g])=>In[g]).map(([g,v])=>{const C=v,[E,x]=C.split(":").map(Number),y=new Date;return y.setHours(E,x,0,0),{name:g,time:C,date:y}}).sort((g,v)=>g.date.getTime()-v.date.getTime());for(const g of h)if(g.date>m){p={name:In[g.name],time:g.time};break}!p&&h.length>0&&(p={name:In[h[0].name],time:h[0].time}),l(p)}},[n]),t?f.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pt-6",children:f.jsxs("div",{className:"bg-card rounded-lg shadow-md p-4 animate-fade-in",children:[f.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-3 text-center",children:"أوقات الصلاة"}),r&&f.jsx("p",{className:"text-center",children:"...جاري التحميل"}),c&&f.jsx("p",{className:"text-center text-red-500",children:c}),n&&!r&&!c&&f.jsxs("div",{children:[i&&f.jsxs("div",{className:"text-center mb-4",children:[f.jsx("p",{className:"text-sm text-text-secondary",children:"الصلاة التالية"}),f.jsxs("p",{className:"text-2xl font-bold text-primary",children:[i.name," في ",i.time]})]}),f.jsx("div",{className:"grid grid-cols-5 gap-2 text-center border-t border-border-color pt-3",children:Object.entries(n).filter(([m])=>In[m]).map(([m,p])=>f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold text-text-primary",children:In[m]}),f.jsx("p",{className:"text-sm text-text-secondary",children:p})]},m))})]})]})}):null},Zb=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.114 5.636a9 9 0 010 12.728M16.463 8.288a5.25 5.25 0 010 7.424M6.75 8.25l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75z"})}),Wb=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})}),ew=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"})}),tw=({className:t})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 2v4"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8l-2-2m2 2l2-2"})]}),nw=({className:t})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.375a9.375 9.375 0 01-6.44-2.423 9.375 9.375 0 0112.88 0A9.375 9.375 0 0112 18.375z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3.75c-3.46 0-6.25 2.79-6.25 6.25S8.54 16.25 12 16.25s6.25-2.79 6.25-6.25S15.46 3.75 12 3.75z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 11.25a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.125 11.25a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.875 11.25a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25z"})]}),Jm=({onNavigate:t,stats:e,challenge:n,prayerSettings:o,remindersEnabled:i})=>{const l=[{page:"audio",label:"المصحف المسموع",icon:f.jsx(Zb,{className:"w-10 h-10 mb-3 text-primary"})},{page:"reading",label:"المصحف المقروء",icon:f.jsx(Wb,{className:"w-10 h-10 mb-3 text-primary"})},{page:"asbab",label:"أسباب النزول",icon:f.jsx(tw,{className:"w-10 h-10 mb-3 text-primary"})},{page:"quiz",label:"فقه وحكمة",icon:f.jsx(ew,{className:"w-10 h-10 mb-3 text-primary"})}];return f.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pt-6 pb-8 animate-fade-in",children:f.jsxs("div",{className:"space-y-6",children:[f.jsx(Xb,{challenge:n}),f.jsx(Kb,{stats:e}),f.jsx(jb,{prayerSettings:o,remindersEnabled:i}),f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-4",children:l.map(r=>f.jsxs("button",{onClick:()=>t(r.page),className:"bg-card rounded-xl shadow-md p-6 flex flex-col items-center justify-center text-center hover:bg-border-color transform hover:-translate-y-1 transition-all duration-200",children:[r.icon,f.jsx("h2",{className:"text-lg font-bold text-text-primary",children:r.label})]},r.page))}),f.jsx("div",{className:"pt-4",children:f.jsxs("button",{onClick:()=>t("kids"),className:"bg-card rounded-xl shadow-md p-6 w-full flex flex-col items-center justify-center text-center hover:bg-border-color transform hover:-translate-y-1 transition-all duration-200",children:[f.jsx(nw,{className:"w-12 h-12 mb-3 text-primary"}),f.jsx("h2",{className:"text-xl font-bold text-text-primary",children:"عالم الطفل"}),f.jsx("p",{className:"text-sm text-text-secondary mt-1",children:"مغامرات قرآنية وتعاليم إسلامية شيقة"})]})})]})})},ow="ronaq-db",iw=4,Mn="ayahs",wt="tafsir",bn="quranText";let ql;const rt=()=>new Promise((t,e)=>{if(ql)return t(ql);const n=window.indexedDB.open(ow,iw);n.onerror=o=>{console.error("IndexedDB error:",o.target.error),e("IndexedDB error: "+o.target.error)},n.onsuccess=o=>{ql=o.target.result,t(ql)},n.onupgradeneeded=o=>{const i=o.target.result;i.objectStoreNames.contains(Mn)||i.createObjectStore(Mn,{keyPath:"id"}),i.objectStoreNames.contains(wt)||i.createObjectStore(wt,{keyPath:"id"}),i.objectStoreNames.contains(bn)||i.createObjectStore(bn,{keyPath:"id"})}}),lw=async(t,e,n,o)=>{const i=await rt();return new Promise((l,r)=>{const c=i.transaction([Mn],"readwrite").objectStore(Mn),d=`${t}-${e}-${n}`,m=c.put({id:d,audioBlob:o});m.onsuccess=()=>l(),m.onerror=p=>{console.error("Failed to add ayah:",p.target.error),r("Failed to add ayah: "+p.target.error)}})},aw=async(t,e,n)=>{const o=await rt();return new Promise((i,l)=>{const u=o.transaction([Mn],"readonly").objectStore(Mn),c=`${t}-${e}-${n}`,d=u.get(c);d.onsuccess=m=>{const p=m.target.result;i(p?p.audioBlob:null)},d.onerror=m=>{console.error("Failed to get ayah:",m.target.error),l("Failed to get ayah: "+m.target.error)}})},Om=async(t,e,n)=>{const o=await rt();return new Promise((i,l)=>{const u=o.transaction([wt],"readwrite").objectStore(wt),c=`${t}:${e}`,d=u.put({id:c,text:n});d.onsuccess=()=>i(),d.onerror=m=>{console.error("Failed to add tafsir:",m.target.error),l("Failed to add tafsir: "+m.target.error)}})},Ym=async(t,e)=>{const n=await rt();return new Promise((o,i)=>{const r=n.transaction([wt],"readonly").objectStore(wt),u=`${t}:${e}`,c=r.get(u);c.onsuccess=d=>{const m=d.target.result;o(m?m.text:null)},c.onerror=d=>{console.error("Failed to get tafsir:",d.target.error),i("Failed to get tafsir: "+d.target.error)}})},zy=async t=>{const e=await rt();return new Promise((n,o)=>{const r=e.transaction([t],"readonly").objectStore(t).getAllKeys();r.onsuccess=u=>{const c=u.target.result;n(c)},r.onerror=u=>{console.error("Failed to get keys:",u.target.error),o("Failed to get keys: "+u.target.error)}})},$m=async(t,e)=>{const n=await rt();return new Promise((o,i)=>{const r=n.transaction([Mn],"readwrite").objectStore(Mn),u=`${t}-${e}-`,c=IDBKeyRange.bound(u,u+"￿"),d=r.openCursor(c);d.onsuccess=m=>{const p=m.target.result;p?(r.delete(p.primaryKey),p.continue()):o()},d.onerror=m=>{console.error("Failed to delete surah audio:",m.target.error),i("Failed to delete surah audio: "+m.target.error)}})},Km=async t=>{const e=await rt();return new Promise((n,o)=>{const l=e.transaction([wt],"readwrite").objectStore(wt),r=`${t}:`,u=IDBKeyRange.bound(r,r+"￿"),c=l.delete(u);c.onsuccess=()=>n(),c.onerror=d=>{console.error("Failed to delete tafsirs for surah:",d.target.error),o("Failed to delete tafsirs for surah: "+d.target.error)}})},sw=async t=>{const e=await rt();return new Promise((n,o)=>{const l=e.transaction([wt],"readonly").objectStore(wt),r=`${t}:`,u=IDBKeyRange.bound(r,r+"￿"),c=l.count(u);c.onsuccess=d=>{n(d.target.result)},c.onerror=d=>{console.error("Failed to count tafsirs for surah:",d.target.error),o("Failed to count tafsirs for surah: "+d.target.error)}})},rw=async(t,e)=>{const n=await rt();return new Promise((o,i)=>{const u=n.transaction([bn],"readwrite").objectStore(bn).put({id:t,ayahs:e});u.onsuccess=()=>o(),u.onerror=c=>i("Failed to add surah text: "+c.target.error)})},uw=async t=>{const e=await rt();return new Promise((n,o)=>{const r=e.transaction([bn],"readonly").objectStore(bn).get(t);r.onsuccess=u=>{const c=u.target.result;n(c?c.ayahs:null)},r.onerror=u=>o("Failed to get surah text: "+u.target.error)})},cw=async t=>{const e=await rt();return new Promise((n,o)=>{const r=e.transaction([bn],"readwrite").objectStore(bn).delete(t);r.onsuccess=()=>n(),r.onerror=u=>o("Failed to delete surah text: "+u.target.error)})},dw=({className:t})=>f.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),fw=({className:t})=>f.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v6m3-3h-6"})}),mw=({className:t})=>f.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7"})}),pw=(t,e)=>{const n=parseInt(t.replace("#",""),16),o=Math.max(0,(n>>16)-e),i=Math.max(0,(n>>8&255)-e),l=Math.max(0,(n&255)-e);return`#${(o<<16|i<<8|l).toString(16).padStart(6,"0")}`},Vl={Beige:"#EAE4C8",Cream:"#F2EEC0","Light Turquoise":"#9ED8D8","Light Green":"#8ADE8A"},hw=({number:t,className:e})=>f.jsxs("svg",{viewBox:"0 0 40 40",className:`inline-block w-[1.5em] h-[1.5em] text-primary dark:text-primary/80 ${e}`,children:[f.jsx("path",{d:"M20,4 C28.837,4 36,11.163 36,20 C36,28.837 28.837,36 20,36 C11.163,36 4,28.837 4,20 C4,11.163 11.163,4 20,4 Z",fill:"none",stroke:"currentColor",strokeWidth:"1.5"}),f.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",fill:"currentColor",fontSize:"14",fontFamily:"sans-serif",fontWeight:"bold",children:t})]}),gw=({surah:t,onBack:e})=>{const[n,o]=A.useState(()=>JSON.parse(localStorage.getItem("lastReadPagePerSurah")||"{}")[t.id]||ar[t.id]||1),[i,l]=A.useState(null),[r,u]=A.useState(!1),[c,d]=A.useState(null),[m,p]=A.useState(!1),[h,g]=A.useState(()=>Number(localStorage.getItem("mushafFontSize")||28)),[v,C]=A.useState(()=>localStorage.getItem("mushafBgColorName")||"Beige"),[E,x]=A.useState(null),[y,T]=A.useState(!1),S=A.useRef(null),N=A.useRef(null),R=A.useRef(null);A.useEffect(()=>{const V=z=>{N.current&&!N.current.contains(z.target)&&p(!1),R.current&&!R.current.contains(z.target)&&x(null)};return document.addEventListener("mousedown",V),()=>document.removeEventListener("mousedown",V)},[]),A.useEffect(()=>{localStorage.setItem("mushafFontSize",String(h))},[h]),A.useEffect(()=>{localStorage.setItem("mushafBgColorName",v)},[v]),A.useEffect(()=>{const V=setTimeout(()=>{const z=new Set(JSON.parse(localStorage.getItem("readPagesSet")||"[]"));z.has(n)||(z.add(n),localStorage.setItem("readPagesSet",JSON.stringify(Array.from(z))))},15e3);return()=>clearTimeout(V)},[n]),A.useEffect(()=>{const V=JSON.parse(localStorage.getItem("lastReadPagePerSurah")||"{}");V[t.id]=n,localStorage.setItem("lastReadPagePerSurah",JSON.stringify(V));const z={surahId:t.id,surahName:t.name,page:n};localStorage.setItem("lastReadLocation",JSON.stringify(z))},[n,t]);const _=A.useCallback(async()=>{u(!0),d(null),l(null);try{const V=await uw(t.id);if(V){const It=V.filter(Tt=>Tt.page===n);if(It.length>0){l(It);return}}const z=await fetch(`https://api.alquran.cloud/v1/page/${n}/quran-uthmani`);if(!z.ok)throw new Error("Failed to fetch page data from network.");const Se=await z.json();if(Se.code===200)l(Se.data.ayahs);else throw new Error(Se.data||"Could not load page.")}catch(V){d(V instanceof Error?V.message:"An unknown error occurred.")}finally{u(!1),S.current&&(S.current.scrollTop=0)}},[n,t.id]);A.useEffect(()=>{_()},[_]);const U=ar[t.id],b=t.id<114?ar[t.id+1]-1:604,I=V=>{const z=n+V;z>=U&&z<=b&&(o(z),x(null))},J=(V,z)=>{const Se=V.currentTarget.getBoundingClientRect();x({ayah:z,top:Se.top+window.scrollY,left:Se.left+window.scrollX}),T(!1)},O=()=>{if(!E)return;const V=`"${E.ayah.text}" (سورة ${E.ayah.surah.name}, الآية ${E.ayah.numberInSurah})`;navigator.clipboard.writeText(V).then(()=>{T(!0),setTimeout(()=>{x(null)},1200)})},B=2,q=20,le=48,k=V=>{g(z=>{let Se=z+(V==="in"?B:-B);return Se<q&&(Se=q),Se>le&&(Se=le),Se})},H={"--scrollbar-track-bg":Vl[v],"--scrollbar-thumb-bg":pw(Vl[v],40)},$=i?i.map(V=>V.surah.name).filter((V,z,Se)=>Se.indexOf(V)===z).join(" - "):t.name;return f.jsxs("div",{className:"fixed inset-0 z-30 flex flex-col animate-fade-in",style:{backgroundColor:Vl[v]},children:[f.jsxs("header",{className:"flex-shrink-0 bg-card/95 backdrop-blur-lg shadow-md p-3 flex items-center justify-between",children:[f.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-border-color w-10 h-10 flex items-center justify-center","aria-label":"العودة إلى قائمة السور",children:f.jsx(He,{className:"w-6 h-6 transform scale-x-[-1]"})}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>I(1),disabled:n>=b,className:"p-2 rounded-full hover:bg-border-color disabled:opacity-50","aria-label":"الصفحة التالية",children:f.jsx(He,{className:"w-6 h-6"})}),f.jsxs("span",{className:"text-sm font-mono w-16 text-center","aria-live":"polite",children:[n," / 604"]}),f.jsx("button",{onClick:()=>I(-1),disabled:n<=U,className:"p-2 rounded-full hover:bg-border-color disabled:opacity-50","aria-label":"الصفحة السابقة",children:f.jsx(ly,{className:"w-6 h-6"})})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("button",{onClick:()=>k("out"),disabled:h<=q,className:"p-2 rounded-full hover:bg-border-color disabled:opacity-50","aria-label":"تصغير الخط",children:f.jsx(mw,{className:"w-6 h-6"})}),f.jsx("button",{onClick:()=>k("in"),disabled:h>=le,className:"p-2 rounded-full hover:bg-border-color disabled:opacity-50","aria-label":"تكبير الخط",children:f.jsx(fw,{className:"w-6 h-6"})}),f.jsx("button",{onClick:()=>{p(V=>!V),x(null)},className:"p-2 rounded-full hover:bg-border-color","aria-label":"إعدادات العرض",children:f.jsx(ny,{className:"w-6 h-6"})})]})]}),f.jsxs("main",{ref:S,className:"flex-grow overflow-y-auto p-4 custom-scrollbar",style:H,children:[r&&f.jsx("div",{className:"flex justify-center items-center h-full",children:f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary",role:"status",children:f.jsx("span",{className:"sr-only",children:"Loading..."})})}),c&&f.jsx("div",{className:"text-center text-red-500 p-8",children:c}),i&&f.jsxs("div",{className:"max-w-3xl mx-auto bg-card/80 p-4 sm:p-6 rounded-lg shadow-lg",children:[f.jsx("div",{className:"text-center mb-4 border-b border-border-color pb-2",children:f.jsx("h2",{className:"font-amiri-quran text-2xl font-bold text-text-primary",children:$})}),f.jsx("div",{className:"font-amiri-quran text-right leading-loose text-black",style:{fontSize:`${h}px`},dir:"rtl",children:i.map(V=>f.jsxs("span",{onClick:z=>J(z,V),className:"cursor-pointer hover:bg-primary/10 rounded-md",children:[V.numberInSurah===1&&V.surah.number!==1&&V.surah.number!==9&&f.jsx("p",{className:"text-center text-2xl my-4 tracking-wider",children:"بِسْمِ ٱللَّهِ ٱلرَّحْمَٰنِ ٱلرَّحِيمِ"}),f.jsx("span",{className:"ayah-text","data-ayah-ref":`${V.surah.number}:${V.numberInSurah}`,children:V.text.replace("بِسْمِ ٱللَّهِ ٱلرَّحْمَٰنِ ٱلرَّحِيمِ ","")}),f.jsx(hw,{number:V.numberInSurah})]},V.number))})]})]}),m&&f.jsxs("div",{ref:N,className:"absolute top-16 right-3 w-72 bg-card p-4 rounded-lg shadow-xl border border-border-color z-40 animate-fade-in space-y-4",children:[f.jsxs("div",{children:[f.jsxs("label",{htmlFor:"font-size-slider",className:"text-sm text-text-secondary",children:["حجم الخط: ",h,"px"]}),f.jsx("input",{id:"font-size-slider",type:"range",min:"20",max:"48",step:"2",value:h,onChange:V=>g(Number(V.target.value)),className:"w-full"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-sm text-text-secondary",children:"لون الخلفية"}),f.jsx("div",{className:"flex justify-between items-center mt-2",children:Object.entries(Vl).map(([V,z])=>f.jsx("button",{onClick:()=>C(V),className:`w-10 h-10 rounded-full border-2 ${v===V?"ring-2 ring-primary ring-offset-2 dark:ring-offset-card":"border-border-color"}`,style:{backgroundColor:z},"aria-label":`Select ${V} color`},V))})]})]}),E&&f.jsxs("div",{ref:R,style:{top:E.top-70,left:"50%",transform:"translateX(-50%)"},className:"fixed bg-card p-2 rounded-lg shadow-xl border border-border-color z-50 text-center animate-fade-in w-72",children:[f.jsx("p",{className:"text-xs text-text-secondary mb-2",children:"نسخ الآية؟"}),f.jsx("button",{onClick:O,className:`w-full text-white font-bold py-2 px-4 rounded-md flex items-center justify-center gap-2 ${y?"bg-green-500":"bg-primary hover:opacity-90"}`,children:y?f.jsxs(f.Fragment,{children:[f.jsx(Ko,{className:"w-5 h-5"})," تم النسخ!"]}):f.jsxs(f.Fragment,{children:[f.jsx(dw,{className:"w-5 h-5"})," نسخ"]})})]})]})},yw=({surahs:t})=>{const[e,n]=A.useState(null),[o,i]=A.useState({pagesRead:0,lastLocation:null}),[l,r]=A.useState(new Set),[u,c]=A.useState(null);A.useEffect(()=>{if(!e){const p=localStorage.getItem("readPagesSet"),h=p?JSON.parse(p):[],g=localStorage.getItem("lastReadLocation"),v=g?JSON.parse(g):null;i({pagesRead:h.length,lastLocation:v}),(async()=>{const E=await zy("quranText");r(new Set(E.map(x=>Number(x))))})()}},[e]);const d=async p=>{if(!(l.has(p.id)||u===p.id)){c(p.id);try{const h=await fetch(`https://api.alquran.cloud/v1/surah/${p.id}/quran-uthmani`);if(!h.ok)throw new Error("Failed to fetch Surah text.");const g=await h.json();if(g.code===200&&g.data.ayahs)await rw(p.id,g.data.ayahs),r(v=>new Set(v).add(p.id));else throw new Error("Invalid API response for Surah text.")}catch(h){console.error(`Failed to download Surah ${p.id}`,h),alert(`فشل تحميل سورة ${p.name}. يرجى التحقق من اتصالك بالإنترنت.`)}finally{c(null)}}},m=async p=>{if(window.confirm("هل أنت متأكد من حذف النص المحمل لهذه السورة؟"))try{await cw(p),r(h=>{const g=new Set(h);return g.delete(p),g})}catch(h){console.error(`Failed to delete Surah ${p}`,h),alert("حدث خطأ أثناء الحذف.")}};return e?f.jsx(gw,{surah:e,onBack:()=>n(null)}):f.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pt-4 pb-8 animate-fade-in",children:[f.jsxs("div",{className:"mb-6 bg-card p-4 rounded-lg shadow-md",children:[f.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-3 text-center",children:"تقدم القراءة"}),f.jsxs("div",{className:"flex justify-around text-center items-center",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-2xl font-bold text-primary",children:o.pagesRead}),f.jsx("p",{className:"text-sm text-text-secondary",children:"صفحة مقروءة"})]}),o.lastLocation?f.jsxs("div",{onClick:()=>{const p=t.find(h=>{var g;return h.id===((g=o.lastLocation)==null?void 0:g.surahId)});p&&n(p)},className:"cursor-pointer p-2 rounded-md hover:bg-border-color",children:[f.jsx("p",{className:"font-semibold text-text-primary truncate",children:o.lastLocation.surahName}),f.jsxs("p",{className:"text-sm text-text-secondary",children:["آخر صفحة: ",o.lastLocation.page]})]}):f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold text-text-primary",children:"-"}),f.jsx("p",{className:"text-sm text-text-secondary",children:"آخر صفحة"})]})]})]}),f.jsx("h2",{className:"text-xl font-bold text-text-primary mb-4",children:"اختر سورة للبدء"}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(p=>{const h=l.has(p.id),g=u===p.id;return f.jsxs("div",{className:"p-4 rounded-lg shadow-md bg-card hover:bg-border-color transition-all duration-200 flex items-center justify-between cursor-pointer",onClick:()=>n(p),children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("span",{className:"w-10 h-10 flex items-center justify-center rounded-full text-sm font-medium ml-4 bg-background text-text-secondary",children:p.id}),f.jsx("p",{className:"font-semibold font-amiri-quran text-xl text-text-primary",children:p.name})]}),f.jsx("div",{className:"flex-shrink-0",children:g?f.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-primary"}):h?f.jsx("button",{onClick:v=>{v.stopPropagation(),m(p.id)},className:"p-2 text-red-500 hover:bg-red-500/10 rounded-full","aria-label":"حذف النص المحمل",children:f.jsx(Ua,{className:"w-5 h-5"})}):f.jsx("button",{onClick:v=>{v.stopPropagation(),d(p)},className:"p-2 text-text-secondary hover:text-primary rounded-full","aria-label":"تحميل للقراءة بدون انترنت",children:f.jsx(oy,{className:"w-6 h-6"})})})]},p.id)})})]})},xw=[{id:1001,question:"من هو النبي الذي ابتلعه الحوت؟",options:["يوسف عليه السلام","يونس عليه السلام","موسى عليه السلام","إسحاق عليه السلام"],correctAnswer:"يونس عليه السلام",shortExplanation:"نبي الله يونس عليه السلام هو الذي غضب على قومه فذهب وابتلعه الحوت، فدعا ربه في الظلمات فنجاه الله.",detailedExplanation:"قصة يونس عليه السلام مذكورة في القرآن الكريم. أُرسل إلى أهل نينوى فدعاهم فلم يؤمنوا، فغضب عليهم وخرج من بينهم قبل أن يأذن الله له. فركب سفينة، فلما كانت في عرض البحر هاجت، فاقترعوا ليلقوا أحدهم تخفيفًا للحمولة، فوقعت القرعة على يونس ثلاث مرات، فأُلقي في البحر فالتقمه الحوت. وفي بطن الحوت نادى ربه: (لَّا إِلَٰهَ إِلَّا أَنتَ سُبْحَانَكَ إِنِّي كُنتُ مِنَ الظَّالِمِينَ)، فاستجاب الله له ونجاه.",reference:"القرآن الكريم، سورة الأنبياء: 87-88، وسورة الصافات: 139-148."},{id:1002,question:"ما هي 'أم الكتاب'؟",options:["سورة البقرة","سورة يس","سورة الفاتحة","سورة الملك"],correctAnswer:"سورة الفاتحة",shortExplanation:"سورة الفاتحة تسمى 'أم الكتاب' و 'أم القرآن' لأنها تشتمل على مقاصد القرآن الأساسية.",detailedExplanation:"لسورة الفاتحة أسماء كثيرة منها: أم الكتاب، وأم القرآن، والسبع المثاني، والشفاء، والأساس. سميت 'أم الكتاب' لأنها أول سورة في ترتيب المصحف، ولأنها تفتتح بها الصلاة، ولأنها جمعت معاني القرآن ومقاصده الأساسية من التوحيد والعبادة والدعاء وبيان طريق الهداية.",reference:"صحيح البخاري، كتب التفسير."},{id:1003,question:"كم سنة استمر نزول القرآن الكريم على النبي محمد صلى الله عليه وسلم؟",options:["13 سنة","20 سنة","23 سنة","25 سنة"],correctAnswer:"23 سنة",shortExplanation:"استمر نزول القرآن الكريم على النبي صلى الله عليه وسلم قرابة 23 سنة، منها 13 في مكة و 10 في المدينة.",detailedExplanation:"بدأ نزول الوحي على النبي صلى الله عليه وسلم وهو في سن الأربعين، واستمر حتى وفاته في سن الثالثة والستين. الفترة المكية استمرت حوالي 13 عامًا، وركزت آياتها على العقيدة والتوحيد والرد على المشركين. والفترة المدنية استمرت 10 سنوات، وركزت آياتها على التشريعات والأحكام وتنظيم المجتمع المسلم.",reference:"كتب علوم القرآن والسيرة النبوية."},{id:1004,question:"من هو أول مؤذن في الإسلام؟",options:["عمر بن الخطاب","علي بن أبي طالب","زيد بن حارثة","بلال بن رباح"],correctAnswer:"بلال بن رباح",shortExplanation:"الصحابي الجليل بلال بن رباح الحبشي هو أول من أذن للصلاة في الإسلام.",detailedExplanation:"بعد أن شرع الأذان في السنة الأولى من الهجرة، اختار النبي صلى الله عليه وسلم بلال بن رباح ليكون أول مؤذن له، وذلك لجمال صوته وقوته. وقد عُذب بلال في مكة لثباته على التوحيد، فكان مثالاً للصبر والإخلاص.",reference:"سيرة ابن هشام."},{id:1005,question:"ما هي الغزوة التي وقعت في شهر رمضان؟",options:["غزوة أحد","غزوة بدر","غزوة الخندق","غزوة حنين"],correctAnswer:"غزوة بدر",shortExplanation:"غزوة بدر الكبرى، أول معركة فاصلة في تاريخ الإسلام، وقعت في السابع عشر من شهر رمضان في السنة الثانية للهجرة.",detailedExplanation:"خرج المسلمون في رمضان من السنة الثانية للهجرة لاعتراض قافلة لقريش، ولكن الأمر تطور إلى مواجهة عسكرية شاملة مع جيش المشركين في مكان يسمى بدر. وعلى الرغم من قلة عدد المسلمين وعدتهم، نصرهم الله نصرًا مؤزرًا، وسُمي هذا اليوم بـ 'يوم الفرقان'.",reference:"القرآن الكريم، سورة الأنفال."},{id:1006,question:"من هو الصحابي الملقب بـ 'ذي النورين'؟",options:["أبو بكر الصديق","عمر بن الخطاب","عثمان بن عفان","علي بن أبي طالب"],correctAnswer:"عثمان بن عفان",shortExplanation:"لقب الخليفة الثالث عثمان بن عفان رضي الله عنه بـ 'ذي النورين' لأنه تزوج من ابنتي النبي صلى الله عليه وسلم: رقية ثم بعد وفاتها أم كلثوم.",detailedExplanation:"تزوج عثمان بن عفان رضي الله عنه من السيدة رقية بنت رسول الله، وبعد وفاتها زوجه النبي من أختها السيدة أم كلثوم. ولم يُعرف أن رجلاً تزوج ابنتي نبي غيره، فلهذا السبب سُمي 'ذي النورين'.",reference:"كتب التاريخ والتراجم الإسلامية."},{id:1007,question:"ما هو اسم زوجة فرعون التي آمنت بموسى عليه السلام؟",options:["هاجر","زبيدة","آسية","بلقيس"],correctAnswer:"آسية",shortExplanation:"آسية بنت مزاحم، زوجة فرعون، هي التي آمنت بدعوة موسى عليه السلام وضربها الله مثلاً للذين آمنوا.",detailedExplanation:"على الرغم من أنها كانت زوجة أطغى طغاة الأرض، إلا أن الله قذف الإيمان في قلب آسية. لما آمنت، عذبها فرعون عذابًا شديدًا لترجع عن دينها فرفضت، ودعت ربها قائلة: (رَبِّ ابْنِ لِي عِندَكَ بَيْتًا فِي الْجَنَّةِ وَنَجِّنِي مِن فِرْعَوْنَ وَعَمَلِهِ وَنَجِّنِي مِنَ الْقَوْمِ الظَّالِمِينَ)، فاستجاب الله لها.",reference:"القرآن الكريم، سورة التحريم: 11."},{id:1008,question:"ما هي السورة التي لا تبدأ بالبسملة 'بسم الله الرحمن الرحيم'؟",options:["الأنفال","التوبة","المنافقون","الممتحنة"],correctAnswer:"التوبة",shortExplanation:"سورة التوبة هي السورة الوحيدة في القرآن الكريم التي لا تبدأ بالبسملة.",detailedExplanation:"اختلف العلماء في سبب عدم بدء سورة التوبة بالبسملة. القول الأشهر هو ما روي عن علي بن أبي طالب أن البسملة أمان، وسورة براءة (التوبة) نزلت بالسيف ونبذ العهود مع المشركين، فلا يجتمع الأمان مع السيف.",reference:"كتب علوم القرآن وتفاسيرها."},{id:1009,question:"من هو 'روح القدس' المذكور في القرآن الكريم؟",options:["ميكائيل عليه السلام","إسرافيل عليه السلام","جبريل عليه السلام","ملك الموت"],correctAnswer:"جبريل عليه السلام",shortExplanation:"روح القدس هو لقب للملك جبريل عليه السلام، وهو الملك الموكل بإنزال الوحي على الأنبياء.",detailedExplanation:"ذُكر جبريل عليه السلام في القرآن بأسماء وألقاب متعددة، منها 'روح القدس' كما في قوله تعالى: (قُلْ نَزَّلَهُ رُوحُ الْقُدُsسِ مِن رَّبِّكَ بِالْحَقِّ). وسمي بذلك لطهارته، ولأنه ينزل بالوحي الذي هو حياة للقلوب والأرواح.",reference:"القرآن الكريم، سورة النحل: 102."},{id:1010,question:"في أي مدينة يوجد المسجد الأقصى؟",options:["مكة المكرمة","المدينة المنورة","القدس","دمشق"],correctAnswer:"القدس",shortExplanation:"يقع المسجد الأقصى المبارك في مدينة القدس بفلسطين، وهو أولى القبلتين وثالث الحرمين الشريفين.",detailedExplanation:"المسجد الأقصى له مكانة عظيمة في الإسلام، فهو القبلة الأولى التي صلى إليها المسلمون قبل التوجه للكعبة، وهو مسرى النبي صلى الله عليه وسلم في رحلة الإسراء والمعراج، وهو ثالث مسجد تشد إليه الرحال بعد المسجد الحرام والمسجد النبوي.",reference:"القرآن الكريم، سورة الإسراء: 1، وصحيح البخاري."},{id:1011,question:"من هو النبي الذي كلمه الله مباشرة بدون وحي؟",options:["إبراهيم عليه السلام","موسى عليه السلام","عيسى عليه السلام","محمد صلى الله عليه وسلم"],correctAnswer:"موسى عليه السلام",shortExplanation:"لقب موسى عليه السلام بـ 'كليم الله' لأن الله كلمه تكليمًا مباشرًا عند جبل الطور.",detailedExplanation:"من الخصائص التي تفرد بها نبي الله موسى عليه السلام أن الله كلمه كلامًا حقيقيًا سمعه موسى منه مباشرة دون واسطة ملك. قال تعالى: (وَكَلَّمَ اللَّهُ مُوسَىٰ تَكْلِيمًا). وقد حدث هذا التكليم في الوادي المقدس طوى بسيناء.",reference:"القرآن الكريم، سورة النساء: 164."},{id:1012,question:"ما هي الصلاة الوسطى التي ذكرت في القرآن الكريم؟",options:["صلاة الفجر","صلاة الظهر","صلاة العصر","صلاة المغرب"],correctAnswer:"صلاة العصر",shortExplanation:"القول الراجح عند جمهور العلماء أن الصلاة الوسطى المذكورة في قوله تعالى (حَافِظُوا عَلَى الصَّلَوَاتِ وَالصَّلَاةِ الْوُسْطَىٰ) هي صلاة العصر.",detailedExplanation:"أكد الله على المحافظة على جميع الصلوات، وخص بالذكر 'الصلاة الوسطى' لمزيد من العناية بها. وقد وردت أحاديث صحيحة عن النبي صلى الله عليه وسلم تصرح بأنها صلاة العصر، منها قوله يوم الخندق: 'شغلونا عن الصلاة الوسطى، صلاة العصر، ملأ الله بيوتهم وقبورهم نارًا'.",reference:"القرآن الكريم، سورة البقرة: 238، وصحيح البخاري ومسلم."},{id:1013,question:"من هو الصحابي الذي تستحي منه الملائكة؟",options:["أبو بكر الصديق","عمر بن الخطاب","عثمان بن عفان","علي بن أبي طالب"],correctAnswer:"عثمان بن عفان",shortExplanation:"عثمان بن عفان رضي الله عنه هو الصحابي الذي قال عنه النبي صلى الله عليه وسلم: 'ألا أستحي من رجل تستحي منه الملائكة'.",detailedExplanation:"عُرف عثمان بن عفان رضي الله عنه بشدة حيائه. وفي حديث عائشة رضي الله عنها، أن النبي صلى الله عليه وسلم كان مضطجعًا كاشفًا عن ساقيه، فدخل أبو بكر ثم عمر فلم يغير جلسته، فلما استأذن عثمان، سوى النبي ثيابه وجلس. فلما سألته عائشة عن ذلك، قال: 'ألا أستحي من رجل تستحي منه الملائكة'.",reference:"صحيح مسلم."},{id:1014,question:"ما هي 'دار السلام'؟",options:["مكة المكرمة","المدينة المنورة","الجنة","السماء الدنيا"],correctAnswer:"الجنة",shortExplanation:"دار السلام اسم من أسماء الجنة، لأنها دار السلامة من كل الآفات والشرور.",detailedExplanation:"الجنة هي دار النعيم المقيم التي أعدها الله لعباده المؤمنين. لها أسماء كثيرة في القرآن تدل على عظمتها وجمالها، منها 'دار السلام' لأنها خالية من كل نقص أو أذى أو حزن أو موت، وفيها السلام والأمان الدائم. قال تعالى: (لَهُمْ دَارُ السَّلَامِ عِندَ رَبِّهِمْ).",reference:"القرآن الكريم، سورة الأنعام: 127."},{id:1015,question:"من هو النبي الذي كان يعمل نجارًا؟",options:["إدريس عليه السلام","نوح عليه السلام","زكريا عليه السلام","صالح عليه السلام"],correctAnswer:"زكريا عليه السلام",shortExplanation:"كان نبي الله زكريا عليه السلام، والد يحيى، يعمل نجارًا ويأكل من كسب يده.",detailedExplanation:"حث الإسلام على العمل والكسب الحلال، وكان الأنبياء عليهم السلام قدوة في ذلك. وقد أخبر النبي محمد صلى الله عليه وسلم أن نبي الله زكريا كان نجارًا. وفي هذا دليل على شرف العمل اليدوي وأن الأنبياء كانوا يأكلون من عمل أيديهم.",reference:"صحيح مسلم."},{id:1016,question:"ما هي الشجرة الملعونة المذكورة في القرآن؟",options:["شجرة الغرقد","شجرة الزقوم","شجرة السدر","شجرة التين"],correctAnswer:"شجرة الزقوم",shortExplanation:"شجرة الزقوم هي الشجرة الملعونة المذكورة في القرآن، وهي طعام أهل النار.",detailedExplanation:"ذكر الله شجرة الزقوم في سورة الإسراء بأنها فتنة للناس، ووصفها في سورة الصافات بأنها شجرة تخرج في أصل الجحيم، طلعها كأنه رؤوس الشياطين، وهي طعام أهل النار، والعياذ بالله. وكونها 'ملعونة' أي مبعدة عن الخير والرحمة.",reference:"القرآن الكريم، سورة الإسراء: 60."},{id:1017,question:"كم عدد أبواب الجنة؟",options:["7","8","9","10"],correctAnswer:"8",shortExplanation:"للجنة ثمانية أبواب، منها باب يسمى 'الريان' يدخل منه الصائمون.",detailedExplanation:"أخبر النبي صلى الله عليه وسلم أن للجنة ثمانية أبواب. ولكل نوع من أنواع الطاعات باب خاص يدخل منه أهله تكريمًا لهم، فهناك باب الصلاة، وباب الجهاد، وباب الصدقة، وباب الريان للصائمين. ومن كان من أهل هذه الأعمال كلها، دُعي من جميع الأبواب.",reference:"صحيح البخاري وصحيح مسلم."},{id:1018,question:"ما هو اسم خازن النار (حارس جهنم)؟",options:["رضوان","مالك","عتيد","زبور"],correctAnswer:"مالك",shortExplanation:"مالك هو اسم الملك الموكل بالنار وخازنها، كما ورد في القرآن الكريم.",detailedExplanation:"ذكر القرآن اسم خازن النار في سورة الزخرف، حيث ينادي أهل النار عليه ليدعو لهم ربهم أن يقضي عليهم ليستريحوا من العذاب، فيقولون: (وَنَادَوْا يَا مَالِكُ لِيَقْضِ عَلَيْنَا رَبُّكَ ۖ قَالَ إِنَّكُم مَّاكِثُونَ).",reference:"القرآن الكريم، سورة الزخرف: 77."},{id:1019,question:"من هي أول امرأة تزوجها النبي محمد صلى الله عليه وسلم؟",options:["عائشة بنت أبي بكر","حفصة بنت عمر","خديجة بنت خويلد","مارية القبطية"],correctAnswer:"خديجة بنت خويلد",shortExplanation:"السيدة خديجة بنت خويلد رضي الله عنها هي أولى زوجات النبي صلى الله عليه وسلم وأم أولاده جميعًا إلا إبراهيم.",detailedExplanation:"كانت السيدة خديجة امرأة ذات شرف ومال، تزوجها النبي قبل البعثة وهو في الخامسة والعشرين من عمره، وكانت هي في الأربعين. كانت أول من آمن به وصدقه، وواسته بنفسها ومالها. لم يتزوج عليها في حياتها، وظل يذكرها ويثني عليها حتى بعد وفاتها.",reference:"كتب السيرة النبوية."},{id:1020,question:"ما هو يوم الحج الأكبر؟",options:["يوم عرفة","يوم التروية","يوم النحر","أول أيام التشريق"],correctAnswer:"يوم النحر",shortExplanation:"يوم الحج الأكبر هو يوم النحر، وهو اليوم العاشر من ذي الحجة، وفيه معظم أعمال الحج.",detailedExplanation:"سمي يوم النحر بيوم الحج الأكبر لاجتماع معظم أعمال الحج فيه، حيث يقوم الحجاج فيه برمي جمرة العقبة الكبرى، ونحر الهدي، والحلق أو التقصير، وطواف الإفاضة. وهو يوم عيد للمسلمين في كل مكان.",reference:"القرآن الكريم، سورة التوبة: 3."}],Qm=["طالب علم","باحث مجتهد","صاحب علم","فقيه الديار","عالم الأمة"],Ll=[{id:"purification",title:"الطهارة",color:"sky",icon:"💧",questions:[{id:2001,question:"ما هو الحدث الأصغر الذي يوجب الوضوء؟",options:["الجنابة","الحيض","خروج الريح","النفاس"],correctAnswer:"خروج الريح",shortExplanation:"الحدث الأصغر هو ما يوجب الوضوء فقط، مثل خروج الريح أو البول أو الغائط.",detailedExplanation:"تنقسم الأحداث إلى قسمين: حدث أصغر وحدث أكبر. الحدث الأصغر هو نواقض الوضوء المعروفة، كخروج شيء من السبيلين (بول، غائط، ريح)، والنوم العميق، وزوال العقل. أما الحدث الأكبر فهو ما يوجب الغسل، كالجنابة والحيض والنفاس. الطهارة من الحدث الأصغر تكون بالوضوء، ومن الأكبر تكون بالغسل.",reference:"متون الفقه الحنبلي (مثل زاد المستقنع)."},{id:2002,question:"كم عدد فرائض الوضوء المتفق عليها؟",options:["أربعة","خمسة","ستة","سبعة"],correctAnswer:"ستة",shortExplanation:"فرائض الوضوء ستة وهي: غسل الوجه، غسل اليدين إلى المرفقين، مسح الرأس، غسل الرجلين إلى الكعبين، الترتيب، والموالاة.",detailedExplanation:"فرائض الوضوء هي الأركان التي لا يصح الوضوء إلا بها، وهي مذكورة في قوله تعالى: (يَا أَيُّهَا الَّذِينَ آمَنُوا إِذَا قُمْتُمْ إِلَى الصَّلَاةِ فَاغْسِلُوا وُجُوهَكُمْ وَأَيْدِيَكُمْ إِلَى الْمَرَافِقِ وَامْسَحُوا بِرُءُوسِكُمْ وَأَرْجُلَكُمْ إِلَى الْكَعْبَيْنِ). وأضافت السنة الترتيب بين هذه الأعضاء، والموالاة (عدم ترك فاصل زمني طويل بين غسل الأعضاء).",reference:"القرآن الكريم، سورة المائدة: 6، وكتب الفقه المعتمدة."},{id:2003,question:"ما هو الماء الطهور؟",options:["الماء الذي تغير طعمه بالملح","الماء الباقي على طبيعته التي خلق عليها","الماء المخلوط بالصابون","الماء المستعمل في الوضوء"],correctAnswer:"الماء الباقي على طبيعته التي خلق عليها",shortExplanation:"الماء الطهور هو الماء الباقي على صفته الأصلية (لون، طعم، رائحة) ولم يتغير بشيء يسلبه طهوريته.",detailedExplanation:"المياه تنقسم إلى ثلاثة أقسام عند جمهور الفقهاء: طهور، وطاهر، ونجس. الماء الطهور هو الذي يرفع الحدث ويزيل النجس، وهو الماء الباقي على خلقته الأصلية كماء المطر والبحار والأنهار. أما الماء الطاهر فهو طاهر في نفسه لكنه لا يطهر غيره، كالماء الذي تغير لونه أو طعمه بشيء طاهر كالشاي. والماء النجس هو الذي خالطته نجاسة فغيرت أحد أوصافه.",reference:"بداية المجتهد لابن رشد."},{id:2004,question:"متى يجوز التيمم؟",options:["عند عدم وجود صابون","عند شدة البرد مع وجود الماء","عند فقدان الماء أو العجز عن استعماله","في جميع حالات السفر"],correctAnswer:"عند فقدان الماء أو العجز عن استعماله",shortExplanation:"التيمم رخصة شرعية تجوز عند عدم وجود الماء، أو عند وجوده مع العجز عن استعماله لمرض أو خوف ضرر.",detailedExplanation:"التيمم طهارة ترابية بديلة عن الطهارة المائية عند وجود العذر. وأسبابه الرئيسية هي: فقدان الماء بعد البحث عنه، أو وجود الماء ولكن لا يمكن استعماله بسبب مرض يخشى معه زيادة المرض أو تأخر الشفاء، أو بسبب الخوف من عدو، أو الحاجة الشديدة للماء للشرب. ويكون التيمم بضربتين على التراب الطاهر: ضربة للوجه وضربة للكفين.",reference:"القرآن الكريم، سورة النساء: 43."},{id:2005,question:"ما حكم مسح الرأس في الوضوء؟",options:["سنة مؤكدة","واجب (فرض)","مستحب","مباح"],correctAnswer:"واجب (فرض)",shortExplanation:"مسح الرأس هو الفرض الرابع من فروض الوضوء كما نص القرآن الكريم.",detailedExplanation:"نصت آية الوضوء في سورة المائدة على وجوب مسح الرأس: (وَامْسَحُوا بِرُءُوسِكُمْ). وقد أجمع العلماء على أن مسح الرأس ركن من أركان الوضوء لا يصح بدونه. واختلفوا في القدر الواجب مسحه، فذهب المالكية والحنابلة إلى وجوب مسح الرأس كله، بينما يرى الشافعية إجزاء مسح بعض الرأس، ويرى الحنفية وجوب مسح ربع الرأس.",reference:"تفسير القرطبي، والمغني لابن قدامة."},{id:2006,question:"ما هو 'الاستنجاء'؟",options:["غسل اليدين قبل الطعام","إزالة ما يخرج من السبيلين بالماء","المضمضة في الوضوء","التلفظ بالنية"],correctAnswer:"إزالة ما يخرج من السبيلين بالماء",shortExplanation:"الاستنجاء هو تطهير مخرج البول أو الغائط بالماء الطهور حتى يزول أثر النجاسة.",detailedExplanation:"الاستنجاء واجب بعد قضاء الحاجة، وهو إزالة الخارج النجس من القبل أو الدبر بالماء. أما إزالته بالأحجار أو المناديل ونحوها فيسمى 'استجمارًا'. والأفضل هو الجمع بينهما، بأن يزيل عين النجاسة أولاً بالاستجمار ثم يتبع ذلك بالماء.",reference:"فقه السنة لسيد سابق."},{id:2007,question:"ما حكم النوم العميق من حيث نواقض الوضوء؟",options:["لا ينقض الوضوء مطلقًا","ينقض الوضوء مطلقًا","ينقض إذا كان المصلي مضطجعًا","مكروه فقط"],correctAnswer:"ينقض إذا كان المصلي مضطجعًا",shortExplanation:"النوم العميق الذي يزول معه الإحساس ينقض الوضوء، لأنه مظنة خروج الحدث دون شعور.",detailedExplanation:"النوم نفسه ليس حدثًا، ولكنه مظنة للحدث (خروج الريح). لذلك فرق الفقهاء بين النوم الخفيف الذي لا يغيب فيه الوعي تمامًا كنوم الجالس المتمكن من مقعدته، فهذا لا ينقض. والنوم الثقيل الذي يستغرق فيه الإنسان ويزول إدراكه، فهذا ناقض للوضوء لأنه لا يشعر بما قد يخرج منه.",reference:"صحيح مسلم، حديث صفوان بن عسال."},{id:2008,question:"ما هي مدة المسح على الخفين للمقيم؟",options:["ثلاثة أيام بلياليها","يوم وليلة","خمس صلوات","يوم واحد فقط"],correctAnswer:"يوم وليلة",shortExplanation:"يجوز للمقيم أن يمسح على خفيه مدة يوم وليلة (24 ساعة).",detailedExplanation:"المسح على الخفين رخصة ثابتة بالسنة المتواترة. مدة المسح للمقيم هي يوم وليلة، وللمسافر ثلاثة أيام بلياليها. وتبدأ مدة المسح من أول مسحة بعد الحدث، وليس من وقت لبس الخف.",reference:"صحيح مسلم."},{id:2009,question:"ما هو شرط صحة المسح على الجبيرة؟",options:["أن توضع على طهارة","أن تكون الجبيرة نظيفة","ليس له شروط","أن تكون مؤقتة"],correctAnswer:"أن توضع على طهارة",shortExplanation:"يشترط لصحة المسح على الجبيرة (الجبس أو اللفاف) أن يكون قد وضعها وهو على طهارة (متوضئ أو مغتسل).",detailedExplanation:"الجبيرة هي ما يوضع على الكسر أو الجرح. يشرع المسح عليها في الوضوء أو الغسل إذا كان هناك ضرر من غسل العضو أو نزعها. والمسح عليها عزيمة (واجب) وليس رخصة. ويمسح عليها كلها، ولا يشترط لها مدة محددة، بل يمسح عليها حتى يشفى العضو وتنزع.",reference:"فتاوى اللجنة الدائمة للبحوث العلمية والإفتاء."},{id:2010,question:"أي مما يلي لا يعتبر من موجبات الغسل؟",options:["الجنابة","الحيض","الموت","الوضوء"],correctAnswer:"الوضوء",shortExplanation:"الوضوء طهارة صغرى، بينما الجنابة والحيض والموت من موجبات الغسل (الطهارة الكبرى).",detailedExplanation:"موجبات الغسل هي الأمور التي إذا حصلت وجب على المسلم أن يغتسل لرفع الحدث الأكبر. وهي ستة: خروج المني، التقاء الختانين (الجماع)، الموت (يغسل الميت)، الحيض، النفاس، وإسلام الكافر على قول بعض الفقهاء.",reference:"كتب الفقه المعتمدة."},{id:2011,question:"ما حكم استخدام السواك عند كل صلاة؟",options:["واجب","سنة مؤكدة","مباح","مكروه"],correctAnswer:"سنة مؤكدة",shortExplanation:"استخدام السواك من السنن المؤكدة التي حث عليها النبي صلى الله عليه وسلم، خاصة عند الصلاة والوضوء.",detailedExplanation:"قال النبي صلى الله عليه وسلم: 'لولا أن أشق على أمتي لأمرتهم بالسواك عند كل صلاة'. وهذا يدل على شدة استحباب السواك وأهميته. وهو مرضاة للرب، مطهرة للفم.",reference:"صحيح البخاري ومسلم."},{id:2012,question:"هل لمس المرأة ينقض الوضوء؟",options:["نعم، مطلقًا","لا، مطلقًا","نعم، إن كان بشهوة","نعم، إن كانت أجنبية"],correctAnswer:"نعم، إن كان بشهوة",shortExplanation:"الراجح من أقوال العلماء أن مجرد لمس المرأة لا ينقض الوضوء، إلا إذا كان بشهوة أدى إلى خروج شيء.",detailedExplanation:"هذه المسألة من المسائل الخلافية. الشافعية يرون أن لمس بشرة المرأة الأجنبية ينقض مطلقًا. الحنفية يرون أنه لا ينقض مطلقًا. المالكية والحنابلة يفرقون، فيرون أنه ينقض إن كان بشهوة. والقول الراجح الذي تدل عليه الأدلة هو أنه لا ينقض إلا إذا خرج بسببه شيء (مذي مثلاً)، لأن الأصل بقاء الطهارة.",reference:"مجموع فتاوى ابن تيمية."},{id:2013,question:"ما هو 'الاستحاضة'؟",options:["دم الحيض","دم النفاس","دم يخرج في غير أوقات الحيض والنفاس","دم الجروح"],correctAnswer:"دم يخرج في غير أوقات الحيض والنفاس",shortExplanation:"الاستحاضة هي نزول دم من المرأة في غير أوقات الدورة الشهرية المعتادة، وهو دم علة ومرض لا يمنع الصلاة والصيام.",detailedExplanation:"دم الاستحاضة يختلف عن دم الحيض والنفاس في حكمه وصفته. هو دم عرق لا يمنع من العبادات. المستحاضة تتوضأ لكل صلاة بعد دخول وقتها، وتتحفظ جيدًا ثم تصلي، ولا يضرها ما خرج بعد ذلك.",reference:"صحيح البخاري، حديث فاطمة بنت أبي حبيش."},{id:2014,question:"ما حكم المذي من حيث الطهارة؟",options:["طاهر","نجس ويجب غسله","نجس معفو عنه","طاهر لكن يستحب غسله"],correctAnswer:"نجس ويجب غسله",shortExplanation:"المذي سائل لزج شفاف يخرج عند الشهوة، وهو نجس نجاسة مخففة، يوجب غسل الذكر والأنثيين والوضوء.",detailedExplanation:"المذي نجس باتفاق العلماء، ويجب غسل ما أصابه من البدن والثوب. لكن نجاسته مخففة، فيكفي في تطهير الثوب منه أن ينضح بالماء (يرش). وهو ناقض للوضوء.",reference:"صحيح البخاري ومسلم."},{id:2015,question:"ما حكم من شك في انتقاض وضوئه؟",options:["يعيد الوضوء احتياطًا","يبني على اليقين وهو الطهارة","يصلي ثم يعيد الصلاة","يسأل من بجانبه"],correctAnswer:"يبني على اليقين وهو الطهارة",shortExplanation:"قاعدة فقهية هامة: 'اليقين لا يزول بالشك'. فمن كان متأكدًا أنه توضأ وشك هل أحدث أم لا، فالأصل أنه باقٍ على طهارته.",detailedExplanation:"هذه القاعدة مستنبطة من حديث النبي صلى الله عليه وسلم في الرجل الذي يُخيل إليه أنه يجد الشيء في الصلاة، فقال: 'لا ينصرف حتى يسمع صوتًا أو يجد ريحًا'. فما لم يتيقن من خروج الحدث، فالأصل بقاء الوضوء.",reference:"صحيح البخاري ومسلم."},{id:2016,question:"كم مرة يُسن تثليث غسل أعضاء الوضوء؟",options:["مرة واحدة","مرتين","ثلاث مرات","أربع مرات"],correctAnswer:"ثلاث مرات",shortExplanation:"الواجب في الوضوء غسل الأعضاء مرة واحدة، والسنة غسلها ثلاث مرات.",detailedExplanation:"ثبت عن النبي صلى الله عليه وسلم أنه توضأ مرة مرة، ومرتين مرتين، وثلاثًا ثلاثًا. فالمرة الواحدة مجزئة وهي الفرض، والثلاث هي الكمال والسنة. ولا تجوز الزيادة على ثلاث، فقد ورد النهي عن ذلك.",reference:"صحيح البخاري."},{id:2017,question:"ما حكم غسل الجمعة؟",options:["واجب على كل مسلم","سنة مؤكدة","مباح","فرض كفاية"],correctAnswer:"سنة مؤكدة",shortExplanation:"الراجح عند جمهور العلماء أن غسل يوم الجمعة سنة مؤكدة، ويتأكد في حق من له رائحة تتأذى بها الملائكة والمصلون.",detailedExplanation:"لقوله صلى الله عليه وسلم: 'من توضأ يوم الجمعة فبها ونعمت، ومن اغتسل فالغسل أفضل'. بينما ذهب بعض أهل العلم إلى وجوبه لحديث: 'غسل الجمعة واجب على كل محتلم'. وجمع الجمهور بين الأحاديث بأن الوجوب هنا بمعنى شدة التأكيد وليس بمعنى الفرض الذي يأثم تاركه.",reference:"سنن الترمذي، صحيح البخاري."},{id:2018,question:"هل أكل لحم الإبل ينقض الوضوء؟",options:["نعم، ينقض الوضوء","لا ينقض الوضوء","ينقض إذا كان مطبوخًا","مكروه فقط"],correctAnswer:"نعم، ينقض الوضوء",shortExplanation:"أكل لحم الإبل من نواقض الوضوء على القول الراجح، سواء كان نيئًا أو مطبوخًا.",detailedExplanation:"هذه من المسائل التي تفرد بها مذهب الحنابلة عن بقية المذاهب، وهو القول الراجح لقوة الدليل. فقد سئل النبي صلى الله عليه وسلم: 'أنتوضأ من لحوم الغنم؟ قال: إن شئت فتوضأ، وإن شئت فلا توضأ. قال: أنتوضأ من لحوم الإبل؟ قال: نعم، فتوضأ من لحوم الإبل'. وهذا أمر صريح.",reference:"صحيح مسلم."},{id:2019,question:"ما هو 'الاستجمار'؟",options:["التطيب بالبخور","إزالة النجاسة بالأحجار أو ما في حكمها","النظر في النجوم","رمي الجمرات في الحج"],correctAnswer:"إزالة النجاسة بالأحجار أو ما في حكمها",shortExplanation:"الاستجمار هو تطهير مخرج البول والغائط باستخدام ثلاثة أحجار طاهرة فأكثر أو ما يقوم مقامها كالمناديل.",detailedExplanation:"الاستجمار بديل عن الاستنجاء بالماء عند عدم وجوده أو وجود عذر. ويشترط له أن يكون بثلاثة مسحات منقية فأكثر، وأن يكون بمادة طاهرة، مباحة، تزيل النجاسة وليست طعامًا أو شيئًا محترمًا كالعظم.",reference:"صحيح البخاري ومسلم."},{id:2020,question:"ما هو الدعاء المأثور بعد الوضوء؟",options:["سبحانك اللهم وبحمدك...","بسم الله، توكلت على الله...","أشهد أن لا إله إلا الله وحده لا شريك له...","اللهم إني أعوذ بك من الخبث والخبائث"],correctAnswer:"أشهد أن لا إله إلا الله وحده لا شريك له...",shortExplanation:"الدعاء المشروع بعد الفراغ من الوضوء هو قول: 'أشهد أن لا إله إلا الله وحده لا شريك له، وأشهد أن محمدًا عبده ورسوله'.",detailedExplanation:"قال النبي صلى الله عليه وسلم: 'ما منكم من أحد يتوضأ فيبلغ - أو فيسبغ - الوضوء ثم يقول: أشهد أن لا إله إلا الله وأن محمدًا عبد الله ورسوله، إلا فتحت له أبواب الجنة الثمانية يدخل من أيها شاء'. وفي رواية الترمذي زيادة: 'اللهم اجعلني من التوابين واجعلني من المتطهرين'.",reference:"صحيح مسلم."},{id:2021,question:"هل خروج الدم من غير السبيلين (مثل جرح) ينقض الوضوء؟",options:["نعم، إذا كان كثيرًا","نعم، مطلقًا","لا ينقض الوضوء","ينقض إذا كان من الرأس"],correctAnswer:"لا ينقض الوضوء",shortExplanation:"القول الراجح أن خروج الدم من غير السبيلين (القبل والدبر) لا ينقض الوضوء، سواء كان قليلاً أو كثيرًا.",detailedExplanation:"هذه مسألة خلافية، فالحنفية والحنابلة يرون أنه ينقض إذا كان كثيرًا. والمالكية والشافعية والقول الراجح عند المحققين أنه لا ينقض مطلقًا، لعدم وجود دليل صحيح صريح على ذلك، ولأن الأصل بقاء الطهارة. وقد ثبت أن الصحابة كانوا يصلون وجراحهم تثعب دمًا.",reference:"مجموع فتاوى ابن باز."},{id:2022,question:"ما حكم الموالاة في الوضوء؟",options:["سنة","مستحبة","واجبة (شرط)","مباحة"],correctAnswer:"واجبة (شرط)",shortExplanation:"الموالاة، وهي غسل الأعضاء متتابعة دون فاصل زمني طويل، شرط لصحة الوضوء على المذهب الراجح.",detailedExplanation:"الموالاة تعني أن يغسل العضو التالي قبل أن يجف العضو الذي قبله في زمن معتدل. وهي واجبة عند المالكية والحنابلة، وسنة عند الحنفية والشافعية. والقول بالوجوب أرجح، لأن وضوء النبي صلى الله عليه وسلم كان دائمًا متواليًا، ولأن الوضوء عبادة واحدة لا ينبغي تفريق أجزائها.",reference:"المغني لابن قدامة."},{id:2023,question:"ماذا يفعل من نسي عضوًا في الوضوء وتذكره بعد فترة قصيرة؟",options:["يعيد الوضوء كاملاً","يغسل العضو المنسي وما بعده فقط","يغسل العضو المنسي فقط","وضوؤه صحيح ولا شيء عليه"],correctAnswer:"يغسل العضو المنسي وما بعده فقط",shortExplanation:"من نسي غسل عضو وتذكر قريبًا، يلزمه غسل ذلك العضو وما بعده فقط، مراعاةً للترتيب والموالاة.",detailedExplanation:"إذا كان الفاصل الزمني قصيرًا ولم تجف الأعضاء، فإنه يغسل العضو الذي نسيه ثم يغسل الأعضاء التي تليه بالترتيب. أما إذا طال الفاصل الزمني وجفت الأعضاء، فيجب عليه إعادة الوضوء من جديد لفوَات شرط الموالاة.",reference:"فتاوى الشيخ ابن عثيمين."},{id:2024,question:"ما حكم الغسل للمرأة إذا انقطع دم الحيض؟",options:["تنتظر يومًا كاملاً","يجب عليها الغسل فورًا","تغتسل بعد ثلاث أيام","يجوز لها تأخير الغسل"],correctAnswer:"يجب عليها الغسل فورًا",shortExplanation:"بمجرد أن ترى المرأة علامة الطهر (الجفاف التام أو القصة البيضاء)، يجب عليها أن تبادر بالغسل لتصلي.",detailedExplanation:"متى انقطع دم الحيض وتحققت المرأة من طهرها، وجب عليها الغسل فورًا لتتمكن من أداء الصلاة والعبادات الأخرى التي يمنعها الحيض. ولا يجوز لها تأخير الغسل بدون عذر.",reference:"فقه المرأة المسلمة للدكتور محمد متولي الشعراوي."},{id:2025,question:"هل القيء ينقض الوضوء؟",options:["نعم، إذا كان كثيرًا","نعم، مطلقًا","لا ينقض الوضوء","ينقض إذا كان عمدًا"],correctAnswer:"لا ينقض الوضوء",shortExplanation:"القول الراجح عند أهل العلم أن القيء لا ينقض الوضوء، سواء كان قليلاً أو كثيرًا، لعدم وجود دليل صحيح على ذلك.",detailedExplanation:"يرى الحنفية والحنابلة أن القيء الكثير ينقض الوضوء، بينما يرى المالكية والشافعية أنه لا ينقض. والقول بعدم النقض هو الأقوى، لأن الأحاديث الواردة في ذلك ضعيفة، والأصل بقاء الطهارة حتى يثبت الناقض بدليل صحيح.",reference:"تمام المنة في التعليق على فقه السنة للألباني."}]},{id:"prayer",title:"الصلاة",color:"green",icon:"🕌",questions:[{id:3001,question:"ما هو أول ما يحاسب عليه العبد يوم القيامة؟",options:["الصيام","الزكاة","الصلاة","بر الوالدين"],correctAnswer:"الصلاة",shortExplanation:"أول عمل يحاسب عليه العبد من أعماله يوم القيامة هو الصلاة، فإن صلحت صلح سائر عمله.",detailedExplanation:"لقول النبي صلى الله عليه وسلم: 'إن أول ما يحاسب به العبد يوم القيامة من عمله صلاته، فإن صلحت فقد أفلح وأنجح، وإن فسدت فقد خاب وخسر'. وهذا يدل على عظم مكانة الصلاة وأهميتها، فهي عمود الدين.",reference:"سنن الترمذي، وصححه الألباني."},{id:3002,question:"كم عدد أركان الصلاة؟",options:["9","12","14","15"],correctAnswer:"14",shortExplanation:"أركان الصلاة أربعة عشر ركنًا على المذهب الحنبلي، وهي التي لا تصح الصلاة بترك أحدها عمدًا أو سهوًا.",detailedExplanation:"أركان الصلاة هي أجزاؤها الأساسية التي تتكون منها هيئتها. وهي: القيام مع القدرة، تكبيرة الإحرام، قراءة الفاتحة، الركوع، الرفع منه، السجود على الأعضاء السبعة، الاعتدال منه، الجلسة بين السجدتين، الطمأنينة في جميع الأفعال، الترتيب، التشهد الأخير، الجلوس له، الصلاة على النبي فيه، والتسليمتان.",reference:"شرح أركان الصلاة وواجباتها وسننها للشيخ محمد بن عبد الوهاب."},{id:3003,question:"ما حكم من ترك الصلاة عمدًا؟",options:["فاسق","كافر","عاصٍ فقط","مبتدع"],correctAnswer:"كافر",shortExplanation:"تارك الصلاة عمدًا بالكلية كافر خارج عن ملة الإسلام على القول الراجح من أقوال أهل العلم.",detailedExplanation:"لقول النبي صلى الله عليه وسلم: 'العهد الذي بيننا وبينهم الصلاة، فمن تركها فقد كفر'. وقوله: 'بين الرجل وبين الشرك والكفر ترك الصلاة'. وهذا هو قول جمع من الصحابة وعليه المذهب الحنبلي واختيار كثير من المحققين، لأن الصلاة هي أعظم شعائر الإسلام الظاهرة بعد الشهادتين.",reference:"صحيح مسلم، وسنن الترمذي."},{id:3004,question:"ما هي صلاة 'الأوابين'؟",options:["صلاة الضحى","صلاة قيام الليل","صلاة بعد المغرب","صلاة الاستخارة"],correctAnswer:"صلاة الضحى",shortExplanation:"صلاة الأوابين هي صلاة الضحى حين ترمض الفصال، أي حين تشتد حرارة الشمس.",detailedExplanation:"الأواب هو كثير الرجوع إلى الله. وقد ورد في الحديث أن النبي صلى الله عليه وسلم قال: 'صلاة الأوابين حين ترمض الفصال'، أي حين تحترق أخفاف صغار الإبل من شدة حرارة الرمال، وهذا يكون في وقت الضحى المرتفع، وهو أفضل أوقات صلاة الضحى.",reference:"صحيح مسلم."},{id:3005,question:"ما حكم سجود السهو؟",options:["سنة دائمًا","واجب للزيادة أو النقص أو الشك","مباح","مستحب فقط"],correctAnswer:"واجب للزيادة أو النقص أو الشك",shortExplanation:"سجود السهو واجب لجبر الخلل الذي يحدث في الصلاة بسبب السهو، سواء كان بزيادة أو نقص أو شك.",detailedExplanation:"شرع سجود السهو رحمة من الله وتيسيرًا على عباده. وهو سجدتان يسجدهما المصلي قبل السلام أو بعده حسب سبب السهو. يجب عند ترك واجب سهوًا، أو زيادة فعل سهوًا، أو الشك في عدد الركعات ولم يترجح لديه شيء.",reference:"فتاوى الشيخ ابن عثيمين."},{id:3006,question:"ماذا يقول المصلي في سجود التلاوة؟",options:["سبحان ربي الأعلى","نفس دعاء سجود الصلاة","لا يقول شيئًا","سجد وجهي للذي خلقه..."],correctAnswer:"سجد وجهي للذي خلقه...",shortExplanation:"الدعاء المأثور في سجود التلاوة هو: 'سجد وجهي للذي خلقه، وشق سمعه وبصره، بحوله وقوته'.",detailedExplanation:"سجود التلاوة سنة عند قراءة آية فيها سجدة. ويقال فيه ما يقال في سجود الصلاة من التسبيح والدعاء. وقد ورد دعاء خاص به وهو: 'سجد وجهي للذي خلقه، وشق سمعه وبصره، بحوله وقوته، فتبارك الله أحسن الخالقين'.",reference:"سنن الترمذي، وصححه الحاكم."},{id:3007,question:"ما حكم الصلاة في الثوب الذي عليه صورة؟",options:["صحيحة مع الكراهة","باطلة","صحيحة ولا كراهة","محرمة"],correctAnswer:"صحيحة مع الكراهة",shortExplanation:"الصلاة في ثوب فيه صورة لذوات الأرواح صحيحة، ولكنها مكروهة لأنها قد تلهي المصلي وتشغل عن الخشوع.",detailedExplanation:"يكره للمصلي أن يصلي في ثوب فيه تصاوير أو نقوش، أو أن يصلي تجاه شيء يلهيه. وقد ثبت أن النبي صلى الله عليه وسلم صلى في خميصة لها أعلام، فنظر إلى أعلامها نظرة، فلما انصرف قال: 'اذهبوا بخميصتي هذه إلى أبي جهم وأتوني بأنبجانية أبي جهم، فإنها ألهتني آنفًا عن صلاتي'. والصلاة صحيحة لأن النهي يعود لأمر خارج عن ذات الصلاة.",reference:"صحيح البخاري."},{id:3008,question:"متى يبدأ وقت صلاة العشاء؟",options:["عند غروب الشمس","عند مغيب الشفق الأحمر","عند منتصف الليل","عندما يصبح ظل كل شيء مثله"],correctAnswer:"عند مغيب الشفق الأحمر",shortExplanation:"يبدأ وقت صلاة العشاء من مغيب الشفق الأحمر في الأفق، ويمتد إلى منتصف الليل اختيارًا، وإلى طلوع الفجر ضرورة.",detailedExplanation:"وقت العشاء يبدأ بعد انتهاء وقت المغرب مباشرة، وعلامة ذلك هي غياب الشفق الأحمر من السماء. وينتهي وقتها الاختياري (الأفضل) عند منتصف الليل. ومن أخرها بعد منتصف الليل لعذر كنوم أو نسيان، فإنه يصليها ما لم يطلع الفجر.",reference:"صحيح مسلم، حديث أوقات الصلاة."},{id:3009,question:"ما هو 'القنوت' في الصلاة؟",options:["جلسة الاستراحة","دعاء خاص في صلاة الوتر أو النوازل","رفع اليدين في التكبير","التورك في التشهد الأخير"],correctAnswer:"دعاء خاص في صلاة الوتر أو النوازل",shortExplanation:"القنوت هو دعاء مخصوص يكون في الركعة الأخيرة من صلاة الوتر بعد الرفع من الركوع، أو في الصلوات المفروضة عند حدوث نازلة بالمسلمين.",detailedExplanation:"القنوت له معانٍ عدة في اللغة منها الطاعة والسكوت. وفي الشرع هو دعاء في محل مخصوص من الصلاة. وهو مسنون في صلاة الوتر. ويشرع أيضًا في الفرائض عند النوازل العامة (قنوت النازلة) كالحروب أو الأوبئة، فيدعو الإمام على الأعداء وللمسلمين.",reference:"زاد المعاد لابن القيم."},{id:3010,question:"كم عدد تكبيرات صلاة العيد؟",options:["خمس في الأولى وأربع في الثانية","سبع في الأولى وخمس في الثانية","أربع في الأولى وثلاث في الثانية","ست في الأولى وست في الثانية"],correctAnswer:"سبع في الأولى وخمس في الثانية",shortExplanation:"صلاة العيد ركعتان، يكبر في الركعة الأولى سبع تكبيرات بعد تكبيرة الإحرام، وفي الثانية خمس تكبيرات بعد تكبيرة الانتقال.",detailedExplanation:"صفة صلاة العيد أن يصلي الإمام ركعتين. يبدأ الأولى بتكبيرة الإحرام ثم بست تكبيرات بعدها (المجموع سبع). ثم يقرأ الفاتحة وسورة. وفي الركعة الثانية يقوم فيكبر خمس تكبيرات (غير تكبيرة القيام) ثم يقرأ. وهذا هو الثابت عن النبي صلى الله عليه وسلم.",reference:"سنن أبي داود."},{id:3011,question:"ما حكم قراءة الفاتحة للمأموم في الصلاة الجهرية؟",options:["واجبة","سنة","لا تجب، ويستمع للإمام","مكروهة"],correctAnswer:"لا تجب، ويستمع للإمام",shortExplanation:"القول الراجح أن المأموم في الصلاة الجهرية يستمع لقراءة إمامه، وقراءة الإمام قراءة له، ولا تجب عليه قراءة الفاتحة.",detailedExplanation:"هذه مسألة خلافية كبيرة. الشافعية يرون وجوبها على المأموم في كل الصلوات لعموم حديث: 'لا صلاة لمن لم يقرأ بفاتحة الكتاب'. والجمهور (الحنفية والمالكية والحنابلة) يرون أنها لا تجب عليه في الجهرية، لقوله تعالى: (وَإِذَا قُرِئَ الْقُرْآنُ فَاسْتَمِعُوا لَهُ وَأَنصِتُوا)، ولقول النبي: 'من كان له إمام فقراءة الإمام له قراءة'. وهذا القول أرجح.",reference:"مجموع فتاوى ابن تيمية."},{id:3012,question:"ما هو 'السترة' في الصلاة؟",options:["غطاء الرأس للمرأة","ما يضعه المصلي أمامه ليمنع المرور بين يديه","سجادة الصلاة","نوع من اللباس"],correctAnswer:"ما يضعه المصلي أمامه ليمنع المرور بين يديه",shortExplanation:"السترة هي حاجز يضعه المصلي أمامه كجدار أو عمود أو عصا، لمنع الناس من المرور أمامه ولقطع مرور الشيطان.",detailedExplanation:"اتخاذ السترة سنة مؤكدة للمصلي المنفرد والإمام. وتكون قريبة منه (قدر ثلاثة أذرع). وتحرم المرور بين المصلي وسترته، لقول النبي صلى الله عليه وسلم: 'لو يعلم المار بين يدي المصلي ماذا عليه، لكان أن يقف أربعين خيرًا له من أن يمر بين يديه'.",reference:"صحيح البخاري."},{id:3013,question:"ما حكم الصلاة في مرابض الغنم؟",options:["جائزة","محرمة","مكروهة","باطلة"],correctAnswer:"جائزة",shortExplanation:"تجوز الصلاة في مرابض (أماكن مبيت) الغنم لأنها طاهرة.",detailedExplanation:"سئل النبي صلى الله عليه وسلم عن الصلاة في مرابض الغنم فقال: 'صلوا فيها فإنها بركة'. وسئل عن الصلاة في معاطن الإبل فقال: 'لا تصلوا في معاطن الإبل فإنها خلقت من الشياطين'. فدل الحديث على جواز الصلاة في أماكن الغنم والنهي عن الصلاة في أماكن الإبل.",reference:"صحيح مسلم."},{id:3014,question:"ماذا تفعل إذا دخلت المسجد والإمام راكع؟",options:["تنتظر حتى يقوم","تكبر تكبيرة الإحرام ثم تركع مباشرة","تدخل في الصف ثم تركع","تبدأ صلاة جديدة"],correctAnswer:"تكبر تكبيرة الإحرام ثم تركع مباشرة",shortExplanation:"من أدرك الإمام راكعًا، فإنه يكبر تكبيرة الإحرام وهو قائم ثم يركع مع الإمام، وبذلك يكون قد أدرك الركعة.",detailedExplanation:"لقول النبي صلى الله عليه وسلم: 'من أدرك الركوع فقد أدرك الركعة'. فإذا دخل المسبوق المسجد ووجد الإمام راكعًا، فيجب عليه أن يكبر تكبيرة الإحرام أولاً وهو قائم، ثم يكبر للركوع ويركع. وإذا اطمأن في الركوع قبل أن يرفع الإمام، فقد أدرك الركعة كاملة.",reference:"سنن أبي داود."},{id:3015,question:"ما هي 'صلاة الاستسقاء'؟",options:["صلاة لطلب الزواج","صلاة لطلب نزول المطر","صلاة عند الخوف","صلاة عند رؤية الهلال"],correctAnswer:"صلاة لطلب نزول المطر",shortExplanation:"صلاة الاستسقاء هي صلاة وخطبة تؤدى جماعة عند انقطاع المطر وحدوث الجفاف، لطلب السقيا من الله.",detailedExplanation:"الاستسقاء هو طلب السقيا. وهو سنة مؤكدة إذا أجدبت الأرض واحتاج الناس للمطر. وصفتها كصلاة العيد، ركعتان جهريتان، يكبر في الأولى سبعًا وفي الثانية خمسًا، ثم يخطب الإمام خطبة واحدة يدعو فيها ويكثر من الاستغفار، ومن السنة أن يقلب رداءه تفاؤلاً بتغير الحال.",reference:"صحيح البخاري."},{id:3016,question:"ما هو حكم استقبال القبلة في الصلاة؟",options:["ركن من أركان الصلاة","واجب من واجبات الصلاة","سنة من سنن الصلاة","مستحب"],correctAnswer:"ركن من أركان الصلاة",shortExplanation:"استقبال القبلة (الكعبة المشرفة) شرط من شروط صحة الصلاة لا تصح بدونه إلا في حالات معينة.",detailedExplanation:"استقبال القبلة شرط لصحة الصلاة المفروضة والنافلة، لقوله تعالى: (فَوَلِّ وَجْهَكَ شَطْرَ الْمَسْجِدِ الْحَرَامِ). ويسقط هذا الشرط في حالتين: عند العجز الشديد كالمرض، وفي صلاة النافلة على الراحلة (وسيلة النقل) في السفر.",reference:"القرآن الكريم، سورة البقرة: 144."},{id:3017,question:"على كم عظم يجب السجود في الصلاة؟",options:["خمسة","ستة","سبعة","ثمانية"],correctAnswer:"سبعة",shortExplanation:"أمر النبي صلى الله عليه وسلم بالسجود على سبعة أعضاء.",detailedExplanation:"قال النبي صلى الله عليه وسلم: 'أمرت أن أسجد على سبعة أعظم: على الجبهة - وأشار بيده على أنفه - واليدين، والركبتين، وأطراف القدمين'. وهذه الأعضاء السبعة هي: الجبهة مع الأنف، الكفان، الركبتان، وأطراف أصابع القدمين.",reference:"صحيح البخاري ومسلم."},{id:3018,question:"ما حكم الكلام في الصلاة عمدًا؟",options:["مكروه","يبطل الصلاة","جائز للحاجة","ينقص الأجر فقط"],correctAnswer:"يبطل الصلاة",shortExplanation:"الكلام العمد في الصلاة من غير جنسها لمصلحة خارجة عنها يبطلها بالإجماع.",detailedExplanation:"كان الكلام في الصلاة جائزًا في أول الإسلام للحاجة، ثم نسخ. والدليل على ذلك حديث زيد بن أرقم: 'كنا نتكلم في الصلاة يكلم الرجل صاحبه وهو إلى جنبه في الصلاة حتى نزلت: (وَقُومُوا لِلَّهِ قَانِتِينَ) فأمرنا بالسكوت ونهينا عن الكلام'.",reference:"صحيح البخاري ومسلم."},{id:3019,question:"ما هي 'تحية المسجد'؟",options:["السلام على المصلين","ركعتان قبل صلاة الفجر","ركعتان يصليهما من دخل المسجد قبل أن يجلس","دعاء دخول المسجد"],correctAnswer:"ركعتان يصليهما من دخل المسجد قبل أن يجلس",shortExplanation:"تحية المسجد هي صلاة ركعتين، وهي سنة مؤكدة في حق من دخل المسجد ويريد الجلوس فيه.",detailedExplanation:"لقول النبي صلى الله عليه وسلم: 'إذا دخل أحدكم المسجد فلا يجلس حتى يصلي ركعتين'. وهذا الأمر للاستحباب المؤكد عند جمهور العلماء. وتجزئ عنها صلاة الفريضة أو السنة الراتبة إذا دخل المسجد وقتها.",reference:"صحيح البخاري ومسلم."},{id:3020,question:"ما هو 'التورك' و 'الافتراش' في الصلاة؟",options:["نوعان من الركوع","جلستان في التشهد","طريقتان للسجود","نوعان من القيام"],correctAnswer:"جلستان في التشهد",shortExplanation:"الافتراش هو نصب القدم اليمنى والجلوس على اليسرى، والتورك هو إخراج القدم اليسرى من تحت اليمنى والجلوس على المقعدة.",detailedExplanation:"الافتراش هو السنة في الجلوس بين السجدتين وفي التشهد الأول. أما التورك فهو السنة في التشهد الأخير في الصلاة الثلاثية والرباعية. والحكمة من التفريق بينهما هي التمييز بين التشهدين.",reference:"صحيح البخاري."},{id:3021,question:"ما حكم صلاة الجماعة للرجال؟",options:["سنة مؤكدة","فرض عين","فرض كفاية","مستحبة"],correctAnswer:"فرض عين",shortExplanation:"القول الراجح أن صلاة الجماعة في المسجد فرض عين على الرجال القادرين.",detailedExplanation:"الأدلة على وجوب صلاة الجماعة كثيرة، منها أمر الله بها في حالة الخوف والحرب، وحديث الأعمى الذي طلب الرخصة ليصلي في بيته فقال له النبي: 'هل تسمع النداء؟ قال: نعم. قال: فأجب'. فإذا لم يرخص للأعمى، فغيره من باب أولى.",reference:"القرآن الكريم، سورة النساء: 102، وصحيح مسلم."},{id:3022,question:"متى يجوز الجمع بين الصلاتين؟",options:["في السفر والمطر الشديد","عند النوم","عند الانشغال بالعمل","في أي وقت للحاجة"],correctAnswer:"في السفر والمطر الشديد",shortExplanation:"يجوز الجمع بين الظهر والعصر، وبين المغرب والعشاء، في حالات معينة كالسفر والمطر الشديد الذي يبل الثياب والمرض.",detailedExplanation:"الجمع رخصة من الله لتيسير على عباده. فيجوز للمسافر أن يجمع بين الظهر والعصر (جمع تقديم أو تأخير)، وبين المغرب والعشاء. ويجوز الجمع في الحضر للمطر الشديد الذي يشق معه الذهاب للمسجد، وللمرض الشديد، وللحاجة الملحة على ألا يتخذ عادة.",reference:"صحيح مسلم."},{id:3023,question:"ما هي الصلوات التي لها سنن رواتب؟",options:["جميع الصلوات الخمس","الظهر، المغرب، العشاء","الفجر، الظهر، المغرب، العشاء","الفجر والظهر فقط"],correctAnswer:"الفجر، الظهر، المغرب، العشاء",shortExplanation:"السنن الرواتب المؤكدة هي 12 ركعة مرتبطة بالصلوات المفروضة، وهي سبب لبناء بيت في الجنة.",detailedExplanation:"السنن الرواتب هي: ركعتان قبل الفجر، وأربع ركعات قبل الظهر وركعتان بعده، وركعتان بعد المغرب، وركعتان بعد العشاء. مجموعها 12 ركعة. قال النبي صلى الله عليه وسلم: 'من صلى في يوم وليلة ثنتي عشرة ركعة بني له بهن بيت في الجنة'.",reference:"صحيح مسلم."},{id:3024,question:"ما حكم من أكل أو شرب ناسيًا وهو في الصلاة؟",options:["صلاته باطلة","صلاته صحيحة","يسجد للسهو","عليه كفارة"],correctAnswer:"صلاته باطلة",shortExplanation:"الأكل والشرب في الصلاة عمدًا أو نسيانًا يبطلها، لأنه فعل كثير من غير جنس الصلاة.",detailedExplanation:"أجمع العلماء على أن من أكل أو شرب في صلاة الفرض عمدًا بطلت صلاته. واختلفوا في الناسي، والجمهور على أنها تبطل أيضًا، بخلاف الصيام الذي يعذر فيه الناسي. والفرق أن هيئة الصلاة من قيام وركوع وسجود منبهة، فيندر النسيان فيها جدًا، فلم يعذر به.",reference:"الإجماع لابن المنذر، والمغني لابن قدامة."},{id:3025,question:"ما هي 'صلاة الكسوف'؟",options:["صلاة عند رؤية قوس قزح","صلاة عند خسوف القمر أو كسوف الشمس","صلاة عند نزول المطر","صلاة عند هبوب الريح"],correctAnswer:"صلاة عند خسوف القمر أو كسوف الشمس",shortExplanation:"صلاة الكسوف (للشمس) والخسوف (للقمر) سنة مؤكدة، تصلى عند حدوث هذه الظاهرة الكونية تخويفًا من الله لعباده.",detailedExplanation:"عندما تنكسف الشمس أو يخسف القمر، يشرع للمسلمين أن يفزعوا إلى الصلاة والدعاء والصدقة. وصفتها أنها ركعتان، في كل ركعة قيامان وقراءتان وركوعان وسجودان. وهي صلاة جهرية.",reference:"صحيح البخاري ومسلم."}]},{id:"zakat",title:"الزكاة",color:"amber",icon:"💰",questions:[{id:4001,question:"على من تجب الزكاة؟",options:["على كل مسلم غني أو فقير","على المسلم الحر المالك للنصاب","على الرجال فقط","على من يعمل بالتجارة فقط"],correctAnswer:"على المسلم الحر المالك للنصاب",shortExplanation:"تجب الزكاة على كل مسلم، حر، يملك نصابًا (مقدار معين من المال) حال عليه الحول (مر عليه عام هجري).",detailedExplanation:"شروط وجوب الزكاة هي: الإسلام، والحرية، وملك النصاب ملكًا تامًا، وحولان الحول (مرور سنة قمرية على امتلاك النصاب). والنصاب هو الحد الأدنى من المال الذي تجب فيه الزكاة، ويختلف باختلاف نوع المال.",reference:"كتب الفقه الإسلامي."},{id:4002,question:"ما هو نصاب الذهب الذي تجب فيه الزكاة؟",options:["20 دينارًا (85 جرامًا)","40 دينارًا (170 جرامًا)","100 جرام","50 جرامًا"],correctAnswer:"20 دينارًا (85 جرامًا)",shortExplanation:"نصاب الذهب هو 20 دينارًا ذهبيًا، وهو ما يعادل 85 جرامًا من الذهب الخالص.",detailedExplanation:"إذا بلغ الذهب الذي يملكه المسلم 85 جرامًا من عيار 24، أو ما يعادلها في العيارات الأخرى، وحال عليه الحول، وجب عليه إخراج ربع العشر (2.5%) من قيمته.",reference:"فقه الزكاة للقرضاوي."},{id:4003,question:"ما مقدار زكاة المال (عروض التجارة والنقود)؟",options:["العشر (10%)","نصف العشر (5%)","ربع العشر (2.5%)","الخمس (20%)"],correctAnswer:"ربع العشر (2.5%)",shortExplanation:"مقدار الزكاة الواجب إخراجه في النقود وعروض التجارة والذهب والفضة هو ربع العشر، أي 2.5%.",detailedExplanation:"لقول النبي صلى الله عليه وسلم في زكاة الفضة: '...فهاتوا صدقة الرقة، من كل مائتي درهم خمسة دراهم'. وخمسة دراهم هي ربع عشر المائتين. وقاس العلماء الذهب والنقود وعروض التجارة على ذلك.",reference:"سنن أبي داود."},{id:4004,question:"ما هو 'الحول' في الزكاة؟",options:["حول العالم","مرور سنة هجرية كاملة","مرور سنة ميلادية","قوة الإنسان"],correctAnswer:"مرور سنة هجرية كاملة",shortExplanation:"الحول هو مرور عام هجري كامل على امتلاك المال البالغ للنصاب.",detailedExplanation:"من شروط وجوب الزكاة في الأموال النقدية وعروض التجارة والأنعام السائمة هو حولان الحول. لقول النبي صلى الله عليه وسلم: 'لا زكاة في مال حتى يحول عليه الحول'.",reference:"سنن ابن ماجه."},{id:4005,question:"من هم الأصناف الثمانية الذين تصرف لهم الزكاة؟",options:["الأقارب والجيران والأصدقاء","بناء المساجد والمدارس","الفقراء والمساكين والعاملون عليها...","الأيتام والأرامل فقط"],correctAnswer:"الفقراء والمساكين والعاملون عليها...",shortExplanation:"مصارف الزكاة محددة في القرآن الكريم وهم ثمانية أصناف.",detailedExplanation:"قال تعالى: (إِنَّمَا الصَّدَقَاتُ لِلْفُقَرَاءِ وَالْمَسَاكِينِ وَالْعَامِلِينَ عَلَيْهَا وَالْمُؤَلَّفَةِ قُلُوبُهُمْ وَفِي الرِّقَابِ وَالْغَارِمِينَ وَفِي سَبِيلِ اللَّهِ وَابْنِ السَّبِيلِ). فلا يجوز صرف الزكاة لغير هذه الأصناف الثمانية.",reference:"القرآن الكريم، سورة التوبة: 60."},{id:4006,question:"ما حكم زكاة الفطر؟",options:["سنة مؤكدة","فرض على كل مسلم","مستحبة","فرض على الأغنياء فقط"],correctAnswer:"فرض على كل مسلم",shortExplanation:"زكاة الفطر فريضة على كل مسلم، صغير أو كبير، ذكر أو أنثى، حر أو عبد.",detailedExplanation:"فرض رسول الله صلى الله عليه وسلم زكاة الفطر طهرة للصائم من اللغو والرفث، وطعمة للمساكين. وهي صاع من طعام من غالب قوت أهل البلد، وتجب على كل مسلم يملك قوت يوم العيد وليلته فاضلاً عن حاجته الأصلية.",reference:"صحيح البخاري ومسلم."},{id:4007,question:"متى يخرج وقت إخراج زكاة الفطر؟",options:["قبل صلاة العيد","طوال يوم العيد","في أي يوم من رمضان","بعد صلاة العيد"],correctAnswer:"قبل صلاة العيد",shortExplanation:"أفضل وقت لإخراج زكاة الفطر هو صباح يوم العيد قبل الخروج إلى الصلاة، ويجوز إخراجها قبل العيد بيوم أو يومين.",detailedExplanation:"أمر النبي صلى الله عليه وسلم أن تؤدى زكاة الفطر قبل خروج الناس إلى الصلاة. ومن أداها بعد الصلاة فهي صدقة من الصدقات وليست زكاة فطر. والحكمة من ذلك هي إغناء الفقراء عن السؤال في يوم العيد.",reference:"سنن أبي داود."},{id:4008,question:"هل تجب الزكاة في حلي المرأة (الذهب والفضة) الذي تستعمله للزينة؟",options:["نعم، مطلقًا","لا، مطلقًا","مسألة خلافية والراجح وجوبها","نعم، إذا كان للاستثمار فقط"],correctAnswer:"مسألة خلافية والراجح وجوبها",shortExplanation:"اختلف العلماء في زكاة حلي المرأة، والقول الراجح والأحوط هو وجوب الزكاة فيها إذا بلغت النصاب وحال عليها الحول.",detailedExplanation:"جمهور العلماء (المالكية والشافعية والحنابلة) على أنه لا زكاة في حلي المرأة المعد للاستعمال المباح. والحنفية وقول عند الحنابلة وهو اختيار الشيخ ابن باز وابن عثيمين، يرون وجوب الزكاة فيها، لعموم الأدلة الموجبة للزكاة في الذهب والفضة، وعدم وجود مخصص قوي. وهذا القول أحوط وأبرأ للذمة.",reference:"مجموع فتاوى ابن باز."},{id:4009,question:"ما هو نصاب زكاة الزروع والثمار التي تسقى بماء المطر؟",options:["العشر (10%)","نصف العشر (5%)","ربع العشر (2.5%)","لا زكاة فيها"],correctAnswer:"العشر (10%)",shortExplanation:"ما سقي بماء السماء والأنهار (بدون تكلفة) فزكاته العشر، أي 10%.",detailedExplanation:"لقول النبي صلى الله عليه وسلم: 'فيما سقت السماء والعيون أو كان عثريًا العشر، وفيما سقي بالنضح نصف العشر'. والنصاب هو خمسة أوسق، والوسق ستون صاعًا، أي حوالي 612 كيلوجرام.",reference:"صحيح البخاري."},{id:4010,question:"هل يجوز إعطاء الزكاة للأقارب الفقراء؟",options:["لا يجوز مطلقًا","نعم، وهو أولى من غيرهم","يجوز للإخوة فقط","لا يجوز للأصول والفروع"],correctAnswer:"نعم، وهو أولى من غيرهم",shortExplanation:"يجوز إعطاء الزكاة للقريب الفقير الذي لا تجب عليك نفقته، والصدقة عليه لها أجران: أجر الصدقة وأجر صلة الرحم.",detailedExplanation:"لا يجوز دفع الزكاة للأصول (الآباء والأجداد) ولا للفروع (الأبناء والأحفاد) ولا للزوجة، لأن نفقتهم واجبة على المزكي. أما بقية الأقارب كالإخوة والأعمام والأخوال، إذا كانوا فقراء، فهم من أولى الناس بالزكاة.",reference:"فتاوى اللجنة الدائمة."},{id:4011,question:"ما هو نصاب بهيمة الأنعام (الإبل)؟",options:["5 رؤوس","10 رؤوس","30 رأسًا","40 رأسًا"],correctAnswer:"5 رؤوس",shortExplanation:"أقل نصاب تجب فيه الزكاة من الإبل هو خمس من الإبل، وفيها شاة واحدة.",detailedExplanation:"تبدأ زكاة الإبل من 5 رؤوس، ففيها شاة. وفي 10 شاتان، وفي 15 ثلاث شياه، وفي 20 أربع شياه. فإذا بلغت 25 ففيها بنت مخاض (أنثى الإبل عمرها سنة). وتتغير المقادير بعد ذلك حسب الأعداد.",reference:"صحيح البخاري، كتاب الزكاة."},{id:4012,question:"هل تجب الزكاة على الراتب الشهري؟",options:["نعم، عند استلامه مباشرة","لا تجب عليه زكاة","نعم، إذا حال الحول على ما بلغ النصاب منه","نعم، في نهاية كل شهر"],correctAnswer:"نعم، إذا حال الحول على ما بلغ النصاب منه",shortExplanation:"الراتب الشهري لا تجب فيه الزكاة عند قبضه، بل يضم إلى بقية الأموال، ويزكى الجميع عندما يحول الحول على النصاب.",detailedExplanation:"الطريقة الأسهل لزكاة الراتب هي أن يحدد المزكي يومًا معينًا في السنة (مثلاً 1 رمضان) وينظر إلى كل ما يملكه من نقود بلغت النصاب في هذا اليوم، فيخرج زكاتها 2.5%، بغض النظر متى استفاد هذا المال. وهذا أيسر للمحاسبة وأعظم للأجر.",reference:"فتاوى الشيخ ابن عثيمين."},{id:4013,question:"ما حكم من عليه دين وله مال بلغ النصاب؟",options:["يسدد الدين أولاً ثم يزكي الباقي","يزكي جميع المال ولا علاقة للدين","مسألة خلافية والأرجح أنه يزكي","لا زكاة عليه حتى يسدد الدين"],correctAnswer:"يسدد الدين أولاً ثم يزكي الباقي",shortExplanation:"اختلف العلماء، والقول الراجح أن الدين يمنع وجوب الزكاة في الأموال الباطنة (النقود)، فيخصم مقدار الدين من المال ثم يزكي ما تبقى إن بلغ نصابًا.",detailedExplanation:"إذا كان الدين يستغرق النصاب أو ينقصه، فلا زكاة على المدين. أما إذا كان الدين لا ينقص المال عن النصاب، فإنه يخصم الدين ثم يزكي الباقي. هذا في الأموال الباطنة. أما الزروع والثمار والماشية فتجب فيها الزكاة ولا يمنعها الدين.",reference:"المغني لابن قدامة."},{id:4014,question:"هل يجوز نقل الزكاة من بلد إلى آخر؟",options:["لا يجوز مطلقًا","يجوز للمصلحة الراجحة","يجوز دائمًا","مكروه"],correctAnswer:"يجوز للمصلحة الراجحة",shortExplanation:"الأصل أن زكاة كل بلد توزع على فقرائه، لكن يجوز نقلها إذا كان هناك مصلحة شرعية معتبرة، كوجود أقارب أشد فقرًا في بلد آخر، أو حدوث مجاعة.",detailedExplanation:"لقول النبي صلى الله عليه وسلم لمعاذ حين أرسله إلى اليمن: '...فأعلمهم أن الله افترض عليهم صدقة تؤخذ من أغنيائهم فترد على فقرائهم'. فدل على أن الأصل صرفها في نفس البلد. لكن استثنى العلماء حالات للمصلحة، كعدم وجود فقراء في البلد، أو وجود حاجة أشد في بلد آخر.",reference:"فتاوى اللجنة الدائمة."},{id:4015,question:"ما هو 'زكاة الركاز'؟",options:["زكاة التجارة","زكاة المعادن","زكاة كنوز الجاهلية","زكاة الأسهم"],correctAnswer:"زكاة كنوز الجاهلية",shortExplanation:"الركاز هو دفين الجاهلية (كنز من زمن الكفار قبل الإسلام) يوجد في أرض غير مملوكة، وزكاته الخمس (20%).",detailedExplanation:"لقول النبي صلى الله عليه وسلم: 'وفي الركاز الخمس'. ويجب إخراج زكاته فور العثور عليه، ولا يشترط له نصاب ولا حول. ويصرف مصرف الفيء، أي في مصالح المسلمين العامة.",reference:"صحيح البخاري."},{id:4016,question:"هل تجب الزكاة في مال اليتيم والمجنون؟",options:["لا تجب","تجب على الولي فقط","نعم، تجب في مالهما","تجب عند البلوغ والعقل"],correctAnswer:"نعم، تجب في مالهما",shortExplanation:"تجب الزكاة في مال الصغير (اليتيم) والمجنون إذا بلغ نصابًا وحال عليه الحول، ويخرجها الولي عنهما.",detailedExplanation:"الزكاة حق يتعلق بالمال نفسه، لا بشخص المالك. لعموم قوله تعالى: (خُذْ مِنْ أَمْوَالِهِمْ صَدَقَةً). ولقول عمر بن الخطاب: 'اتجروا في أموال اليتامى لا تأكلها الصدقة'. وهذا مذهب جمهور العلماء.",reference:"موطأ الإمام مالك."},{id:4017,question:"هل يجوز تعجيل الزكاة قبل وقتها؟",options:["لا يجوز","يجوز لعام واحد فقط","يجوز لعامين","يجوز إذا وجدت حاجة ماسة"],correctAnswer:"يجوز إذا وجدت حاجة ماسة",shortExplanation:"يجوز تقديم الزكاة وتعجيلها عن وقتها المحدد إذا كان النصاب مكتملًا ودعت إلى ذلك مصلحة أو حاجة، كوجود مجاعة أو فقراء مضطرين.",detailedExplanation:"ثبت أن النبي صلى الله عليه وسلم استسلف من عمه العباس زكاة عامين. وهذا يدل على جواز التعجيل للمصلحة. لكن لا يجوز تعجيلها قبل اكتمال النصاب.",reference:"سنن الترمذي."},{id:4018,question:"كيف تُحسب زكاة عروض التجارة؟",options:["تقوّم بسعر الشراء","تقوّم بسعر البيع عند نهاية الحول","تُخرج من نفس السلع","لا زكاة عليها"],correctAnswer:"تقوّم بسعر البيع عند نهاية الحول",shortExplanation:"عندما يحول الحول، يقوم التاجر بجرد بضاعته وتقويمها بسعر السوق الحالي (سعر البيع)، ثم يضيف إليها السيولة النقدية والديون المرجوة، ويخرج 2.5% من المجموع.",detailedExplanation:"زكاة عروض التجارة تشمل كل ما أعد للبيع والشراء بقصد الربح. طريقة حسابها: (قيمة البضاعة بسعر السوق + النقد المتوفر + الديون التي على الآخرين ويرجى سدادها - الديون التي على التاجر) × 2.5%.",reference:"فقه الزكاة للقرضاوي."},{id:4019,question:"هل تجب الزكاة في العقارات المؤجرة؟",options:["نعم، على قيمة العقار","لا، الزكاة على الأجرة فقط","لا تجب الزكاة فيها مطلقًا","نعم، على الأجرة وقيمة العقار معًا"],correctAnswer:"لا، الزكاة على الأجرة فقط",shortExplanation:"العقارات المعدة للإيجار لا تجب الزكاة في قيمتها الأصلية، وإنما تجب في الأجرة (الإيراد) إذا بلغت نصابًا بنفسها أو بما يضم إليها وحال عليها الحول.",detailedExplanation:"العقارات المؤجرة (المستغلات) مثلها مثل المصانع وسيارات الأجرة، الزكاة لا تجب في أصلها (عينها)، بل في ريعها وإيرادها. فيضم هذا الإيراد إلى بقية أموال المالك ويزكى الجميع عند حولان الحول.",reference:"فتاوى الشيخ ابن باز."},{id:4020,question:"ما الفرق بين الفقير والمسكين؟",options:["لا فرق بينهما","الفقير أشد حاجة من المسكين","المسكين أشد حاجة من الفقير","الفقير يسأل والمسكين لا يسأل"],correctAnswer:"الفقير أشد حاجة من المسكين",shortExplanation:"على القول الراجح، الفقير هو من لا يجد شيئًا أو يجد أقل من نصف كفايته. أما المسكين فهو من يجد نصف كفايته فأكثر ولكن لا يجد تمام الكفاية.",detailedExplanation:"كلا الصنفين من مصارف الزكاة. وقد بدأ الله بالفقراء في آية مصارف الزكاة لأنهم الأشد حاجة. الفقير هو المعدم أو شبه المعدم، أما المسكين فله بعض المال لكنه لا يكفيه.",reference:"تفسير ابن كثير."}]},{id:"fasting",title:"الصيام",color:"blue",icon:"🌙",questions:[{id:5001,question:"ما هو تعريف الصيام شرعًا؟",options:["الامتناع عن الكلام","الإمساك عن المفطرات من طلوع الفجر إلى غروب الشمس بنية","الامتناع عن الطعام فقط","الاعتكاف في المسجد"],correctAnswer:"الإمساك عن المفطرات من طلوع الفجر إلى غروب الشمس بنية",shortExplanation:"الصيام هو التعبد لله تعالى بالإمساك عن الأكل والشرب والجماع وسائر المفطرات من طلوع الفجر الصادق إلى غروب الشمس.",detailedExplanation:"أركان الصيام اثنان: الأول هو النية، ومحلها القلب، ويجب تبييتها من الليل في صيام الفرض. والركن الثاني هو الإمساك عن جميع المفطرات (الأكل، الشرب، الجماع، وكل ما في حكمها) في الوقت المحدد وهو من طلوع الفجر الثاني إلى غروب الشمس.",reference:"فقه السنة لسيد سابق."},{id:5002,question:"ما حكم من أكل أو شرب ناسيًا وهو صائم؟",options:["بطل صومه وعليه القضاء","صومه صحيح ويتمه","عليه كفارة","عليه القضاء فقط"],correctAnswer:"صومه صحيح ويتمه",shortExplanation:"من أكل أو شرب ناسيًا في نهار رمضان فصومه صحيح ولا شيء عليه.",detailedExplanation:"لقول النبي صلى الله عليه وسلم: 'من نسي وهو صائم، فأكل أو شرب، فليتم صومه، فإنما أطعمه الله وسقاه'. وهذا من رحمة الله وتيسيره على عباده.",reference:"صحيح البخاري ومسلم."},{id:5003,question:"ما حكم استعمال قطرة العين للصائم؟",options:["تفطر مطلقًا","لا تفطر","تفطر إن وجد طعمها في حلقه","مكروهة"],correctAnswer:"لا تفطر",shortExplanation:"قطرة العين والأذن لا تفطر الصائم على القول الراجح، لأن العين ليست منفذًا معتادًا للطعام والشراب.",detailedExplanation:"الأصل صحة الصيام حتى يثبت ما يفسده بدليل شرعي. والعين ليست منفذًا للأكل والشرب، وما يصل منها إلى الحلق (إن وصل) فهو يسير جدًا ومعفو عنه. وهذا اختيار الشيخ ابن باز والشيخ ابن عثيمين.",reference:"مجموع فتاوى ابن باز."},{id:5004,question:"متى يجب تبييت النية في الصيام؟",options:["في صيام الفرض والنفل","في صيام الفرض فقط","في صيام النفل فقط","لا يجب مطلقًا"],correctAnswer:"في صيام الفرض فقط",shortExplanation:"يجب عقد النية وتبييتها من الليل (قبل طلوع الفجر) في كل صيام واجب كرمضان والقضاء والنذر.",detailedExplanation:"لقول النبي صلى الله عليه وسلم: 'من لم يبيت الصيام من الليل فلا صيام له'. أما صيام النفل فيجوز بنية من النهار إذا لم يكن قد أكل أو شرب شيئًا بعد الفجر.",reference:"سنن النسائي، وصححه الألباني."},{id:5005,question:"ما حكم صيام يوم الشك؟",options:["واجب","سنة","مباح","محرم"],correctAnswer:"محرم",shortExplanation:"يحرم صيام يوم الشك، وهو يوم الثلاثين من شعبان إذا لم ير الهلال ليلة الثلاثين بسبب غيم أو قتر.",detailedExplanation:"لقول عمار بن ياسر رضي الله عنه: 'من صام اليوم الذي يشك فيه فقد عصى أبا القاسم صلى الله عليه وسلم'. والحكمة من ذلك هي المبالغة في الاحتياط لدخول الشهر، وهو من التنطع المنهي عنه.",reference:"علقه البخاري ووصله أصحاب السنن."},{id:5006,question:"ما كفارة من جامع زوجته في نهار رمضان عمدًا؟",options:["إطعام 60 مسكينًا","صيام شهرين متتابعين","عتق رقبة، فإن لم يجد فصيام شهرين، فإن لم يستطع فإطعام 60 مسكينًا","القضاء فقط"],correctAnswer:"عتق رقبة، فإن لم يجد فصيام شهرين، فإن لم يستطع فإطعام 60 مسكينًا",shortExplanation:"كفارة الجماع في نهار رمضان هي كفارة مغلظة على الترتيب.",detailedExplanation:"يجب على من جامع في نهار رمضان متعمدًا: القضاء، والإمساك بقية اليوم، والكفارة المغلظة. وهي عتق رقبة مؤمنة، فإن عجز انتقل إلى صيام شهرين هجريين متتابعين، فإن عجز انتقل إلى إطعام ستين مسكينًا، لكل مسكين نصف صاع من طعام.",reference:"صحيح البخاري ومسلم."},{id:5007,question:"ما حكم المبالغة في المضمضة والاستنشاق للصائم؟",options:["مستحبة","مباحة","مكروهة","محرمة"],correctAnswer:"مكروهة",shortExplanation:"تكره المبالغة في المضمضة والاستنشاق أثناء الوضوء للصائم، خشية أن يسبق الماء إلى حلقه فيفطر.",detailedExplanation:"لقول النبي صلى الله عليه وسلم للقيط بن صبرة: '...وبالغ في الاستنشاق إلا أن تكون صائمًا'. فدل على أن الصائم يتمضمض ويستنشق لكن دون مبالغة.",reference:"سنن أبي داود والترمذي."},{id:5008,question:"من هم الذين يباح لهم الفطر في رمضان؟",options:["المسافر والمريض","العامل في مهنة شاقة","الطالب الذي عنده اختبار","كل من وجد مشقة"],correctAnswer:"المسافر والمريض",shortExplanation:"يباح الفطر للمسافر سفر قصر، وللمريض الذي يضره الصوم أو يشق عليه مشقة شديدة، وعليهما القضاء.",detailedExplanation:"قال تعالى: (وَمَن كَانَ مَرِيضًا أَوْ عَلَىٰ سَفَرٍ فَعِدَّةٌ مِّنْ أَيَّامٍ أُخَرَ). ويلحق بهما الحامل والمرضع إذا خافتا على نفسيهما أو ولديهما، والشيخ الكبير العاجز عن الصيام.",reference:"القرآن الكريم، سورة البقرة: 185."},{id:5009,question:"ما حكم من أخر قضاء رمضان حتى دخل رمضان التالي بدون عذر؟",options:["عليه القضاء فقط","عليه القضاء مع إطعام مسكين عن كل يوم","عليه كفارة مغلظة","لا شيء عليه"],correctAnswer:"عليه القضاء مع إطعام مسكين عن كل يوم",shortExplanation:"من أخر قضاء ما عليه من رمضان حتى دخل عليه رمضان آخر بلا عذر شرعي، فإنه يصوم الحاضر ثم يقضي ما عليه، مع إطعام مسكين عن كل يوم أخره.",detailedExplanation:"هذا هو ما أفتى به عدد من الصحابة كابن عباس وابن عمر وأبي هريرة. فالقضاء واجب على الفور، وتأخيره لغير عذر إثم يوجب التوبة، وجبره يكون بهذه الفدية (الإطعام) مع القضاء.",reference:"فتاوى الصحابة."},{id:5010,question:"ما هي ليلة القدر؟",options:["ليلة الإسراء والمعراج","ليلة النصف من شعبان","ليلة في العشر الأواخر من رمضان","أول ليلة من رمضان"],correctAnswer:"ليلة في العشر الأواخر من رمضان",shortExplanation:"ليلة القدر هي ليلة عظيمة في العشر الأواخر من رمضان، وهي خير من ألف شهر، وتلتمس في ليالي الوتر منها.",detailedExplanation:"قال تعالى: (لَيْلَةُ الْقَدْرِ خَيْرٌ مِّنْ أَلْفِ شَهْرٍ). وقال النبي صلى الله عليه وسلم: 'تحروا ليلة القدر في الوتر من العشر الأواخر من رمضان'. ومن قامها إيمانًا واحتسابًا غفر له ما تقدم من ذنبه.",reference:"القرآن الكريم، سورة القدر، وصحيح البخاري."},{id:5011,question:"ما حكم استخدام معجون الأسنان للصائم؟",options:["يفطر مطلقًا","جائز بشرط عدم بلع شيء","مكروه","محرم"],correctAnswer:"جائز بشرط عدم بلع شيء",shortExplanation:"يجوز للصائم تنظيف أسنانه بالفرشاة والمعجون، مع التحرز من وصول شيء منه إلى جوفه.",detailedExplanation:"استعمال المعجون لا يفطر، لأنه ليس أكلًا ولا شربًا ولا في معناهما. وهو من جنس المضمضة، فيجوز مع الحذر من بلعه. والأولى تركه في النهار واستعمال السواك بدلاً منه خروجًا من الخلاف.",reference:"فتاوى الشيخ ابن باز."},{id:5012,question:"ماذا يفعل الشيخ الكبير العاجز عن الصيام؟",options:["لا شيء عليه","يصوم عنه ولده","يطعم عن كل يوم مسكينًا","يقضي بعد رمضان"],correctAnswer:"يطعم عن كل يوم مسكينًا",shortExplanation:"الشيخ الكبير والمريض الذي لا يرجى شفاؤه، يفطران ويطعمان عن كل يوم أفطراه مسكينًا.",detailedExplanation:"لقوله تعالى: (وَعَلَى الَّذِينَ يُطِيقُونَهُ فِدْيَةٌ طَعَامُ مِسْكِينٍ). قال ابن عباس: هي للشيخ الكبير والمرأة الكبيرة لا يستطيعان أن يصوما، فيطعمان مكان كل يوم مسكينًا. ومقدار الإطعام نصف صاع من غالب قوت البلد (حوالي كيلو ونصف).",reference:"صحيح البخاري."},{id:5013,question:"ما حكم صيام يومي العيد؟",options:["سنة","مباح","مكروه","محرم"],correctAnswer:"محرم",shortExplanation:"يحرم صيام يوم عيد الفطر ويوم عيد الأضحى بالإجماع.",detailedExplanation:"نهى النبي صلى الله عليه وسلم عن صيام يومين: يوم الفطر ويوم الأضحى. فهي أيام أكل وشرب وذكر لله، وإظهار للفرح والسرور بنعمة الله.",reference:"صحيح البخاري ومسلم."},{id:5014,question:"هل الحجامة تفطر الصائم؟",options:["نعم، تفطر","لا تفطر","تفطر الحاجم والمحجوم","مسألة خلافية والراجح أنها لا تفطر"],correctAnswer:"مسألة خلافية والراجح أنها لا تفطر",shortExplanation:"اختلف العلماء في ذلك، والقول الراجح أن الحجامة لا تفطر الصائم، لكن الأولى تركها في النهار إن كانت تضعف الصائم.",detailedExplanation:"كانت الحجامة مفطرة في أول الأمر لحديث: 'أفطر الحاجم والمحجوم'. ثم نسخ هذا الحكم، وثبت أن النبي صلى الله عليه وسلم احتجم وهو صائم. وهذا هو اختيار شيخ الإسلام ابن تيمية والشيخ ابن عثيمين.",reference:"صحيح البخاري."},{id:5015,question:"ما حكم بلع الريق للصائم؟",options:["يفطر","مكروه","جائز ولا يفطر","يفطر إن كان كثيرًا"],correctAnswer:"جائز ولا يفطر",shortExplanation:"بلع الريق المعتاد لا يفطر الصائم بالإجماع، لأنه مما لا يمكن التحرز منه.",detailedExplanation:"لا يفطر الصائم ببلع ريقه، ولو كثر. أما بلع النخامة (البلغم) بعد وصولها إلى الفم، ففيه خلاف، والأحوط لفظها وعدم بلعها.",reference:"المغني لابن قدامة."},{id:5016,question:"ما هو أفضل الصيام بعد رمضان؟",options:["صيام شهر الله المحرم","صيام ستة من شوال","صيام يوم عرفة","صيام الإثنين والخميس"],correctAnswer:"صيام شهر الله المحرم",shortExplanation:"أفضل الصيام تطوعًا بعد شهر رمضان هو صيام شهر الله المحرم، وآكده يوم عاشوراء.",detailedExplanation:"لقول النبي صلى الله عليه وسلم: 'أفضل الصيام بعد رمضان شهر الله المحرم، وأفضل الصلاة بعد الفريضة صلاة الليل'.",reference:"صحيح مسلم."},{id:5017,question:"ما فضل صيام ستة أيام من شوال؟",options:["كصيام الدهر","غفران الذنوب","بناء بيت في الجنة","لا فضل خاص لها"],correctAnswer:"كصيام الدهر",shortExplanation:"من صام رمضان ثم أتبعه ستًا من شوال، كان كصيام الدهر كله.",detailedExplanation:"لقول النبي صلى الله عليه وسلم: 'من صام رمضان ثم أتبعه ستًا من شوال، كان كصيام الدهر'. والحسنة بعشر أمثالها، فرمضان بعشرة أشهر، والستة أيام بستين يومًا (شهرين)، فالمجموع اثنا عشر شهرًا.",reference:"صحيح مسلم."},{id:5018,question:"ما حكم من طلع عليه الفجر وهو جنب؟",options:["بطل صومه","صومه صحيح ويغتسل ويصلي","عليه قضاء ذلك اليوم","عليه كفارة"],correctAnswer:"صومه صحيح ويغتسل ويصلي",shortExplanation:"من أدركه الفجر وهو على جنابة من جماع ليلي، فصومه صحيح، ويجب عليه أن يغتسل ليصلي الفجر.",detailedExplanation:"ثبت عن النبي صلى الله عليه وسلم أنه كان يدركه الفجر وهو جنب من أهله ثم يغتسل ويصوم. فالجنابة ليست من المفطرات، وإنما يجب الاغتسال منها لأجل الصلاة.",reference:"صحيح البخاري ومسلم."},{id:5019,question:"هل القيء عمدًا يفطر الصائم؟",options:["نعم، يفطر وعليه القضاء","لا يفطر","يفطر وعليه كفارة","مكروه فقط"],correctAnswer:"نعم، يفطر وعليه القضاء",shortExplanation:"من تعمد القيء (الاستقاءة) فقد أفطر وعليه قضاء ذلك اليوم، أما من غلبه القيء فلا شيء عليه.",detailedExplanation:"لقول النبي صلى الله عليه وسلم: 'من ذرعه القيء (غلبه) فليس عليه قضاء، ومن استقاء عمدًا فليقضِ'.",reference:"سنن الترمذي."},{id:5020,question:"ما هو الاعتكاف وأين يكون؟",options:["عزلة في البيت","صيام متواصل","لزوم المسجد لطاعة الله","السفر للعبادة"],correctAnswer:"لزوم المسجد لطاعة الله",shortExplanation:"الاعتكاف هو لزوم المسلم للمسجد بنية التقرب إلى الله تعالى، وهو سنة في كل وقت، ويتأكد في العشر الأواخر من رمضان.",detailedExplanation:"الاعتكاف هو الانقطاع عن الناس والتفرغ للعبادة في بيت من بيوت الله. ويكون في مسجد تقام فيه صلاة الجماعة. والسنة اعتكاف العشر الأواخر من رمضان كاملة، اقتداء بالنبي صلى الله عليه وسلم.",reference:"صحيح البخاري."}]},{id:"hajj",title:"الحج والعمرة",color:"slate",icon:"🕋",questions:[{id:6001,question:"ما هو ركن الحج الأعظم الذي لا يصح الحج بدونه؟",options:["طواف الوداع","الوقوف بعرفة","رمي الجمرات","المبيت بمنى"],correctAnswer:"الوقوف بعرفة",shortExplanation:"الوقوف بعرفة هو ركن الحج الأعظم، لقول النبي صلى الله عليه وسلم: 'الحج عرفة'.",detailedExplanation:"أركان الحج هي التي يبطل الحج بترك أحدها. وأعظمها هو الوقوف بعرفة في اليوم التاسع من ذي الحجة، ولو للحظة واحدة، في أي جزء من أرض عرفة، ما بين زوال الشمس إلى طلوع فجر يوم النحر. فمن فاته الوقوف بعرفة فقد فاته الحج.",reference:"سنن الترمذي، وصححه الألباني."},{id:6002,question:"ما هي أركان الحج الأربعة؟",options:["الإحرام، الوقوف بعرفة، طواف الإفاضة، السعي","الإحرام، الطواف، السعي، الحلق","الوقوف بعرفة، رمي الجمار، المبيت بمنى، الطواف","النية، الإحرام، الطواف، رمي الجمار"],correctAnswer:"الإحرام، الوقوف بعرفة، طواف الإفاضة، السعي",shortExplanation:"أركان الحج عند جمهور العلماء هي: الإحرام (نية الدخول في النسك)، والوقوف بعرفة، وطواف الإفاضة، والسعي بين الصفا والمروة.",detailedExplanation:"الأركان لا يصح الحج إلا بالإتيان بها جميعًا، ولا تجبر بدم (ذبح فدية). من ترك ركنًا لم يتم حجه حتى يأتي به. والإحرام هو نية الدخول، والوقوف بعرفة في وقته المحدد، وطواف الإفاضة بعد عرفة، والسعي بعد طواف القدوم أو الإفاضة.",reference:"المغني لابن قدامة."},{id:6003,question:"ما هي أنواع النسك (الحج) الثلاثة؟",options:["المفرد، المقرن، المتمتع","العام، الخاص، الكامل","المكي، المدني، العراقي","الأول، الأوسط، الأخير"],correctAnswer:"المفرد، المقرن، المتمتع",shortExplanation:"أنساك الحج ثلاثة: الإفراد (حج فقط)، والقِران (حج وعمرة معًا بإحرام واحد)، والتمتع (عمرة ثم حج بإحرامين).",detailedExplanation:"التمتع: هو أن يحرم بالعمرة في أشهر الحج، ويفرغ منها، ثم يحرم بالحج من مكة في نفس العام. وهو أفضل الأنساك. القِران: هو أن يحرم بالحج والعمرة معًا. الإفراد: هو أن يحرم بالحج وحده. والقارن والمتمتع عليهما هدي (ذبح شاة)، أما المفرد فلا هدي عليه.",reference:"صحيح البخاري ومسلم."},{id:6004,question:"ما هو 'يوم التروية'؟",options:["اليوم السابع من ذي الحجة","اليوم الثامن من ذي الحجة","يوم عرفة","يوم العيد"],correctAnswer:"اليوم الثامن من ذي الحجة",shortExplanation:"يوم التروية هو اليوم الثامن من ذي الحجة، وفيه يتوجه الحجاج إلى منى للمبيت بها استعدادًا للوقوف بعرفة.",detailedExplanation:"سمي بيوم التروية لأن الحجاج كانوا يتروون فيه من الماء (أي يتزودون) لما بعده من الأيام في المشاعر التي لم يكن بها ماء آنذاك. ومن السنة للحاج المتمتع أن يحرم بالحج ضحى هذا اليوم من مكانه في مكة ثم يتوجه إلى منى فيصلي بها الظهر والعصر والمغرب والعشاء والفجر.",reference:"صحيح مسلم."},{id:6005,question:"ما هي 'محظورات الإحرام'؟",options:["الأكل والشرب","النوم","تغطية الرأس للرجل ولبس المخيط","الكلام"],correctAnswer:"تغطية الرأس للرجل ولبس المخيط",shortExplanation:"محظورات الإحرام هي أمور ممنوعة على الحاج أو المعتمر بعد إحرامه، منها ما هو مشترك بين الرجال والنساء ومنها ما يخص الرجال فقط.",detailedExplanation:"المحظورات المشتركة: حلق الشعر، تقليم الأظافر، استعمال الطيب، قتل الصيد، عقد النكاح، الجماع ومقدماته. ويختص الرجل بلبس المخيط (الملابس المفصلة على الجسم) وتغطية الرأس. وتختص المرأة بلبس النقاب والقفازين.",reference:"كتب مناسك الحج."},{id:6006,question:"كم عدد أشواط الطواف حول الكعبة؟",options:["ثلاثة","خمسة","سبعة","عشرة"],correctAnswer:"سبعة",shortExplanation:"الطواف حول الكعبة سبعة أشواط كاملة، تبدأ من الحجر الأسود وتنتهي به.",detailedExplanation:"يشترط لصحة الطواف: الطهارة من الحدثين، وستر العورة، وأن يجعل البيت عن يساره، وأن يكون سبعة أشواط، وأن يكون داخل المسجد الحرام. يبدأ كل شوط من محاذاة الحجر الأسود وينتهي عنده.",reference:"فقه السنة لسيد سابق."},{id:6007,question:"ماذا يفعل الحاج ليلة العاشر من ذي الحجة (ليلة العيد)؟",options:["يبقى في عرفة","يرجع إلى مكة","يبيت في مزدلفة","يبيت في منى"],correctAnswer:"يبيت في مزدلفة",shortExplanation:"بعد غروب شمس يوم عرفة، يتوجه الحجاج إلى مزدلفة ويبيتون بها حتى يصلوا الفجر، وهو واجب من واجبات الحج.",detailedExplanation:"يجمع الحاج في مزدلفة بين صلاتي المغرب والعشاء جمع تأخير. والسنة أن يبيت بها حتى يصلي الفجر، ثم يقف عند المشعر الحرام للدعاء والذكر حتى يسفر الجو جدًا، ثم ينطلق إلى منى قبل طلوع الشمس. والمبيت بمزدلفة واجب، من تركه لغير عذر فعليه دم.",reference:"صحيح مسلم."},{id:6008,question:"ما هي أعمال يوم النحر (العاشر من ذي الحجة)؟",options:["الوقوف بعرفة فقط","رمي جمرة العقبة، النحر، الحلق، طواف الإفاضة","السعي فقط","طواف الوداع"],correctAnswer:"رمي جمرة العقبة، النحر، الحلق، طواف الإفاضة",shortExplanation:"أعمال يوم النحر أربعة بالترتيب الأفضل: رمي جمرة العقبة الكبرى، ثم نحر الهدي، ثم الحلق أو التقصير، ثم طواف الإفاضة.",detailedExplanation:"هذا هو الترتيب الذي فعله النبي صلى الله عليه وسلم. وإذا فعل الحاج اثنين من هذه الأربعة (مثل الرمي والحلق) فقد حصل له التحلل الأول، فيباح له كل شيء من محظورات الإحرام إلا النساء. وإذا أتى ببقية الأعمال مع السعي، حصل له التحلل الثاني وحلت له النساء.",reference:"صحيح البخاري."},{id:6009,question:"ما الفرق بين الحج والعمرة؟",options:["لا فرق بينهما","الحج في رمضان والعمرة في ذي الحجة","الحج له وقت محدد وفيه وقوف بعرفة","العمرة واجبة والحج سنة"],correctAnswer:"الحج له وقت محدد وفيه وقوف بعرفة",shortExplanation:"الحج فرض مرة في العمر وله وقت معين (أشهر الحج) وأعماله أكثر، وأهمها الوقوف بعرفة. أما العمرة فتصح في كل وقت وأعمالها أقل (طواف وسعي وحلق).",detailedExplanation:"أعمال العمرة هي: الإحرام، والطواف، والسعي، والحلق أو التقصير. أما الحج فيزيد على ذلك: الوقوف بعرفة، والمبيت بمزدلفة، والمبيت بمنى، ورمي الجمار. والعمرة جائزة طوال العام، أما الحج فلا يكون إلا في أشهر الحج (شوال، ذو القعدة، ذو الحجة).",reference:"مجموع فتاوى ابن باز."},{id:6010,question:"ما حكم طواف الوداع؟",options:["ركن من أركان الحج","واجب على الحاج غير الحائض","سنة مؤكدة","مستحب"],correctAnswer:"واجب على الحاج غير الحائض",shortExplanation:"طواف الوداع واجب على كل حاج يريد مغادرة مكة، ويسقط عن المرأة الحائض والنفساء.",detailedExplanation:"لقول النبي صلى الله عليه وسلم: 'لا ينفرن أحد حتى يكون آخر عهده بالبيت'. فمن ترك طواف الوداع لعذر كالحيض فلا شيء عليه، ومن تركه لغير عذر فعليه دم (ذبح شاة) يوزع على فقراء الحرم.",reference:"صحيح مسلم."},{id:6011,question:"ما هي 'أيام التشريق'؟",options:["الأيام الثلاثة قبل عرفة","الأيام الثلاثة بعد يوم العيد","أول عشرة أيام من ذي الحجة","يوم عرفة ويوم العيد"],correctAnswer:"الأيام الثلاثة بعد يوم العيد",shortExplanation:"أيام التشريق هي اليوم الحادي عشر والثاني عشر والثالث عشر من شهر ذي الحجة.",detailedExplanation:"هذه الأيام هي أيام أكل وشرب وذكر لله، ويحرم صيامها لغير الحاج المتمتع أو القارن الذي لم يجد الهدي. وفيها يقوم الحجاج برمي الجمرات الثلاث والمبيت بمنى.",reference:"صحيح مسلم."},{id:6012,question:"من أين يحرم أهل مكة للحج؟",options:["من بيوتهم","من التنعيم","من السيل الكبير","من الجحفة"],correctAnswer:"من بيوتهم",shortExplanation:"من كان مقيمًا في مكة، فإنه يحرم بالحج من مكانه الذي هو فيه (بيته أو سكنه).",detailedExplanation:"المواقيت المكانية للإحرام حددها النبي صلى الله عليه وسلم للقادمين إلى مكة. أما من كان داخل هذه المواقيت (أهل مكة ومن بها من المقيمين)، فميقاتهم للحج هو نفس المكان الذي هم فيه. أما للعمرة، فيجب عليهم الخروج إلى أدنى الحل (خارج حدود الحرم) كالتنعيم أو الجعرانة ليحرموا منها.",reference:"صحيح البخاري."},{id:6013,question:"ما حكم من ترك واجبًا من واجبات الحج سهوًا؟",options:["حجه باطل","عليه دم (ذبح شاة)","لا شيء عليه","يصوم ثلاثة أيام"],correctAnswer:"عليه دم (ذبح شاة)",shortExplanation:"من ترك واجبًا من واجبات الحج (مثل المبيت بمزدلفة أو رمي الجمار) فإن حجه صحيح، ولكن يجب عليه جبره بدم.",detailedExplanation:"واجبات الحج تختلف عن الأركان. فالركن لا ينجبر إلا بفعله، أما الواجب فيجبر تركه بفدية (ذبح شاة في مكة وتوزيعها على الفقراء). وهذا من تيسير الشريعة.",reference:"فتاوى اللجنة الدائمة."},{id:6014,question:"ما هو 'الرَّمَل' في الطواف؟",options:["لمس الركن اليماني","الإسراع في المشي مع تقارب الخطى","الدعاء عند الملتزم","تقبيل الحجر الأسود"],correctAnswer:"الإسراع في المشي مع تقارب الخطى",shortExplanation:"الرمل هو سنة للرجال فقط في الأشواط الثلاثة الأولى من طواف القدوم أو طواف العمرة.",detailedExplanation:"الرمل هو إسراع المشي مع هز الكتفين وتقارب الخطى، لإظهار القوة والجلد. فعله النبي صلى الله عليه وسلم وأصحابه عند دخول مكة ليُروا المشركين قوتهم. وهو سنة في طواف القدوم للحاج، وطواف العمرة للمعتمر.",reference:"صحيح مسلم."},{id:6015,question:"ما هي 'التلبية' ومتى تقطع؟",options:["دعاء عند رؤية الكعبة","ذكر يردده المحرم، ويقطعه عند رمي جمرة العقبة","صلاة عند الميقات","نوع من اللباس"],correctAnswer:"ذكر يردده المحرم، ويقطعه عند رمي جمرة العقبة",shortExplanation:"التلبية هي شعار الحج والعمرة، وهي قول 'لبيك اللهم لبيك...'. ويبدأ بها المحرم من الميقات، ويقطعها الحاج عند بدء رمي جمرة العقبة يوم العيد، ويقطعها المعتمر عند بدء الطواف.",detailedExplanation:"صيغة التلبية المأثورة: 'لبيك اللهم لبيك، لبيك لا شريك لك لبيك، إن الحمد والنعمة لك والملك، لا شريك لك'. يسن للرجال الجهر بها، أما النساء فيقلنها سرًا.",reference:"صحيح البخاري ومسلم."}]},{id:"transactions",title:"المعاملات المالية",color:"amber",icon:"⚖️",questions:[{id:7001,question:"ما هو 'الربا' في الإسلام؟",options:["الربح في التجارة","الزيادة المشروطة في أحد عوضي العقد","بيع السلعة بأكثر من سعرها","أخذ فائدة على القرض"],correctAnswer:"أخذ فائدة على القرض",shortExplanation:"الربا هو كل زيادة مشروطة في عقد القرض أو في بيع الأموال الربوية بعضها ببعض، وهو من أكبر الكبائر.",detailedExplanation:"الربا نوعان رئيسيان: ربا الديون (وهو زيادة مشروطة على أصل الدين مقابل الأجل، وهو ربا الجاهلية)، وربا البيوع (وهو بيع مال ربوي بمال ربوي من نفس الجنس مع زيادة، أو مع تأخير القبض). وقد حرمه الله تحريمًا قاطعًا وتوعد فاعله بالحرب.",reference:"القرآن الكريم، سورة البقرة: 275-279."},{id:7002,question:"ما هي شروط صحة عقد البيع؟",options:["التراضي، العاقدان، المعقود عليه، الصيغة","وجود شاهدين","الكتابة والتوثيق","أن يكون في السوق"],correctAnswer:"التراضي، العاقدان، المعقود عليه، الصيغة",shortExplanation:"لصحة البيع شروط تتعلق بأطراف العقد (العاقدان)، وبمحل العقد (المعقود عليه)، وبطريقة العقد (الصيغة)، وبالرضا بين الطرفين.",detailedExplanation:"شروط صحة البيع هي: 1. التراضي بين المتبايعين. 2. أن يكون العاقدان جائزا التصرف (بالغين، عاقلين، راشدين). 3. أن يكون المبيع مملوكًا للبائع أو مأذونًا له فيه. 4. أن يكون المبيع مقدورًا على تسليمه. 5. أن يكون المبيع والثمن معلومين. 6. أن يكون المبيع مباح النفع.",reference:"زاد المستقنع في اختصار المقنع."},{id:7003,question:"ما هو 'بيع الغرر'؟",options:["البيع بالتقسيط","البيع الذي فيه جهالة أو مخاطرة","بيع المسروق","البيع في المسجد"],correctAnswer:"البيع الذي فيه جهالة أو مخاطرة",shortExplanation:"بيع الغرر هو البيع الذي يشتمل على جهالة كبيرة في المبيع أو الثمن أو الأجل، مما قد يؤدي إلى النزاع. وهو محرم.",detailedExplanation:"نهى النبي صلى الله عليه وسلم عن بيع الغرر. ومن أمثلته: بيع السمك في الماء، أو الطير في الهواء، أو بيع الثمار قبل أن يبدو صلاحها، أو بيع سلعة لا يملكها البائع. فكل بيع فيه مخاطرة أو جهالة غير يسيرة فهو من الغرر المنهي عنه.",reference:"صحيح مسلم."},{id:7004,question:"ما حكم بيع ما لا يملك؟",options:["جائز إذا ضمنه","محرم","مكروه","جائز للتاجر الخبير"],correctAnswer:"محرم",shortExplanation:"لا يجوز للمسلم أن يبيع سلعة لا يملكها وقت العقد.",detailedExplanation:"لقول النبي صلى الله عليه وسلم لحكيم بن حزام: 'لا تبع ما ليس عندك'. وهذا شرط أساسي من شروط صحة البيع، وهو أن يكون البائع مالكًا للمبيع أو وكيلاً عن مالكه. ويستثنى من ذلك بيع السلم بشروطه.",reference:"سنن الترمذي."},{id:7005,question:"ما هو 'خيار المجلس'؟",options:["حق اختيار أفضل مكان في السوق","حق المتبايعين في فسخ العقد ما داما في مكان البيع","الاختيار بين الدفع نقدًا أو بالتقسيط","خيار التاجر في تحديد السعر"],correctAnswer:"حق المتبايعين في فسخ العقد ما داما في مكان البيع",shortExplanation:"خيار المجلس هو حق يثبت للمشتري والبائع في إمضاء العقد أو فسخه ما داما لم يتفرقا بأبدانهما عن مكان العقد.",detailedExplanation:"لقول النبي صلى الله عليه وسلم: 'البيعان بالخيار ما لم يتفرقا'. وهذا الخيار يعطي فرصة للتروي والتفكير قبل لزوم العقد. وينتهي هذا الخيار بتفرقهما أو باختيارهما إمضاء العقد.",reference:"صحيح البخاري ومسلم."},{id:7006,question:"ما هو بيع 'العينة' المحرم؟",options:["بيع عينة من المنتج قبل بيع الكمية","بيع سلعة بثمن مؤجل ثم شراؤها نقدًا بثمن أقل","بيع السلعة قبل رؤيتها","البيع بالمزاد"],correctAnswer:"بيع سلعة بثمن مؤجل ثم شراؤها نقدًا بثمن أقل",shortExplanation:"بيع العينة هو حيلة للحصول على قرض بفائدة، وهو من صور الربا المحرم.",detailedExplanation:"صورته: أن يبيع شخص سلعة على آخر بثمن مؤجل (مثلاً 1200)، ثم يشتريها البائع نفسه من المشتري في نفس المجلس بثمن حالٍّ أقل (مثلاً 1000). فتكون النتيجة أن المشتري حصل على 1000 نقدًا وسيردها 1200 مؤجلة، والسلعة مجرد حيلة، فهذا ربا.",reference:"فتاوى اللجنة الدائمة."},{id:7007,question:"ما حكم الرهن في الدين؟",options:["محرم","جائز","واجب","مكروه"],correctAnswer:"جائز",shortExplanation:"الرهن عقد جائز ومشروع، وهو توثيق للدين بعين يمكن استيفاء الدين منها عند تعذر السداد.",detailedExplanation:"الرهن جائز بالكتاب والسنة والإجماع. قال تعالى: (وَإِن كُنتُمْ عَلَىٰ سَفَرٍ وَلَمْ تَجِدُوا كَاتِبًا فَرِهَانٌ مَّقْبُوضَةٌ). وقد ثبت أن النبي صلى الله عليه وسلم مات ودرعه مرهونة عند يهودي في شعير أخذه لأهله.",reference:"القرآن الكريم، سورة البقرة: 283، وصحيح البخاري."},{id:7008,question:"ما حكم بيع التقسيط بسعر أعلى من سعر النقد؟",options:["محرم لأنه ربا","جائز إذا كان معلوماً عند العقد","مكروه","جائز في السلع الضرورية فقط"],correctAnswer:"جائز إذا كان معلوماً عند العقد",shortExplanation:"يجوز بيع السلعة بالتقسيط بسعر أعلى من سعرها النقدي، بشرط أن يتم تحديد السعر وطريقة الدفع (نقد أو تقسيط) بشكل باتٍّ عند إبرام العقد.",detailedExplanation:"هذا البيع ليس من الربا، لأن الزيادة هنا في مقابل الأجل (الزمن)، وهي زيادة في ثمن السلعة لا في أصل الدين. والمحرم هو أن يتم العقد دون تحديد السعر، كأن يقول: 'هي بالنقد بألف وبالتقسيط بألف ومائتين'، دون أن يختارا أحدهما.",reference:"فتاوى اللجنة الدائمة."},{id:7009,question:"ما هو 'بيع السلم'؟",options:["البيع بالسلام والمصافحة","بيع شيء موصوف في الذمة بثمن معجل","البيع عند باب المسجد","البيع بثمن رمزي"],correctAnswer:"بيع شيء موصوف في الذمة بثمن معجل",shortExplanation:"بيع السلم (أو السلف) هو استثناء من بيع ما لا يملك، وهو تعجيل الثمن وتأجيل المبيع الموصوف وصفًا دقيقًا.",detailedExplanation:"صورته: أن يدفع المشتري الثمن كاملاً في مجلس العقد، على أن يسلمه البائع سلعة (كالتمر أو القمح) موصوفة وصفًا يرفع الجهالة، في أجل معلوم. وقد شرع لحاجة الناس إليه، خاصة المزارعين الذين يحتاجون للمال قبل نضج الثمار.",reference:"صحيح البخاري."},{id:7010,question:"ما حكم التأمين التجاري (مثل تأمين السيارات والحياة)؟",options:["جائز","محرم لاشتماله على الغرر والقمار","مستحب","واجب"],correctAnswer:"محرم لاشتماله على الغرر والقمار",shortExplanation:"التأمين التجاري بصورته الحالية محرم شرعًا، لأنه يشتمل على الغرر (الجهالة) والميسر (القمار). والبديل الشرعي هو التأمين التعاوني.",detailedExplanation:"وجه الغرر في التأمين التجاري أن المؤمن لا يدري كم سيدفع وكم سيأخذ. ووجه القمار أنه إما أن يأخذ أكثر مما دفع (إذا وقع الحادث) أو يذهب ماله دون مقابل (إذا لم يقع الحادث). أما التأمين التعاوني فمبني على التبرع والتعاون على جبر المصائب، والفائض يعود على المشتركين، وهذا جائز.",reference:"قرارات مجمع الفقه الإسلامي."}]},{id:"family",title:"أحكام الأسرة",color:"sky",icon:"👨‍👩‍👧‍👦",questions:[{id:8001,question:"ما هي أركان عقد النكاح؟",options:["الإيجاب والقبول، الزوجان الخاليان من الموانع، الولي، الشاهدان","المهر والوليمة","الزوج والزوجة فقط","الكفاءة بين الزوجين"],correctAnswer:"الإيجاب والقبول، الزوجان الخاليان من الموانع، الولي، الشاهدان",shortExplanation:"أركان عقد النكاح التي لا يصح إلا بها هي: وجود الزوجين، وحصول الإيجاب والقبول، وموافقة الولي، وحضور الشاهدين.",detailedExplanation:"لا يصح النكاح إلا بولي وشاهدي عدل. فالولي (والد المرأة أو الأقرب فالأقرب من عصبتها) هو الذي يزوجها. والإيجاب هو قوله 'زوجتك ابنتي'، والقبول هو قول الزوج 'قبلت'. والشهادة شرط لتوثيق العقد وإعلانه.",reference:"حديث: 'لا نكاح إلا بولي وشاهدي عدل'."},{id:8002,question:"من هن النساء المحرمات على الرجل تحريمًا مؤبدًا؟",options:["بنات العم وبنات الخال","الأصول والفروع والحواشي","زوجة الأخ وأخت الزوجة","المطلقة ثلاثًا"],correctAnswer:"الأصول والفروع والحواشي",shortExplanation:"المحرمات تحريمًا أبديًا هن المحرمات بالنسب (كالأم والبنت والأخت)، والمحرمات بالرضاع، والمحرمات بالمصاهرة (كزوجة الأب وزوجة الابن).",detailedExplanation:"فصلت سورة النساء المحرمات: (حُرِّمَتْ عَلَيْكُمْ أُمَّهَاتُكُمْ وَبَنَاتُكُمْ وَأَخَوَاتُكُمْ...). فالأصول هن الأمهات والجدات، والفروع هن البنات والحفيدات، والحواشي هن الأخوات والعمات والخالات وبنات الأخ وبنات الأخت. ويحرم من الرضاع ما يحرم من النسب.",reference:"القرآن الكريم، سورة النساء: 23."},{id:8003,question:"ما حكم 'نكاح الشغار'؟",options:["جائز","مكروه","محرم وباطل","جائز للضرورة"],correctAnswer:"محرم وباطل",shortExplanation:"نكاح الشغار هو أن يزوج الرجل موليته (ابنته أو أخته) لرجل آخر، على أن يزوجه الآخر موليته، وليس بينهما مهر. وهو نكاح باطل.",detailedExplanation:"نهى النبي صلى الله عليه وسلم عن الشغار. وفسره ابن عمر بأنه جعل بضع كل واحدة منهما صداقًا للأخرى. وسبب التحريم هو خلوه من المهر الذي هو حق للمرأة، وجعل المرأة كأنها سلعة للمبادلة.",reference:"صحيح البخاري ومسلم."},{id:8004,question:"ما هو 'الطلاق الرجعي'؟",options:["الطلاق قبل الدخول","الطلاق الذي لا يمكن الرجوع فيه","الطلقة الأولى والثانية ما دامت الزوجة في العدة","الطلقة الثالثة"],correctAnswer:"الطلقة الأولى والثانية ما دامت الزوجة في العدة",shortExplanation:"الطلاق الرجعي هو الذي يوقعه الزوج على زوجته المدخول بها لأول أو ثاني مرة، ويحق له مراجعتها خلال فترة العدة دون عقد جديد.",detailedExplanation:"في الطلاق الرجعي، تبقى الزوجة في حكم الزوجات، فلها النفقة والسكنى، ويرث كل منهما الآخر لو مات في العدة. ويملك الزوج مراجعتها بالقول (كقوله: راجعتك) أو بالفعل (كالوطء) ما لم تنقض عدتها.",reference:"القرآن الكريم، سورة البقرة: 228."},{id:8005,question:"ما هي 'العدة' للمرأة المطلقة التي تحيض؟",options:["شهر واحد","ثلاث حيضات كاملة","أربعة أشهر وعشرة أيام","سنة كاملة"],correctAnswer:"ثلاث حيضات كاملة",shortExplanation:"عدة المطلقة المدخول بها من ذوات الحيض هي ثلاث حيضات كاملة.",detailedExplanation:"قال تعالى: (وَالْمُطَلَّقَاتُ يَتَرَبَّصْنَ بِأَنفُسِهِنَّ ثَلَاثَةَ قُرُوءٍ). والقرء يطلق على الحيض والطهر، والراجح أنه الحيض. فبمجرد أن تبدأ في الحيضة الثالثة وتغتسل منها، تنقضي عدتها.",reference:"القرآن الكريم، سورة البقرة: 228."},{id:8006,question:"ما هي عدة المرأة المتوفى عنها زوجها؟",options:["ثلاث حيضات","ستة أشهر","سنة كاملة","أربعة أشهر وعشرة أيام"],correctAnswer:"أربعة أشهر وعشرة أيام",shortExplanation:"عدة المتوفى عنها زوجها هي أربعة أشهر وعشرة أيام، سواء كانت مدخولاً بها أم لا، حائضًا أم لا، إلا إذا كانت حاملاً.",detailedExplanation:"لقوله تعالى: (وَالَّذِينَ يُتَوَفَّوْنَ مِنكُمْ وَيَذَرُونَ أَزْوَاجًا يَتَرَبَّصْنَ بِأَنفُسِهِنَّ أَرْبَعَةَ أَشْهُرٍ وَعَشْرًا). أما إذا كانت حاملاً، فعدتها تنتهي بوضع حملها، ولو كان بعد وفاة زوجها بساعة.",reference:"القرآن الكريم، سورة البقرة: 234."},{id:8007,question:"ما هو 'الخلع'؟",options:["نوع من الطلاق يوقعه القاضي","أن تفارق الزوجة زوجها مقابل عوض مالي تدفعه له","فسخ النكاح بسبب عيب","الطلاق قبل الدخول"],correctAnswer:"أن تفارق الزوجة زوجها مقابل عوض مالي تدفعه له",shortExplanation:"الخلع هو فراق الزوج لزوجته بلفظ معين مقابل عوض (مال) تأخذه منه. وهو طلاق بائن.",detailedExplanation:"إذا كرهت المرأة زوجها وخشيت ألا تؤدي حقه، فيجوز لها أن تطلب منه الفراق مقابل أن ترد عليه المهر الذي دفعه لها أو أقل أو أكثر حسب الاتفاق. ودليله قصة امرأة ثابت بن قيس التي جاءت للنبي تطلب فراق زوجها، فأمره أن يقبل حديقته (مهره) ويطلقها.",reference:"صحيح البخاري."},{id:8008,question:"ما حكم تعدد الزوجات في الإسلام؟",options:["محرم","مباح بشروط العدل والقدرة","واجب","مكروه"],correctAnswer:"مباح بشروط العدل والقدرة",shortExplanation:"أباح الإسلام للرجل أن يتزوج بأكثر من واحدة حتى أربع، بشرط أن يثق من نفسه في العدل بينهن في النفقة والمبيت، وأن يكون قادرًا على الإنفاق عليهن.",detailedExplanation:"قال تعالى: (فَانكِحُوا مَا طَابَ لَكُم مِّنَ النِّسَاءِ مَثْنَىٰ وَثُلَاثَ وَرُبَاعَ ۖ فَإِنْ خِفْتُمْ أَلَّا تَعْدِلُوا فَوَاحِدَةً). فالعدل شرط أساسي في إباحة التعدد، ومن لم يستطعه حرم عليه الزواج بأكثر من واحدة.",reference:"القرآن الكريم، سورة النساء: 3."},{id:8009,question:"من هم 'أصحاب الفروض' في الميراث؟",options:["كل الورثة","الورثة الذين لهم نصيب مقدر شرعًا في القرآن أو السنة","الورثة الذكور فقط","الأبناء والآباء فقط"],correctAnswer:"الورثة الذين لهم نصيب مقدر شرعًا في القرآن أو السنة",shortExplanation:"أصحاب الفروض هم ورثة حُددت لهم أنصبة ثابتة في التركة، كالنصف والربع والثمن والثلثين والثلث والسدس.",detailedExplanation:"أصحاب الفروض هم: الزوج، الزوجة، الأب، الأم، الجد، الجدة، البنات، بنات الابن، الأخوات الشقيقات، الأخوات لأب، الإخوة لأم. لكل واحد من هؤلاء نصيب مقدر في حالات معينة، ويبدأ بهم في تقسيم التركة.",reference:"علم الفرائض والمواريث."},{id:8010,question:"ما هي 'الحضانة' ولمن تكون الأولوية فيها؟",options:["الرضاعة، وللأب","تربية الطفل، وللأم","النفقة، وللأب","التعليم، وللجد"],correctAnswer:"تربية الطفل، وللأم",shortExplanation:"الحضانة هي حفظ الطفل وتربيته ورعايته. والأم هي الأحق بحضانة طفلها الصغير ما لم تتزوج.",detailedExplanation:"إذا حصل فراق بين الزوجين، فالأم هي الأولى بحضانة أولادها الصغار ما لم يكن بها مانع أو تتزوج. لقول النبي صلى الله عليه وسلم للمرأة التي جاءت تشكو زوجها الذي أراد أخذ ابنها: 'أنت أحق به ما لم تنكحي'.",reference:"سنن أبي داود."}]},{id:"foods_oaths",title:"الأطعمة والأيمان",color:"green",icon:"🍽️",questions:[{id:9001,question:"ما هو الأصل في الأطعمة والأشربة؟",options:["الحرمة إلا ما ورد حله","الإباحة إلا ما ورد تحريمه","الكراهة","التوقف"],correctAnswer:"الإباحة إلا ما ورد تحريمه",shortExplanation:"القاعدة الفقهية أن الأصل في جميع الأطعمة والأشربة الحل والإباحة، ولا يحرم منها إلا ما جاء النص بتحريمه.",detailedExplanation:"لقوله تعالى: (هُوَ الَّذِي خَلَقَ لَكُم مَّا فِي الْأَرْضِ جَمِيعًا). فكل ما في الأرض من أطعمة وأشربة حلال لنا، إلا ما استثناه الشارع بالنص، كالخمر والميتة ولحم الخنزير والسباع وغيرها.",reference:"القرآن الكريم، سورة البقرة: 29."},{id:9002,question:"ما هي شروط الذكاة الشرعية للحيوان؟",options:["أن يكون الذابح مسلمًا أو كتابيًا، التسمية، قطع الحلقوم والمريء والودجين","قطع الرأس","استقبال القبلة فقط","أن يكون الحيوان سمينًا"],correctAnswer:"أن يكون الذابح مسلمًا أو كتابيًا، التسمية، قطع الحلقوم والمريء والودجين",shortExplanation:"لحل أكل الحيوان البري، لا بد من تذكيته بشروط: أهلية الذابح، واستخدام آلة حادة، والتسمية، وقطع ما يجب قطعه.",detailedExplanation:"شروط الذكاة هي: 1. أن يكون الذابح مسلمًا أو كتابيًا (يهودي أو نصراني). 2. أن تكون الآلة حادة تقطع وتُنهر الدم. 3. أن يقول 'بسم الله' عند الذبح. 4. أن يقطع الحلقوم (مجرى النفس) والمريء (مجرى الطعام) وأحد الودجين أو كليهما (العرقان المحيطان بالعنق).",reference:"فقه السنة لسيد سابق."},{id:9003,question:"ما حكم أكل لحوم السباع التي لها ناب؟",options:["حلال","مكروه","حرام","جائز للضرورة"],correctAnswer:"حرام",shortExplanation:"حرم النبي صلى الله عليه وسلم أكل كل ذي ناب من السباع، وكل ذي مخلب من الطير.",detailedExplanation:"السباع التي لها ناب تفترس به (كالأسد والنمر والذئب والكلب) محرم أكلها. وكذلك الطيور التي لها مخلب تصطاد به (كالصقر والنسر والبازي) محرم أكلها. وهذا مذهب جمهور العلماء.",reference:"صحيح مسلم."},{id:9004,question:"هل يحل أكل جميع حيوانات البحر؟",options:["نعم، كلها حلال","لا، يحل السمك فقط","لا، يحرم ما كان مفترسًا","لا، يحرم ما ليس له قشر"],correctAnswer:"نعم، كلها حلال",shortExplanation:"الأصل أن جميع ما في البحر من حيوانات حلال أكله، سواء كان سمكًا أو غيره.",detailedExplanation:"لقول النبي صلى الله عليه وسلم عن البحر: 'هو الطهور ماؤه، الحل ميتته'. فميتة البحر حلال، ويشمل ذلك جميع أنواع الكائنات البحرية، إلا ما كان فيه ضرر أو كان سامًا.",reference:"سنن أبي داود والترمذي."},{id:9005,question:"ما هي 'اليمين الغموس'؟",options:["اليمين على فعل في المستقبل","اليمين الكاذبة على أمر ماضٍ عمدًا","اليمين التي لا يقصدها الحالف","يمين الاستثناء"],correctAnswer:"اليمين الكاذبة على أمر ماضٍ عمدًا",shortExplanation:"اليمين الغموس هي التي تغمس صاحبها في الإثم ثم في النار، وهي الحلف كذبًا على أمر في الماضي لاقتطاع حق أو مال.",detailedExplanation:"اليمين الغموس من أكبر الكبائر، ولا كفارة لها عند جمهور العلماء إلا التوبة الصادقة ورد الحقوق إلى أهلها، لعظم إثمها. مثالها: أن يحلف شخص أنه لم يأخذ مال فلان، وهو يعلم أنه أخذه.",reference:"صحيح البخاري."},{id:9006,question:"ما هي كفارة اليمين المنعقدة إذا حنث فيها؟",options:["صيام ثلاثة أيام فقط","إطعام عشرة مساكين أو كسوتهم أو تحرير رقبة، فإن لم يجد فصيام ثلاثة أيام","الاستغفار والتوبة","التصدق بمال"],correctAnswer:"إطعام عشرة مساكين أو كسوتهم أو تحرير رقبة، فإن لم يجد فصيام ثلاثة أيام",shortExplanation:"كفارة اليمين تكون على التخيير بين ثلاثة أمور، فإن عجز عنها انتقل إلى الصيام.",detailedExplanation:"قال تعالى: (فَكَفَّارَتُهُ إِطْعَامُ عَشَرَةِ مَسَاكِينَ مِنْ أَوْسَطِ مَا تُطْعِمُونَ أَهْلِيكُمْ أَوْ كِسْوَتُهُمْ أَوْ تَحْرِيرُ رَقَبَةٍ ۖ فَمَن لَّمْ يَجِدْ فَصِيَامُ ثَلَاثَةِ أَيَّامٍ). فالحانث مخير بين الإطعام أو الكسوة أو العتق، فإن لم يستطع أيًا منها، صام ثلاثة أيام.",reference:"القرآن الكريم، سورة المائدة: 89."},{id:9007,question:"ما حكم لبس الذهب والحرير للرجال؟",options:["جائز","مكروه","حرام","جائز في المناسبات"],correctAnswer:"حرام",shortExplanation:"يحرم على الرجال لبس الذهب ولبس الحرير الخالص، وهما حلال للنساء.",detailedExplanation:"لقول النبي صلى الله عليه وسلم، وقد أخذ حريرًا فجعله في يمينه، وذهبًا فجعله في شماله، ثم قال: 'إن هذين حرام على ذكور أمتي، حل لإناثهم'. ويستثنى من ذلك ما كان للضرورة كالحكة، أو اليسير جدًا كالزر أو الخيط.",reference:"سنن أبي داود."},{id:9008,question:"ما هو 'النذر' وما حكم الوفاء به؟",options:["دعاء، ويستحب فعله","عهد، والوفاء به مكروه","إلزام النفس بطاعة لم تكن واجبة، والوفاء به واجب","وعد، والوفاء به سنة"],correctAnswer:"إلزام النفس بطاعة لم تكن واجبة، والوفاء به واجب",shortExplanation:"النذر هو أن يلزم المكلف نفسه بقربة (طاعة) غير واجبة عليه. والوفاء بنذر الطاعة واجب.",detailedExplanation:"مدح الله الموفين بالنذر فقال: (يُوفُونَ بِالنَّذْرِ وَيَخَافُونَ يَوْمًا كَانَ شَرُّهُ مُسْتَطِيرًا). فإذا نذر شخص طاعة كصيام أو صدقة، وجب عليه الوفاء بها. أما نذر المعصية فيحرم الوفاء به. ويبدأ الإنسان بالنذر مكروه، لأنه إلزام للنفس بما لم يلزمها الله به.",reference:"القرآن الكريم، سورة الإنسان: 7."},{id:9009,question:"ما هي آداب الطعام في الإسلام؟",options:["الأكل باليسار","الأكل من وسط الطبق","التسمية في أوله والأكل باليمين والأكل مما يلي الإنسان","الكلام أثناء الأكل"],correctAnswer:"التسمية في أوله والأكل باليمين والأكل مما يلي الإنسان",shortExplanation:"من أهم آداب الطعام التسمية، والأكل باليد اليمنى، والأكل من الجزء الذي أمامك من الطبق.",detailedExplanation:"لقول النبي صلى الله عليه وسلم لعمر بن أبي سلمة: 'يا غلام، سم الله، وكل بيمينك، وكل مما يليك'. ومن الآداب أيضًا: تصغير اللقمة، وإجادة المضغ، وعدم عيب الطعام، وحمد الله بعد الفراغ منه.",reference:"صحيح البخاري ومسلم."},{id:9010,question:"ما حكم حلق اللحية للرجل؟",options:["جائز","مكروه","سنة","محرم"],correctAnswer:"محرم",shortExplanation:"حلق اللحية محرم عند جمهور العلماء، ويجب إعفاؤها وتوفيرها.",detailedExplanation:"لقول النبي صلى الله عليه وسلم: 'خالفوا المشركين: وفروا اللحى، وأحفوا الشوارب'. والأمر هنا للوجوب، فيكون الحلق محرمًا. وهذا هو مذهب الأئمة الأربعة.",reference:"صحيح البخاري ومسلم."}]},{id:"inheritance",title:"الميراث",color:"slate",icon:"📊",questions:[{id:10001,question:"ما هي أول خطوة يجب القيام بها من تركة المتوفى؟",options:["تقسيم الميراث","تنفيذ الوصية","تجهيز الميت ودفنه","سداد الديون"],correctAnswer:"تجهيز الميت ودفنه",shortExplanation:"الحقوق المتعلقة بالتركة تبدأ بتكاليف تجهيز الميت ودفنه بالمعروف، ثم سداد ديونه، ثم تنفيذ وصاياه، ثم تقسيم الباقي على الورثة.",detailedExplanation:"أجمع الفقهاء على أن الحقوق المتعلقة بالتركة لها ترتيب. أولاً: مؤن التجهيز والدفن. ثانيًا: قضاء ديون المتوفى. ثالثًا: تنفيذ وصاياه في حدود ثلث ما تبقى. رابعًا: توزيع بقية التركة على الورثة حسب أنصبتهم الشرعية.",reference:"الإجماع الفقهي، كتب علم الفرائض."},{id:10002,question:"أي مما يلي يعتبر من موانع الإرث؟",options:["الفقر","صغر السن","القتل","العيش في بلد آخر"],correctAnswer:"القتل",shortExplanation:"من موانع الإرث المتفق عليها القتل، فلا يرث القاتل من المقتول.",detailedExplanation:"موانع الإرث هي أوصاف تمنع الشخص من الميراث. وأهمها ثلاثة: 1. القتل: لقول النبي صلى الله عليه وسلم 'القاتل لا يرث'. 2. اختلاف الدين: فلا يرث المسلم من الكافر ولا الكافر من المسلم. 3. الرق (في السياق التاريخي).",reference:"سنن الترمذي، حديث 'القاتل لا يرث'."},{id:10003,question:"توفي رجل عن زوجة وابن، ما نصيب الزوجة؟",options:["النصف (1/2)","الربع (1/4)","الثمن (1/8)","السدس (1/6)"],correctAnswer:"الثمن (1/8)",shortExplanation:"نصيب الزوجة هو الثمن في حال وجود فرع وارث (ابن أو بنت) للزوج.",detailedExplanation:"قال تعالى في سورة النساء: (فَإِن كَانَ لَكُمْ وَلَدٌ فَلَهُنَّ الثُّمُنُ مِمَّا تَرَكْتُم). والولد هنا يشمل الابن والبنت وابن الابن وبنت الابن وإن نزلوا. والباقي يأخذه الابن تعصيبًا.",reference:"القرآن الكريم، سورة النساء: 12."},{id:10004,question:"من هم 'العصبة بالنفس'؟",options:["الورثة الإناث فقط","الورثة الذين لهم فرض مقدر","كل ذكر لا تدخل في نسبته إلى الميت أنثى","الأخوال والأعمام"],correctAnswer:"كل ذكر لا تدخل في نسبته إلى الميت أنثى",shortExplanation:"العصبة بالنفس هم ورثة ذكور يرثون ما تبقى بعد أصحاب الفروض، أو كل التركة عند عدم وجودهم. أقواهم الابن ثم الأب.",detailedExplanation:"العصبة بالنفس لهم جهات مرتبة: 1. البنوة (الابن وابن الابن). 2. الأبوة (الأب والجد). 3. الأخوة (الأخ الشقيق ثم لأب وأبناؤهم). 4. العمومة (العم الشقيق ثم لأب وأبناؤهم). ويقدم الأقرب جهة، ثم الأقرب درجة، ثم الأقوى قرابة.",reference:"حديث: 'ألحقوا الفرائض بأهلها، فما بقي فهو لأولى رجل ذكر' (صحيح البخاري)."},{id:10005,question:"توفيت امرأة عن زوج وبنت، ما نصيب الزوج؟",options:["النصف (1/2)","الربع (1/4)","الثمن (1/8)","السدس (1/6)"],correctAnswer:"الربع (1/4)",shortExplanation:"نصيب الزوج هو الربع في حال وجود فرع وارث للزوجة.",detailedExplanation:"قال تعالى في سورة النساء: (وَلَكُمْ نِصْفُ مَا تَرَكَ أَزْوَاجُكُمْ إِن لَّمْ يَكُن لَّهُنَّ وَلَدٌ ۚ فَإِن كَانَ لَهُنَّ وَلَدٌ فَلَكُمُ الرُّبُعُ مِمَّا تَرَكْنَ). في هذه المسألة تأخذ البنت النصف فرضًا، والزوج الربع فرضًا، والباقي يرد عليهما.",reference:"القرآن الكريم، سورة النساء: 12."},{id:10006,question:"توفي رجل عن بنتين وأم وأب، ما نصيب البنتين؟",options:["النصف (1/2)","الثلثان (2/3)","الثلث (1/3)","لهما الباقي"],correctAnswer:"الثلثان (2/3)",shortExplanation:"نصيب البنتين فأكثر هو الثلثان، بشرط عدم وجود ابن (معصب).",detailedExplanation:"لقوله تعالى: (فَإِن كُنَّ نِسَاءً فَوْقَ اثْنَتَيْنِ فَلَهُنَّ ثُلُثَا مَا تَرَكَ). وفي هذه المسألة: للبنتين الثلثان، وللأم السدس لوجود الفرع الوارث، وللأب السدس فرضًا والباقي تعصيبًا.",reference:"القرآن الكريم، سورة النساء: 11."},{id:10007,question:"ما هو 'الحجب' في الميراث؟",options:["إخفاء جزء من التركة","منع وارث من الإرث لوجود من هو أقرب منه","كتابة وصية لأحد الورثة","تأخير قسمة التركة"],correctAnswer:"منع وارث من الإرث لوجود من هو أقرب منه",shortExplanation:"الحجب هو منع شخص معين من الميراث إما كليًا (حجب حرمان) أو جزئيًا (حجب نقصان) بسبب وجود وارث آخر أقرب منه درجة.",detailedExplanation:"مثال حجب الحرمان: الابن يحجب الأخ من الميراث تمامًا. مثال حجب النقصان: الابن يحجب الأم من الثلث إلى السدس، ويحجب الزوج من النصف إلى الربع. وهناك ورثة لا يحجبون حجب حرمان أبدًا وهم: الابن، والبنت، والأب، والأم، والزوج، والزوجة.",reference:"متن الرحبية في علم الفرائض."},{id:10008,question:"ما مقدار الوصية الجائزة شرعًا؟",options:["النصف","الربع","الثلث فأقل","أي مقدار يراه الموصي"],correctAnswer:"الثلث فأقل",shortExplanation:"تصح الوصية لغير وارث في حدود ثلث التركة، وما زاد عن الثلث يتوقف على إجازة الورثة.",detailedExplanation:"لقول النبي صلى الله عليه وسلم لسعد بن أبي وقاص حين أراد أن يوصي بأكثر من الثلث: 'الثلث، والثلث كثير أو كبير'. ولا تجوز الوصية لوارث إلا إذا أجازها بقية الورثة، لقوله صلى الله عليه وسلم: 'إن الله قد أعطى كل ذي حق حقه، فلا وصية لوارث'.",reference:"صحيح البخاري، وسنن أبي داود."},{id:10009,question:"توفي رجل عن أم وأب فقط، كيف تقسم التركة؟",options:["للأم الثلث والباقي للأب","للأم السدس والباقي للأب","مناصفة بينهما","للأب كل التركة"],correctAnswer:"للأم الثلث والباقي للأب",shortExplanation:"في هذه الحالة، تأخذ الأم ثلث التركة فرضًا، ويأخذ الأب الباقي (الثلثين) تعصيبًا.",detailedExplanation:"هذه المسألة هي إحدى المسألتين العمريتين (الغراوين). تأخذ الأم الثلث لقوله تعالى: (فَإِن لَّمْ يَكُن لَّهُ وَلَدٌ وَوَرِثَهُ أَبَوَاهُ فَلِأُمِّهِ الثُّلُثُ). والأب يأخذ الباقي لأنه أولى رجل ذكر. فتكون القسمة بنسبة 1 للأم و 2 للأب.",reference:"القرآن الكريم، سورة النساء: 11."},{id:10010,question:"ما هو 'الرد' في الميراث؟",options:["رد التركة إلى بيت المال","رد جزء من الميراث للدولة","إعادة توزيع ما بقي من التركة على أصحاب الفروض","رفض الورثة قبول نصيبهم"],correctAnswer:"إعادة توزيع ما بقي من التركة على أصحاب الفروض",shortExplanation:"الرد هو عكس العول، وهو أن يزيد في أنصبة أصحاب الفروض بنسبة فروضهم إذا بقي شيء من التركة ولم يوجد عاصب.",detailedExplanation:"مثال: توفيت امرأة عن أم (لها السدس) وبنت (لها النصف). مجموع الفروض (1/6 + 1/2 = 4/6 = 2/3). يبقى ثلث التركة لا يوجد عاصب ليأخذه. فيرد هذا الثلث الباقي على الأم والبنت بنسبة فرضيهما. ولا يرد على الزوجين.",reference:"مذاهب الأئمة الأربعة."},{id:10011,question:"ما نصيب الأخوة لأم (إخوة الميت من أمه فقط)؟",options:["لا يرثون أبدًا","للواحد السدس، وللاثنين فأكثر الثلث","يرثون الباقي دائمًا","يرثون مثل نصيب الأخ الشقيق"],correctAnswer:"للواحد السدس، وللاثنين فأكثر الثلث",shortExplanation:"الإخوة لأم يرثون بالفرض، فيأخذ الواحد منهم السدس، وإن كانوا اثنين فأكثر فإنهم يشتركون في الثلث بالتساوي بين ذكورهم وإناثهم.",detailedExplanation:"يرث الإخوة لأم بشرطين: 1. عدم وجود فرع وارث (ابن أو بنت). 2. عدم وجود أصل ذكر وارث (أب أو جد). وهم حالة فريدة حيث يتساوى ذكرهم وأنثاهم في الميراث. قال تعالى: (وَإِن كَانَ رَجُلٌ يُورَثُ كَلَالَةً أَوِ امْرَأَةٌ وَلَهُ أَخٌ أَوْ أُخْتٌ فَلِكُلِّ وَاحِدٍ مِّنْهُمَا السُّدُسُ ۚ فَإِن كَانُوا أَكْثَرَ مِن ذَٰلِكَ فَهُمْ شُرَكَاءُ فِي الثُّلُثِ).",reference:"القرآن الكريم، سورة النساء: 12."},{id:10012,question:"من الذي يرث بالتعصيب مع الغير؟",options:["الأب مع الابن","الأخت الشقيقة مع البنت","الزوج مع الابن","العم مع الأخ"],correctAnswer:"الأخت الشقيقة مع البنت",shortExplanation:"الأخوات الشقائق أو لأب يصبحن عصبة مع البنات أو بنات الابن، فيأخذن ما تبقى بعد فروضهن.",detailedExplanation:"هذه قاعدة في الميراث تسمى 'اجعلوا الأخوات مع البنات عصبة'. فإذا وجد في المسألة بنت (أو بنات) وأخت (أو أخوات)، تأخذ البنت (أو البنات) فرضها، ثم تأخذ الأخت (أو الأخوات) الباقي تعصيبًا، وتسمى هذه الحالة 'عصبة مع الغير'.",reference:"قضاء ابن مسعود الذي أقره النبي، وهو مذهب الجمهور."},{id:10013,question:"ما هو 'العول' في مسائل الميراث؟",options:["زيادة في أنصبة الورثة عن أصل المسألة (مجموع السهام أكبر من المقام)","نقص في أنصبة الورثة","وجود وارث مفقود","وجود حمل في بطن الأم"],correctAnswer:"زيادة في أنصبة الورثة عن أصل المسألة (مجموع السهام أكبر من المقام)",shortExplanation:"العول هو أن يكون مجموع فروض الورثة أكبر من الواحد الصحيح، فيدخل النقص على كل الورثة بنسبة فرض كل واحد منهم.",detailedExplanation:"مثال: توفيت امرأة عن زوج (له النصف 1/2) وأختين شقيقتين (لهما الثلثان 2/3). مجموع الفروض هنا (1/2 + 2/3 = 3/6 + 4/6 = 7/6)، وهو أكبر من التركة. في هذه الحالة، يعال أصل المسألة من 6 إلى 7، فيأخذ الزوج 3/7 بدل 3/6، وتأخذ الأختان 4/7 بدل 4/6، وبهذا يوزع النقص على الجميع.",reference:"قضاء عمر بن الخطاب الذي أجمع عليه الصحابة."},{id:10014,question:"هل يرث ابن الابن مع وجود الابن؟",options:["نعم، يرث معه","لا يرث، لأنه محجوب بالابن","يرث السدس","يرث مثل نصيب البنت"],correctAnswer:"لا يرث، لأنه محجوب بالابن",shortExplanation:"ابن الابن لا يرث إذا وجد ابن مباشر للمتوفى، لأن الابن أقرب درجة فيحجبه حجب حرمان.",detailedExplanation:"قاعدة الحجب في الميراث هي 'الأقرب يحجب الأبعد'. فالابن هو أقرب عصبة للميت، وابن الابن أبعد منه درجة، لذلك فإن وجود الابن يمنع ابن الابن من الميراث تمامًا. أما إذا لم يوجد ابن، فإن ابن الابن يقوم مقامه.",reference:"الإجماع الفقهي."},{id:10015,question:"ما هو ميراث الجد الصحيح (أبو الأب)؟",options:["لا يرث أبدًا","يرث السدس دائمًا","يقوم مقام الأب عند عدم وجوده","يرث مثل الأخ"],correctAnswer:"يقوم مقام الأب عند عدم وجوده",shortExplanation:"الجد الصحيح (أبو الأب وإن علا) يرث ميراث الأب في جميع أحواله بشرط عدم وجود الأب.",detailedExplanation:"إذا لم يوجد الأب، فإن الجد يأخذ نصيبه. فيأخذ السدس مع الفرع الوارث المذكر، ويأخذ السدس + الباقي تعصيبًا مع الفرع الوارث المؤنث، ويأخذ كل المال تعصيبًا عند عدم وجود فرع وارث. لكنه يختلف عن الأب في مسألة واحدة وهي أنه لا يحجب الإخوة حجب حرمان بل يقاسمهم على القول الراجح.",reference:"مذاهب الأئمة الأربعة."}]}],Fy={blue:{bg:"bg-blue-500",text:"text-blue-500",ring:"ring-blue-500",bgHover:"hover:bg-blue-600",lightBg:"bg-blue-500/10",lightText:"text-blue-600 dark:text-blue-400"},green:{bg:"bg-green-500",text:"text-green-500",ring:"ring-green-500",bgHover:"hover:bg-green-600",lightBg:"bg-green-500/10",lightText:"text-green-600 dark:text-green-400"},amber:{bg:"bg-amber-500",text:"text-amber-500",ring:"ring-amber-500",bgHover:"hover:bg-amber-600",lightBg:"bg-amber-500/10",lightText:"text-amber-600 dark:text-amber-400"},sky:{bg:"bg-sky-500",text:"text-sky-500",ring:"ring-sky-500",bgHover:"hover:bg-sky-600",lightBg:"bg-sky-500/10",lightText:"text-sky-600 dark:text-sky-400"},slate:{bg:"bg-slate-500",text:"text-slate-500",ring:"ring-slate-500",bgHover:"hover:bg-slate-600",lightBg:"bg-slate-500/10",lightText:"text-slate-600 dark:text-slate-400"}},Xm=({questions:t,progress:e,updateProgress:n,title:o,themeColor:i})=>{const[l,r]=A.useState(null),[u,c]=A.useState(null),[d,m]=A.useState(!1),[p,h]=A.useState(!1),g=Fy[i];A.useEffect(()=>{if(d)return;const E=t.filter(x=>!e.answeredQuestionIds.includes(x.id));E.length>0?r(E[Math.floor(Math.random()*E.length)]):r(null)},[t,e.answeredQuestionIds,d]);const v=()=>{if(!u||!l)return;m(!0);const E=u===l.correctAnswer;n(E,l.id)},C=()=>{c(null),m(!1),h(!1)};return l?f.jsxs("div",{className:"bg-card p-6 rounded-xl shadow-xl",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h3",{className:`text-lg font-bold ${g.lightText}`,children:o}),f.jsxs("div",{className:"text-sm font-mono bg-background px-3 py-1 rounded-md",children:[f.jsx("span",{className:`font-bold ${g.text}`,children:e.correctAnswers})," إجابات صحيحة"]})]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("p",{className:"text-sm text-text-secondary mb-2",children:"سؤال جديد"}),f.jsx("h2",{className:"text-xl font-semibold text-text-primary leading-relaxed",children:l.question})]}),f.jsx("div",{className:"space-y-3 mb-6",children:l.options.map((E,x)=>{const y=E===l.correctAnswer,T=E===u;let S="bg-background hover:bg-border-color";return d?y?S="bg-green-500/20 text-green-700 dark:text-green-400 border-2 border-green-500":T&&(S="bg-red-500/20 text-red-700 dark:text-red-400 border-2 border-red-500"):T&&(S=`${g.lightBg} ring-2 ${g.ring}`),f.jsx("button",{onClick:()=>!d&&c(E),disabled:d,className:`w-full text-right p-4 rounded-lg text-text-primary transition-all duration-200 ${S}`,children:E},x)})}),d&&f.jsxs("div",{className:"bg-background p-4 rounded-lg mb-6 animate-fade-in",children:[f.jsx("p",{className:"text-sm font-semibold text-primary mb-1",children:"توضيح:"}),f.jsx("p",{className:"text-text-secondary whitespace-pre-wrap leading-relaxed",children:p?l.detailedExplanation:l.shortExplanation}),f.jsx("div",{className:"text-left mt-2",children:f.jsx("button",{onClick:()=>h(!p),className:"text-xs font-semibold text-primary hover:underline",children:p?"عرض الشرح المختصر":"عرض الشرح المفصل"})}),f.jsxs("p",{className:"text-xs text-text-secondary mt-3 pt-2 border-t border-border-color",children:[f.jsx("span",{className:"font-semibold",children:"المصدر:"})," ",l.reference]})]}),f.jsx("div",{className:"text-center",children:d?f.jsx("button",{onClick:C,className:`w-full text-white font-bold py-3 px-4 rounded-md ${g.bg} ${g.bgHover}`,children:"السؤال التالي"}):f.jsx("button",{onClick:v,disabled:!u,className:`w-full text-white font-bold py-3 px-4 rounded-md ${g.bg} ${g.bgHover} disabled:opacity-50`,children:"تأكيد الإجابة"})})]}):f.jsxs("div",{className:"bg-card p-8 rounded-lg shadow-xl text-center",children:[f.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"مبارك!"}),f.jsx("p",{className:"text-text-primary text-lg mb-2",children:"لقد أتممت جميع الأسئلة في هذا القسم."})]})},vw=()=>{const[t,e]=A.useState("home"),[n,o]=A.useState(null),[i,l]=A.useState(()=>{const h=typeof window<"u"?localStorage.getItem("generalQuizProgress"):null;return h?JSON.parse(h):{correctAnswers:0,answeredQuestionIds:[]}}),[r,u]=A.useState(()=>{const h=typeof window<"u"?localStorage.getItem("fiqhQuizProgress"):null;return h?JSON.parse(h):{}});A.useEffect(()=>{localStorage.setItem("generalQuizProgress",JSON.stringify(i))},[i]),A.useEffect(()=>{localStorage.setItem("fiqhQuizProgress",JSON.stringify(r))},[r]);const c=A.useCallback((h,g)=>{l(v=>({correctAnswers:v.correctAnswers+(h?1:0),answeredQuestionIds:[...v.answeredQuestionIds,g]}))},[]),d=A.useCallback((h,g)=>{if(!n)return;const v=n.id;u(C=>{const E=C[v]||{correctAnswers:0,answeredQuestionIds:[]};return{...C,[v]:{correctAnswers:E.correctAnswers+(h?1:0),answeredQuestionIds:[...E.answeredQuestionIds,g]}}})},[n]),m=A.useMemo(()=>{const h=Ll.reduce((E,x)=>E+x.questions.length,0),g=Object.values(r).reduce((E,x)=>E+x.correctAnswers,0),v=Ll.filter(E=>{var x;return((x=r[E.id])==null?void 0:x.answeredQuestionIds.length)===E.questions.length}).length;return{overallProgress:h>0?Math.round(g/h*100):0,completedSections:v}},[r]),p=()=>{switch(t){case"general":return f.jsxs(f.Fragment,{children:[f.jsxs("button",{onClick:()=>e("home"),className:"flex items-center gap-2 text-text-secondary hover:text-text-primary mb-4",children:[f.jsx(He,{className:"w-5 h-5"}),f.jsx("span",{children:"العودة"})]}),f.jsx(Xm,{questions:xw,progress:i,updateProgress:c,title:"أسئلة إسلامية عامة",themeColor:"blue"})]});case"fiqh_topics":return f.jsxs(f.Fragment,{children:[f.jsxs("button",{onClick:()=>e("home"),className:"flex items-center gap-2 text-text-secondary hover:text-text-primary mb-4",children:[f.jsx(He,{className:"w-5 h-5"}),f.jsx("span",{children:"العودة"})]}),f.jsxs("div",{className:"bg-card p-4 rounded-lg shadow-md mb-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-3 text-center",children:"تقدمك في الفقه"}),f.jsxs("div",{className:"flex justify-around items-center",children:[f.jsxs("div",{className:"text-center",children:[f.jsxs("p",{className:"text-2xl font-bold text-primary",children:[m.overallProgress,"%"]}),f.jsx("p",{className:"text-sm text-text-secondary",children:"التقدم الإجمالي"})]}),f.jsxs("div",{className:"text-center",children:[f.jsxs("p",{className:"text-2xl font-bold text-primary",children:[m.completedSections," ",f.jsxs("span",{className:"text-base",children:["/ ",Ll.length]})]}),f.jsx("p",{className:"text-sm text-text-secondary",children:"قسم مكتمل"})]})]})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Ll.map(h=>{const g=r[h.id]||{correctAnswers:0,answeredQuestionIds:[]},v=Math.floor(g.correctAnswers/20),C=Qm[Math.min(v,Qm.length-1)],E=g.answeredQuestionIds.length===h.questions.length,x=Fy[h.color];return f.jsxs("div",{onClick:()=>{o(h),e("fiqh_quiz")},className:"bg-card p-4 rounded-lg shadow-md cursor-pointer hover:shadow-lg transition-shadow",children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:`w-12 h-12 rounded-md flex items-center justify-center text-2xl ${x.lightBg}`,children:h.icon}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-text-primary",children:h.title}),f.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${x.lightBg} ${x.lightText}`,children:C})]})]}),E&&f.jsx(Ko,{className:"w-6 h-6 text-green-500"})]}),f.jsxs("div",{className:"mt-4",children:[f.jsxs("div",{className:"flex justify-between text-xs text-text-secondary mb-1",children:[f.jsxs("span",{children:["مستوى ",v+1]}),f.jsxs("span",{children:[g.correctAnswers," إجابة صحيحة"]})]}),f.jsx("div",{className:"w-full bg-border-color rounded-full h-2",children:f.jsx("div",{className:`h-2 rounded-full ${x.bg}`,style:{width:`${g.correctAnswers%20/20*100}%`}})})]})]},h.id)})})]});case"fiqh_quiz":return n&&f.jsxs(f.Fragment,{children:[f.jsxs("button",{onClick:()=>e("fiqh_topics"),className:"flex items-center gap-2 text-text-secondary hover:text-text-primary mb-4",children:[f.jsx(He,{className:"w-5 h-5"}),f.jsx("span",{children:"أقسام الفقه"})]}),f.jsx(Xm,{questions:n.questions,progress:r[n.id]||{correctAnswers:0,answeredQuestionIds:[]},updateProgress:d,title:n.title,themeColor:n.color})]});case"home":default:return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{onClick:()=>e("general"),className:"bg-card p-6 rounded-lg shadow-md cursor-pointer hover:bg-border-color transition-colors",children:[f.jsx("h3",{className:"text-xl font-bold text-text-primary mb-2",children:"أسئلة إسلامية عامة"}),f.jsx("p",{className:"text-text-secondary",children:"اختبر معلوماتك في مختلف جوانب الدين الإسلامي في رحلة معرفية لا تنتهي."}),f.jsxs("div",{className:"mt-4 text-sm font-mono bg-background px-3 py-1 rounded-md inline-block",children:[f.jsx("span",{className:"font-bold text-primary",children:i.correctAnswers})," إجابة صحيحة"]})]}),f.jsxs("div",{onClick:()=>e("fiqh_topics"),className:"bg-card p-6 rounded-lg shadow-md cursor-pointer hover:bg-border-color transition-colors",children:[f.jsx("h3",{className:"text-xl font-bold text-text-primary mb-2",children:"أسئلة فقهية متخصصة"}),f.jsx("p",{className:"text-text-secondary",children:"تعمق في أبواب الفقه، وتابع تقدمك في كل قسم على حدة، وارتقِ في مستويات العلم."}),f.jsxs("div",{className:"mt-4 text-sm font-mono bg-background px-3 py-1 rounded-md inline-block",children:[f.jsxs("span",{className:"font-bold text-primary",children:[m.overallProgress,"%"]})," تقدم إجمالي"]})]})]})}};return f.jsx("div",{className:"max-w-2xl mx-auto p-4 sm:p-6 animate-fade-in",children:p()})},Tw=[{surahId:1,surahName:"سورة الفاتحة",stories:[{ayahRange:"1-7",shortSummary:"سورة الفاتحة ليس لها سبب نزول محدد متعلق بحادثة، بل نزلت ابتداءً لبيان مقاصد القرآن الأساسية وهي أساس الصلاة.",detailedVersion:`**التفسير المفصل:**
سورة الفاتحة هي أول سورة كاملة نزلت من القرآن، وهي ركن أساسي في الصلاة لا تصح إلا بها. لم يذكر العلماء سبب نزول خاص بها مرتبط بحادثة معينة، لأنها نزلت كبيان أساسي لمنهج الإسلام، وتتضمن أصول الدين من التوحيد، والعبادة، والاستعانة بالله، وطلب الهداية، وبيان طريق المؤمنين وطريق المغضوب عليهم والضالين. لذا، فهي بمثابة مقدمة شاملة للقرآن الكريم كله.

**تفسير ابن كثير:**
يقول ابن كثير: 'يقال لها الفاتحة، أي فاتحة الكتاب خطًا، وبها تفتح القراءة في الصلوات... وهي مكية. قال ابن عباس وغيره: هي أم القرآن، وأم الكتاب، والسبع المثاني، والقرآن العظيم'. ويستدل بحديث: 'لا صلاة لمن لم يقرأ بفاتحة الكتاب'.`,source:"أسباب النزول للواحدي، لباب النقول للسيوطي"}]},{surahId:2,surahName:"سورة البقرة",stories:[{ayahRange:"104",shortSummary:"نزلت لنهي المؤمنين عن استخدام كلمة 'راعنا' التي كان اليهود يستخدمونها بمعنى سيء.",detailedVersion:`**التفسير المفصل:**
كان المسلمون يقولون للنبي صلى الله عليه وسلم: 'راعنا'، أي انتظرنا وأمهلنا لنفهم، وكانت هذه الكلمة عند اليهود سبًا قبيحًا (من الرعونة). فكانوا يستخدمونها لمخاطبة النبي وهم يقصدون السب. فأنزل الله تعالى: (يَا أَيُّهَا الَّذِينَ آمَنُوا لَا تَقُولُوا رَاعِنَا وَقُولُوا انظُرْنَا وَاسْمَعُوا)، وعلّم المؤمنين كلمة بديلة وهي 'انظرنا' التي تؤدي نفس المعنى الطيب، سدًا لهذا الباب.

**تفسير ابن كثير:**
نهى الله تعالى عباده المؤمنين أن يتشبهوا بالكافرين في مقالهم وفعالهم، وذلك أن اليهود كانوا يعلنون من الكلام ما فيه تورية لما يقصدونه من التنقيص، فكانوا يقولون: 'راعنا' ويقصدون الرعونة.`,source:"أسباب النزول للواحدي"},{ayahRange:"144",shortSummary:"نزلت هذه الآية استجابةً لرغبة النبي صلى الله عليه وسلم في تغيير القبلة من بيت المقدس إلى الكعبة المشرفة في مكة.",detailedVersion:`**التفسير المفصل:**
كان رسول الله صلى الله عليه وسلم في بداية الإسلام يصلي متجهاً إلى بيت المقدس في فلسطين امتثالاً لأمر الله، ولكنه كان يحب ويتمنى أن تكون قبلته الكعبة، قبلة أبيه إبراهيم عليه السلام. فكان كثيرًا ما يقلب وجهه في السماء، منتظرًا الوحي من ربه بشأن هذا الأمر. فأنزل الله تعالى هذه الآية: (قَدْ نَرَىٰ تَقَلُّبَ وَجْهِكَ فِي السَّمَاءِ ۖ فَلَنُوَلِّيَنَّكَ قِبْلَةً تَرْضَاهَا ۚ فَوَلِّ وَجْهَكَ شَطْرَ الْمَسْجِدِ الْحَرَامِ)، محققًا له رغبته ومُكرّمًا له، ومُعيدًا القبلة إلى البيت الحرام.

**تفسير ابن كثير:**
قال علي بن أبي طلحة، عن ابن عباس: كان أول ما نسخ من القرآن القبلة، وذلك أن رسول الله صلى الله عليه وسلم لما هاجر إلى المدينة، وكان أكثر أهلها اليهود، أمره الله أن يستقبل بيت المقدس، ففرحت اليهود. فاستقبلها رسول الله صلى الله عليه وسلم بضعة عشر شهرا، وكان يحب قبلة إبراهيم، فكان يدعو إلى الله وينظر إلى السماء، فأنزل الله: (قد نرى تقلب وجهك في السماء).`,source:"أسباب النزول للواحدي"},{ayahRange:"185",shortSummary:"نزلت آية (وَمَن كَانَ مَرِيضًا أَوْ عَلَىٰ سَفَرٍ فَعِدَّةٌ مِّنْ أَيَّامٍ أُخَرَ) تيسيرًا على المسلمين في الصيام.",detailedVersion:`**التفسير المفصل:**
روى معاذ بن جبل: لما فرض الصيام، كان من شاء صام ومن شاء أفطر وأطعم مسكيناً. ثم أنزل الله (شَهْرُ رَمَضَانَ الَّذِي أُنزِلَ فِيهِ الْقُرْآنُ...) فأوجب الصيام على المقيم الصحيح، ورخص للمريض والمسافر في الإفطار والقضاء.

**تفسير ابن كثير:**
هذا إيجاب حتم على من شهد استهلال الشهر، أي كان مقيماً في البلد حين دخل شهر رمضان وهو صحيح في بدنه أن يصوم لا محالة. وقوله (ومن كان مريضاً أو على سفر) هذا رخصة له في أن يفطر، فإذا أفطر فعليه عدة ما أفطر في أيام أخر.`,source:"لباب النقول للسيوطي"},{ayahRange:"219",shortSummary:"نزلت الآية ردًا على سؤال بعض الصحابة عن حكم الخمر والميسر (القمار).",detailedVersion:`**التفسير المفصل:**
سأل عمر بن الخطاب ومعاذ بن جبل ونفر من الأنصار رسول الله صلى الله عليه وسلم عن الخمر والميسر، فأنزل الله تعالى: (يَسْأَلُونَكَ عَنِ الْخَمْرِ وَالْمَيْسِرِ ۖ قُلْ فِيهِمَا إِثْمٌ كَبِيرٌ وَمَنَافِعُ لِلنَّاسِ وَإِثْمُهُمَا أَكْبَرُ مِن نَّفْعِهِمَا). كانت هذه الآية تمهيدًا للتحريم النهائي، حيث بينت أن ضررهما أكبر من نفعهما، مما جعل بعض الصحابة يتركونهما فورًا.

**تفسير ابن كثير:**
قال ابن عمر وغيره: لما نزلت هذه الآية، قال عمر: 'اللهم بيّن لنا في الخمر بياناً شافياً'. فنزلت الآية التي في النساء: (يا أيها الذين آمنوا لا تقربوا الصلاة وأنتم سكارى). ثم قال عمر: 'اللهم بيّن لنا في الخمر بياناً شافياً'. فنزلت الآية التي في المائدة (إنما الخمر والميسر...) إلى آخرها، وفيها التحريم القاطع.`,source:"أسباب النزول للواحدي"},{ayahRange:"255",shortSummary:"نزلت آية الكرسي لبيان عظمة الله وجلاله وصفاته الكاملة، وهي أعظم آية في كتاب الله.",detailedVersion:`**التفسير المفصل:**
سأل أُبيّ بن كعب النبي صلى الله عليه وسلم: أي آية في كتاب الله أعظم؟ قال: 'الله ورسوله أعلم'. فرددها مرارًا، ثم قال أُبيّ: آية الكرسي. فقال النبي: 'ليهنك العلم أبا المنذر'. لم يرد سبب نزول خاص متعلق بحادثة معينة لهذه الآية، بل نزلت ابتداءً لتعليم الأمة عظمة الخالق سبحانه وتعالى، وتوحيده، وكماله في ذاته وأسمائه وصفاته وأفعاله. فهي تشتمل على عشر جمل مستقلة كلها تدور حول التوحيد وبيان عظمة الله.

**تفسير ابن كثير:**
هذه آية الكرسي، ولها شأن عظيم، قد صح الحديث عن رسول الله صلى الله عليه وسلم بأنها أفضل آية في كتاب الله. وفيها اسم الله الأعظم (الحي القيوم). وهي تشتمل على توحيد الألوهية والربوبية والأسماء والصفات.`,source:"لباب النقول للسيوطي، وتفسير ابن كثير"}]},{surahId:3,surahName:"سورة آل عمران",stories:[{ayahRange:"61",shortSummary:"نزلت آية المباهلة بعد مجادلة وفد نصارى نجران للنبي صلى الله عليه وسلم في شأن عيسى عليه السلام.",detailedVersion:`**التفسير المفصل:**
قدم وفد من نصارى نجران إلى المدينة المنورة وجادلوا النبي صلى الله عليه وسلم في شأن عيسى عليه السلام، زاعمين ألوهيته. وبعد أن أقام عليهم النبي الحجة بالقرآن، وأصروا على كفرهم، دعاهم إلى المباهلة. والمباهلة هي أن يجتمع الطرفان ويدعو كل منهما الله أن ينزل لعنته على الكاذب. فأنزل الله تعالى: (فَمَنْ حَاجَّكَ فِيهِ مِن بَعْدِ مَا جَاءَكَ مِنَ الْعِلْمِ فَقُلْ تَعَالَوْا نَدْعُ أَبْنَاءَنَا وَأَبْنَاءَكُمْ...) الآية. فلما رأى الوفد جدية الأمر، خافوا وامتنعوا عن المباهلة وصالحوا النبي على الجزية.

**تفسير ابن كثير:**
كان سبب نزولها وما قبلها في وفد نجران، حين قدموا فجعلوا يحاجون في عيسى ويزعمون ما يزعمون من البنوة والإلهية. فأنزل الله صدر هذه السورة بياناً لذلك، ودعاهم النبي صلى الله عليه وسلم للمباهلة بعد إصرارهم على الكفر، فلما رأوا ذلك قال بعضهم لبعض: 'والله لئن باهلتم هذا النبي لا يبقى منكم عين تطرف'، فصالحوه على الجزية.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"},{ayahRange:"121-122",shortSummary:"نزلت هذه الآيات تذكيرًا بأحداث غزوة أحد، وما حدث فيها من ابتلاء للمؤمنين.",detailedVersion:`**التفسير المفصل:**
تتحدث الآيات عن خروج النبي صلى الله عليه وسلم لترتيب صفوف المسلمين في غزوة أحد، وتشير إلى الطائفتين من الأنصار (بني سلمة وبني حارثة) اللتين فكرتا في الانسحاب والتراجع عن القتال بسبب الخوف والاضطراب بعد انسحاب عبد الله بن أبي بن سلول بثلث الجيش، ولكن الله ثبتهما وحفظهما. قال تعالى: (إِذْ هَمَّت طَّائِفَتَانِ مِنكُمْ أَن تَفْشَلَا وَاللَّهُ وَلِيُّهُمَا ۗ وَعَلَى اللَّهِ فَلْيَتَوَكَّلِ الْمُؤْمِنُونَ).

**تفسير ابن كثير:**
قال جابر بن عبد الله: فينا نزلت (إذ همت طائفتان منكم أن تفشلا والله وليهما)، قال: نحن الطائفتان بنو حارثة وبنو سلمة، وما نحب أنها لم تنزل لقول الله (والله وليهما).`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:4,surahName:"سورة النساء",stories:[{ayahRange:"11",shortSummary:"نزلت آيات المواريث في هذه السورة لتحديد الأنصبة الشرعية للورثة، وكان سبب نزولها متعلقًا ببنات الصحابي سعد بن الربيع.",detailedVersion:`**التفسير المفصل:**
جاءت امرأة سعد بن الربيع إلى رسول الله صلى الله عليه وسلم بابنتيها من سعد، وقالت: يا رسول الله، هاتان ابنتا سعد بن الربيع، قُتل أبوهما معك يوم أحد شهيداً، وإن عمهما أخذ مالهما فلم يدع لهما مالاً. فقال رسول الله: 'يقضي الله في ذلك'. فنزلت آية المواريث، فأرسل رسول الله إلى عمهما فقال: 'أعطِ ابنتي سعد الثلثين، وأعطِ أمهما الثمن، وما بقي فهو لك'.

**تفسير ابن كثير:**
سبب نزول هذه الآية الكريمة حديث جابر، حيث قال: 'عادتني رسول الله صلى الله عليه وسلم وأبو بكر في بني سلمة ماشيين، فوجدني النبي صلى الله عليه وسلم لا أعقل، فدعا بماء فتوضأ ثم رش علي فأفقت، فقلت: ما تأمرني أن أصنع في مالي يا رسول الله؟ فنزلت: (يوصيكم الله في أولادكم للذكر مثل حظ الأنثيين)'.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"},{ayahRange:"59",shortSummary:"نزلت الآية في عبد الله بن حذافة السهمي حينما أرسله النبي أميرًا على سرية وأمرهم بالطاعة، ثم أمرهم أمرًا فيه معصية لاختبارهم.",detailedVersion:`**التفسير المفصل:**
بعث النبي صلى الله عليه وسلم سرية وأمّر عليهم عبد الله بن حذافة السهمي، فأوقد نارًا وقال لأصحابه: 'ادخلوها'. فأراد بعضهم الدخول، ومنعهم آخرون وقالوا: 'إنما فررنا إلى رسول الله من النار'. فلما ذكروا ذلك للنبي قال: 'لو دخلوها ما خرجوا منها أبدًا، إنما الطاعة في المعروف'. فنزلت الآية: (يَا أَيُّهَا الَّذِينَ آمَنُوا أَطِيعُوا اللَّهَ وَأَطِيعُوا الرَّسُولَ وَأُولِي الْأَمْرِ مِنكُمْ)، مبينة أن طاعة أولي الأمر مقيدة بطاعة الله ورسوله.

**تفسير ابن كثير:**
روى البخاري عن ابن عباس: (أطيعوا الله وأطيعوا الرسول وأولي الأمر منكم) قال: نزلت في عبد الله بن حذافة بن قيس بن عدي، إذ بعثه النبي صلى الله عليه وسلم في سرية.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:5,surahName:"سورة المائدة",stories:[{ayahRange:"3",shortSummary:"نزل هذا الجزء من الآية (الْيَوْمَ أَكْمَلْتُ لَكُمْ دِينَكُمْ...) في حجة الوداع يوم عرفة، معلنًا اكتمال الدين وتمام النعمة.",detailedVersion:`**التفسير المفصل:**
بينما كان النبي صلى الله عليه وسلم واقفًا بعرفة في حجة الوداع يوم الجمعة، نزلت عليه هذه الآية: (الْيَوْمَ أَكْمَلْتُ لَكُمْ دِينَكُمْ وَأَتْمَمْتُ عَلَيْكُمْ نِعْمَتِي وَرَضِيتُ لَكُمُ الْإِسْلَامَ دِينًا). فلما سمعها عمر بن الخطاب بكى، فقيل له: ما يبكيك؟ قال: 'إنه ليس بعد الكمال إلا النقصان'، مشيرًا إلى قرب وفاة النبي صلى الله عليه وسلم. وتعتبر هذه الآية من أواخر ما نزل من القرآن الكريم.

**تفسير ابن كثير:**
هذه أكبر نعم الله تعالى على هذه الأمة، حيث أكمل تعالى لهم دينهم، فلا يحتاجون إلى دين غيره، ولا إلى نبي غير نبيهم صلوات الله وسلامه عليه. ولهذا جعله الله خاتم الأنبياء، وبعثه إلى الإنس والجن، فلا حلال إلا ما أحله، ولا حرام إلا ما حرمه، ولا دين إلا ما شرعه.`,source:"لباب النقول للسيوطي، تفسير ابن كثير"}]},{surahId:6,surahName:"سورة الأنعام",stories:[{ayahRange:"52",shortSummary:"نزلت في شأن فقراء المسلمين كابن مسعود وبلال وصهيب، عندما طلب كبراء قريش من النبي أن يطردهم من مجلسه ليجلسوا هم.",detailedVersion:`**التفسير المفصل:**
جاء بعض زعماء قريش إلى النبي صلى الله عليه وسلم وعرضوا عليه أن يؤمنوا به بشرط أن يطرد من مجلسه ضعفاء وفقراء الصحابة، استكبارًا منهم أن يجلسوا معهم في مكان واحد. فهمّ النبي بذلك طمعًا في إسلامهم، فأنزل الله تعالى: (وَلَا تَطْرُدِ الَّذِينَ يَدْعُونَ رَبَّهُم بِالْغَدَاةِ وَالْعَشِيِّ يُرِيدُونَ وَجْهَهُ)، ينهى نبيه عن طردهم ويبين أن مكانتهم عند الله عظيمة بإخلاصهم.

**تفسير ابن كثير:**
روى الإمام مسلم في صحيحه عن سعد بن أبي وقاص قال: كنا مع النبي صلى الله عليه وسلم في ستة نفر، فقال المشركون للنبي: اطرد هؤلاء لا يجترئون علينا. وكنت أنا وابن مسعود ورجل من هذيل وبلال ورجلان لست أسميهما. فوقع في نفس رسول الله صلى الله عليه وسلم ما شاء الله أن يقع، فحدث نفسه، فأنزل الله عز وجل: (ولا تطرد الذين يدعون ربهم بالغداة والعشي).`,source:"لباب النقول للسيوطي، تفسير ابن كثير"}]},{surahId:7,surahName:"سورة الأعراف",stories:[{ayahRange:"204",shortSummary:"نزلت الآية لتأمر المسلمين بالإنصات والاستماع عند قراءة القرآن، خاصة في الصلاة.",detailedVersion:`**التفسير المفصل:**
كان المسلمون في بداية الإسلام يتكلمون في الصلاة للحاجة، ويرد أحدهم السلام. فنزلت هذه الآية: (وَإِذَا قُرِئَ الْقُرْآنُ فَاسْتَمِعُوا لَهُ وَأَنصِتُوا لَعَلَّكُمْ تُرْحَمُونَ)، فأمروا بالسكوت التام والإنصات للإمام في الصلاة الجهرية، وشمل الأمر الإنصات عند تلاوة القرآن خارج الصلاة أيضًا تعظيمًا لكلام الله.

**تفسير ابن كثير:**
بعد أن ذكر تعالى أن القرآن بصائر للناس وهدى ورحمة، أمر تعالى بالإنصات عند تلاوته إعظامًا له واحترامًا، لا كما كان يعتمده كفار قريش المشركون في قولهم: (لا تسمعوا لهذا القرآن والغوا فيه). وقال ابن مسعود: كنا يسلم بعضنا على بعض في الصلاة، فجاء قوله تعالى: (وإذا قرئ القرآن فاستمعوا له وأنصتوا).`,source:"لباب النقول للسيوطي"}]},{surahId:8,surahName:"سورة الأنفال",stories:[{ayahRange:"1",shortSummary:"نزلت هذه الآية بعد غزوة بدر، حين اختلف الصحابة في كيفية تقسيم الغنائم.",detailedVersion:`**التفسير المفصل:**
بعد انتصار المسلمين في غزوة بدر، اختلفوا في شأن الغنائم. حيث قالت طائفة ممن جمعوها: هي لنا. وقالت طائفة ممن كانوا يطاردون العدو: لولا نحن ما أصبتموها. وقالت طائفة ممن كانوا يحرسون النبي صلى الله عليه وسلم: نحن أحق بها. فسألوا النبي عن ذلك، فأنزل الله تعالى: (يَسْأَلُونَكَ عَنِ الْأَنفَالِ ۖ قُلِ الْأَنفَالُ لِلَّهِ وَالرَّسُولِ ۖ فَاتَّقُوا اللَّهَ وَأَصْلِحُوا ذَاتَ بَيْنِكُمْ)، فجعل الله أمرها إليه ورسوله، فقسمها النبي بينهم بالسوية.

**تفسير ابن كثير:**
قال ابن عباس: لما كان يوم بدر، قال رسول الله صلى الله عليه وسلم: 'من صنع كذا وكذا فله كذا وكذا'. فتسارع فيه شبان القوم، وبقي الشيوخ تحت الرايات، فلما فتح الله عليهم، جاء الشبان يطلبون ما جعل لهم، فقال الشيوخ: لا تستأثروا علينا، فإنا كنا ردءاً لكم. فأنزل الله هذه الآية.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:9,surahName:"سورة التوبة",stories:[{ayahRange:"40",shortSummary:"نزلت الآية في شأن هجرة النبي صلى الله عليه وسلم وأبي بكر الصديق، حين كانا في غار ثور والمشركون يطاردونهم.",detailedVersion:`**التفسير المفصل:**
عندما هاجر النبي صلى الله عليه وسلم من مكة إلى المدينة، رافقه أبو بكر الصديق. واختبآ في غار ثور لمدة ثلاثة أيام. وصل المشركون الذين كانوا يتبعونهم إلى باب الغار، حتى قال أبو بكر: يا رسول الله، لو نظر أحدهم تحت قدميه لرآنا. فطمأنه النبي قائلاً: 'يا أبا بكر، ما ظنك باثنين الله ثالثهما؟'. فأنزل الله تعالى هذه الآية تصف هذا الموقف: (إِلَّا تَنصُرُوهُ فَقَدْ نَصَرَهُ اللَّهُ إِذْ أَخْرَجَهُ الَّذِينَ كَفَرُوا ثَانِيَ اثْنَيْنِ إِذْ هُمَا فِي الْغَارِ إِذْ يَقُولُ لِصَاحِبِهِ لَا تَحْزَنْ إِنَّ اللَّهَ مَعَنَا).

**تفسير ابن كثير:**
يقول تعالى (إلا تنصروه) أي تنصروا رسوله، فإن الله ناصره ومؤيده وكافيه وحافظه. وذكر قصة الغار، حيث قال أنس بن مالك: حدثني أبو بكر، قال: نظرت إلى أقدام المشركين على رؤوسنا ونحن في الغار، فقلت: يا رسول الله، لو أن أحدهم نظر إلى قدميه أبصرنا تحت قدميه. فقال: 'يا أبا بكر ما ظنك باثنين الله ثالثهما'.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"},{ayahRange:"118",shortSummary:"نزلت في شأن الثلاثة الذين تخلفوا عن غزوة تبوك بغير عذر، وهم: كعب بن مالك، ومرارة بن الربيع، وهلال بن أمية.",detailedVersion:`**التفسير المفصل:**
عندما تجهز النبي صلى الله عليه وسلم لغزوة تبوك، تخلف هؤلاء الثلاثة من الصحابة بغير عذر. وبعد عودة الجيش، أمر النبي بمقاطعتهم وعدم تكليمهم. فضاقت عليهم الأرض بما رحبت وضاقت عليهم أنفسهم، فبقوا على ذلك خمسين ليلة، حتى تاب الله عليهم وأنزل فيهم هذه الآية التي تعلن قبول توبتهم وفرح بها المسلمون.

**تفسير ابن كثير:**
هذا الحديث لقصة توبة كعب بن مالك وصاحبيه ثابت في الصحيحين، وهو من أعظم القصص التي تظهر صدق التوبة واللجوء إلى الله. فبعد أن صدقوا الله ورسوله ولم يعتذروا بالأعذار الكاذبة كالمنافقين، أنزل الله توبتهم في قرآن يتلى إلى يوم القيامة.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:10,surahName:"سورة يونس",stories:[{ayahRange:"99",shortSummary:"نزلت لبيان أن الإيمان قضاء من الله، ولو شاء لجعل الناس كلهم مؤمنين، فلا يكره النبي نفسه على عدم إيمان قومه.",detailedVersion:`**التفسير المفصل:**
كان النبي صلى الله عليه وسلم شديد الحرص على إيمان قومه، وكان يحزن حزنًا شديدًا لإعراضهم وكفرهم. فأنزل الله تعالى هذه الآية تسلية له وتوضيحًا لحقيقة المشيئة الإلهية: (وَلَوْ شَاءَ رَبُّكَ لَآمَنَ مَن فِي الْأَرْضِ كُلُّهُمْ جَمِيعًا ۚ أَفَأَنتَ تُكْرِهُ النَّاسَ حَتَّىٰ يَكُونُوا مُؤْمِنِينَ). والمعنى أنه لا قدرة لك يا محمد على هدايتهم، فالهداية بيد الله وحده يهدي من يشاء ويضل من يشاء.

**تفسير ابن كثير:**
يقول تعالى: (ولو شاء ربك) يا محمد لآذن لمن في الأرض كلهم في الإيمان بما جئتهم به فآمنوا كلهم، ولكن له حكمة فيما يفعله تعالى. (أفأنت تكره الناس حتى يكونوا مؤمنين) أي: ليس ذلك عليك ولا إليك، إنما عليك البلاغ، وليس عليك هداهم.`,source:"لباب النقول للسيوطي"}]},{surahId:11,surahName:"سورة هود",stories:[{ayahRange:"114",shortSummary:"نزلت في رجل من الصحابة أصاب ذنبًا (قبلة من امرأة لا تحل له)، فسأل النبي عن كفارتها.",detailedVersion:`**التفسير المفصل:**
أتى رجل إلى النبي صلى الله عليه وسلم فقال: يا رسول الله، إني عالجت امرأة في أقصى المدينة، وإني أصبت منها ما دون أن أمسها (أي قبلة ونحوها)، فأنا هذا فاقض فيّ ما شئت. فقال له عمر: لقد سترك الله لو سترت نفسك. فلم يرد النبي شيئًا. فقام الرجل فانطلق، فأتبعه النبي رجلاً دعاه وتلا عليه هذه الآية: (وَأَقِمِ الصَّلَاةَ طَرَفَيِ النَّهَارِ وَزُلَفًا مِّنَ اللَّيْلِ ۚ إِنَّ الْحَسَنَاتِ يُذْهِبْنَ السَّيِّئَاتِ). فقال رجل: يا رسول الله، أله خاصة؟ قال: 'بل للناس كافة'.

**تفسير ابن كثير:**
روى الإمام أحمد عن ابن عباس، أن رجلاً أتى النبي صلى الله عليه وسلم، فقال... فذكر القصة. ففي هذا الحديث دلالة على أن الصلاة من أعظم الحسنات التي تكفر صغائر الذنوب.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:12,surahName:"سورة يوسف",stories:[{ayahRange:"1-111",shortSummary:"نزلت السورة تسلية للنبي صلى الله عليه وسلم بعد عام الحزن، بعد أن سأل اليهود قريشًا أن يسألوه عن قصة انتقال آل يعقوب إلى مصر.",detailedVersion:`**التفسير المفصل:**
قالت اليهود لقريش: سلوا محمدًا: لم انتقل آل يعقوب من الشام إلى مصر؟ وعن قصة يوسف. فأنزل الله تعالى سورة يوسف كاملة، وفيها من التفاصيل ما لم يكن يعلمه إلا نبي، فكانت دليلاً على صدق نبوته صلى الله عليه وسلم. كما نزلت في وقت كان النبي فيه حزينًا على وفاة عمه أبي طالب وزوجته خديجة، فكانت قصة يوسف وصبره على أذى إخوته ثم تمكينه في الأرض، تسلية وتثبيتًا عظيمًا لقلب النبي صلى الله عليه وسلم.

**تفسير ابن كثير:**
ذكر محمد بن إسحاق عن بعض أهل العلم أن سبب نزولها هو سؤال اليهود. والسورة كلها تحكي قصة يوسف عليه السلام مع إخوته، وما لاقاه من أنواع المحن والشدائد، وكيف أن الله تعالى أنجاه منها ومكن له في الأرض، وفي ذلك عبرة عظيمة.`,source:"لباب النقول للسيوطي"}]},{surahId:13,surahName:"سورة الرعد",stories:[{ayahRange:"11",shortSummary:"نزلت لبيان سنة الله في تغيير حال الأقوام، وأن التغيير يبدأ من أنفسهم، وليس لها سبب نزول مرتبط بحادثة معينة.",detailedVersion:`**التفسير المفصل:**
هذه الآية الكريمة (إِنَّ اللَّهَ لَا يُغَيِّرُ مَا بِقَوْمٍ حَتَّىٰ يُغَيِّرُوا مَا بِأَنفُسِهِمْ) هي قاعدة وسنة إلهية عظيمة. لم يرد لها سبب نزول خاص بحادثة، بل هي تقرير لحقيقة كونية واجتماعية. معناها أن الله تعالى لا يغير نعمة أنعمها على قوم فيسلبها منهم، إلا إذا غيروا حالهم من الطاعة إلى المعصية. وكذلك لا يغير ما بقوم من شقاء وبلاء إلى سعادة ورخاء، حتى يغيروا ما بأنفسهم من الكفر والإعراض إلى الإيمان والطاعة. فالتغيير يبدأ من داخل الإنسان.

**تفسير ابن كثير:**
يخبر تعالى عن تمام عدله وحكمته في حكمه، بأنه تعالى لا يغير نعمة أنعمها على أحد إلا بسبب ذنب ارتكبه، كما قال في الآية الأخرى: (ذلك بأن الله لم يك مغيرا نعمة أنعمها على قوم حتى يغيروا ما بأنفسهم).`,source:"عامة كتب التفسير"}]},{surahId:14,surahName:"سورة إبراهيم",stories:[{ayahRange:"24-27",shortSummary:"نزلت الآيات لضرب مثل لكلمة التوحيد (لا إله إلا الله) وكلمة الكفر، وبيان ثبات المؤمن وخذلان الكافر.",detailedVersion:`**التفسير المفصل:**
روي أن هذه الآية (أَلَمْ تَرَ كَيْفَ ضَرَبَ اللَّهُ مَثَلًا كَلِمَةً طَيِّبَةً كَشَجَرَةٍ طَيِّبَةٍ) نزلت في المؤمن وكلامه الطيب وعمله الصالح، حيث شبهه الله بالنخلة الثابتة التي تؤتي ثمارها دائمًا. أما الكلمة الخبيثة (كلمة الكفر)، فشبهها بالشجرة الخبيثة (الحنظل) التي ليس لها أصل ثابت وتُقتلع بسهولة. وهذا مثل لبيان الفرق بين الإيمان والكفر.

**تفسير ابن كثير:**
قال علي بن أبي طلحة عن ابن عباس في قوله: (كلمة طيبة) شهادة أن لا إله إلا الله، (كشجرة طيبة) وهو المؤمن، (أصلها ثابت) يقول: لا إله إلا الله ثابتة في قلب المؤمن، (وفرعها في السماء) يقول: يرفع بها عمل المؤمن إلى السماء. وأما (كلمة خبيثة) فهي الشرك، (كشجرة خبيثة) وهو الكافر.`,source:"أسباب النزول للسيوطي، تفسير ابن كثير"}]},{surahId:15,surahName:"سورة الحجر",stories:[{ayahRange:"94",shortSummary:"نزلت الآية لتأمر النبي صلى الله عليه وسلم بالجهر بالدعوة بعد ثلاث سنوات من الدعوة السرية.",detailedVersion:`**التفسير المفصل:**
في بداية البعثة، كانت دعوة النبي صلى الله عليه وسلم سرية لمدة ثلاث سنوات، يبلغ فيها من يثق به فقط. فلما تكونت جماعة من المؤمنين، أمره الله تعالى أن يجهر بالدعوة ويعلنها للناس كافة، وأن يعرض عن أذى المشركين واستهزائهم. فأنزل الله: (فَاصْدَعْ بِمَا تُؤْمَرُ وَأَعْرِضْ عَنِ الْمُشْرِكِينَ). فصعد النبي على الصفا ونادى في قريش ودعاهم للإسلام علانية.

**تفسير ابن كثير:**
يأمر الله تعالى رسوله صلوات الله وسلامه عليه بإبلاغ ما أرسله به وبإنفاذه والصدع به، وهو مواجهة المشركين به. كما قال ابن عباس: (فاصدع بما تؤمر) أي: أمضه.`,source:"لباب النقول للسيوطي، تفسير ابن كثير"}]},{surahId:16,surahName:"سورة النحل",stories:[{ayahRange:"126",shortSummary:"نزلت يوم أحد بعد أن قُتل حمزة ومُثّل به، فأقسم النبي على أن يُمثل بسبعين منهم، فنهاه الله عن ذلك.",detailedVersion:`**التفسير المفصل:**
في غزوة أحد، بعد استشهاد حمزة بن عبد المطلب رضي الله عنه، والتمثيل بجسده، حزن النبي صلى الله عليه وسلم حزنًا شديدًا وقال: 'لئن أظهرني الله عليهم لأمثلن بثلاثين رجلاً منهم'. وفي رواية أخرى، 'بسبعين'. فأنزل الله تعالى: (وَإِنْ عَاقَبْتُمْ فَعَاقِبُوا بِمِثْلِ مَا عُوقِبْتُم بِهِ ۖ وَلَئِن صَبَرْتُمْ لَهُوَ خَيْرٌ لِّلصَّابِرِينَ)، فخيره الله بين المعاقبة بالمثل وبين الصبر، ورغّبه في الصبر. فقال النبي: 'بل نصبر'، وكفر عن يمينه.

**تفسير ابن كثير:**
قال أُبي بن كعب: لما كان يوم أحد أصيب من الأنصار أربعة وستون رجلاً، ومن المهاجرين ستة، منهم حمزة، فمثلوا بهم، فقالت الأنصار: لئن أصبنا منهم يوماً مثل هذا لنربين عليهم. فلما كان يوم فتح مكة، أنزل الله هذه الآية. فقال رسول الله صلى الله عليه وسلم: 'نصبر ولا نعاقب'.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:17,surahName:"سورة الإسراء",stories:[{ayahRange:"85",shortSummary:"نزلت الآية ردًا على سؤال اليهود للنبي صلى الله عليه وسلم عن حقيقة الروح.",detailedVersion:`**التفسير المفصل:**
سأل اليهود في المدينة النبي صلى الله عليه وسلم عن الروح لاختباره، فمكث النبي فترة لا يجيبهم منتظرًا الوحي، ثم أنزل الله تعالى قوله: (وَيَسْأَلُونَكَ عَنِ الرُّوحِ ۖ قُلِ الرُّوحُ مِنْ أَمْرِ رَبِّي وَمَا أُوتِيتُم مِّنَ الْعِلْمِ إِلَّا قَلِيلًا). وفي هذا جواب قاطع بأن حقيقة الروح من علم الله الذي استأثر به، وأن علم البشر محدود جدًا مقارنة بعلم الله.

**تفسير ابن كثير:**
روى البخاري عن عبد الله بن مسعود قال: بينا أنا أمشي مع النبي صلى الله عليه وسلم في خرب المدينة، وهو يتوكأ على عسيب معه، فمر بنفر من اليهود، فقال بعضهم لبعض: سلوه عن الروح. فسألوه، فقام النبي صلى الله عليه وسلم ساعة ورفع رأسه، فعرفت أنه يوحى إليه، حتى صعد الوحي، ثم قال: (ويسألونك عن الروح قل الروح من أمر ربي).`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:18,surahName:"سورة الكهف",stories:[{ayahRange:"9-26",shortSummary:"نزلت قصة أهل الكهف ردًا على سؤال المشركين للنبي صلى الله عليه وسلم، الذي تعلموه من أحبار اليهود لاختبار نبوته.",detailedVersion:`**التفسير المفصل:**
أرسلت قريش رجلين إلى أحبار اليهود في المدينة يسألونهم عن علامات النبي الصادق، فقال الأحبار: 'اسألوه عن ثلاث: عن فتية ذهبوا في الدهر الأول ما كان من أمرهم، وعن رجل طواف بلغ مشارق الأرض ومغاربها، وعن الروح'. فلما سألوا النبي، قال لهم: 'أخبركم غدًا' ولم يقل 'إن شاء الله'، فتأخر الوحي أيامًا حتى شق ذلك عليه، ثم نزلت سورة الكهف تحمل الجواب عن الفتية (أهل الكهف) والرجل الطواف (ذي القرنين)، ونزلت آية الروح في سورة الإسراء.

**تفسير ابن كثير:**
ذكر محمد بن إسحاق وغيره في السيرة أن قريشًا بعثوا إلى أحبار يهود بالمدينة أن يبعثوا إليهم بمسائل يمتحنون بها رسول الله صلى الله عليه وسلم، فكانت هذه الأسئلة الثلاثة منها. فكان نزول هذه السورة بيانًا شافيًا لصدق نبوته.`,source:"لباب النقول للسيوطي، تفسير ابن كثير"}]},{surahId:19,surahName:"سورة مريم",stories:[{ayahRange:"64",shortSummary:"نزلت الآية عندما تأخر جبريل عليه السلام عن النزول على النبي صلى الله عليه وسلم لفترة، فشق ذلك على النبي.",detailedVersion:`**التفسير المفصل:**
احتبس جبريل عليه السلام عن النبي صلى الله عليه وسلم فترة، فاشتاق النبي لمجيئه وحزن، فلما جاءه قال له: 'ما منعك أن تزورنا أكثر مما تزورنا؟'، فأنزل الله تعالى على لسان جبريل: (وَمَا نَتَنَزَّلُ إِلَّا بِأَمْرِ رَبِّكَ ۖ لَهُ مَا بَيْنَ أَيْدِينَا وَمَا خَلْفَنَا وَمَا بَيْنَ ذَٰلِكَ ۚ وَمَا كَانَ رَبُّكَ نَسِيًّا)، لبيان أن الملائكة لا تتصرف من تلقاء نفسها، بل بأمر الله وإذنه.

**تفسير ابن كثير:**
روى البخاري عن ابن عباس قال: قال رسول الله صلى الله عليه وسلم لجبريل: 'ألا تزورنا أكثر مما تزورنا؟' قال: فنزلت: (وما نتنزل إلا بأمر ربك).`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:20,surahName:"سورة طه",stories:[{ayahRange:"1-2",shortSummary:"نزلت الآيات الأولى لتسلية النبي صلى الله عليه وسلم وتخفيف العبء عنه، بعد أن قال المشركون إنه يشقى بسبب هذا القرآن.",detailedVersion:`**التفسير المفصل:**
كان النبي صلى الله عليه وسلم يطيل القيام في صلاة الليل حتى تتورم قدماه، وكان يجتهد في دعوة قومه ويحزن لإعراضهم حزنًا شديدًا. فقال المشركون: ما أُنزل هذا القرآن على محمد إلا ليشقى به. فأنزل الله تعالى: (طه * مَا أَنزَلْنَا عَلَيْكَ الْقُرْآنَ لِتَشْقَىٰ)، أي لم ننزله عليك لتتعب هذا التعب الشديد وتحمل نفسك ما لا تطيق، بل نزل رحمة وهداية وتذكرة.

**تفسير ابن كثير:**
قال مقاتل بن حيان: قال أبو جهل والنضر بن الحارث للنبي صلى الله عليه وسلم: إنك لشقي بتركك دين آبائك، فأنزل الله تعالى هذه الآية. وهي تخفيف من الله تعالى على نبيه لما كان يعانيه من مشقة القيام وأعباء الدعوة.`,source:"لباب النقول للسيوطي"}]},{surahId:21,surahName:"سورة الأنبياء",stories:[{ayahRange:"98",shortSummary:"نزلت ردًا على جدال المشركين حول الآية التي تخبر أن كل ما يُعبد من دون الله سيكون في النار، فسألوا عن مصير الأنبياء والصالحين الذين عُبدوا.",detailedVersion:`**التفسير المفصل:**
لما نزل قوله تعالى: (إِنَّكُمْ وَمَا تَعْبُدُونَ مِن دُونِ اللَّهِ حَصَبُ جَهَنَّمَ أَنتُمْ لَهَا وَارِدُونَ)، فرح المشركون وقالوا: 'قد خصمنا محمدًا'، وقالوا: 'أليست الملائكة تُعبد؟ وعيسى يُعبد؟ وعزير يُعبد؟ فهؤلاء في النار؟' فأنزل الله الآية التي تليها: (إِنَّ الَّذِينَ سَبَقَتْ لَهُم مِّنَّا الْحُسْنَىٰ أُولَٰئِكَ عَنْهَا مُبْعَدُونَ)، مبيناً أن الحكم على من رضي بالعبادة من دون الله كالأصنام والشياطين، أما الأنبياء والصالحون فهم مكرمون في الجنة.

**تفسير ابن كثير:**
روى ابن أبي حاتم عن ابن عباس، أن رسول الله صلى الله عليه وسلم دخل المسجد وقريش في الحجر جلوس، فلما رأوه قالوا: يا محمد، مازلت تذكر آلهتنا وتسبها؟ فقال: 'ما تقولون؟' قالوا: نقول إنها آلهة آبائنا. فقال: (إنكم وما تعبدون من دون الله حصب جهنم)، فغضب عبد الله بن الزبعرى وقال: أخاصة لنا ولآلهتنا أم لجميع الأمم؟ فقال: 'لكم ولهم'. فقال: 'غلبتك ورب الكعبة'. أليست النصارى تعبد المسيح واليهود تعبد عزيراً؟ فأنزل الله (إن الذين سبقت لهم منا الحسنى).`,source:"أسباب النزول للسيوطي، تفسير ابن كثير"}]},{surahId:22,surahName:"سورة الحج",stories:[{ayahRange:"39",shortSummary:"هي أول آية نزلت في الإذن بالقتال للمسلمين بعد أن كانوا منهيين عنه في مكة.",detailedVersion:`**التفسير المفصل:**
كان المسلمون في مكة يتعرضون لأذى المشركين الشديد، وكانوا يأتون إلى النبي صلى الله عليه وسلم مضروبين ومجروحين ويشكون إليه، فكان يقول لهم: 'اصبروا فإني لم أومر بالقتال'. فلما هاجر النبي إلى المدينة وصارت للمسلمين دولة وقوة، أنزل الله تعالى هذه الآية: (أُذِنَ لِلَّذِينَ يُقَاتَلُونَ بِأَنَّهُمْ ظُلِمُوا ۚ وَإِنَّ اللَّهَ عَلَىٰ نَصْرِهِمْ لَقَدِيرٌ)، فكانت هذه أول آية تسمح للمسلمين برد العدوان والدفاع عن أنفسهم.

**تفسير ابن كثير:**
قال ابن عباس: هذه أول آية نزلت في القتال. وقال الإمام أحمد: إنها أول آية نزلت في القتال بالمدينة. وقد كان المسلمون منهيين عن القتال في الفترة المكية لصبرهم على الأذى، فلما قامت لهم شوكة بالمدينة أذن لهم بالجهاد.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:23,surahName:"سورة المؤمنون",stories:[{ayahRange:"1-11",shortSummary:"نزلت هذه الآيات في بداية السورة لبيان صفات المؤمنين الذين يرثون الفردوس، ولم يذكر لها سبب نزول خاص.",detailedVersion:`**التفسير المفصل:**
بدأت السورة بإعلان فلاح المؤمنين، ثم فصلت صفاتهم التي استحقوا بها هذا الفلاح: الخشوع في الصلاة، الإعراض عن اللغو، إيتاء الزكاة، حفظ الفروج، رعاية الأمانات والعهود، والمحافظة على الصلوات. لم يرد سبب نزول محدد لهذه الآيات، بل نزلت ابتداءً لتربية المؤمنين على هذه الأخلاق العظيمة وبيان جزائهم وهو الفردوس الأعلى.

**تفسير ابن كثير:**
روى الإمام أحمد عن عمر بن الخطاب قال: كان إذا نزل على رسول الله صلى الله عليه وسلم الوحي، يسمع عند وجهه كدوي النحل. فأنزل عليه يومًا، فمكثنا ساعة، فسري عنه فاستقبل القبلة ورفع يديه وقال: 'اللهم زدنا ولا تنقصنا، وأكرمنا ولا تهنا...' ثم قال: 'لقد أنزلت علي عشر آيات، من أقامهن دخل الجنة'، ثم قرأ: (قد أفلح المؤمنون) حتى ختم عشر آيات.`,source:"لباب النقول للسيوطي، تفسير ابن كثير"}]},{surahId:24,surahName:"سورة النور",stories:[{ayahRange:"11-20",shortSummary:"نزلت هذه الآيات لتبرئة السيدة عائشة رضي الله عنها من حديث الإفك، وهو اتهام باطل رماه به المنافقون.",detailedVersion:`**التفسير المفصل:**
في طريق العودة من غزوة بني المصطلق، تخلفت السيدة عائشة عن الجيش لتبحث عن عقد لها، وعندما عادت كان الجيش قد رحل. فمكثت مكانها حتى مر بها الصحابي صفوان بن المعطل السلمي فحملها على بعيره وأوصلها. استغل المنافقون هذا الموقف ولفقوا شائعة تمس شرف أم المؤمنين. تألم النبي والمسلمون ألمًا شديدًا، وانقطع الوحي شهرًا، ثم أنزل الله هذه الآيات من سورة النور، معلنًا براءتها من فوق سبع سماوات، وتوعد الذين يرمون المحصنات بالعذاب الشديد.

**تفسير ابن كثير:**
هذه الآيات العشر كلها نزلت في شأن عائشة أم المؤمنين، رضي الله عنها، حين رماها أهل الإفك والبهتان من المنافقين بما قالوه من الكذب البحت، فغار الله لها ولنبيه، فأنزل براءتها صيانة لعرض الرسول صلى الله عليه وسلم.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:25,surahName:"سورة الفرقان",stories:[{ayahRange:"32",shortSummary:"نزلت ردًا على شبهة المشركين الذين تساءلوا لماذا لم ينزل القرآن جملة واحدة كالتوراة والإنجيل.",detailedVersion:`**التفسير المفصل:**
قال الكفار: هلا نُزل هذا القرآن على محمد جملة واحدة كما أُنزلت التوراة على موسى والإنجيل على عيسى؟ فأنزل الله تعالى قوله: (وَقَالَ الَّذِينَ كَفَرُوا لَوْلَا نُزِّلَ عَلَيْهِ الْقُرْآنُ جُمْلَةً وَاحِدَةً ۚ كَذَٰلِكَ لِنُثَبِّتَ بِهِ فُؤَادَكَ ۖ وَرَتَّلْنَاهُ تَرْتِيلًا). فبين الله الحكمة من تنزيله منجمًا (مفرقًا) على مدى 23 عامًا، وهي تثبيت قلب النبي صلى الله عليه وسلم، وتيسير حفظه وفهمه، ومواكبته للأحداث والوقائع.

**تفسير ابن كثير:**
هذا إخبار من الله تعالى عن كثرة اعتراض الكفار وعنادهم، حيث قالوا هذا القول. فأجابهم الله بأن هذا إنما كان لينزل على رسوله حسب الوقائع والحوادث، وليثبت به فؤاده، وهو الأنسب لحفظه وفهمه والعمل بمقتضاه.`,source:"لباب النقول للسيوطي، تفسير ابن كثير"}]},{surahId:26,surahName:"سورة الشعراء",stories:[{ayahRange:"214",shortSummary:"نزلت لتأمر النبي صلى الله عليه وسلم ببدء دعوة عشيرته الأقربين إلى الإسلام.",detailedVersion:`**التفسير المفصل:**
بعد ثلاث سنوات من الدعوة السرية، أمر الله نبيه أن يخص عشيرته الأقربين بالدعوة قبل غيرهم، فأنزل: (وَأَنذِرْ عَشِيرَتَكَ الْأَقْرَبِينَ). فجمع النبي صلى الله عليه وسلم بني هاشم ودعاهم إلى الإسلام، فكان أول من استجاب له علي بن أبي طالب، بينما عارضه عمه أبو لهب بشدة. وهذه الآية كانت بداية المرحلة الجهرية من الدعوة.

**تفسير ابن كثير:**
روى الإمام أحمد عن ابن عباس قال: لما نزلت هذه الآية، صعد النبي صلى الله عليه وسلم على الصفا، فقال: 'يا بني فهر، يا بني عدي' لبطون قريش، حتى اجتمعوا. فقال: 'أرأيتكم لو أخبرتكم أن خيلاً بالوادي تريد أن تغير عليكم، أكنتم مصدقي؟' قالوا: 'نعم، ما جربنا عليك إلا صدقاً'. قال: 'فإني نذير لكم بين يدي عذاب شديد'. فقال أبو لهب: 'تباً لك سائر اليوم، ألهذا جمعتنا؟' فنزلت سورة المسد.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:27,surahName:"سورة النمل",stories:[{ayahRange:"1-93",shortSummary:"السورة مكية، وليس لها سبب نزول محدد. تتناول قصص الأنبياء كداود وسليمان وصالح ولوط عليهم السلام لبيان عاقبة الشكر والكفر.",detailedVersion:`**التفسير المفصل:**
سورة النمل، كغيرها من السور المكية، تركز على أصول العقيدة والتوحيد والنبوة والبعث. لم يرد سبب نزول خاص بها مرتبط بحادثة معينة. السورة تعرض نماذج من قصص الأنبياء السابقين، خاصة قصة سليمان عليه السلام مع ملكة سبأ، وقصة صالح مع ثمود، ولوط مع قومه، لتكون عبرة وعظة لقريش، ولتبين أن منهج الأنبياء واحد، وعاقبة المكذبين هي الهلاك، وعاقبة المؤمنين هي النجاة والفلاح.

**تفسير ابن كثير:**
يذكر ابن كثير في تفسيره لهذه السورة القصص بالتفصيل ويستخرج منها العبر، كبيان ما أنعم الله به على داود وسليمان من العلم والنبوة والملك، وكيف قابلا ذلك بالشكر. وفي المقابل، يذكر عاقبة قوم صالح وقوم لوط الذين كذبوا وكفروا فكان مصيرهم الدمار.`,source:"عامة كتب التفسير"}]},{surahId:28,surahName:"سورة القصص",stories:[{ayahRange:"85",shortSummary:"نزلت الآية على النبي صلى الله عليه وسلم وهو في طريقه مهاجرًا من مكة إلى المدينة، تبشره بالعودة إلى مكة فاتحًا.",detailedVersion:`**التفسير المفصل:**
عندما خرج النبي صلى الله عليه وسلم من مكة مهاجرًا، ووصل إلى مكان يسمى 'الجحفة'، اشتاق إلى بلده مكة وحزن لفراقها، فنزل عليه جبريل عليه السلام بهذه الآية: (إِنَّ الَّذِي فَرَضَ عَلَيْكَ الْقُرْآنَ لَرَادُّكَ إِلَىٰ مَعَادٍ)، أي أن الذي كلفك بتبليغ القرآن، سيردك إلى مكة ظافرًا منتصرًا. فكانت هذه الآية بشارة عظيمة ووعدًا صادقًا تحقق يوم فتح مكة.

**تفسير ابن كثير:**
قال ابن عباس: (لرادك إلى معاد) أي: إلى مكة. وهذا من أعظم دلائل النبوة، حيث أخبره الله بخروجه من مكة وعودته إليها وهو في بداية هجرته مطاردًا، وقد تحقق هذا الوعد كما أخبر.`,source:"أسباب النزول للسيوطي، تفسير ابن كثير"}]},{surahId:29,surahName:"سورة العنكبوت",stories:[{ayahRange:"1-3",shortSummary:"نزلت في بعض المسلمين الذين أسلموا في مكة، فلما تعرضوا للأذى والفتنة من المشركين، ظنوا أن هذا سيستمر، فنزلت الآية لتصبرهم.",detailedVersion:`**التفسير المفصل:**
لما أسلم بعض الناس في مكة، تعرضوا لابتلاءات وفتن شديدة من المشركين ليصدوهم عن دينهم. فكان بعضهم يتألم ويظن أن الإيمان لا يتطلب هذا العناء. فأنزل الله تعالى: (أَحَسِبَ النَّاسُ أَن يُتْرَكُوا أَن يَقُولُوا آمَنَّا وَهُمْ لَا يُفْتَنُونَ)، لبيان أن الابتلاء سنة إلهية لتمحيص المؤمنين وتمييز الصادق من الكاذب، وأن الإيمان ليس مجرد كلمة تقال باللسان.

**تفسير ابن كثير:**
قوله تعالى: (أحسب الناس أن يتركوا...) استفهام إنكار، ومعناه: أن الله سبحانه وتعالى لا بد أن يبتلي عباده المؤمنين بحسب ما عندهم من الإيمان، كما جاء في الحديث الصحيح: 'أشد الناس بلاء الأنبياء ثم الصالحون، ثم الأمثل فالأمثل، يبتلى الرجل على حسب دينه، فإن كان في دينه صلابة زيد في بلائه'.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:30,surahName:"سورة الروم",stories:[{ayahRange:"1-4",shortSummary:"نزلت الآيات بعد هزيمة الروم (أهل كتاب) من الفرس (مجوس)، فحزن المسلمون وفرح المشركون، فبشر القرآن بانتصار الروم خلال بضع سنين.",detailedVersion:`**التفسير المفصل:**
كانت هناك حرب بين الروم والفرس، وكان الروم أهل كتاب (نصارى) والفرس مجوس (يعبدون النار). انتصر الفرس انتصارًا ساحقًا، ففرح مشركو مكة وقالوا للمسلمين: 'أنتم والنصارى أهل كتاب، ونحن والفرس أميون، وقد ظهر إخواننا على إخوانكم، ولنظهرن نحن عليكم'. فحزن المسلمون لذلك، فأنزل الله هذه الآيات التي تبشر بانتصار الروم في المستقبل القريب (في بضع سنين)، وقد تحقق هذا الوعد الإلهي المعجز.

**تفسير ابن كثير:**
كان المشركون يحبون أن تظهر فارس على الروم لأنهم أهل أوثان مثلهم، وكان المسلمون يحبون أن تظهر الروم على فارس لأنهم أهل كتاب. فراهن أبو بكر الصديق المشركين على أن الروم ستنتصر، وتحقق ذلك كما أخبر القرآن، فكان من دلائل صدقه.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:31,surahName:"سورة لقمان",stories:[{ayahRange:"6",shortSummary:"نزلت في النضر بن الحارث الذي كان يشتري كتب الأعاجم وقصصهم ليصد الناس عن سماع القرآن.",detailedVersion:`**التفسير المفصل:**
كان النضر بن الحارث من أشد أعداء الإسلام في مكة. سافر إلى بلاد فارس وتعلم أخبار ملوكهم وقصصهم، ثم عاد إلى مكة. فكان إذا جلس النبي صلى الله عليه وسلم مجلسًا يدعو فيه إلى الله ويتلو القرآن، يقوم النضر بعده ويقول: 'أنا والله يا معشر قريش أحسن حديثًا منه، هلموا فأنا أحدثكم أحسن من حديثه'، ثم يحدثهم عن ملوك فارس. فأنزل الله فيه: (وَمِنَ النَّاسِ مَن يَشْتَرِي لَهْوَ الْحَدِيثِ لِيُضِلَّ عَن سَبِيلِ اللَّهِ بِغَيْرِ عِلْمٍ).

**تفسير ابن كثير:**
قال ابن عباس: (لهو الحديث) هو الغناء وأشباهه. وقال مجاهد: هو الغناء أو كل لهو. والآية نزلت في النضر بن الحارث، كان يشتري كتبًا فيها أخبار العجم ويحدث بها قريشًا ليصدهم عن سماع القرآن.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:32,surahName:"سورة السجدة",stories:[{ayahRange:"16",shortSummary:"نزلت في فضل قيام الليل، في أناس من الصحابة كانوا يصلون ما بين المغرب والعشاء.",detailedVersion:`**التفسير المفصل:**
نزلت هذه الآية: (تَتَجَافَىٰ جُنُوبُهُمْ عَنِ الْمَضَاجِعِ يَدْعُونَ رَبَّهُمْ خَوْفًا وَطَمَعًا) في مدح الذين يقومون من فرشهم في الليل للصلاة والدعاء، تاركين لذة النوم لمناجاة ربهم. قال أنس بن مالك: نزلت في انتظار الصلاة التي تدعى العتمة (صلاة العشاء). وقال آخرون: نزلت في صلاة التطوع بين المغرب والعشاء، وفي قيام الليل بشكل عام.

**تفسير ابن كثير:**
يعني بذلك قيام الليل وترك النوم والاضطجاع على الفرش الوطيئة. قال أنس: كانوا يتنفلون ما بين المغرب والعشاء. وهذا يدل على فضل التهجد وقيام الليل، وهو من أعظم صفات المؤمنين المتقين.`,source:"لباب النقول للسيوطي"}]},{surahId:33,surahName:"سورة الأحزاب",stories:[{ayahRange:"37",shortSummary:"نزلت هذه الآية في قصة زواج النبي صلى الله عليه وسلم من زينب بنت جحش بعد طلاقها من زيد بن حارثة، لإبطال عادة التبني.",detailedVersion:`**التفسير المفصل:**
كان زيد بن حارثة متبنى للنبي صلى الله عليه وسلم قبل الإسلام وكان يُدعى زيد بن محمد. زوّجه النبي من ابنة عمته زينب بنت جحش. حدثت مشاكل بينهما أدت إلى طلاقها. فأمر الله نبيه بالزواج منها لإبطال عادة التبني وآثارها، حيث كان العرب يحرمون زواج الرجل من مطلقة ابنه بالتبني. وكان النبي يخشى قول الناس 'تزوج محمد امرأة ابنه'، فأنزل الله الآية تعاتبه عتابًا لطيفًا وتعلن أن قضاء الله نافذ.

**تفسير ابن كثير:**
كان رسول الله صلى الله عليه وسلم قد تبنى زيد بن حارثة قبل النبوة، فكان يقال له: زيد بن محمد. فأراد الله تعالى أن يقطع هذا التحريم وهذا الإلحاق، بقوله (وما جعل أدعياءكم أبناءكم). ثم لما طلقها زيد، أمره الله أن يتزوجها، وكان يخشى من قالة الناس، فأنزل الله هذه الآية.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:34,surahName:"سورة سبأ",stories:[{ayahRange:"3",shortSummary:"نزلت ردًا على إنكار المشركين ليوم القيامة والبعث.",detailedVersion:`**التفسير المفصل:**
كان كفار قريش ينكرون قيام الساعة والبعث بعد الموت، ويقولون استهزاءً: (لَا تَأْتِينَا السَّاعَةُ). فأنزل الله تعالى هذه الآية وأمر نبيه أن يقسم بربه على أن الساعة آتية لا ريب فيها، وأن علم الله محيط بكل شيء، صغير أو كبير، في السماوات والأرض، وأن كل ذلك مسجل في كتاب مبين.

**تفسير ابن كثير:**
هذا إخبار عن الكفار في استبعادهم وقوع الساعة. فأمر الله تعالى رسوله صلى الله عليه وسلم أن يقسم بربه على وقوعها وحصولها، فقال: (قل بلى وربي لتأتينكم)، وهو الله الذي لا يخفى عليه شيء، بل يعلم كل ما في السماوات والأرض.`,source:"عامة كتب التفسير"}]},{surahId:35,surahName:"سورة فاطر",stories:[{ayahRange:"1-45",shortSummary:"سورة فاطر مكية، تركز على دلائل قدرة الله في الخلق، ووظيفة الملائكة، وعاقبة الكافرين، وليس لها سبب نزول معين.",detailedVersion:`**التفسير المفصل:**
لم يرد سبب نزول خاص بسورة فاطر. السورة تتناول موضوعات العقيدة الأساسية. تبدأ ببيان عظمة خلق الله للسماوات والأرض، وخلقه للملائكة كرسل أولي أجنحة، مما يدل على قدرته. وتذكر الناس بفقرهم إلى الله وغناه عنهم، وتؤكد على صدق وعد الله بالبعث، وتحذر من فتنة الدنيا والشيطان. كما تضرب الأمثال لبيان الفرق بين المؤمن والكافر، وتختم ببيان حلم الله وصبره على عباده.

**تفسير ابن كثير:**
يقول ابن كثير عند تفسير مطلع السورة: يمدح تبارك وتعالى نفسه الكريمة على خلقه السماوات والأرض، وأنه جاعل الملائكة رسلاً إلى الأنبياء أو في تنفيذ أوامره الكونية. ويشرح معنى (أولي أجنحة مثنى وثلاث ورباع) بأن منهم من له جناحان ومنهم ثلاثة ومنهم أربعة، ومنهم أكثر من ذلك كما جاء في الحديث أن جبريل له ستمائة جناح.`,source:"عامة كتب التفسير"}]},{surahId:36,surahName:"سورة يس",stories:[{ayahRange:"78-79",shortSummary:"نزلت في أُبيّ بن خلف الذي جاء إلى النبي بعظم بالٍ وفتته، وسأله مستهزئًا: من يحيي العظام وهي رميم؟",detailedVersion:`**التفسير المفصل:**
جاء المشرك أُبيّ بن خلف إلى رسول الله صلى الله عليه وسلم وفي يده عظم قد بلي وتفتت، ففته في وجه النبي وقال: 'يا محمد، أتزعم أن الله يبعث هذا بعدما أرم؟'. فقال النبي صلى الله عليه وسلم: 'نعم، يبعثه الله ويميتك ثم يدخلك النار'. فأنزل الله تعالى: (وَضَرَبَ لَنَا مَثَلًا وَنَسِيَ خَلْقَهُ ۖ قَالَ مَن يُحْيِي الْعِظَامَ وَهِيَ رَمِيمٌ * قُلْ يُحْيِيهَا الَّذِي أَنشَأَهَا أَوَّلَ مَرَّةٍ ۖ وَهُوَ بِكُلِّ خَلْقٍ عَلِيمٌ).

**تفسير ابن كثير:**
روي عن ابن عباس وغيره أن أبي بن خلف جاء إلى رسول الله صلى الله عليه وسلم بعظم رميم، ففته بين يديه، وقال... فنزلت هذه الآيات. والجواب هو أن الذي خلق الإنسان من العدم قادر على إعادته بعد أن يصبح عظامًا بالية، فالإعادة أهون من الابتداء.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:37,surahName:"سورة الصافات",stories:[{ayahRange:"1-182",shortSummary:"سورة مكية، تركز على وحدانية الله، والبعث، وقصص الأنبياء، وليس لها سبب نزول خاص.",detailedVersion:`**التفسير المفصل:**
لم يرد سبب نزول محدد لسورة الصافات. السورة تبدأ بالقسم بالملائكة على أن الله واحد، ثم تنتقل إلى مشاهد يوم القيامة وعاقبة الكافرين ونعيم المؤمنين. وتحكي بالتفصيل أجزاء من قصص نوح وإبراهيم وموسى وهارون وإلياس ولوط ويونس عليهم السلام، لتثبيت المؤمنين وإنذار المشركين. وتختم بتنزيه الله تعالى عما يصفه به الكافرون، والسلام على المرسلين، والحمد لله رب العالمين.

**تفسير ابن كثير:**
يذكر ابن كثير الأقوال في تفسير القسم في أول السورة، ويرجح أنها الملائكة. ثم يشرح أحوال أهل النار وحوارهم مع من أضلوهم، وأحوال أهل الجنة ونعيمهم، ويستعرض قصص الأنبياء المذكورين في السورة بالتفصيل، مبينًا العبر المستفادة من كل قصة.`,source:"عامة كتب التفسير"}]},{surahId:38,surahName:"سورة ص",stories:[{ayahRange:"1-8",shortSummary:"نزلت في وفد من زعماء قريش جاءوا إلى أبي طالب في مرضه، يطلبون منه أن يكف ابن أخيه عن سب آلهتهم، فتعجبوا من دعوته لتوحيد الله.",detailedVersion:`**التفسير المفصل:**
لما مرض أبو طالب، دخل عليه أشراف قريش، وقالوا: يا أبا طالب، إنك منا حيث قد علمت، وقد حضرك ما ترى، وإن ابن أخيك هذا يسب آلهتنا، فادعه ومره أن يكف عنا. فدعاه النبي صلى الله عليه وسلم، وعرض عليه أبو طالب ما قالوا. فقال النبي: 'أرأيتم إن أعطيتكم كلمة واحدة ملكتم بها العرب ودانت لكم بها العجم؟' فقال أبو جهل: نعم وأبيك وعشر كلمات. قال: 'تقولون لا إله إلا الله'. فقاموا فزعين وهم يقولون: (أَجَعَلَ الْآلِهَةَ إِلَٰهًا وَاحِدًا ۖ إِنَّ هَٰذَا لَشَيْءٌ عُجَابٌ). فنزلت الآيات فيهم.

**تفسير ابن كثير:**
روى الإمام أحمد عن ابن عباس، قال: لما مرض أبو طالب دخل عليه رهط من قريش... فذكر القصة. فكان نزول هذه الآيات تعقيبًا على هذا الموقف الذي أظهر عنادهم واستكبارهم عن قبول الحق.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:39,surahName:"سورة الزمر",stories:[{ayahRange:"53",shortSummary:"نزلت في أناس من المشركين قتلوا وزنوا كثيرًا، ثم أتوا النبي يسألون هل لهم من توبة، فنزلت الآية تبشر بسعة رحمة الله.",detailedVersion:`**التفسير المفصل:**
روى ابن عباس أن ناسًا من أهل الشرك كانوا قد قتلوا فأكثروا، وزنوا فأكثروا، فأتوا محمدًا صلى الله عليه وسلم فقالوا: إن الذي تقول وتدعو إليه لحسن، لو تخبرنا أن لما عملنا كفارة. فنزلت هذه الآية: (قُلْ يَا عِبَادِيَ الَّذِينَ أَسْرَفُوا عَلَىٰ أَنفُسِهِمْ لَا تَقْنَطُوا مِن رَّحْمَةِ اللَّهِ ۚ إِنَّ اللَّهَ يَغْفِرُ الذُّنُوبَ جَمِيعًا ۚ إِنَّهُ هُوَ الْغَفُورُ الرَّحِيمُ). وهي أرجى آية في القرآن، تفتح باب الأمل والتوبة لكل عاصٍ مهما بلغت ذنوبه.

**تفسير ابن كثير:**
هذه الآية الكريمة دعوة لجميع العصاة من الكفرة وغيرهم إلى التوبة والإنابة، وإخبار بأن الله تبارك وتعالى يغفر الذنوب جميعًا لمن تاب منها ورجع عنها، وإن كانت مهما كانت، وإن كثرت وكانت مثل زبد البحر.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:40,surahName:"سورة غافر",stories:[{ayahRange:"28",shortSummary:"نزلت في قصة مؤمن آل فرعون الذي كان يكتم إيمانه ويدافع عن موسى عليه السلام.",detailedVersion:`**التفسير المفصل:**
عندما دعا موسى عليه السلام فرعون وقومه إلى توحيد الله، كذبوه وأرادوا قتله. فقام رجل من آل فرعون كان قد آمن بموسى سرًا، يدافع عنه ويحذر قومه من عاقبة قتل الأنبياء. فقال لهم: (أَتَقْتُلُونَ رَجُلًا أَن يَقُولَ رَبِّيَ اللَّهُ وَقَدْ جَاءَكُم بِالْبَيِّنَاتِ مِن رَّبِّكُمْ). لم يرد سبب نزول خاص لهذه الآية، بل هي جزء من قصة موسى التي قصها القرآن للعبرة وتثبيت المؤمنين.

**تفسير ابن كثير:**
هذا الرجل هو مؤمن آل فرعون، كان قبطيًا، وكان يكتم إيمانه عن قومه خوفًا منهم. فلما عزم فرعون على قتل موسى، لم يجد الرجل بدًا من إظهار إيمانه والدفاع عن نبي الله. قال ابن عباس: لم يؤمن من آل فرعون إلا هذا الرجل وامرأة فرعون.`,source:"عامة كتب التفسير"}]},{surahId:41,surahName:"سورة فصلت",stories:[{ayahRange:"30",shortSummary:"نزلت تبشر المؤمنين الذين استقاموا على التوحيد بأن الملائكة تتنزل عليهم عند الموت وفي القبر ويوم القيامة لتثبيتهم وتبشيرهم بالجنة.",detailedVersion:`**التفسير المفصل:**
ليس لهذه الآية سبب نزول محدد بحادثة، بل هي بيان لحال المؤمنين المستقيمين على طاعة الله وجزائهم. معنى قوله تعالى: (إِنَّ الَّذِينَ قَالُوا رَبُّنَا اللَّهُ ثُمَّ اسْتَقَامُوا) أي أخلصوا العمل لله وعملوا بطاعته على ما شرع لهم. (تَتَنَزَّلُ عَلَيْهِمُ الْمَلَائِكَةُ) أي عند الموت، يقولون لهم: (أَلَّا تَخَافُوا) مما تقدمون عليه من أمر الآخرة، (وَلَا تَحْزَنُوا) على ما خلفتموه من أمر الدنيا من ولد وأهل ومال، (وَأَبْشِرُوا بِالْجَنَّةِ الَّتِي كُنتُمْ تُوعَدُونَ).

**تفسير ابن كثير:**
يقول تعالى: إن الذين وحدوا الله واستقاموا على أمره، تتنزل عليهم الملائكة عند الاحتضار لتبشرهم وتؤمنهم من الخوف والفزع، وتعدهم بالجنة، وتخبرهم بأنهم كانوا أولياءهم في الدنيا وسيكونون معهم في الآخرة.`,source:"عامة كتب التفسير"}]},{surahId:42,surahName:"سورة الشورى",stories:[{ayahRange:"23",shortSummary:"نزلت ردًا على سؤال بعض الصحابة عن كيفية مكافأة النبي على هدايته لهم، فأمرهم الله بمودة أقاربه.",detailedVersion:`**التفسير المفصل:**
قال الصحابة: يا رسول الله، لو كان هذا الذي جئتنا به تريد به مالاً جمعنا لك من أموالنا. فأنزل الله تعالى: (قُل لَّا أَسْأَلُكُمْ عَلَيْهِ أَجْرًا إِلَّا الْمَوَدَّةَ فِي الْقُرْبَىٰ). اختلف المفسرون في معنى (القربى)، والقول الأرجح عن ابن عباس هو: إلا أن تصلوا قرابتي منكم، أي لا تؤذوني لقرابتي بكم يا معشر قريش. وقيل المعنى: أن تودوا قرابتي وعترتي وتحفظوني فيهم.

**تفسير ابن كثير:**
روى البخاري عن ابن عباس أنه سئل عن هذه الآية، فقال سعيد بن جبير: قربى آل محمد صلى الله عليه وسلم. فقال ابن عباس: عجلت، إن النبي صلى الله عليه وسلم لم يكن بطن من قريش إلا كان له فيهم قرابة، فقال: إلا أن تصلوا ما بيني وبينكم من القرابة. وهذا هو القول الراجح.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:43,surahName:"سورة الزخرف",stories:[{ayahRange:"31",shortSummary:"نزلت الآية حكاية لقول كفار مكة الذين اعترضوا على نبوة محمد صلى الله عليه وسلم، واقترحوا أن ينزل القرآن على رجل عظيم من مكة أو الطائف.",detailedVersion:`**التفسير المفصل:**
اعترض زعماء قريش على اختيار الله لمحمد صلى الله عليه وسلم ليكون نبيًا، لأنه كان يتيمًا وفقيرًا في نظرهم. فقالوا: (لَوْلَا نُزِّلَ هَٰذَا الْقُرْآنُ عَلَىٰ رَجُلٍ مِّنَ الْقَرْيَتَيْنِ عَظِيمٍ)، أي هلا نزل على رجل غني وذي جاه من مكة (كالوليد بن المغيرة) أو من الطائف (كعروة بن مسعود الثقفي). فنزلت الآية تحكي قولهم وترد عليهم في الآية التي تليها: (أَهُمْ يَقْسِمُونَ رَحْمَتَ رَبِّكَ).

**تفسير ابن كثير:**
يخبر تعالى عن المشركين في قولهم هذا، اعتراضًا على من أنزل عليه الكتاب. يعنون بالرجل العظيم من القريتين الوليد بن المغيرة من مكة، أو عروة بن مسعود الثقفي من الطائف. فرد الله عليهم بأن هذا الأمر ليس إليهم، بل الله أعلم حيث يجعل رسالته.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:44,surahName:"سورة الدخان",stories:[{ayahRange:"10-16",shortSummary:"نزلت الآيات في شأن الجوع الشديد والقحط الذي أصاب قريشًا بدعوة النبي صلى الله عليه وسلم عليهم.",detailedVersion:`**التفسير المفصل:**
لما استعصت قريش على النبي صلى الله عليه وسلم، دعا عليهم قائلاً: 'اللهم أعني عليهم بسبع كسبع يوسف'. فأصابهم قحط وجوع شديد حتى أكلوا الجيف والعظام، وكان الرجل يرى ما بينه وبين السماء كهيئة الدخان من شدة الجهد. فأتوا النبي صلى الله عليه وسلم وطلبوا منه أن يدعو الله ليكشف عنهم العذاب، ووعدوا بالإيمان. فدعا لهم، فلما كشف عنهم عادوا إلى كفرهم. فتوعدهم الله بالبطشة الكبرى يوم بدر.

**تفسير ابن كثير:**
روى البخاري عن ابن مسعود قال: إن قريشًا لما استعصوا على النبي، دعا عليهم بسنين كسني يوسف، فأصابهم قحط وجهد حتى أكلوا العظام، فجعل الرجل ينظر إلى السماء فيرى ما بينه وبينها كهيئة الدخان من الجهد. فأنزل الله (فارتقب يوم تأتي السماء بدخان مبين).`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:45,surahName:"سورة الجاثية",stories:[{ayahRange:"23",shortSummary:"نزلت فيمن يعبد هواه ويتبع ما يشتهيه دون هدى من الله، وقيل نزلت في شخص معين من المشركين.",detailedVersion:`**التفسير المفصل:**
نزلت هذه الآية: (أَفَرَأَيْتَ مَنِ اتَّخَذَ إِلَٰهَهُ هَوَاهُ) في كل من يقدم هواه ورغباته على طاعة الله. فكلما استحسن شيئًا وهواه، فعله غير مكترث أيرضي الله أم يسخطه. وقيل إنها نزلت في الحارث بن قيس، أحد المستهزئين، الذي كان يعبد ما يستحسنه، فإذا رأى حجرًا أفضل من الذي يعبده، رمى الأول وعبد الثاني.

**تفسير ابن كثير:**
أي: إنما يأتمر بهواه، فمهما رآه حسنا فعله، ومهما رآه قبيحا تركه، وهذا هو معنى اتخاذ الهوى إلهًا. ولهذا قال تعالى: (وأضله الله على علم)، أي مع علمه بأنه لا يستحق الهداية.`,source:"لباب النقول للسيوطي"}]},{surahId:46,surahName:"سورة الأحقاف",stories:[{ayahRange:"29",shortSummary:"نزلت الآية في قصة نفر من الجن استمعوا إلى القرآن من النبي صلى الله عليه وسلم وهو يصلي ببطن نخلة، فآمنوا به وعادوا إلى قومهم منذرين.",detailedVersion:`**التفسير المفصل:**
عندما كان النبي صلى الله عليه وسلم عائدًا من الطائف حزينًا بعد أن صده أهلها، نزل بمكان يسمى 'بطن نخلة' وقام يصلي في جوف الليل. فصرف الله إليه سبعة نفر من جن 'نصيبين'، فاستمعوا لقراءته وأعجبوا بالقرآن. فلما انتهى من صلاته، آمنوا به وعادوا إلى قومهم دعاة إلى الإسلام. فنزلت هذه الآيات تحكي قصتهم.

**تفسير ابن كثير:**
روى البخاري عن ابن عباس قال: انطلق رسول الله صلى الله عليه وسلم في طائفة من أصحابه عامدين إلى سوق عكاظ، وقد حيل بين الشياطين وبين خبر السماء. فرجعت الشياطين إلى قومهم، فقالوا: ما لكم؟ فقالوا: حيل بيننا وبين خبر السماء. قالوا: ما حال بينكم إلا شيء حدث، فاضربوا مشارق الأرض ومغاربها. فمر النفر الذين توجهوا نحو تهامة بالنبي صلى الله عليه وسلم وهو بنخلة يصلي بأصحابه صلاة الفجر، فلما سمعوا القرآن استمعوا له، فقالوا: هذا الذي حال بينكم وبين خبر السماء. فرجعوا إلى قومهم فقالوا: (يا قومنا إنا سمعنا قرآنا عجبا).`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:47,surahName:"سورة محمد",stories:[{ayahRange:"1-47",shortSummary:"سورة مدنية، تعرف بسورة القتال، تركز على أحكام الجهاد والفرق بين المؤمنين والكافرين، وليس لها سبب نزول واحد.",detailedVersion:`**التفسير المفصل:**
سورة محمد نزلت في المدينة بعد الهجرة، وموضوعها الرئيسي هو القتال في سبيل الله. لم يرد لها سبب نزول شامل، بل نزلت آياتها متفرقة تعالج شؤون الدولة الإسلامية الناشئة وعلاقتها بأعدائها. تبدأ السورة بمقارنة مصير الكفار الذين صدوا عن سبيل الله، ومصير المؤمنين الذين آمنوا وعملوا الصالحات. وتتضمن أحكامًا واضحة حول التعامل مع الأسرى في الحرب، وتحث على الإنفاق في سبيل الله، وتحذر من النفاق والتردد في الجهاد.

**تفسير ابن كثير:**
يذكر ابن كثير أن هذه السورة تبين حال الكافرين الذين كفروا وصدوا عن سبيل الله، وكيف أن الله أبطل أعمالهم. وفي المقابل، المؤمنون الذين آمنوا بما نزل على محمد، كفر الله عنهم سيئاتهم وأصلح بالهم. ثم تتوالى الآيات في الحث على قتال الكفار والإثخان فيهم.`,source:"عامة كتب التفسير"}]},{surahId:48,surahName:"سورة الفتح",stories:[{ayahRange:"1-3",shortSummary:"نزلت السورة على النبي صلى الله عليه وسلم بعد عودته من صلح الحديبية، تبشره بأن هذا الصلح هو فتح مبين.",detailedVersion:`**التفسير المفصل:**
في السنة السادسة للهجرة، خرج النبي صلى الله عليه وسلم مع 1400 من أصحابه متجهين إلى مكة لأداء العمرة. منعتهم قريش من الدخول، وجرت مفاوضات انتهت بـ'صلح الحديبية'. كانت بعض شروط الصلح تبدو في ظاهرها مجحفة للمسلمين، فحزنوا لذلك حزنًا شديدًا. وفي طريق العودة إلى المدينة، أنزل الله تعالى هذه السورة: (إِنَّا فَتَحْنَا لَكَ فَتْحًا مُّبِينًا)، معتبرًا هذا الصلح فتحًا عظيمًا، لما ترتب عليه من اعتراف قريش بالمسلمين، وتفرغهم للدعوة، ودخول الناس في دين الله أفواجًا.

**تفسير ابن كثير:**
روى الإمام أحمد عن أنس بن مالك، قال: نزلت على النبي صلى الله عليه وسلم (إنا فتحنا لك فتحا مبينا) مرجعه من الحديبية. فقال أصحابه: هنيئًا مريئًا، فما لنا؟ فأنزل الله (ليدخل المؤمنين والمؤمنات جنات).`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:49,surahName:"سورة الحجرات",stories:[{ayahRange:"1-2",shortSummary:"نزلت الآيات لتعليم الصحابة أدب الحديث مع النبي صلى الله عليه وسلم، بعد أن رفع أبو بكر وعمر أصواتهما عنده.",detailedVersion:`**التفسير المفصل:**
قدم وفد من بني تميم على النبي صلى الله عليه وسلم، فأشار أبو بكر بتأمير القعقاع بن معبد، وأشار عمر بتأمير الأقرع بن حابس. فتجادلا حتى ارتفعت أصواتهما في حضرة النبي. فأنزل الله تعالى: (يَا أَيُّهَا الَّذِينَ آمَنُوا لَا تُقَدِّمُوا بَيْنَ يَدَيِ اللَّهِ وَرَسُولِهِ) و (يَا أَيُّهَا الَّذِينَ آمَنُوا لَا تَرْفَعُوا أَصْوَاتَكُمْ فَوْقَ صَوْتِ النَّبِيِّ...). فكان أبو بكر بعد ذلك يكلم النبي كأخي السرار، وكان عمر لا يُسمع النبي كلامه حتى يستفهمه.

**تفسير ابن كثير:**
قال البخاري: كاد الخيّران أن يهلكا، أبو بكر وعمر، رفعا أصواتهما عند النبي صلى الله عليه وسلم حين قدم عليه ركب بني تميم... فأنزل الله (يا أيها الذين آمنوا لا ترفعوا أصواتكم).`,source:"أسباب النزول للواحدي، تفسير ابن كثير"},{ayahRange:"6",shortSummary:"نزلت في الوليد بن عقبة حين أرسله النبي لجمع الزكاة من بني المصطلق، فرجع وأخبر أنهم ارتدوا ومنعوا الزكاة، وكان خبره غير صحيح.",detailedVersion:`**التفسير المفصل:**
بعث النبي الوليد بن عقبة إلى بني المصطلق ليأخذ منهم الصدقات، فلما سمعوا به خرجوا لاستقباله، فخاف منهم وظن أنهم يريدون قتله، فرجع إلى النبي وأخبره أنهم منعوا الصدقة وأرادوا قتله. فغضب النبي وهمّ أن يرسل إليهم جيشًا. فبينما هو كذلك، قدم وفدهم على النبي وقالوا: 'يا رسول الله، سمعنا برسولك فخرجنا نكرمه ونؤدي إليه ما قبلنا من حق الله، فرجع'. فأنزل الله الآية تعلم المسلمين وجوب التثبت من الأخبار قبل الحكم عليها.

**تفسير ابن كثير:**
ذكر كثير من المفسرين أن هذه الآية نزلت في الوليد بن عقبة بن أبي معيط، حين بعثه رسول الله صلى الله عليه وسلم على صدقات بني المصطلق.`,source:"لباب النقول للسيوطي، تفسير ابن كثير"}]},{surahId:50,surahName:"سورة ق",stories:[{ayahRange:"1-45",shortSummary:"سورة مكية، تتناول قضية البعث والنشور بشكل رئيسي، وكان النبي يقرأ بها في الخطب والأعياد لأهميتها.",detailedVersion:`**التفسير المفصل:**
لم يرد سبب نزول خاص لسورة 'ق'. هي من السور المكية التي تركز بقوة على إثبات عقيدة البعث بعد الموت، والرد على منكريها. تبدأ بالقسم بالقرآن المجيد، وتذكر تعجب الكفار من إرسال نبي ومن البعث. ثم تستعرض دلائل القدرة الإلهية في الكون كخلق السماء والأرض والجبال والنبات، كدليل على أن من خلق هذا كله قادر على إعادة الخلق. وتصف أهوال الموت وسكراته، ومشاهد يوم القيامة. كان النبي صلى الله عليه وسلم يكثر من قراءتها في المحافل الكبرى كالجمع والأعياد لتذكير الناس بهذا اليوم العظيم.

**تفسير ابن كثير:**
روى الإمام مسلم عن أم هشام بنت حارثة، قالت: ما أخذت (ق والقرآن المجيد) إلا عن لسان رسول الله صلى الله عليه وسلم، يقرؤها كل يوم جمعة على المنبر إذا خطب الناس. وهذا يدل على أهمية هذه السورة في التذكير بأصول الإيمان.`,source:"عامة كتب التفسير، تفسير ابن كثير"}]},{surahId:51,surahName:"سورة الذاريات",stories:[{ayahRange:"1-60",shortSummary:"سورة مكية، محورها الأساسي هو صدق خبر البعث والجزاء، وليس لها سبب نزول معين.",detailedVersion:`**التفسير المفصل:**
لم يرد سبب نزول محدد لسورة الذاريات. تبدأ السورة بالقسم بأنواع من الرياح والملائكة على أن وعد الله بالبعث والحساب حق وواقع لا محالة. ثم تصف حال المتقين في الجنة، وفي المقابل تذكر قصص بعض الأمم المكذبة كقوم إبراهيم ولوط وعاد وثمود وقوم فرعون، لبيان أن سنة الله في إهلاك المكذبين وإنجاء المؤمنين ماضية. وتختم السورة بالتأكيد على أن الهدف من خلق الجن والإنس هو العبادة.

**تفسير ابن كثير:**
يذكر ابن كثير الأقوال المختلفة في تفسير المقسم به في أول السورة (الذاريات، فالحاملات، فالجاريات، فالمقسمات)، ويرجح أنها الرياح والسحاب والسفن والملائكة. ويبين أن جواب القسم هو قوله تعالى (إنما توعدون لصادق وإن الدين لواقع).`,source:"عامة كتب التفسير"}]},{surahId:52,surahName:"سورة الطور",stories:[{ayahRange:"1-49",shortSummary:"سورة مكية، تتناول دلائل التوحيد وصدق الرسالة والبعث، وقد أسلم جبير بن مطعم عند سماعها من النبي.",detailedVersion:`**التفسير المفصل:**
ليس للسورة سبب نزول مباشر، ولكن يروى أن جبير بن مطعم قدم إلى المدينة ليفاوض في أسرى بدر وهو لا يزال مشركًا، فسمع النبي صلى الله عليه وسلم يقرأ سورة الطور في صلاة المغرب، فلما بلغ قوله تعالى: (أَمْ خُلِقُوا مِنْ غَيْرِ شَيْءٍ أَمْ هُمُ الْخَالِقُونَ * أَمْ خَلَقُوا السَّمَاوَاتِ وَالْأَرْضَ ۚ بَل لَّا يُوقِنُونَ)، قال جبير: 'كاد قلبي أن يطير'. فكان ذلك أول ما وقر الإيمان في قلبه. والسورة تقيم الحجج القوية على المشركين وتصف عذابهم ونعيم المؤمنين.

**تفسير ابن كثير:**
روى البخاري عن جبير بن مطعم قال: سمعت النبي صلى الله عليه وسلم يقرأ في المغرب بالطور، فلما بلغ هذه الآية: (أم خلقوا من غير شيء...) إلى آخرها، كاد قلبي أن يطير. وهذا يدل على قوة تأثير القرآن وبلاغته في إقامة الحجة.`,source:"لباب النقول للسيوطي، تفسير ابن كثير"}]},{surahId:53,surahName:"سورة النجم",stories:[{ayahRange:"1-18",shortSummary:"نزلت الآيات لتأكيد صدق الوحي الذي ينزل على النبي، وتبرئته مما اتهمه به المشركون من أنه يقول الشعر أو يتلقى من الشياطين.",detailedVersion:`**التفسير المفصل:**
لما اتهم المشركون النبي صلى الله عليه وسلم بأن ما يأتيه من القرآن ليس وحيًا من الله، بل هو شعر أو كهانة أو من إلقاء الشياطين، أنزل الله تعالى هذه السورة التي تبدأ بقسم عظيم (وَالنَّجْمِ إِذَا هَوَىٰ) على أن النبي ما ضل وما غوى، وما ينطق عن هوى نفسه، بل كل ما يقوله هو وحي يوحى إليه. ثم تصف الآيات رؤية النبي لجبريل عليه السلام على صورته الحقيقية، تأكيدًا على مصدر الوحي الإلهي.

**تفسير ابن كثير:**
يقسم تعالى بالنجم عند هويه أي سقوطه، على صحة ما جاء به الرسول من الوحي الإلهي. قال تعالى: (ما ضل صاحبكم) وهو محمد صلى الله عليه وسلم، (وما غوى) أي ليس غاويًا، بل هو راشد على استقامة. (وما ينطق عن الهوى) أي ليس قوله صادرًا عن هوى نفس ورغبة. (إن هو إلا وحي يوحى).`,source:"عامة كتب التفسير، تفسير ابن كثير"}]},{surahId:54,surahName:"سورة القمر",stories:[{ayahRange:"1",shortSummary:"نزلت الآية بعد أن طلب أهل مكة من النبي آية تدل على صدقه، فأراهم انشقاق القمر بأمر الله.",detailedVersion:`**التفسير المفصل:**
اجتمع المشركون في مكة وطلبوا من النبي صلى الله عليه وسلم أن يريهم آية خارقة تثبت نبوته. فسأل ربه، فأشار إلى القمر فانشق فلقتين، فلقة فوق الجبل وفلقة دونه، حتى رأوا جبل حراء بينهما. فقالوا: 'سحرنا محمد'. وقال بعضهم: 'اسألوا المسافرين القادمين، فإن كان السحر لا يؤثر عليهم'. فسألوهم، فأخبروهم أنهم رأوا نفس الشيء. فأنزل الله تعالى: (اقْتَرَبَتِ السَّاعَةُ وَانشَقَّ الْقَمَرُ * وَإِن يَرَوْا آيَةً يُعْرِضُوا وَيَقُولُوا سِحْرٌ مُّسْتَمِرٌّ).

**تفسير ابن كثير:**
هذا قد كان في زمان رسول الله صلى الله عليه وسلم، كما ورد ذلك في الأحاديث المتواترة بالأسانيد الصحيحة. روى البخاري عن أنس بن مالك أن أهل مكة سألوا رسول الله صلى الله عليه وسلم أن يريهم آية، فأراهم القمر شقتين، حتى رأوا حراء بينهما.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:55,surahName:"سورة الرحمن",stories:[{ayahRange:"1-78",shortSummary:"سورة مكية، تعرف بـ'عروس القرآن'، تتحدث عن آلاء الله ونعمه على الخلق في الدنيا والآخرة، وليس لها سبب نزول خاص.",detailedVersion:`**التفسير المفصل:**
لم يرد سبب نزول خاص لسورة الرحمن. هي سورة فريدة في أسلوبها، حيث تتكرر فيها آية (فَبِأَيِّ آلَاءِ رَبِّكُمَا تُكَذِّبَانِ) 31 مرة، في خطاب موجه للإنس والجن. السورة تستعرض نعم الله العظيمة بداية من تعليم القرآن وخلق الإنسان، إلى خلق الشمس والقمر والأرض وما فيها من فاكهة ونخل وحب. ثم تنتقل لوصف مشاهد يوم القيامة، وجزاء المجرمين، ونعيم المؤمنين في جنتين عظيمتين، ثم جنتين دونهما، مع وصف تفصيلي لما فيهما من النعيم.

**تفسير ابن كثير:**
يخبر تعالى عن فضله ورحمته بخلقه أن أنزل على عباده القرآن، ويسر حفظه وفهمه لمن رحمه. وفي الحديث أن النبي صلى الله عليه وسلم قرأها على الجن فكانوا أحسن ردًا من الإنس، كلما قرأ (فبأي آلاء ربكما تكذبان) قالوا: 'ولا بشيء من نعمك ربنا نكذب، فلك الحمد'.`,source:"عامة كتب التفسير، تفسير ابن كثير"}]},{surahId:56,surahName:"سورة الواقعة",stories:[{ayahRange:"1-96",shortSummary:"سورة مكية، تتناول أهوال يوم القيامة وأصناف الناس فيه: السابقون، وأصحاب اليمين، وأصحاب الشمال.",detailedVersion:`**التفسير المفصل:**
ليس للسورة سبب نزول محدد. موضوعها الرئيسي هو يوم القيامة (الواقعة). تصف السورة أحداثه العظيمة، وكيف أنه يقسم الناس إلى ثلاثة أصناف: السابقون المقربون، وأصحاب الميمنة (أهل الجنة)، وأصحاب المشأمة (أهل النار). ثم تفصل في وصف نعيم كل فريق من أهل الجنة، وعذاب أهل النار. وبعد ذلك، تقيم الحجج على إمكانية البعث من خلال لفت النظر إلى خلق الإنسان، وإنزال المطر، وإنبات الزرع، وإيقاد النار، كدليل على قدرة الله.

**تفسير ابن كثير:**
الواقعة من أسماء يوم القيامة، سميت بذلك لتحقق كونها ووقوعها. السورة تفصل أحوال الناس يوم القيامة، وتبدأ بوصف أهوال هذا اليوم. قال ابن عباس: كان عمر بن الخطاب لا يصلي صلاة إلا قرأ فيها بالواقعة ونحوها.`,source:"عامة كتب التفسير"}]},{surahId:57,surahName:"سورة الحديد",stories:[{ayahRange:"16",shortSummary:"نزلت الآية عتابًا للمؤمنين على شيء من الفتور والجفاء الذي أصاب قلوبهم بعد فترة من نزول القرآن.",detailedVersion:`**التفسير المفصل:**
روى عبد الله بن مسعود رضي الله عنه قال: 'ما كان بين إسلامنا وبين أن عاتبنا الله بهذه الآية (أَلَمْ يَأْنِ لِلَّذِينَ آمَنُوا أَن تَخْشَعَ قُلُوبُهُمْ لِذِكْرِ اللَّهِ) إلا أربع سنين'. فالآية نزلت تعاتب الصحابة وتحثهم على تجديد إيمانهم وزيادة خشوع قلوبهم عند سماع القرآن، وتحذرهم من أن يطول عليهم الأمد فتقسو قلوبهم كما قست قلوب أهل الكتاب من قبلهم.

**تفسير ابن كثير:**
يعاتب الله تعالى المؤمنين على عدم الخشوع عند سماع القرآن، وينهاهم أن يتشبهوا باليهود والنصارى في قسوة قلوبهم. وهذا يدل على أهمية المداومة على ذكر الله وتلاوة القرآن لتبقى القلوب لينة خاشعة.`,source:"لباب النقول للسيوطي، تفسير ابن كثير"}]},{surahId:58,surahName:"سورة المجادلة",stories:[{ayahRange:"1-4",shortSummary:"نزلت هذه الآيات في خولة بنت ثعلبة التي جاءت تشتكي زوجها أوس بن الصامت إلى النبي صلى الله عليه وسلم بعد أن ظاهر منها.",detailedVersion:`**التفسير المفصل:**
الظهار هو أن يقول الرجل لزوجته: 'أنتِ عليَّ كظهر أمي'، وكان طلاقًا في الجاهلية. ظاهر أوس بن الصامت من زوجته خولة، فجاءت إلى النبي صلى الله عليه وسلم تجادله وتشتكي إلى الله حالها وحال صغارها. قالت السيدة عائشة: 'تبارك الذي وسع سمعه كل شيء، إني لأسمع كلام خولة بنت ثعلبة ويخفى علي بعضه، وهي تشتكي زوجها إلى رسول الله'. فأنزل الله تعالى: (قَدْ سَمِعَ اللَّهُ قَوْلَ الَّتِي تُجَادِلُكَ فِي زَوْجِهَا وَتَشْتَكِي إِلَى اللَّهِ)، وشرع كفارة الظهار.

**تفسير ابن كثير:**
سبب نزول هذه الآيات قصة المرأة التي ظاهر منها زوجها. قال الإمام أحمد عن عائشة، قالت: الحمد لله الذي وسع سمعه الأصوات، لقد جاءت المجادلة إلى النبي صلى الله عليه وسلم تكلمه وأنا في ناحية البيت ما أسمع ما تقول، فأنزل الله عز وجل: (قد سمع الله قول التي تجادلك في زوجها).`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:59,surahName:"سورة الحشر",stories:[{ayahRange:"1-24",shortSummary:"نزلت السورة بأكملها في غزوة بني النضير، وهم قبيلة من اليهود نقضوا عهدهم مع النبي وحاولوا قتله، فأجلاهم عن المدينة.",detailedVersion:`**التفسير المفصل:**
كان بنو النضير قبيلة يهودية تسكن حول المدينة، وكان بينهم وبين المسلمين عهد. لكنهم نقضوا العهد وتآمروا على قتل النبي صلى الله عليه وسلم. فحاصرهم النبي والمسلمون، وقذف الله في قلوبهم الرعب، فطلبوا الصلح على أن يخرجوا من ديارهم ويأخذوا ما تحمله إبلهم من الأمتعة إلا السلاح. فكانوا يخربون بيوتهم بأيديهم ليأخذوا الأخشاب والأبواب. فأنزل الله السورة تحكي تفاصيل هذه الغزوة، وتبين حكم 'الفيء' (الغنائم التي تؤخذ دون قتال).

**تفسير ابن كثير:**
قال ابن عباس: كانت هذه السورة تسمى سورة بني النضير. روى البخاري عن سعيد بن جبير قال: قلت لابن عباس: سورة الحشر؟ قال: قل سورة النضير. وهذا يدل على أن السورة نزلت خصيصًا في هذه الواقعة.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:60,surahName:"سورة الممتحنة",stories:[{ayahRange:"1",shortSummary:"نزلت في الصحابي حاطب بن أبي بلتعة الذي أرسل رسالة سرية إلى قريش يخبرهم بتجهز النبي لفتح مكة.",detailedVersion:`**التفسير المفصل:**
عندما كان النبي صلى الله عليه وسلم يتجهز سرًا لفتح مكة، كتب الصحابي حاطب بن أبي بلتعة رسالة إلى قريش يحذرهم فيها، وأرسلها مع امرأة. فأخبر الوحي النبي بذلك، فأرسل عليًا والزبير والمقداد فأدركوا المرأة وأخذوا منها الكتاب. استدعى النبي حاطبًا وسأله، فاعتذر بأنه لم يفعل ذلك كفرًا أو ردة، بل أراد أن تكون له يد عند قريش يحمون بها أهله وماله هناك. فصدقه النبي وعفا عنه، ونزلت الآية: (يَا أَيُّهَا الَّذِينَ آمَنُوا لَا تَتَّخِذُوا عَدُوِّي وَعَدُوَّكُمْ أَوْلِيَاءَ).

**تفسير ابن كثير:**
ثبت في الصحيحين أن سبب نزول هذه الآية في قصة حاطب بن أبي بلتعة. وفيها درس عظيم في النهي عن موالاة الكفار، وفي نفس الوقت بيان لسعة عفو النبي وقبوله لأعذار الصادقين.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:61,surahName:"سورة الصف",stories:[{ayahRange:"2-3",shortSummary:"نزلت في بعض المؤمنين الذين كانوا يقولون 'سنفعل كذا وكذا' في الجهاد، ثم لا يفعلون، فعاتبهم الله على مخالفة القول للفعل.",detailedVersion:`**التفسير المفصل:**
اختلف في سبب نزولها. قيل إنها نزلت في قوم من المؤمنين قالوا: لو نعلم أي الأعمال أحب إلى الله لعملناها. فلما فرض الجهاد، كرهه بعضهم وتثاقلوا عنه. وقيل نزلت في قول بعضهم في غزوة أحد: 'سنقاتل حتى الموت'، فلما بدأت المعركة انكشف بعضهم. فأنزل الله تعالى: (يَا أَيُّهَا الَّذِينَ آمَنُوا لِمَ تَقُولُونَ مَا لَا تَفْعَلُونَ * كَبُرَ مَقْتًا عِندَ اللَّهِ أَن تَقُولُوا مَا لَا تَفْعَلُونَ)، وفيها توبيخ شديد لمن يخالف قوله فعله.

**تفسير ابن كثير:**
قال ابن عباس: كان أناس من المؤمنين قبل أن يفرض الجهاد يقولون: لوددنا أن الله عز وجل دلنا على أحب الأعمال إليه فنعمل به. فأخبر الله نبيه أن أحب الأعمال إيمان به وجهاد أهل معصيته. فلما نزل الجهاد، كره ذلك أناس من المؤمنين وشق عليهم. فأنزل الله هذه الآية.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:62,surahName:"سورة الجمعة",stories:[{ayahRange:"9-11",shortSummary:"نزلت الآيات في حادثة انفضاض بعض المسلمين عن خطبة الجمعة وتركهم النبي قائمًا، عندما جاءت قافلة تجارية إلى المدينة.",detailedVersion:`**التفسير المفصل:**
بينما كان النبي صلى الله عليه وسلم يخطب يوم الجمعة، قدمت قافلة تجارية (عير) لدحية الكلبي من الشام، وكان أهل المدينة في حالة غلاء وجوع، فضربوا بالدفوف إعلانًا بقدومها. فخرج كثير من المصلين من المسجد وهرعوا نحو القافلة، ولم يبق مع النبي إلا اثنا عشر رجلاً. فأنزل الله تعالى معاتبًا: (وَإِذَا رَأَوْا تِجَارَةً أَوْ لَهْوًا انفَضُّوا إِلَيْهَا وَتَرَكُوكَ قَائِمًا ۚ قُلْ مَا عِندَ اللَّهِ خَيْرٌ مِّنَ اللَّهْوِ وَمِنَ التِّجَارَةِ).

**تفسير ابن كثير:**
روى الإمام أحمد عن جابر بن عبد الله، قال: أقبلت عير ونحن نصلي مع رسول الله صلى الله عليه وسلم الجمعة، فانفض الناس إليها، فما بقي غير اثني عشر رجلاً، فنزلت هذه الآية.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:63,surahName:"سورة المنافقون",stories:[{ayahRange:"1-8",shortSummary:"نزلت السورة لتفضح زعيم المنافقين عبد الله بن أبي بن سلول بعد قوله في غزوة بني المصطلق: 'لئن رجعنا إلى المدينة ليخرجن الأعز منها الأذل'.",detailedVersion:`**التفسير المفصل:**
في غزوة بني المصطلق، حدثت مناوشة بين رجل من المهاجرين ورجل من الأنصار. فغضب عبد الله بن أبي بن سلول وقال لمن معه من قومه: 'أوقد فعلوها؟ والله لئن رجعنا إلى المدينة ليخرجن الأعز -يقصد نفسه- منها الأذل -يقصد النبي صلى الله عليه وسلم-'. فسمع ذلك الصحابي الشاب زيد بن أرقم وأخبر النبي. فأنكر ابن سلول قوله وحلف بالله ما قال. فأنزل الله سورة المنافقون كاملة، تصدق زيدًا وتكذب ابن سلول وتفضح ما في قلوب المنافقين.

**تفسير ابن كثير:**
روى البخاري عن زيد بن أرقم قال: كنت مع عمي فسمعت عبد الله بن أبي بن سلول يقول: لا تنفقوا على من عند رسول الله حتى ينفضوا. وقال: لئن رجعنا إلى المدينة ليخرجن الأعز منها الأذل. فذكرت ذلك لعمي فذكره للنبي صلى الله عليه وسلم، فدعاني فحدثته، فأنزل الله تصديقي.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:64,surahName:"سورة التغابن",stories:[{ayahRange:"14",shortSummary:"نزلت في قوم من أهل مكة أسلموا وأرادوا الهجرة، فمنعهم أزواجهم وأولادهم، فلما هاجروا لاحقًا وجدوا من سبقهم قد فقه في الدين، فهموا أن يعاقبوا أهليهم.",detailedVersion:`**التفسير المفصل:**
أسلم رجال بمكة وأرادوا أن يهاجروا إلى المدينة، فثبطهم ومنعهم زوجاتهم وأولادهم وقالوا: 'أتذهبون وتتركوننا؟'. فرقوا لهم وجلسوا. فلما هاجروا بعد فترة، وجدوا أن من سبقهم قد تعلموا الكثير من أمور الدين. فأرادوا أن يعاقبوا زوجاتهم وأولادهم الذين كانوا سبب تأخرهم، فأنزل الله تعالى: (يَا أَيُّهَا الَّذِينَ آمَنُوا إِنَّ مِنْ أَزْوَاجِكُمْ وَأَوْلَادِكُمْ عَدُوًّا لَّكُمْ فَاحْذَرُوهُمْ ۚ وَإِن تَعْفُوا وَتَصْفَحُوا وَتَغْفِرُوا فَإِنَّ اللَّهَ غَفُورٌ رَّحِيمٌ)، يحثهم على العفو والصفح.

**تفسير ابن كثير:**
قال ابن عباس: هؤلاء رجال أسلموا من أهل مكة، فأبى أزواجهم وأولادهم أن يدعوهم يأتوا المدينة. فلما أتوا المدينة ورأوا الناس قد فقهوا في الدين، هموا أن يعاقبوهم، فأنزل الله هذه الآية.`,source:"أسباب النزول للسيوطي، تفسير ابن كثير"}]},{surahId:65,surahName:"سورة الطلاق",stories:[{ayahRange:"1",shortSummary:"نزلت في عبد الله بن عمر رضي الله عنهما حين طلق امرأته وهي حائض، فأمره النبي أن يراجعها.",detailedVersion:`**التفسير المفصل:**
طلق عبد الله بن عمر زوجته وهي في فترة حيضها، فذكر عمر بن الخطاب ذلك للنبي صلى الله عليه وسلم، فتغيظ رسول الله وقال: 'مره فليراجعها، ثم ليمسكها حتى تطهر، ثم تحيض فتطهر، ثم إن شاء أمسك بعد وإن شاء طلق قبل أن يمس، فتلك العدة التي أمر الله أن تطلق لها النساء'. وقرأ النبي: (يَا أَيُّهَا النَّبِيُّ إِذَا طَلَّقْتُمُ النِّسَاءَ فَطَلِّقُوهُنَّ لِعِدَّتِهِنَّ).

**تفسير ابن كثير:**
ثبت في الصحيحين أن عبد الله بن عمر طلق امرأته وهي حائض، فسأل عمر عن ذلك، فأمره النبي صلى الله عليه وسلم بمراجعتها. وفي هذا بيان للطريقة الشرعية للطلاق، وهو أن يكون في طهر لم يجامعها فيه.`,source:"لباب النقول للسيوطي، تفسير ابن كثير"}]},{surahId:66,surahName:"سورة التحريم",stories:[{ayahRange:"1",shortSummary:"نزلت الآية عتابًا للنبي صلى الله عليه وسلم عندما حرم على نفسه شيئًا أحله الله له إرضاءً لبعض زوجاته.",detailedVersion:`**التفسير المفصل:**
الرواية الأشهر أن النبي صلى الله عليه وسلم كان يشرب عسلاً عند زوجته زينب بنت جحش، فتواطأت عائشة وحفصة أن تقولا له إذا دخل عليهما: 'إنا نجد منك ريح مغافير' (وهو صمغ كريه الرائحة). فظن النبي أن العسل هو السبب، فأقسم ألا يشربه مرة أخرى، إرضاءً لهما. فأنزل الله تعالى: (يَا أَيُّهَا النَّبِيُّ لِمَ تُحَرِّمُ مَا أَحَلَّ اللَّهُ لَكَ ۖ تَبْتَغِي مَرْضَاتَ أَزْوَاجِكَ ۚ وَاللَّهُ غَفُورٌ رَّحِيمٌ).

**تفسير ابن كثير:**
اختلف في سبب نزول صدر هذه السورة، فقيل في قصة مارية، وقيل في شرب العسل. والصحيح ما رواه البخاري عن عائشة أن النبي صلى الله عليه وسلم كان يمكث عند زينب بنت جحش فيشرب عندها عسلاً، فتواصيت أنا وحفصة أن أيّتنا دخل عليها النبي صلى الله عليه وسلم فلتقل: إني أجد منك ريح مغافير. ففعلت، فحرمه على نفسه، فنزلت الآية.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:67,surahName:"سورة الملك",stories:[{ayahRange:"1-30",shortSummary:"سورة مكية، تتحدث عن كمال ملك الله وقدرته، وهي المانعة من عذاب القبر، وليس لها سبب نزول خاص.",detailedVersion:`**التفسير المفصل:**
لم يرد سبب نزول خاص لسورة الملك. هي سورة عظيمة تبدأ بتمجيد الله الذي بيده الملك وهو على كل شيء قدير، والذي خلق الموت والحياة ليبتلي الناس أيهم أحسن عملاً. وتدعو السورة إلى التفكر في إتقان خلق السماء والكون كدليل على عظمة الخالق. وتحذر الكافرين من عذاب جهنم، وتذكرهم بنعم الله كجعل الأرض سهلة للمشي فيها والأكل من رزقها. وقد ورد في فضلها أحاديث كثيرة، منها أنها تشفع لصاحبها وتنجيه من عذاب القبر.

**تفسير ابن كثير:**
يذكر ابن كثير الأحاديث الواردة في فضل هذه السورة، منها حديث: 'إن سورة من القرآن ثلاثون آية شفعت لرجل حتى غفر له، وهي سورة تبارك الذي بيده الملك'. ويشرح الآيات التي تدل على قدرة الله وعظمته.`,source:"عامة كتب التفسير، تفسير ابن كثير"}]},{surahId:68,surahName:"سورة القلم",stories:[{ayahRange:"1-4",shortSummary:"نزلت في بداية البعثة ردًا على المشركين الذين اتهموا النبي صلى الله عليه وسلم بالجنون.",detailedVersion:`**التفسير المفصل:**
لما جهر النبي صلى الله عليه وسلم بالدعوة، قال كفار قريش عنه: 'إنه مجنون'. فأنزل الله تعالى هذه السورة التي تبدأ بالقسم بالقلم وما يسطره الكُتّاب، لتبرئة النبي من هذه التهمة. فقال تعالى: (ن ۚ وَالْقَلَمِ وَمَا يَسْطُرُونَ * مَا أَنتَ بِنِعْمَةِ رَبِّكَ بِمَجْنُونٍ). ثم أثنى الله على خلقه العظيم فقال: (وَإِنَّكَ لَعَلَىٰ خُلُقٍ عَظِيمٍ).

**تفسير ابن كثير:**
هذا قسم من الله تعالى بالقلم وما يسطر به من الكتابة، على براءة رسوله مما نسبه إليه المشركون من الجنون، ونفي لهذه التهمة الباطلة. وقوله (وإنك لعلى خلق عظيم) هو شهادة من الله لنبيه بكمال أخلاقه.`,source:"أسباب النزول للواحدي"}]},{surahId:69,surahName:"سورة الحاقة",stories:[{ayahRange:"1-52",shortSummary:"سورة مكية، تتناول أهوال يوم القيامة (الحاقة)، ومصير الأمم المكذبة، وتؤكد أن القرآن كلام الله وليس قول شاعر أو كاهن.",detailedVersion:`**التفسير المفصل:**
لم يرد سبب نزول معين للسورة. موضوعها الرئيسي هو القيامة، التي سميت هنا 'الحاقة' لأنها تحق فيها الأمور وتظهر الحقائق. تذكر السورة بإهلاك الأمم السابقة كثمود وعاد وفرعون وقوم لوط، ثم تصف مشاهد القيامة وانقسام الناس إلى من يأخذ كتابه بيمينه ومن يأخذ كتابه بشماله. وفي آخرها، تؤكد السورة بقوة على أن القرآن الكريم هو وحي من الله، وليس قول شاعر كما زعم المشركون، ولا قول كاهن، وتتوعد من يفتري على الله الكذب.

**تفسير ابن كثير:**
الحاقة من أسماء يوم القيامة، لأن فيها يتحقق الوعد والوعيد. يشرح ابن كثير كيف أهلك الله الأمم الطاغية، ثم يصف حال السعداء والأشقياء يوم القيامة، ويؤكد على صدق الرسالة المحمدية في ختام السورة.`,source:"عامة كتب التفسير"}]},{surahId:70,surahName:"سورة المعارج",stories:[{ayahRange:"1",shortSummary:"نزلت الآية ردًا على النضر بن الحارث الذي استعجل العذاب استهزاءً بدعوة النبي.",detailedVersion:`**التفسير المفصل:**
لما بلغ المشركين قول النبي صلى الله عليه وسلم في علي بن أبي طالب يوم غدير خم: 'من كنت مولاه فعلي مولاه'، قال النضر بن الحارث: 'اللهم إن كان هذا هو الحق من عندك فأمطر علينا حجارة من السماء أو ائتنا بعذاب أليم'. فما لبث أن سقط عليه حجر من السماء فقتله. فأنزل الله تعالى: (سَأَلَ سَائِلٌ بِعَذَابٍ وَاقِعٍ).

**تفسير ابن كثير:**
يذكر ابن كثير أن الآية تشير إلى من استعجل عذاب الله. ويقول إن العذاب سيقع حتمًا على الكافرين يوم القيامة، وليس له دافع يدفعه. السورة تصف هذا العذاب وأهواله، ثم تصف صفات المؤمنين الذين ينجون منه.`,source:"أسباب النزول للواحدي"}]},{surahId:71,surahName:"سورة نوح",stories:[{ayahRange:"1-28",shortSummary:"سورة مكية، تحكي قصة دعوة نوح عليه السلام لقومه وصبره الطويل عليهم وإصرارهم على الكفر، تسلية للنبي صلى الله عليه وسلم.",detailedVersion:`**التفسير المفصل:**
لم يرد للسورة سبب نزول خاص، بل نزلت لتحكي قصة أول رسول أُرسل إلى أهل الأرض بعد أن عبدوا الأصنام. تعرض السورة تفاصيل دعوة نوح لقومه ليلاً ونهارًا، سرًا وجهارًا، وكيف استخدم معهم كل أساليب الترغيب والترهيب. لكنهم أصروا على الكفر والعناد. وفي ذلك تسلية للنبي محمد صلى الله عليه وسلم على ما يلقاه من أذى قومه، وبيان أن سنة الله في إهلاك المكذبين وإنجاء المؤمنين واحدة.

**تفسير ابن كثير:**
هذه السورة الكريمة تتضمن قصة نوح عليه السلام من أولها إلى آخرها، وكيف صبر على قومه مدة ألف سنة إلا خمسين عامًا، وكيف أنذروهم من عذاب الله، وفي النهاية كيف أغرقهم الله بالطوفان ونجى نوحًا ومن معه من المؤمنين.`,source:"عامة كتب التفسير"}]},{surahId:72,surahName:"سورة الجن",stories:[{ayahRange:"1",shortSummary:"نزلت السورة لتخبر النبي صلى الله عليه وسلم عن استماع نفر من الجن للقرآن وإيمانهم به.",detailedVersion:`**التفسير المفصل:**
لم يكن النبي صلى الله عليه وسلم يعلم باستماع الجن للقرآن في المرة الأولى. فبينما كان يصلي بأصحابه الفجر في 'بطن نخلة'، استمع إليه نفر من الجن، فلما سمعوا القرآن، قالوا: هذا الذي حال بيننا وبين خبر السماء. فرجعوا إلى قومهم دعاة للإسلام. فأنزل الله تعالى هذه السورة: (قُلْ أُوحِيَ إِلَيَّ أَنَّهُ اسْتَمَعَ نَفَرٌ مِّنَ الْجِنِّ فَقَالُوا إِنَّا سَمِعْنَا قُرْآنًا عَجَبًا)، مخبرًا نبيه بما حدث.

**تفسير ابن كثير:**
روى البخاري ومسلم عن ابن عباس أن النبي صلى الله عليه وسلم انطلق في طائفة من أصحابه إلى سوق عكاظ، وقد حيل بين الشياطين وخبر السماء. فلما استمعوا للقرآن، عرفوا أن هذا هو سبب منعهم، فآمنوا ورجعوا إلى قومهم. فأنزل الله على نبيه خبرهم.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:73,surahName:"سورة المزمل",stories:[{ayahRange:"1-4",shortSummary:"نزلت في بداية البعثة، تأمر النبي صلى الله عليه وسلم بقيام الليل استعدادًا لتحمل أعباء الرسالة.",detailedVersion:`**التفسير المفصل:**
في بداية نزول الوحي، جاء النبي صلى الله عليه وسلم إلى بيته خائفًا يرتجف بعد لقائه الأول بجبريل في غار حراء، وقال لزوجته خديجة: 'زملوني، زملوني' (غطوني). فأنزل الله تعالى: (يَا أَيُّهَا الْمُزَّمِّلُ * قُمِ اللَّيْلَ إِلَّا قَلِيلًا)، يأمره بالقيام للصلاة في الليل، لأنها من أعظم وسائل التثبيت والقوة الروحية التي تعينه على تحمل القول الثقيل (القرآن والدعوة).

**تفسير ابن كثير:**
يأمر الله تعالى رسوله صلى الله عليه وسلم أن يترك التزمل وهو التغطي في الليل، وينهض إلى قيام الليل لمناجاة ربه، كما قال تعالى: (تتجافى جنوبهم عن المضاجع). وهكذا كان رسول الله صلى الله عليه وسلم ممتثلاً لما أمره الله به من قيام الليل.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:74,surahName:"سورة المدثر",stories:[{ayahRange:"1-3",shortSummary:"نزلت بعد فترة انقطاع الوحي (فترة الوحي)، لتأمر النبي بالقيام بالدعوة وإنذار الناس.",detailedVersion:`**التفسير المفصل:**
بعد نزول أول آيات من سورة العلق، انقطع الوحي عن النبي صلى الله عليه وسلم فترة، فحزن لذلك. ثم بينما هو يمشي، رأى جبريل عليه السلام مرة أخرى، فرجع إلى بيته خائفًا وقال: 'دثروني، دثروني' (غطوني). فأنزل الله تعالى: (يَا أَيُّهَا الْمُدَّثِّرُ * قُمْ فَأَنذِرْ * وَرَبَّكَ فَكَبِّرْ). وبهذه الآيات بدأت رسالته صلى الله عليه وسلم للناس كافة، حيث أُمر بالإنذار والدعوة إلى الله.

**تفسير ابن كثير:**
ثبت في الصحيحين عن جابر بن عبد الله أنه سمع رسول الله صلى الله عليه وسلم يحدث عن فترة الوحي، فقال في حديثه: 'فبينا أنا أمشي إذ سمعت صوتا من السماء... فإذا الملك الذي جاءني بحراء... فرجعت فقلت: دثروني'، فأنزل الله تعالى: (يا أيها المدثر * قم فأنذر).`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:75,surahName:"سورة القيامة",stories:[{ayahRange:"16-19",shortSummary:"نزلت الآيات لتعليم النبي صلى الله عليه وسلم كيفية تلقي الوحي، بعد أن كان يحرك شفتيه ولسانه بالقرآن استعجالاً لحفظه.",detailedVersion:`**التفسير المفصل:**
كان النبي صلى الله عليه وسلم إذا نزل عليه جبريل بالوحي، يعالج من تنزيله شدة، وكان يحرك شفتيه ولسانه بالقرآن بسرعة قبل أن ينتهي جبريل، خوفًا من أن ينساه. فأنزل الله تعالى هذه الآيات لتعليمه وتطمينه: (لَا تُحَرِّكْ بِهِ لِسَانَكَ لِتَعْجَلَ بِهِ * إِنَّ عَلَيْنَا جَمْعَهُ وَقُرْآنَهُ)، فوعده الله بأن يجمعه في صدره وييسر له قراءته. فكان بعد ذلك إذا أتاه جبريل، أطرق واستمع، فإذا ذهب قرأه كما وعده الله.

**تفسير ابن كثير:**
هذا تعليم من الله عز وجل لرسوله صلى الله عليه وسلم في كيفية تلقيه الوحي من الملك. روى البخاري عن ابن عباس في قوله: (لا تحرك به لسانك لتعجل به) قال: كان رسول الله صلى الله عليه وسلم يعالج من التنزيل شدة، فكان يحرك شفتيه، فقال لي ابن عباس: فأنا أحركهما لك كما كان رسول الله صلى الله عليه وسلم يحركهما. فأنزل الله هذه الآية.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:76,surahName:"سورة الإنسان",stories:[{ayahRange:"8",shortSummary:"نزلت الآية في مدح علي بن أبي طالب وفاطمة وفضة جاريتهما، حين آثروا بطعامهم مسكينًا ويتيمًا وأسيرًا لمدة ثلاثة أيام متتالية.",detailedVersion:`**التفسير المفصل:**
مرض الحسن والحسين، فنذر علي وفاطمة وفضة صيام ثلاثة أيام إن شفاهما الله. فلما شفاهما الله، صاموا. في اليوم الأول، عند الإفطار، جاءهم مسكين يسأل الطعام، فآثروه بطعامهم وباتوا جائعين. وفي اليوم الثاني، جاءهم يتيم، ففعلوا نفس الشيء. وفي اليوم الثالث، جاءهم أسير، ففعلوا نفس الشيء. فأنزل الله تعالى هذه الآيات تمجيدًا لفعلهم وإخلاصهم: (وَيُطْعِمُونَ الطَّعَامَ عَلَىٰ حُبِّهِ مِسْكِينًا وَيَتِيمًا وَأَسِيرًا).

**تفسير ابن كثير:**
يذكر ابن كثير أن هذه الآية تتحدث عن الأبرار وصفاتهم، ومنها إطعام الطعام مع حبه والحاجة إليه، للفئات الضعيفة في المجتمع. ويذكر أنهم يفعلون ذلك لوجه الله وحده، لا يطلبون جزاءً ولا شكورًا.`,source:"أسباب النزول للواحدي"}]},{surahId:77,surahName:"سورة المرسلات",stories:[{ayahRange:"1-50",shortSummary:"سورة مكية، تتناول إثبات البعث والجزاء، وتكرر آية (ويل يومئذ للمكذبين) عشر مرات لتهديد المنكرين.",detailedVersion:`**التفسير المفصل:**
لم يرد سبب نزول خاص للسورة. تبدأ بالقسم بالرياح والملائكة على وقوع يوم القيامة. ثم تستعرض أدلة القدرة الإلهية على البعث (خلق الإنسان من ماء مهين، جعل الأرض مستقرًا للأحياء والأموات، خلق الجبال الشامخة). وتصف أهوال يوم الفصل وعاقبة المكذبين. وتتكرر فيها آية (وَيْلٌ يَوْمَئِذٍ لِّلْمُكَذِّبِينَ) عشر مرات، لزيادة التهديد والوعيد لمن يكذب بهذا اليوم.

**تفسير ابن كثير:**
روى البخاري عن ابن مسعود قال: بينا نحن مع النبي صلى الله عليه وسلم في غار بمنى، إذ نزلت عليه (والمرسلات)، وإنه ليتلوها وإني لأتلقاها من فيه، وإن فاه لرطب بها، إذ وثبت علينا حية، فقال النبي: 'اقتلوها'. فابتدرناها فذهبت. فقال: 'وقيت شركم كما وقيتم شرها'.`,source:"عامة كتب التفسير، تفسير ابن كثير"}]},{surahId:78,surahName:"سورة النبأ",stories:[{ayahRange:"1-3",shortSummary:"نزلت الآيات ردًا على تساؤل المشركين فيما بينهم عن حقيقة البعث الذي أخبر به النبي صلى الله عليه وسلم.",detailedVersion:`**التفسير المفصل:**
لما بُعث النبي صلى الله عليه وسلم وأخبرهم عن التوحيد والبعث بعد الموت، جعل المشركون يتساءلون فيما بينهم عن هذا الخبر العظيم (النبأ العظيم)، فمنهم المصدق ومنهم المكذب والمستهزئ. فأنزل الله تعالى: (عَمَّ يَتَسَاءَلُونَ * عَنِ النَّبَإِ الْعَظِيمِ * الَّذِي هُمْ فِيهِ مُخْتَلِفُونَ)، ثم هددهم بقوله: (كَلَّا سَيَعْلَمُونَ).

**تفسير ابن كثير:**
يقول تعالى منكرًا على المشركين في تساؤلهم عن يوم القيامة إنكارًا لوقوعها. والنبأ العظيم هو خبر يوم القيامة. ثم ينتقل القرآن لعرض دلائل القدرة الإلهية في الكون لإثبات إمكانية البعث.`,source:"لباب النقول للسيوطي"}]},{surahId:79,surahName:"سورة النازعات",stories:[{ayahRange:"1-46",shortSummary:"سورة مكية، تؤكد حتمية وقوع القيامة، وتذكر قصة موسى مع فرعون كعبرة للمكذبين.",detailedVersion:`**التفسير المفصل:**
لم يرد سبب نزول خاص للسورة. تبدأ بالقسم بالملائكة التي تنزع أرواح الكفار بشدة، والتي تقبض أرواح المؤمنين برفق، على أن القيامة ستقع. وتصف أهوالها ورجفة القلوب يومئذ. ثم تسوق قصة موسى عليه السلام مع فرعون الطاغية، لتكون إنذارًا لمشركي مكة بأن عاقبة التكذيب هي الهلاك. ثم تعود للفت أنظارهم إلى عظمة خلق السماء والأرض كدليل على قدرة الله على البعث، وتختم ببيان أن علم الساعة عند الله وحده.

**تفسير ابن كثير:**
يقسم تعالى بالملائكة حين تنزع أرواح بني آدم. فالنازعات غرقًا هي الملائكة التي تنزع أرواح الكفار بعنف، والناشطات نشطًا هي التي تقبض أرواح المؤمنين بسهولة ويسر. وجواب القسم محذوف تقديره: لتبعثن.`,source:"عامة كتب التفسير"}]},{surahId:80,surahName:"سورة عبس",stories:[{ayahRange:"1-10",shortSummary:"نزلت هذه الآيات عتابًا لطيفًا للنبي صلى الله عليه وسلم عندما أعرض عن الصحابي الأعمى عبد الله بن أم مكتوم، لانشغاله بدعوة كبار قريش.",detailedVersion:`**التفسير المفصل:**
كان النبي صلى الله عليه وسلم منشغلًا بدعوة بعض وجهاء قريش وسادتها، طمعًا في إسلامهم. وفي هذه الأثناء، جاءه الصحابي الأعمى عبد الله بن أم مكتوم رضي الله عنه يسأله ويريد أن يتعلم من القرآن، وألح في سؤاله. فعبس النبي في وجهه وأعرض عنه. فأنزل الله تعالى هذه الآيات: (عَبَسَ وَتَوَلَّىٰ * أَن جَاءَهُ الْأَعْمَىٰ...)، معاتبًا نبيه وموجهًا إياه إلى أن الأعمى الفقير الحريص على الهداية خير وأولى بالاهتمام من الغني المستكبر. فكان النبي بعد ذلك يكرم ابن أم مكتوم ويقول له: 'أهلاً بمن عاتبني فيه ربي'.

**تفسير ابن كثير:**
ذكر غير واحد من المفسرين أن رسول الله صلى الله عليه وسلم كان يومًا يخاطب بعض عظماء قريش، وقد طمع في إسلامه، فبينما هو في ذلك أقبل ابن أم مكتوم، وكان ممن أسلم قديمًا، فجعل يسأل رسول الله صلى الله عليه وسلم عن شيء ويلح عليه، فكره رسول الله صلى الله عليه وسلم ذلك وعبس في وجهه، فأنزل الله هذه الآيات.`,source:"لباب النقول للسيوطي، تفسير ابن كثير"}]},{surahId:81,surahName:"سورة التكوير",stories:[{ayahRange:"1-29",shortSummary:"سورة مكية، تصف الأهوال العظيمة التي تحدث للكون يوم القيامة، وتؤكد صدق الوحي.",detailedVersion:`**التفسير المفصل:**
لم يرد سبب نزول خاص للسورة. هي من السور التي تصور مشاهد يوم القيامة بأسلوب مؤثر. تبدأ بوصف التغيرات الكونية الهائلة: تكوير الشمس، انكدار النجوم، تسيير الجبال، تعطيل الإبل، حشر الوحوش، تسجير البحار. ثم تنتقل إلى أحوال الناس، حيث تُسأل الموءودة بأي ذنب قتلت، وتُنشر الصحف، وتُكشف الحقائق. وقد قال النبي صلى الله عليه وسلم: 'من سره أن ينظر إلى يوم القيامة كأنه رأي عين فليقرأ (إذا الشمس كورت) و (إذا السماء انفطرت) و (إذا السماء انشقت)'.

**تفسير ابن كثير:**
روى الإمام أحمد عن ابن عمر قال: قال رسول الله صلى الله عليه وسلم: 'من سره أن ينظر إلى يوم القيامة...' الحديث. و(كورت) أي جمع بعضها إلى بعض ثم لفت فرمي بها، وإذا فعل بها ذلك ذهب ضوؤها.`,source:"عامة كتب التفسير، تفسير ابن كثير"}]},{surahId:82,surahName:"سورة الإنفطار",stories:[{ayahRange:"1-19",shortSummary:"سورة مكية، تصف أهوال القيامة وتخاطب الإنسان الغافل الذي غره كرم ربه.",detailedVersion:`**التفسير المفصل:**
كسابقتها، لم يرد سبب نزول خاص للسورة. هي جزء من مجموعة السور التي تصف القيامة بأسلوب يهز القلوب. تبدأ بوصف انفطار السماء وانتثار الكواكب وتفجير البحار وبعثرة القبور. ثم توجه خطابًا مباشرًا للإنسان: (يَا أَيُّهَا الْإِنسَانُ مَا غَرَّكَ بِرَبِّكَ الْكَرِيمِ)، توبيخًا له على غفلته وتقصيره في حق من خلقه وسواه وعدله. وتؤكد السورة على وجود ملائكة كرام كاتبين يسجلون كل الأعمال، وأن مصير الناس إما إلى نعيم أو إلى جحيم.

**تفسير ابن كثير:**
يقول تعالى: (إذا السماء انفطرت) أي انشقت، (وإذا الكواكب انتثرت) أي تساقطت، (وإذا البحار فجرت) أي فتح بعضها في بعض فصارت بحرًا واحدًا. وقوله (يا أيها الإنسان ما غرك بربك الكريم) هذا تهديد، لا كما يتوهمه بعض الناس من أنه تلقين للحجة، بل المعنى: ما الذي غرك في مقابلة ربك الكريم بالمعاصي والتقصير؟`,source:"عامة كتب التفسير"}]},{surahId:83,surahName:"سورة المطففين",stories:[{ayahRange:"1-3",shortSummary:"نزلت في أهل المدينة عند قدوم النبي صلى الله عليه وسلم، حيث كانوا من أخبث الناس كيلاً، فنزلت السورة لتهديد من يطفف في الميزان.",detailedVersion:`**التفسير المفصل:**
قال ابن عباس: لما قدم النبي صلى الله عليه وسلم المدينة، كانوا من أخبث الناس كيلاً، فأنزل الله تعالى: (وَيْلٌ لِّلْمُطَفِّفِينَ). فصاروا بعد ذلك من أوفى الناس كيلاً. والتطفيف هو البخس في المكيال والميزان، بأن يأخذ حقه وافيًا عند الشراء، وينقص حق غيره عند البيع. فتوعدهم الله بالويل، وهو واد في جهنم أو الهلاك الشديد، وذكرهم بالوقوف بين يدي الله يوم القيامة.

**تفسير ابن كثير:**
المراد بالتطفيف هنا البخس في المكيال والميزان، إما بالازدياد إن اقتضى من الناس، وإما بالنقصان إن قضاهم. ولهذا بين تعالى أن المطففين هم الذين إذا اكتالوا على الناس يستوفون، أي يأخذون حقهم بالوافي والزائد، وإذا كالوهم أو وزنوهم يخسرون، أي ينقصون.`,source:"أسباب النزول للسيوطي، تفسير ابن كثير"}]},{surahId:84,surahName:"سورة الإنشقاق",stories:[{ayahRange:"1-25",shortSummary:"سورة مكية، تصف انشقاق السماء يوم القيامة، وانقسام الناس إلى فريقين حسب كتاب أعمالهم.",detailedVersion:`**التفسير المفصل:**
ليس للسورة سبب نزول محدد، وهي تواصل الحديث عن أهوال يوم القيامة. تبدأ بوصف انشقاق السماء ومد الأرض، وإلقائها ما في بطنها من الأموات والكنوز. ثم تبين حال الإنسان ومصيره المحتوم لملاقاة ربه، وكيف ينقسم الناس إلى فريقين: من يؤتى كتابه بيمينه فيحاسب حسابًا يسيرًا ويعود لأهله مسرورًا، ومن يؤتى كتابه وراء ظهره فيدعو بالهلاك ويصلى سعيرًا.

**تفسير ابن كثير:**
يقول تعالى (إذا السماء انشقت) أي يوم القيامة، (وأذنت لربها وحقت) أي استمعت لأمر ربها وأطاعت، وحق لها أن تطيع أمره. وقوله (يا أيها الإنسان إنك كادح إلى ربك كدحا فملاقيه) أي ساع إلى ربك سعيا وعامل عملا، ثم ستلاقي ما عملت من خير أو شر.`,source:"عامة كتب التفسير"}]},{surahId:85,surahName:"سورة البروج",stories:[{ayahRange:"1-10",shortSummary:"نزلت السورة تحكي قصة أصحاب الأخدود، وهم قوم مؤمنون أحرقهم ملك كافر في خنادق من النار لثباتهم على دينهم، تسلية للمسلمين في مكة.",detailedVersion:`**التفسير المفصل:**
كان المسلمون في مكة يعانون من اضطهاد شديد من قريش. فأنزل الله هذه السورة تسلية لهم وتثبيتًا، حيث قص عليهم قصة أصحاب الأخدود. وهم قوم آمنوا بالله في زمن ملك كافر، فأمر الملك بحفر خنادق (أخاديد) وإضرام النار فيها، ثم ألقى فيها كل من رفض الرجوع عن دينه. فصبروا وثبتوا حتى الموت. وفي هذا بيان أن الابتلاء سنة في طريق الإيمان، وتهديد للكفار بأن عذاب الله أشد.

**تفسير ابن كثير:**
(قتل أصحاب الأخدود) أي لعن أصحاب الأخدود. ويذكر الحديث الطويل في قصة الغلام المؤمن والملك الساحر، وكيف آمن الناس بسبب كرامات الغلام، فأمر الملك بحفر الأخدود وإحراق من آمن.`,source:"لباب النقول للسيوطي، تفسير ابن كثير"}]},{surahId:86,surahName:"سورة الطارق",stories:[{ayahRange:"1-17",shortSummary:"سورة مكية، تؤكد أن كل نفس عليها حافظ من الملائكة، وتقيم الدليل على البعث من خلال خلق الإنسان.",detailedVersion:`**التفسير المفصل:**
لم يرد سبب نزول خاص للسورة. تبدأ بالقسم بالسماء وبالنجم الثاقب (الطارق) على أن كل نفس عليها حافظ يسجل أعمالها. ثم تلفت نظر الإنسان إلى أصل خلقته (من ماء دافق يخرج من بين الصلب والترائب) كدليل على أن الذي خلقه أول مرة قادر على إعادته يوم القيامة، يوم تُكشف السرائر. وتختم السورة بالتأكيد على أن القرآن قول فصل وليس بالهزل، وتأمر النبي بإمهال الكافرين لوقت قصير حتى يأتيهم عذاب الله.

**تفسير ابن كثير:**
يقسم تعالى بالسماء وما جعل فيها من الكواكب النيرة، ولهذا قال (والسماء والطارق). ثم فسره بقوله (النجم الثاقب). وقوله (إن كل نفس لما عليها حافظ) أي كل إنسان موكل به من يحفظه ويحرسه من الآفات ويكتب عمله.`,source:"عامة كتب التفسير"}]},{surahId:87,surahName:"سورة الأعلى",stories:[{ayahRange:"1-19",shortSummary:"سورة مكية، كان النبي يحبها ويقرأ بها في الجمعة والعيدين والوتر، وليس لها سبب نزول معين.",detailedVersion:`**التفسير المفصل:**
لم يرد سبب نزول خاص للسورة. هي سورة يحبها النبي صلى الله عليه وسلم ويحث على قراءتها. تبدأ بأمر بتسبيح الله الأعلى، ثم تذكر بعض صفاته وأفعاله: الخلق والتسوية، والتقدير والهداية، وإنبات المرعى. ثم تطمئن النبي بأن الله سيقرئه القرآن فلا ينسى إلا ما شاء الله. وتختم السورة ببيان أن الفلاح لمن تزكى وذكر اسم ربه فصلى، وأن هذا المبدأ موجود في الصحف الأولى، صحف إبراهيم وموسى.

**تفسير ابن كثير:**
ثبت في الصحيحين أن رسول الله صلى الله عليه وسلم كان يقرأ في صلاة العيدين والجمعة بسورة الأعلى والغاشية. وهي تبدأ بتنزيه الله عن النقائص، وتثبت له صفات الكمال.`,source:"عامة كتب التفسير، تفسير ابن كثير"}]},{surahId:88,surahName:"سورة الغاشية",stories:[{ayahRange:"1-26",shortSummary:"سورة مكية، تصف أهوال يوم القيامة (الغاشية) وأحوال أهل النار وأهل الجنة.",detailedVersion:`**التفسير المفصل:**
لا يوجد سبب نزول خاص بالسورة. هي تتحدث عن القيامة التي تغشى الناس بأهوالها. تصف حال أهل النار ووجوههم الخاشعة الذليلة، وعذابهم من طعام الضريع والماء الحميم. ثم تنتقل لوصف حال أهل الجنة ووجوههم الناعمة الراضية، ونعيمهم في الجنة العالية التي لا يُسمع فيها لغو. ثم توجه الخطاب إلى النبي ليلفت نظر الناس إلى دلائل القدرة في خلق الإبل والسماء والجبال والأرض، وتؤكد أن مهمة النبي هي التذكير فقط، وأن حساب الناس على الله.

**تفسير ابن كثير:**
الغاشية من أسماء يوم القيامة. قال ابن عباس: تغشى الناس. السورة تصف هذا اليوم بالتفصيل، وقد كان النبي يقرأ بها مع سورة الأعلى في صلاة العيدين والجمعة.`,source:"عامة كتب التفسير"}]},{surahId:89,surahName:"سورة الفجر",stories:[{ayahRange:"1-30",shortSummary:"سورة مكية، تقسم بأوقات مباركة على أن الله يراقب أعمال العباد، وتذكر بمصير الأمم الطاغية.",detailedVersion:`**التفسير المفصل:**
لم يرد سبب نزول خاص للسورة. تبدأ بالقسم بأوقات عظيمة كالفجر والليالي العشر (قيل هي العشر من ذي الحجة) على أن الله لبالمرصاد، أي يراقب أعمال العباد ويجازيهم عليها. ثم تذكر بقصص أمم قوية أهلكها الله بسبب طغيانها كعاد وثمود وقوم فرعون. ثم تذم طبيعة الإنسان في حبه الشديد للمال وعدم إكرامه لليتيم. وتختم بوصف أهوال يوم القيامة، وندم الإنسان على تفريطه، ثم تبشر النفس المطمئنة بالعودة إلى ربها راضية مرضية ودخولها في جنته.

**تفسير ابن كثير:**
يذكر ابن كثير الأقوال في تفسير المقسم به، ويرجح أن الليالي العشر هي عشر ذي الحجة. وقوله (إن ربك لبالمرصاد) أي يراقب خلقه فيما يعملون ويجازي كلا بسعيه في الدنيا والآخرة.`,source:"عامة كتب التفسير"}]},{surahId:90,surahName:"سورة البلد",stories:[{ayahRange:"1-20",shortSummary:"سورة مكية، تقسم بمكة على أن الإنسان خلق في تعب ومشقة، وتحثه على اقتحام العقبات الصعبة بفعل الخير.",detailedVersion:`**التفسير المفصل:**
لا يوجد سبب نزول خاص للسورة. تبدأ بقسم بمكة المكرمة (هذا البلد) على حقيقة أن حياة الإنسان مليئة بالكبد والمشقة منذ ولادته حتى موته. ثم توبخ الإنسان الذي يغتر بقوته وماله. ثم تبين له طريق الخير (اقتحام العقبة)، وتفسر هذه العقبة بأنها فك رقبة (تحرير عبد) أو إطعام في يوم مجاعة ليتيم أو مسكين. وتصف من يفعل ذلك بأنهم أصحاب الميمنة، ومن يكفر بآيات الله بأنهم أصحاب المشأمة.

**تفسير ابن كثير:**
(لا أقسم بهذا البلد) يعني مكة. (وأنت حل بهذا البلد) أي وأنت يا محمد مقيم به. (لقد خلقنا الإنسان في كبد) أي في مشقة ونصب. ثم تحثه الآيات على إنفاق ماله في طاعة الله.`,source:"عامة كتب التفسير"}]},{surahId:91,surahName:"سورة الشمس",stories:[{ayahRange:"1-15",shortSummary:"سورة مكية، تقسم بآيات كونية عظيمة على أن فلاح الإنسان في تزكية نفسه وخيبته في تدنيسها، وتذكر قصة ثمود كنموذج.",detailedVersion:`**التفسير المفصل:**
لم يرد سبب نزول خاص للسورة. تبدأ السورة بأطول قسم في القرآن، حيث يقسم الله بسبعة أشياء من مخلوقاته العظيمة (الشمس، القمر، النهار، الليل، السماء، الأرض، النفس البشرية) على قضية واحدة محورية، وهي: (قَدْ أَفْلَحَ مَن زَكَّاهَا * وَقَدْ خَابَ مَن دَسَّاهَا). أي أن الفلاح والنجاح لمن يطهر نفسه بالطاعة، والخسارة والخيبة لمن يدنسها بالمعصية. ثم تضرب السورة مثلاً على ذلك بقوم ثمود الذين طغوا وكذبوا نبيهم صالحًا وعقروا الناقة، فكانت عاقبتهم الهلاك الشامل.

**تفسير ابن كثير:**
هذا قسم من الله تعالى بمخلوقاته الدالة على قدرته العظيمة، على أن من زكى نفسه بطاعة الله فقد أفلح، ومن دساها في المعاصي فقد خاب وخسر.`,source:"عامة كتب التفسير"}]},{surahId:92,surahName:"سورة الليل",stories:[{ayahRange:"1-21",shortSummary:"نزلت الآيات الأولى في أبي بكر الصديق الذي كان يشتري العبيد الضعفاء ويعتقهم، وفي أمية بن خلف الذي كان بخيلاً.",detailedVersion:`**التفسير المفصل:**
نزلت الآيات الأولى من السورة للثناء على من ينفق ماله في سبيل الله ابتغاء وجهه، وذم من يبخل به. قال المفسرون إن قوله تعالى: (فَأَمَّا مَنْ أَعْطَىٰ وَاتَّقَىٰ) إلى قوله (فَسَنُيَسِّرُهُ لِلْيُسْرَىٰ) نزلت في أبي بكر الصديق الذي أنفق ماله في شراء العبيد المؤمنين كبلال بن رباح وأعتقهم. أما قوله تعالى: (وَأَمَّا مَن بَخِلَ وَاسْتَغْنَىٰ) إلى قوله (فَسَنُيَسِّرُهُ لِلْعُسْرَىٰ) فنزلت في أمية بن خلف وغيره من بخلاء المشركين.

**تفسير ابن كثير:**
يقسم تعالى بالليل والنهار وخلقه للذكر والأنثى، على أن سعي الناس مختلف. فمنهم من يسعى في الخير ومنهم من يسعى في الشر. ثم يفصل جزاء كل فريق. وذكر كثير من المفسرين أن الآيات المتعلقة بالإنفاق نزلت في أبي بكر وأمية بن خلف.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:93,surahName:"سورة الضحى",stories:[{ayahRange:"1-3",shortSummary:"نزلت السورة بعد فترة من انقطاع الوحي عن النبي، وبعد أن قالت قريش إن ربه قد تركه وكرهه.",detailedVersion:`**التفسير المفصل:**
احتبس الوحي (جبريل) عن النزول على النبي صلى الله عليه وسلم فترة، فشق ذلك عليه وحزن. فقال المشركون، وقيل امرأة أبي لهب: 'ما أرى صاحبك إلا قد قلاك' (أي أبغضك وتركك). فأنزل الله تعالى سورة الضحى كاملة، يقسم فيها بالضحى والليل على أنه ما تركه وما أبغضه: (مَا وَدَّعَكَ رَبُّكَ وَمَا قَلَىٰ). ثم بشره بأن الآخرة خير له من الدنيا، وأنه سيعطيه حتى يرضى، وذكره بنعمه عليه في يتمه وضلاله وفقره.

**تفسير ابن كثير:**
روى البخاري ومسلم عن جندب بن سفيان قال: اشتكى رسول الله صلى الله عليه وسلم فلم يقم ليلتين أو ثلاثًا، فجاءت امرأة فقالت: يا محمد، إني لأرجو أن يكون شيطانك قد تركك. فأنزل الله عز وجل: (والضحى * والليل إذا سجى * ما ودعك ربك وما قلى).`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:94,surahName:"سورة الشرح",stories:[{ayahRange:"1-8",shortSummary:"سورة مكية، نزلت لتسلية النبي صلى الله عليه وسلم وتذكيره بنعم الله عليه، وتأكيد أن مع العسر يسرًا.",detailedVersion:`**التفسير المفصل:**
لم يرد سبب نزول خاص بالسورة، ويعتقد كثير من المفسرين أنها نزلت بعد سورة الضحى مباشرة استكمالاً لتسلية النبي صلى الله عليه وسلم وتطييب خاطره. السورة تعدد نعم الله على نبيه: شرح الصدر، ووضع الوزر (تخفيف أعباء الرسالة)، ورفع الذكر (حيث يذكر اسمه مع اسم الله في الشهادتين والأذان). ثم تبشره بقاعدة عظيمة وهي أن كل عسر يتبعه يسر، وتكررها للتأكيد. وتختم بتوجيهه إلى الاجتهاد في العبادة بعد الفراغ من أمور الدعوة، وإلى الرغبة فيما عند الله وحده.

**تفسير ابن كثير:**
يقول تعالى: (ألم نشرح لك صدرك) أي أما شرحنا لك صدرك، يعني نورناه وجعلناه فسيحًا رحيبًا واسعًا. (ووضعنا عنك وزرك) أي غفرنا لك ما تقدم من ذنبك وما تأخر. (ورفعنا لك ذكرك) قال مجاهد: لا أُذكر إلا ذُكرت معي: أشهد أن لا إله إلا الله، وأشهد أن محمدًا رسول الله.`,source:"عامة كتب التفسير"}]},{surahId:95,surahName:"سورة التين",stories:[{ayahRange:"1-8",shortSummary:"سورة مكية، تقسم بأماكن مقدسة على أن الله خلق الإنسان في أحسن صورة، ثم يرد إلى أسفل سافلين إلا المؤمنين.",detailedVersion:`**التفسير المفصل:**
لا يوجد سبب نزول خاص للسورة. تبدأ بالقسم بالتين والزيتون (قيل هما الثمرتان، وقيل إشارة إلى أرض الشام حيث بعث عيسى)، وبطور سينين (الجبل الذي كلم الله عليه موسى)، وبهذا البلد الأمين (مكة المكرمة حيث بعث محمد). وجواب القسم هو: (لَقَدْ خَلَقْنَا الْإِنسَانَ فِي أَحْسَنِ تَقْوِيمٍ)، أي في أجمل صورة وشكل. ثم يرد إلى أرذل العمر أو إلى النار إن لم يؤمن، ويستثني من ذلك الذين آمنوا وعملوا الصالحات فلهم أجر غير مقطوع. وتختم بسؤال تقريري: (أَلَيْسَ اللَّهُ بِأَحْكَمِ الْحَاكِمِينَ؟).

**تفسير ابن كثير:**
قال بعض الأئمة: هذه محال ثلاثة، بعث الله في كل واحد منها نبيًا مرسلاً من أولي العزم أصحاب الشرائع الكبار. فالأول: محلة التين والزيتون، وهي بيت المقدس التي بعث الله فيها عيسى ابن مريم. والثاني: طور سينين، وهو طور سيناء الذي كلم الله عليه موسى. والثالث: مكة، وهو البلد الأمين الذي من دخله كان آمنًا، وهو الذي أرسل فيه محمدًا صلى الله عليه وسلم.`,source:"عامة كتب التفسير، تفسير ابن كثير"}]},{surahId:96,surahName:"سورة العلق",stories:[{ayahRange:"1-5",shortSummary:"هذه الآيات هي أول ما نزل من القرآن الكريم على الإطلاق، نزلت على النبي وهو يتعبد في غار حراء.",detailedVersion:`**التفسير المفصل:**
كان النبي صلى الله عليه وسلم يخلو بنفسه في غار حراء يتعبد ويتفكر. فجاءه الملك جبريل عليه السلام وقال له: 'اقرأ'. قال النبي: 'ما أنا بقارئ'. فأخذه جبريل فضمه ضمة شديدة ثم أرسله وقال: 'اقرأ'. قال: 'ما أنا بقارئ'. فضمه الثانية ثم الثالثة ثم قال: (اقْرَأْ بِاسْمِ رَبِّكَ الَّذِي خَلَقَ * خَلَقَ الْإِنسَانَ مِنْ عَلَقٍ * اقْرَأْ وَرَبُّكَ الْأَكْرَمُ * الَّذِي عَلَّمَ بِالْقَلَمِ * عَلَّمَ الْإِنسَانَ مَا لَمْ يَعْلَمْ). فرجع بها النبي إلى زوجته خديجة يرتجف فؤاده، فكانت هذه بداية نبوته ورسالته.

**تفسير ابن كثير:**
أول شيء نزل من القرآن هذه الآيات الكريمات المباركات، وهن أول رحمة رحم الله بها العباد، وأول نعمة أنعم الله بها عليهم. وفيها التنبيه على ابتداء خلق الإنسان من علقة، وأن من كرمه تعالى أن علم الإنسان ما لم يكن يعلم.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:97,surahName:"سورة القدر",stories:[{ayahRange:"1-5",shortSummary:"نزلت السورة لبيان فضل ليلة القدر، وأنها خير من ألف شهر، وأن القرآن نزل فيها.",detailedVersion:`**التفسير المفصل:**
اختلف في سبب نزولها. قيل إن النبي صلى الله عليه وسلم ذكر رجلاً من بني إسرائيل لبس السلاح في سبيل الله ألف شهر، فتعجب المسلمون من ذلك، فأنزل الله: (إِنَّا أَنزَلْنَاهُ فِي لَيْلَةِ الْقَدْرِ * وَمَا أَدْرَاكَ مَا لَيْلَةُ الْقَدْرِ * لَيْلَةُ الْقَدْرِ خَيْرٌ مِّنْ أَلْفِ شَهْرٍ)، أي أن العمل في هذه الليلة الواحدة أفضل من عبادة ألف شهر ليس فيها ليلة القدر. وقيل نزلت ابتداءً لبيان عظمة هذه الليلة التي بدأ فيها نزول القرآن.

**تفسير ابن كثير:**
يخبر تعالى أنه أنزل القرآن ليلة القدر، وهي ليلة مباركة. وفضلها عظيم، فالعبادة فيها خير من عبادة ألف شهر. وتتنزل الملائكة فيها بكثرة، وهي سلام حتى مطلع الفجر.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:98,surahName:"سورة البينة",stories:[{ayahRange:"1-8",shortSummary:"سورة مدنية، تتحدث عن موقف أهل الكتاب والمشركين من بعثة النبي، وبيان جزاء كل فريق.",detailedVersion:`**التفسير المفصل:**
لم يرد سبب نزول خاص بالسورة. هي تتحدث عن حال أهل الكتاب (اليهود والنصارى) والمشركين قبل بعثة النبي، وأنهم كانوا ينتظرون نبيًا، لكن لما جاءهم محمد صلى الله عليه وسلم بالبينة الواضحة (القرآن)، تفرقوا واختلفوا، فمنهم من آمن ومنهم من كفر. ثم تبين السورة أن جوهر دعوة جميع الأنبياء هو إخلاص العبادة لله وإقامة الصلاة وإيتاء الزكاة. وتختم ببيان مصير الفريقين: الكفار في نار جهنم وهم شر الخليقة، والمؤمنون في جنات عدن وهم خير الخليقة.

**تفسير ابن كثير:**
يخبر تعالى عن الكفار من أهل الكتاب والمشركين أنهم كانوا على ضلالهم حتى جاءهم الرسول محمد صلى الله عليه وسلم يتلو صحفًا مطهرة، وهي القرآن العظيم. ثم يبين جزاء كل فريق في الآخرة.`,source:"عامة كتب التفسير"}]},{surahId:99,surahName:"سورة الزلزلة",stories:[{ayahRange:"1-8",shortSummary:"سورة مدنية، تصف زلزال يوم القيامة العظيم، وتؤكد أن كل إنسان سيرى عمله مهما كان صغيرًا.",detailedVersion:`**التفسير المفصل:**
لا يوجد سبب نزول خاص بالسورة. هي تصف أحد أهوال يوم القيامة الكبرى، وهو زلزال الأرض العنيف الذي تخرج به ما في بطنها من أموات وكنوز. ويتساءل الإنسان في ذهول: ما لها؟ في ذلك اليوم، تخبر الأرض بكل ما عُمل عليها من خير وشر. ثم يصدر الناس من قبورهم ليروا أعمالهم. وتختم السورة بقاعدة الجزاء الدقيقة: (فَمَن يَعْمَلْ مِثْقَالَ ذَرَّةٍ خَيْرًا يَرَهُ * وَمَن يَعْمَلْ مِثْقَالَ ذَرَّةٍ شَرًّا يَرَهُ). قيل إنها نزلت لأن الصحابة كانوا يتساهلون في القليل من الخير أو الشر، فنزلت لتبين أن كل شيء مسجل.

**تفسير ابن كثير:**
روى الإمام أحمد أن هذه السورة تعدل نصف القرآن. وقوله (فمن يعمل مثقال ذرة خيرا يره ومن يعمل مثقال ذرة شرا يره) قال ابن عباس: ليس من مؤمن ولا كافر عمل خيرًا أو شرًا في الدنيا إلا يراه يوم القيامة.`,source:"عامة كتب التفسير، تفسير ابن كثير"}]},{surahId:100,surahName:"سورة العاديات",stories:[{ayahRange:"1-11",shortSummary:"سورة مكية، تقسم بالخيل المجاهدة على أن الإنسان كنود (جاحد) لربه، وحريص على المال، وتذكره بالبعث والحساب.",detailedVersion:`**التفسير المفصل:**
لا يوجد سبب نزول خاص. السورة تبدأ بقسم مثير بصوت أنفاس الخيل وحوافرها وهي تعدو في ساحة المعركة، إشارة إلى شرف الجهاد. وجواب القسم هو: (إِنَّ الْإِنسَانَ لِرَبِّهِ لَكَنُودٌ)، أي لجحود لنعم ربه. والدليل على ذلك حبه الشديد للمال (الخير). ثم تذكره السورة باليوم الذي تُبعثر فيه القبور وتُكشف فيه أسرار الصدور، ليجازي الله كل نفس بما كسبت.

**تفسير ابن كثير:**
يقسم تعالى بالخيل إذا أجريت في سبيله فعدت وضبحت، وهو الصوت الذي يسمع من الفرس حين تعدو. (إن الإنسان لربه لكنود) قال ابن عباس: أي لكفور. (وإنه لحب الخير لشديد) أي وإنه لحب المال لشديد.`,source:"عامة كتب التفسير"}]},{surahId:101,surahName:"سورة القارعة",stories:[{ayahRange:"1-11",shortSummary:"سورة مكية، تصف أهوال يوم القيامة (القارعة) وكيف توزن أعمال الناس.",detailedVersion:`**التفسير المفصل:**
لا يوجد سبب نزول خاص. القارعة اسم من أسماء يوم القيامة، لأنها تقرع القلوب بأهوالها. تبدأ السورة بسؤال للتهويل والتعظيم. ثم تصف حال الناس في ذلك اليوم بأنهم كالفراش المنتشر، وحال الجبال بأنها كالصوف المتطاير. ثم تبين أساس النجاة أو الهلاك، وهو ميزان الأعمال. فمن ثقلت موازينه بالحسنات فهو في عيشة راضية في الجنة، ومن خفت موازينه فطريقه إلى الهاوية (النار).

**تفسير ابن كثير:**
القارعة من أسماء يوم القيامة، كالحاقة والطامة والصاخة والغاشية وغير ذلك. ثم فسر ذلك بقوله (يوم يكون الناس كالفراش المبثوث) أي في انتشارهم وتفرقهم وذهابهم ومجيئهم من حيرتهم مما هم فيه كأنهم فراش منتشر.`,source:"عامة كتب التفسير"}]},{surahId:102,surahName:"سورة التكاثر",stories:[{ayahRange:"1-8",shortSummary:"نزلت في قبيلتين من الأنصار تفاخرتا بالكثرة في العدد والمال، حتى ذهبوا إلى المقابر ليعدوا موتاهم.",detailedVersion:`**التفسير المفصل:**
نزلت السورة في قبيلتي بني حارثة وبني الحارث من الأنصار، تفاخرتا وتكاثرتا، فقالت إحداهما: فيكم مثل فلان وفلان؟ وقالت الأخرى مثل ذلك. تفاخروا بالأحياء، ثم قالوا: انطلقوا بنا إلى القبور. فجعلت إحدى الطائفتين تقول: فيكم مثل فلان؟ تشير إلى القبر، وفعلت الأخرى مثل ذلك. فأنزل الله تعالى: (أَلْهَاكُمُ التَّكَاثُرُ * حَتَّىٰ زُرْتُمُ الْمَقَابِرَ)، تذمهم على انشغالهم بالدنيا والتفاخر بها حتى أتاهم الموت.

**تفسير ابن كثير:**
يقول تعالى: شغلكم حب الدنيا ونعيمها وزهرتها عن طلب الآخرة وابتغائها، وتمادى بكم ذلك حتى جاءكم الموت وزرتم المقابر، وصرتم من أهلها. ثم يهددهم بأنهم سيعلمون عاقبة فعلهم، وأنهم سيسألون يوم القيامة عن كل نعيم تمتعوا به.`,source:"أسباب النزول للواحدي"}]},{surahId:103,surahName:"سورة العصر",stories:[{ayahRange:"1-3",shortSummary:"سورة مكية، تقسم بالعصر على أن كل إنسان في خسران إلا من اتصف بأربع صفات: الإيمان، والعمل الصالح، والتواصي بالحق، والتواصي بالصبر.",detailedVersion:`**التفسير المفصل:**
لا يوجد سبب نزول خاص. هي من أوجز سور القرآن وأجمعها لسبل النجاة. يقسم الله تعالى بالزمن (العصر) على أن جنس الإنسان كله في خسارة وهلاك، إلا من استثناهم الله وهم الذين جمعوا أربعة أمور: 1- الإيمان بالله. 2- العمل الصالح. 3- التواصي بالحق (الدعوة إلى الله). 4- التواصي بالصبر (على الطاعة وعن المعصية وعلى أقدار الله). قال الإمام الشافعي: 'لو ما أنزل الله حجة على خلقه إلا هذه السورة لكفتهم'.

**تفسير ابن كثير:**
العصر هو الزمان الذي يقع فيه حركات بني آدم من خير وشر. والمقسم عليه هو أن الإنسان لفي خسر وهلاك. ثم استثنى من جنس الإنسان عن الخسران الذين آمنوا بقلوبهم، وعملوا الصالحات بجوارحهم، وتواصوا بالحق وهو أداء الطاعات وترك المحرمات، وتواصوا بالصبر على المصائب والأقدار وأذى من يؤذيهم.`,source:"عامة كتب التفسير"}]},{surahId:104,surahName:"سورة الهمزة",stories:[{ayahRange:"1",shortSummary:"نزلت في بعض زعماء المشركين كالأخنس بن شريق أو أمية بن خلف، الذين كانوا يغتابون النبي والمسلمين ويسخرون منهم.",detailedVersion:`**التفسير المفصل:**
نزلت السورة فيمن كان يغتاب الناس ويلمزهم ويسخر منهم. قيل إنها نزلت في الأخنس بن شريق الذي كان يهمز النبي صلى الله عليه وسلم ويلمزه في وجهه. وقيل نزلت في أمية بن خلف الذي كان يفعل ذلك. وقيل نزلت في الوليد بن المغيرة. والآية عامة في كل من اتصف بهذه الصفات الذميمة: الهمز (الغيبة في الخلف)، واللمز (الطعن في الوجه)، وجمع المال وتعديده، ظنًا منه أنه سيخلده. ثم تتوعده السورة بالنار (الحطمة).

**تفسير ابن كثير:**
(ويل لكل همزة لمزة) الهمزة بالفعل واللمزة بالقول. قال ابن عباس: همزة لمزة طعان معياب. (الذي جمع مالا وعدده) أي جمعه وكثر منه وأحصاه، وألهاه ذلك عن ذكر الله. (يحسب أن ماله أخلده) أي يظن أن جمعه للمال سيخلده في هذه الدار.`,source:"أسباب النزول للواحدي، لباب النقول للسيوطي"}]},{surahId:105,surahName:"سورة الفيل",stories:[{ayahRange:"1-5",shortSummary:"سورة مكية، تذكر قصة أصحاب الفيل (جيش أبرهة الحبشي) الذين أرادوا هدم الكعبة، وكيف أهلكهم الله بطير أبابيل.",detailedVersion:`**التفسير المفصل:**
لا يوجد سبب نزول متعلق بالنبي، بل هي تذكير بحادثة عظيمة وقعت في عام مولده صلى الله عليه وسلم، وهي من إرهاصات نبوته. أبرهة الحبشي، حاكم اليمن، بنى كنيسة عظيمة ليصرف العرب عن الحج إلى الكعبة. فلما لم يستجب له أحد، جهز جيشًا ضخمًا ومعه فيل عظيم لهدم الكعبة. فلما وصلوا إلى مشارف مكة، برك الفيل ورفض التقدم نحو الكعبة. فأرسل الله عليهم طيورًا صغيرة (أبابيل) تحمل في مناقيرها وأرجلها حجارة صغيرة من طين محروق، فرمتهم بها فأهلكتهم وجعلتهم كورق الشجر المأكول.

**تفسير ابن كثير:**
هذه من النعم التي امتن الله بها على قريش، فيما صرف عنهم من أصحاب الفيل، الذين كانوا قد عزموا على هدم الكعبة ومحو أثرها من الوجود، فأبادهم الله وأرغم آنافهم وخيب سعيهم.`,source:"عامة كتب التفسير وتفاسير السيرة النبوية"}]},{surahId:106,surahName:"سورة قريش",stories:[{ayahRange:"1-4",shortSummary:"سورة مكية، تذكر قريشًا بنعمة الله عليهم في تيسير رحلاتهم التجارية (رحلة الشتاء والصيف) وأمنهم عند البيت الحرام.",detailedVersion:`**التفسير المفصل:**
لا يوجد سبب نزول خاص. هذه السورة متصلة بسابقتها (سورة الفيل). فبعد أن ذكر الله كيف حمى البيت من أصحاب الفيل، يذكر قريشًا هنا بنعمه عليهم التي ترتبت على هذا الأمر. فبسبب مكانتهم كأهل بيت الله الحرام، كانوا آمنين في أسفارهم وتجارتهم، حيث كانت القبائل الأخرى تحترمهم ولا تتعرض لهم. فكانت لهم رحلتان تجاريتان: رحلة إلى اليمن في الشتاء، ورحلة إلى الشام في الصيف. فتدعوهم السورة إلى عبادة رب هذا البيت الذي أطعمهم من جوع وآمنهم من خوف، شكرًا له على هذه النعم.

**تفسير ابن كثير:**
هذه السورة مفصولة عن التي قبلها في المصحف. والمعنى عند الأكثرين أن اتصالها بما قبلها هو أننا أهلكنا أصحاب الفيل لتبقى قريش وأمنهم واستقرارهم في بلدهم.`,source:"عامة كتب التفسير"}]},{surahId:107,surahName:"سورة الماعون",stories:[{ayahRange:"1-7",shortSummary:"نزلت في بعض المشركين كالعاص بن وائل أو المنافقين الذين كانوا يمنعون الخير عن اليتامى والمساكين، ويصلون رياءً.",detailedVersion:`**التفسير المفصل:**
نزلت السورة فيمن يكذب بالدين ويمنع الخير. قيل نزلت في العاص بن وائل السهمي. وقيل في أبي جهل الذي كان وصيًا على يتيم، فجاءه يومًا وهو عريان يسأله من مال نفسه، فدفعه ومنعه. وقيل نزلت في المنافقين الذين يصلون مع المسلمين رياءً وهم ساهون عن صلاتهم (يؤخرونها عن وقتها أو لا يؤدونها كما ينبغي)، ويمنعون الماعون (الأشياء الصغيرة التي يستعيرها الجيران من بعضهم كالإناء والملح).

**تفسير ابن كثير:**
(أرأيت الذي يكذب بالدين) أي بالمعاد والجزاء والثواب. (فذلك الذي يدع اليتيم) أي يقهره ويظلمه حقه ولا يطعمه. (ولا يحض على طعام المسكين) أي لا يحث غيره على إطعامهم. (فويل للمصلين * الذين هم عن صلاتهم ساهون) وهم المنافقون.`,source:"أسباب النزول للواحدي، لباب النقول للسيوطي"}]},{surahId:108,surahName:"سورة الكوثر",stories:[{ayahRange:"1-3",shortSummary:"نزلت السورة ردًا على العاص بن وائل الذي قال عن النبي صلى الله عليه وسلم عندما مات ابنه القاسم، إنه 'أبتر' (مقطوع النسل).",detailedVersion:`**التفسير المفصل:**
لما توفي القاسم ابن النبي صلى الله عليه وسلم، قال العاص بن وائل السهمي: 'قد انقطع نسله، فهو أبتر'. وكان العرب يعتبرون من لا ينجب الذكور مقطوع الأثر. فشق ذلك على النبي صلى الله عليه وسلم، فأنزل الله هذه السورة تسلية له وبشارة. (إِنَّا أَعْطَيْنَاكَ الْكَوْثَرَ) وهو نهر في الجنة وخير كثير في الدنيا والآخرة. وأمره بشكر هذه النعمة بالصلاة والنحر. ثم ردت السورة على الشامت به: (إِنَّ شَانِئَكَ) أي مبغضك وعدوك (هُوَ الْأَبْتَرُ) أي هو المقطوع من كل خير وذكر حسن.

**تفسير ابن كثير:**
روي عن ابن عباس وغيره أن هذه السورة نزلت في العاص بن وائل، وذلك أنه رأى رسول الله صلى الله عليه وسلم يخرج من المسجد وهو يدخل، فالتقيا عند باب بني سهم وتحدثا، وأناس من صناديد قريش في المسجد جلوس. فلما دخل العاص قالوا له: من الذي كنت تحدث؟ قال: ذاك الأبتر. يعني النبي، وكان قد توفي قبل ذلك عبد الله ابن رسول الله صلى الله عليه وسلم. فأنزل الله هذه السورة.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:109,surahName:"سورة الكافرون",stories:[{ayahRange:"1-6",shortSummary:"نزلت ردًا على عرض قدمه زعماء قريش للنبي بأن يعبدوا إلهه سنة ويعبد آلهتهم سنة.",detailedVersion:`**التفسير المفصل:**
جاء رهط من زعماء قريش، منهم الوليد بن المغيرة والعاص بن وائل، إلى النبي صلى الله عليه وسلم وعرضوا عليه مساومة في الدين، فقالوا: 'يا محمد، هلم فلنعبد ما تعبد، وتعبد ما نعبد، فنشترك نحن وأنت في الأمر. فإن كان الذي تعبد خيرًا مما نعبد، كنا قد أخذنا بحظنا منه. وإن كان ما نعبد خيرًا مما تعبد، كنت قد أخذت بحظك منه'. فأنزل الله تعالى هذه السورة القاطعة: (قُلْ يَا أَيُّهَا الْكَافِرُونَ * لَا أَعْبُدُ مَا تَعْبُدُونَ...) إلى آخرها، وفيها براءة تامة من دين المشركين، وتأكيد على استحالة الخلط بين التوحيد والشرك.

**تفسير ابن كثير:**
هذه السورة سورة البراءة من عمل المشركين، وهي آمرة بالإخلاص فيه. فقوله: (لا أعبد ما تعبدون) يعني من الأصنام والأنداد. وقوله: (لكم دينكم ولي دين) أي لكم شرككم ولي توحيدي.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:110,surahName:"سورة النصر",stories:[{ayahRange:"1-3",shortSummary:"نزلت السورة بعد فتح مكة، وهي آخر سورة نزلت كاملة، وفيها إشارة إلى قرب وفاة النبي صلى الله عليه وسلم.",detailedVersion:`**التفسير المفصل:**
هذه السورة من أواخر ما نزل من القرآن، وقيل هي آخر سورة نزلت بتمامها. نزلت في أوسط أيام التشريق في حجة الوداع. تبشر النبي بنصر الله وفتح مكة، ودخول الناس في دين الله أفواجًا، وتأمره بالتسبيح والحمد والاستغفار شكرًا لله على هذه النعمة. وفهم كبار الصحابة كابن عباس وعمر بن الخطاب من هذه السورة أنها نعي لرسول الله وإشارة إلى اكتمال رسالته وقرب أجله، فبكوا عندما سمعوها.

**تفسير ابن كثير:**
روى البخاري عن ابن عباس قال: كان عمر يدخلني مع أشياخ بدر، فكأن بعضهم وجد في نفسه، فقال: لم يدخل هذا معنا ولنا أبناء مثله؟ فقال عمر: إنه من حيث علمتم. فدعاهم ذات يوم فأدخلني معهم، فسألهم عن قوله تعالى: (إذا جاء نصر الله والفتح). فقال بعضهم: أمرنا أن نحمد الله ونستغفره إذا نصرنا وفتح علينا. وسكت بعضهم. فقال لي: أكذلك تقول يا ابن عباس؟ فقلت: لا. قال: فما تقول؟ قلت: هو أجل رسول الله صلى الله عليه وسلم أعلمه له. قال: (فسبح بحمد ربك واستغفره). فقال عمر: ما أعلم منها إلا ما تقول.`,source:"لباب النقول للسيوطي، تفسير ابن كثير"}]},{surahId:111,surahName:"سورة المسد",stories:[{ayahRange:"1-5",shortSummary:"نزلت هذه السورة في أبي لهب، عم النبي صلى الله عليه وسلم، وزوجته، بعد أن آذيا النبي ورفضا دعوته.",detailedVersion:`**التفسير المفصل:**
لما نزل قوله تعالى (وَأَنذِرْ عَشِيرَتَكَ الْأَقْرَبِينَ)، صعد النبي صلى الله عليه وسلم على الصفا، وجعل ينادي: 'يا بني فهر، يا بني عدي' - لبطون قريش - حتى اجتمعوا. فقال: 'أرأيتكم لو أخبرتكم أن خيلاً بالوادي تريد أن تغير عليكم، أكنتم مصدقي؟' قالوا: 'نعم، ما جربنا عليك إلا صدقاً'. قال: 'فإني نذير لكم بين يدي عذاب شديد'. فقال أبو لهب: 'تباً لك سائر اليوم، ألهذا جمعتنا؟' فأنزل الله تعالى: (تَبَّتْ يَدَا أَبِي لَهَبٍ وَتَبَّ).

**تفسير ابن كثير:**
روى البخاري عن ابن عباس أن النبي صلى الله عليه وسلم خرج إلى البطحاء فصعد الجبل فنادى: 'يا صباحاه'. فاجتمعت إليه قريش. فقال: 'أرأيتم إن حدثتكم أن العدو مصبحكم أو ممسيكم، أكنتم تصدقوني؟' قالوا: 'نعم'. قال: 'فإني نذير لكم بين يدي عذاب شديد'. فقال أبو لهب: 'تبًا لك، ألهذا جمعتنا؟' فأنزل الله: (تبت يدا أبي لهب وتب).`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:112,surahName:"سورة الإخلاص",stories:[{ayahRange:"1-4",shortSummary:"نزلت ردًا على المشركين واليهود الذين سألوا النبي صلى الله عليه وسلم أن يصف لهم ربه.",detailedVersion:`**التفسير المفصل:**
جاء المشركون إلى النبي صلى الله عليه وسلم وقالوا: 'يا محمد، انسب لنا ربك، صف لنا ربك، أمن ذهب هو أم من فضة؟' فأنزل الله تعالى سورة الإخلاص: (قُلْ هُوَ اللَّهُ أَحَدٌ)، وهي سورة تصف الله تعالى بصفات الوحدانية والكمال، وتنفي عنه كل نقص، كالوالد والولد والمثيل والنظير. وهي تعدل ثلث القرآن لما تضمنته من معاني التوحيد الخالص.

**تفسير ابن كثير:**
قال الإمام أحمد عن أبي بن كعب أن المشركين قالوا للنبي صلى الله عليه وسلم: يا محمد، انسب لنا ربك. فأنزل الله تعالى: (قل هو الله أحد الله الصمد لم يلد ولم يولد ولم يكن له كفوا أحد).`,source:"لباب النقول للسيوطي، تفسير ابن كثير"}]},{surahId:113,surahName:"سورة الفلق",stories:[{ayahRange:"1-5",shortSummary:"نزلت سورة الفلق وسورة الناس (المعوذتان) بعد أن تعرض النبي صلى الله عليه وسلم للسحر من قبل رجل يهودي يدعى لبيد بن الأعصم.",detailedVersion:`**التفسير المفصل:**
سحر لبيد بن الأعصم اليهودي النبي صلى الله عليه وسلم، فكان يُخيل إليه أنه يفعل الشيء وهو لا يفعله. فدعا النبي ربه، فأتاه ملكان في المنام وأخبراه بمكان السحر (في بئر ذروان). فأرسل النبي من يستخرجه، فوجدوا مشطًا ومشاطة وأسنان مشط في جف طلعة ذكر، معقودًا فيه أحد عشر عقدة. فأنزل الله المعوذتين، فجعل كلما يقرأ آية تنحل عقدة، حتى انحلت العقد كلها، فقام النبي كأنما نشط من عقال. وهما أعظم ما يتعوذ به المسلم.

**تفسير ابن كثير:**
ثبت في الصحيحين عن عائشة أن رسول الله صلى الله عليه وسلم سُحر، حتى كان يرى أنه يأتي النساء ولا يأتيهن. وفي رواية: كان يخيل إليه أنه فعل الشيء ولم يفعله. ثم بعد دعائه، أتاه ملكان وأخبراه بمكان السحر، فاستخرجه، وأنزل الله هاتين السورتين.`,source:"لباب النقول للسيوطي، تفسير ابن كثير"}]},{surahId:114,surahName:"سورة الناس",stories:[{ayahRange:"1-6",shortSummary:"نزلت سورة الناس مع سورة الفلق (المعوذتان) كرقية للنبي صلى الله عليه وسلم من السحر الذي أصابه.",detailedVersion:`**التفسير المفصل:**
بعد أن تعرض النبي صلى الله عليه وسلم لسحر لبيد بن الأعصم اليهودي، أنزل الله تعالى المعوذتين (الفلق والناس) شفاء ورقية له. وتختص سورة الناس بالاستعاذة بالله من شر أعظم عدو للإنسان، وهو الشيطان الذي يوسوس في صدور الناس بالشر والمعصية، سواء كان هذا الشيطان من الجن أو من الإنس. فهي حصن للمسلم من الوساوس والأفكار الخبيثة.

**تفسير ابن كثير:**
هذه السورة هي إحدى المعوذتين. قال الإمام أحمد عن عقبة بن عامر، قال: بينا أنا أقود برسول الله صلى الله عليه وسلم راحلته في غزاة، إذ قال: 'يا عقبة، قل'. فقلت: ماذا أقول؟ فسكت عني، ثم قال: 'قل'. قلت: ماذا أقول يا رسول الله؟ فسكت عني، ثم قال: 'قل'. قلت: ماذا أقول؟ قال: '(قل أعوذ برب الفلق)' فقرأتها حتى أتيت على آخرها. ثم قال: '(قل أعوذ برب الناس)' فقرأتها حتى أتيت على آخرها. ثم قال رسول الله صلى الله عليه وسلم عند ذلك: 'ما سأل سائل بمثلهما، ولا استعاذ مستعيذ بمثلهما'.`,source:"لباب النقول للسيوطي، تفسير ابن كثير"}]}],Sw=({story:t})=>{const[e,n]=A.useState(!1);return f.jsxs("div",{className:"bg-card p-4 rounded-lg shadow-md",children:[f.jsxs("h4",{className:"text-lg font-semibold text-primary mb-2",children:["سبب نزول الآية: ",t.ayahRange]}),f.jsx("p",{className:"text-text-secondary mb-3 whitespace-pre-wrap leading-relaxed",children:e?t.detailedVersion:t.shortSummary}),f.jsxs("div",{className:"flex justify-between items-center mt-3 pt-2 border-t border-border-color",children:[f.jsxs("p",{className:"text-xs text-text-secondary",children:[f.jsx("span",{className:"font-semibold",children:"المصدر:"})," ",t.source]}),f.jsx("button",{onClick:()=>n(!e),className:"text-xs font-semibold text-primary hover:underline",children:e?"عرض الملخص":"عرض التفصيل"})]})]})},Cw=()=>{const[t,e]=A.useState(null);return t?f.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pt-6 pb-8 animate-fade-in",children:[f.jsxs("button",{onClick:()=>e(null),className:"flex items-center gap-2 text-text-secondary hover:text-text-primary mb-4",children:[f.jsx(He,{className:"w-5 h-5"}),f.jsx("span",{children:"كل السور"})]}),f.jsx("h2",{className:"text-3xl font-bold font-amiri-quran text-text-primary mb-6",children:t.surahName}),f.jsx("div",{className:"space-y-4",children:t.stories.map((n,o)=>f.jsx(Sw,{story:n},o))})]}):f.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pt-4 pb-8 animate-fade-in",children:[f.jsx("h2",{className:"text-xl font-bold text-text-primary mb-4",children:"اختر سورة لعرض أسباب النزول المتعلقة بها"}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Tw.map(n=>f.jsx("div",{onClick:()=>e(n),className:"p-4 rounded-lg shadow-md bg-card hover:bg-border-color transition-all duration-200 flex items-center justify-between cursor-pointer",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("span",{className:"w-10 h-10 flex items-center justify-center rounded-full text-sm font-medium ml-4 bg-background text-text-secondary",children:n.surahId}),f.jsx("p",{className:"font-semibold font-amiri-quran text-xl text-text-primary",children:n.surahName})]})},n.surahId))})]})},Ew=[{id:1,title:"قصة الفيل",content:`في قديم الزمان, كان هناك رجل شرير اسمه أبرهة. بنى أبرهة بيتاً كبيراً وأراد أن يذهب الناس إليه بدلاً من الكعبة.

عندما لم يستمع له أحد, غضب أبرهة وقرر أن يهدم الكعبة. أحضر جيشاً كبيراً ومعه فيل ضخم جداً.

عندما اقترب الجيش من مكة, توقف الفيل ولم يتحرك. حاولوا دفعه لكنه رفض. فجأة, أرسل الله طيوراً صغيرة تحمل حجارة صغيرة, ورمت الحجارة على جيش أبرهة فهلكوا جميعاً وحمى الله الكعبة.`,moral:"الله قوي ويحمي بيته, وهو أقوى من أي شيء.",question:{text:"ماذا أرسل الله ليحمي الكعبة؟",options:["جيشاً كبيراً","طيوراً صغيرة","فيلاً آخر"],correctAnswer:"طيوراً صغيرة"},ageGroup:"3-5",illustration:"🐘"},{id:2,title:"قصة يونس في بطن الحوت",content:`كان هناك نبي اسمه يونس عليه السلام. أرسله الله إلى قومه ليدعوهم إلى عبادة الله وحده, لكنهم لم يستمعوا له.

غضب يونس وتركهم وركب سفينة. في البحر, هبت عاصفة قوية, وقرر الناس في السفينة أن يلقوا رجلاً منهم في البحر لتخف السفينة. وقع الاختيار على يونس, فألقوه في البحر.

ابتلع حوت ضخم يونس, وفي بطن الحوت المظلم, دعا يونس ربه وقال: "لا إله إلا أنت سبحانك إني كنت من الظالمين". فاستجاب الله له وأمر الحوت أن يخرجه إلى الشاطئ سالمًا.`,moral:"يجب أن نصبر وندعو الله دائمًا, خاصة عندما نكون في شدة.",question:{text:"ماذا فعل النبي يونس في بطن الحوت؟",options:["نام","دعا ربه","أكل"],correctAnswer:"دعا ربه"},ageGroup:"3-5",illustration:"🐳"},{id:3,title:"قصة نوح و السفينة",content:`كان نبي الله نوح عليه السلام يدعو قومه لعبادة الله وحده, لكنهم كانوا يسخرون منه ويعبدون الأصنام.

أمر الله نوحًا أن يصنع سفينة كبيرة جدًا. كان الناس يضحكون عليه وهو يبنيها في الصحراء. عندما اكتملت السفينة, أمره الله أن يأخذ معه المؤمنين وزوجين من كل حيوان وطائر.

ثم أمطرت السماء بغزارة, وخرج الماء من الأرض, وغرق كل الكافرين. ونجا نوح ومن معه في السفينة بفضل الله.`,moral:"طاعة الله تنجينا دائمًا من كل سوء.",question:{text:"لماذا بنى نوح عليه السلام السفينة؟",options:["ليسافر","لينجو من الطوفان","ليصطاد السمك"],correctAnswer:"لينجو من الطوفان"},ageGroup:"3-5",illustration:"🚢"},{id:4,title:"قصة إبراهيم و الأصنام",content:`في قديم الزمان, كان الناس يعبدون تماثيل يصنعونها بأيديهم تسمى الأصنام. كان نبي الله إبراهيم عليه السلام شابًا ذكيًا, وعرف أن هذه الأصنام لا تسمع ولا ترى ولا تنفع.

في يوم من الأيام, ذهب كل الناس للاحتفال خارج المدينة. دخل إبراهيم إلى المعبد وكسر كل الأصنام بفأس, إلا الصنم الأكبر, فقد علق الفأس في رقبته.

عندما عاد الناس ورأوا أصنامهم محطمة, غضبوا وعرفوا أن إبراهيم هو الفاعل. سألوه: "أأنت فعلت هذا؟". قال إبراهيم: "بل فعله كبيرهم هذا, فاسألوهم إن كانوا ينطقون!". لم تستطع الأصنام أن تتكلم, فعرف الناس أنهم كانوا على خطأ.`,moral:"يجب أن نعبد الله وحده, فهو الخالق القادر على كل شيء.",question:{text:"ماذا ترك إبراهيم عليه السلام سليمًا؟",options:["كل الأصنام","صنمًا صغيرًا","الصنم الأكبر"],correctAnswer:"الصنم الأكبر"},ageGroup:"6-8",illustration:"🗿"},{id:5,title:"قصة موسى و البحر",content:`كان هناك ملك ظالم اسمه فرعون. كان فرعون يعذب بني إسرائيل. أرسل الله نبيه موسى عليه السلام ليأخذهم ويخرج بهم من مصر.

لحق فرعون وجيشه بموسى وقومه حتى وصلوا إلى البحر. خاف الناس وقالوا: "البحر أمامنا وفرعون خلفنا!".

أمر الله موسى أن يضرب البحر بعصاه. فانشق البحر وأصبح طريقًا يابسًا, فعبر موسى وقومه بسلام. عندما حاول فرعون وجيشه العبور, عاد البحر كما كان وغرقوا جميعًا.`,moral:"الله قادر على كل شيء, وينصر عباده المؤمنين.",question:{text:"كيف نجا موسى عليه السلام وقومه من فرعون؟",options:["بالسفن","بالطيران","انشق لهم البحر"],correctAnswer:"انشق لهم البحر"},ageGroup:"6-8",illustration:"🌊"},{id:6,title:"قصة سليمان و النملة",content:`كان نبي الله سليمان عليه السلام يفهم لغة الحيوانات. في يوم من الأيام, كان يسير بجيشه الكبير, فمروا على وادٍ مليء بالنمل.

سمع سليمان نملة تقول لبقية النمل: "يا أيها النمل ادخلوا مساكنكم لا يحطمنكم سليمان وجنوده وهم لا يشعرون".

تبسم سليمان من قولها, وشكر الله على نعمته العظيمة, وأمر جيشه أن يغيروا طريقهم حتى لا يؤذوا النمل.`,moral:"يجب أن نكون رحماء بكل مخلوقات الله, حتى الصغيرة منها.",question:{text:"لماذا تبسم سليمان عليه السلام؟",options:["لأنه رأى نملة","لأنه سمع كلام النملة","لأنه كان سعيدًا"],correctAnswer:"لأنه سمع كلام النملة"},ageGroup:"3-5",illustration:"🐜"},{id:7,title:"قصة ناقة صالح",content:`أرسل الله النبي صالح عليه السلام إلى قوم ثمود. كانوا قومًا أقوياء يسكنون في بيوت منحوتة في الجبال, لكنهم كانوا يعبدون الأصنام.

طلب قوم ثمود من صالح معجزة ليؤمنوا به. فدعا صالح ربه, فأخرج الله لهم من صخرة كبيرة ناقة (أنثى الجمل) عظيمة. قال لهم صالح: "هذه ناقة الله لكم آية, فذروها تأكل في أرض الله ولا تمسوها بسوء".

لكنهم كذبوا صالحًا وقتلوا الناقة. فجاءهم عذاب شديد من الله, فأهلكهم جميعًا ونجى صالحًا والمؤمنين معه.`,moral:"عصيان أوامر الله ورسله يأتي بالعقاب.",question:{text:"ماذا فعل قوم ثمود بالناقة؟",options:["أطعموها","قتلوها","باعوها"],correctAnswer:"قتلوها"},ageGroup:"6-8",illustration:"🐪"},{id:8,title:"الطفل موسى في النهر",content:`عندما ولد النبي موسى عليه السلام, كان فرعون يقتل كل الأطفال الذكور. خافت أم موسى عليه, فأوحى الله إليها أن تضعه في صندوق وتلقيه في النهر.

فعلت أمه ما أمرها الله به, وهي حزينة. سار الصندوق في النهر حتى وصل إلى قصر فرعون. وجدته زوجة فرعون وأحبته, وأقنعت فرعون أن يتبنياه.

وهكذا, عاد موسى إلى أمه لترضعه بأجر من فرعون, وحفظه الله من القتل ونشأ في قصر عدوه.`,moral:"ثق بالله, فخطته دائمًا هي الأفضل لحمايتنا.",question:{text:"أين وضعت أم موسى ابنها لتحميه؟",options:["في كهف","في صندوق في النهر","عند جيرانها"],correctAnswer:"في صندوق في النهر"},ageGroup:"3-5",illustration:"🧺"},{id:9,title:"داود و جالوت",content:`كان هناك ملك قوي وظالم اسمه جالوت, وكان جيشه كبيرًا جدًا, ولم يستطع أحد هزيمته. كان في جيش المؤمنين فتى شجاع اسمه داود عليه السلام.

لم يكن داود جنديًا, بل كان راعيًا. خرج داود ليقاتل جالوت, ومعه فقط مقلاعه وبعض الحجارة. سخر جالوت من داود لصغر حجمه.

لكن داود قال: "أنت تأتيني بالسيف والرمح, وأنا آتيك باسم رب الجنود". ثم وضع حجرًا في مقلاعه ورماه بقوة, فأصاب جالوت في رأسه وقتله. فهرب جيش جالوت وانتصر المؤمنون.`,moral:"القوة الحقيقية تأتي من الإيمان بالله, وليس من حجم الجسم أو السلاح.",question:{text:"بماذا قتل داود عليه السلام جالوت؟",options:["بسيف","بحجر من مقلاع","برمح"],correctAnswer:"بحجر من مقلاع"},ageGroup:"9-12",illustration:"🪨"},{id:10,title:"مريم و عيسى عليهما السلام",content:`كانت السيدة مريم امرأة صالحة جدًا, وكانت تقضي وقتها في عبادة الله. وفي يوم من الأيام, جاءها الملك جبريل وبشرها بأنها ستلد طفلاً سيكون نبيًا, واسمه عيسى, من غير أب.

تعجبت مريم ولكنها آمنت بقدرة الله. عندما ولدت عيسى, اتهمها قومها بالسوء. فأشار الله عليها ألا تتكلم وأن تشير إلى الطفل.

فتكلم عيسى وهو في المهد وقال: "إني عبد الله آتاني الكتاب وجعلني نبيًا". فكانت هذه معجزة عظيمة, وبرأ الله السيدة مريم.`,moral:"الله قادر على فعل المعجزات, ويدافع دائمًا عن عباده الصالحين.",question:{text:"ماذا كانت أول كلمات نطق بها عيسى عليه السلام؟",options:["أنا جائع","إني عبد الله","أريد أمي"],correctAnswer:"إني عبد الله"},ageGroup:"6-8",illustration:"👶"},{id:11,title:"نصيحة لقمان لابنه",content:`كان هناك رجل حكيم اسمه لقمان. أعطاه الله الحكمة. في يوم من الأيام, أراد أن يعلم ابنه درسًا مهمًا.

قال له: "يا بني لا تشرك بالله إن الشرك لظلم عظيم". وعلمه أن يكون لطيفًا مع والديه, وأن يشكر الله دائمًا.

وعلمه أيضًا ألا يكون متكبرًا, وأن يمشي على الأرض بهدوء, وأن يخفض صوته. كانت نصائح لقمان مليئة بالحب والحكمة.`,moral:"يجب أن نعبد الله وحده, ونكون طيبين مع والدينا ومتواضعين مع الناس.",question:{text:"ما هو أعظم ظلم حذر منه لقمان ابنه؟",options:["الكذب","السرقة","الشرك بالله"],correctAnswer:"الشرك بالله"},ageGroup:"9-12",illustration:"❤️"},{id:12,title:"أصحاب الجنة",content:`كان هناك رجل صالح لديه حديقة جميلة مليئة بالثمار. كان دائمًا يعطي الفقراء والمساكين من ثمار حديقته.

عندما توفي الرجل, قرر أولاده أن يكونوا بخلاء وألا يعطوا الفقراء شيئًا. واتفقوا أن يذهبوا في الصباح الباكر لقطف الثمار قبل أن يأتي الفقراء.

لكن في الليل, أرسل الله نارًا على الحديقة فأحرقتها كلها. وفي الصباح, عندما ذهبوا, وجدوا حديقتهم سوداء محترقة. فعرفوا أنهم أخطأوا وندموا على بخلهم.`,moral:"العطاء والصدقة تبارك في رزقنا, والبخل يزيله.",question:{text:"لماذا احترقت حديقة الأولاد؟",options:["لأنهم كانوا بخلاء","بسبب الشمس الحارة","لأنهم نسوا سقيها"],correctAnswer:"لأنهم كانوا بخلاء"},ageGroup:"6-8",illustration:"🔥"},{id:13,title:"لطف النبي مع الجمل",content:`في يوم من الأيام, دخل النبي محمد صلى الله عليه وسلم حديقة لرجل من الأنصار. فجأة, رأى جملاً يركض نحوه وعيناه تدمعان ويصدر صوتًا حزينًا.

اقترب النبي من الجمل ومسح على رأسه برفق حتى هدأ. ثم سأل النبي: "من صاحب هذا الجمل؟". فجاء شاب وقال: "أنا يا رسول الله".

فقال له النبي: "ألا تتقي الله في هذه البهيمة التي ملكك الله إياها؟ فإنه شكا إلي أنك تجيعه وتتعبه". فتعلم الرجل درسه ووعد بأن يعتني بالجمل جيدًا.`,moral:"الإسلام يعلمنا أن نكون رحماء بالحيوانات.",question:{text:"ماذا كان يشتكي الجمل للنبي؟",options:["أنه يريد اللعب","أن صاحبه يجيعه ويتعبه","أنه يريد العودة للصحراء"],correctAnswer:"أن صاحبه يجيعه ويتعبه"},ageGroup:"3-5",illustration:"😢"},{id:14,title:"الولد الصادق",content:`في يوم من الأيام, كان النبي محمد صلى الله عليه وسلم يسير في بستان, فرأى ولدًا صغيرًا يرمي شجرة نخيل بالحجارة ليسقط التمر ويأكله.

اقترب منه النبي برفق وسأله: "يا بني, لماذا ترمي النخلة؟". قال الولد بخوف: "كنت جائعًا".

ابتسم النبي وقال له: "لا ترمها بالحجارة, ولكن كل ما يسقط منها على الأرض". ثم مسح على رأس الولد ودعا له بالبركة. تعلم الولد أن الصدق ينجي وأن طلب الإذن أفضل من الأخذ بدون استئذان.`,moral:"الصدق هو أفضل طريق, ويجب أن نطلب الإذن قبل أن نأخذ شيئًا ليس لنا.",question:{text:"ماذا علم النبي الولد أن يفعل؟",options:["أن يرمي المزيد من الحجارة","ألا يأكل التمر","أن يأكل ما يسقط على الأرض فقط"],correctAnswer:"أن يأكل ما يسقط على الأرض فقط"},ageGroup:"6-8",illustration:"🌴"},{id:15,title:"العنكبوت و الحمامة",content:`عندما هاجر النبي محمد صلى الله عليه وسلم من مكة إلى المدينة, لحقه الكفار ليمسكوا به. اختبأ النبي وصاحبه أبو بكر في كهف يسمى غار ثور.

بأمر الله, جاء عنكبوت صغير ونسج شبكة قوية على باب الكهف. وجاءت حمامة وبنت عشها ووضعت بيضها أمامه.

عندما وصل الكفار إلى الكهف, رأوا شبكة العنكبوت وعش الحمامة, فقالوا: "مستحيل أن يكون أحد قد دخل هنا, فالشبكة سليمة والعش في مكانه". وهكذا, حمى الله نبيه بجنود صغار لا يراها الناس.`,moral:"الله قادر على حمايتنا بأبسط الأشياء, فلا تستهن بأي مخلوق.",question:{text:"ماذا فعل العنكبوت ليحمي النبي؟",options:["قاتل الكفار","نسج شبكة على باب الكهف","أصدر صوتًا عاليًا"],correctAnswer:"نسج شبكة على باب الكهف"},ageGroup:"6-8",illustration:"🕸️"},{id:16,title:"النبي يحب الأطفال",content:`كان النبي محمد صلى الله عليه وسلم يحب الأطفال كثيرًا ويلعب معهم. كان حفيداه الحسن والحسين يلعبان معه دائمًا.

في مرة من المرات, كان النبي يصلي ويسجد, فجاء الحسن وركب على ظهره الشريف. أطال النبي السجود ولم يقم حتى نزل الحسن برفق من على ظهره.

بعد الصلاة, سأله الصحابة لماذا أطال السجود, فقال: "إن ابني هذا ارتحلني (ركب على ظهري) فكرهت أن أعجله حتى يقضي حاجته". كان النبي أرحم الناس بالأطفال.`,moral:"يجب أن نكون لطفاء ورحماء مع الأطفال ونلعب معهم.",question:{text:"لماذا أطال النبي سجوده؟",options:["لأنه كان متعبًا","لأن حفيده كان يلعب على ظهره","لأنه نسي"],correctAnswer:"لأن حفيده كان يلعب على ظهره"},ageGroup:"3-5",illustration:"😊"},{id:17,title:"الراعي الصغير الصادق",illustration:"🐑",content:'كان هناك راعٍ صغير يرعى الغنم. جاءه رجل وقال: "بعني شاة". قال الراعي: "إنها ليست لي, إنها لسيدي". قال الرجل: "قل لسيدك أكلها الذئب!". فرفض الراعي الصغير وقال: "فأين الله؟". أعجب الرجل بصدق الراعي وأمانته.',moral:"الله يرانا دائمًا, لذلك يجب أن نكون صادقين وأمناء.",question:{text:"لماذا لم يبع الراعي الشاة؟",options:["لأنه خاف من الذئب","لأنها لم تكن ملكه","لأنه لم يحب الرجل"],correctAnswer:"لأنها لم تكن ملكه"},ageGroup:"6-8"}],Aw=[{id:"prophets_quiz",title:"من هو النبي؟",type:"quiz",ageGroup:"6-8",questions:[{id:1,question:"من هو النبي الذي بنى الكعبة؟",options:["موسى","إبراهيم","نوح"],correctAnswer:"إبراهيم"},{id:2,question:"من هو النبي الذي كلمه الله عند جبل الطور؟",options:["عيسى","يوسف","موسى"],correctAnswer:"موسى"},{id:3,question:"من هو النبي الذي صنع سفينة كبيرة لينجو من الطوفان؟",options:["نوح","آدم","سليمان"],correctAnswer:"نوح"},{id:4,question:"من هو خاتم الأنبياء والمرسلين؟",options:["إسماعيل","محمد","يعقوب"],correctAnswer:"محمد"},{id:5,question:"من هو النبي الذي ألقاه إخوته في البئر؟",options:["يونس","يوسف","إسحاق"],correctAnswer:"يوسف"},{id:6,question:"من هو أبو الأنبياء؟",options:["زكريا","آدم","إبراهيم"],correctAnswer:"إبراهيم"},{id:7,question:"من هو النبي الذي كان يفهم لغة الطير والنمل؟",options:["داود","سليمان","إدريس"],correctAnswer:"سليمان"},{id:8,question:"من هو أول نبي؟",options:["إبراهيم","آدم","نوح"],correctAnswer:"آدم"},{id:9,question:"من هو النبي الذي ولد من غير أب؟",options:["يحيى","عيسى","إسماعيل"],correctAnswer:"عيسى"},{id:10,question:"من هو النبي الذي ابتلعه الحوت؟",options:["يونس","صالح","موسى"],correctAnswer:"يونس"}]},{id:"manners_quiz",title:"اختبر أخلاقك",type:"quiz",ageGroup:"3-5",questions:[{id:1,question:"ماذا نقول قبل أن نبدأ الأكل؟",options:["الحمد لله","بسم الله","شكرًا"],correctAnswer:"بسم الله"},{id:2,question:"بأي يد يجب أن نأكل؟",options:["اليمنى","اليسرى","لا يهم"],correctAnswer:"اليمنى"},{id:3,question:"إذا دخلت مكانًا, ماذا تفعل أولاً؟",options:["أجلس","آكل","أقول السلام عليكم"],correctAnswer:"أقول السلام عليكم"},{id:4,question:"عندما يعطيك أحد شيئًا, ماذا تقول؟",options:["أريد المزيد","شكرًا لك","لا أريد"],correctAnswer:"شكرًا لك"},{id:5,question:"ماذا تفعل قبل أن تنام؟",options:["ألعب","أقرأ دعاء النوم","أشاهد التلفاز"],correctAnswer:"أقرأ دعاء النوم"},{id:6,question:"إذا أخطأت في حق صديقك, ماذا تفعل؟",options:["أتجاهله","أقول أنا آسف","أضحك"],correctAnswer:"أقول أنا آسف"},{id:7,question:"كيف نتحدث مع والدينا؟",options:["بصوت عالٍ","بأدب واحترام","لا نتحدث معهم"],correctAnswer:"بأدب واحترام"},{id:8,question:"ماذا نقول عندما نعطس؟",options:["يا إلهي","الحمد لله","عفوًا"],correctAnswer:"الحمد لله"}]},{id:"places_quiz",title:"أماكن إسلامية",type:"quiz",ageGroup:"6-8",questions:[{id:1,question:"أين توجد الكعبة المشرفة؟",options:["المدينة المنورة","مكة المكرمة","القدس"],correctAnswer:"مكة المكرمة"},{id:2,question:"ما هو أول مسجد بني في الإسلام؟",options:["المسجد الحرام","مسجد قباء","المسجد النبوي"],correctAnswer:"مسجد قباء"},{id:3,question:"إلى أين هاجر النبي محمد صلى الله عليه وسلم؟",options:["الطائف","اليمن","المدينة المنورة"],correctAnswer:"المدينة المنورة"},{id:4,question:"أين يقع المسجد الأقصى؟",options:["مكة","المدينة","القدس"],correctAnswer:"القدس"},{id:5,question:"ما اسم الجبل الذي وقف عليه الحجاج في الحج؟",options:["جبل أحد","جبل عرفات","جبل النور"],correctAnswer:"جبل عرفات"}]},{id:"quran_facts_quiz",title:"حقائق قرآنية",type:"quiz",ageGroup:"9-12",questions:[{id:1,question:"ما هي أطول سورة في القرآن؟",options:["الفاتحة","البقرة","آل عمران"],correctAnswer:"البقرة"},{id:2,question:"كم عدد سور القرآن الكريم؟",options:["100","114","120"],correctAnswer:"114"},{id:3,question:'ما هي السورة التي تسمى "قلب القرآن"؟',options:["يس","الرحمن","الملك"],correctAnswer:"يس"},{id:4,question:"ما هي السورة التي لا تبدأ بالبسملة؟",options:["الأنفال","التوبة","المنافقون"],correctAnswer:"التوبة"},{id:5,question:"ما هي أعظم آية في القرآن؟",options:["آخر آية من سورة البقرة","آية الكرسي","أول آية من سورة الفاتحة"],correctAnswer:"آية الكرسي"}]},{id:"matching_pillars",title:"طابق أركان الإسلام",type:"matching",ageGroup:"3-5",matchingPairs:[{id:1,item1:"الشهادتان",item2:"الركن الأول"},{id:2,item1:"إقامة الصلاة",item2:"الركن الثاني"},{id:3,item1:"إيتاء الزكاة",item2:"الركن الثالث"},{id:4,item1:"صوم رمضان",item2:"الركن الرابع"},{id:5,item1:"حج البيت",item2:"الركن الخامس"}]},{id:"matching_animals_quran",title:"حيوانات ذكرت في القرآن",type:"matching",ageGroup:"6-8",matchingPairs:[{id:1,item1:"الفيل",item2:"سورة الفيل"},{id:2,item1:"النملة",item2:"قصة سيدنا سليمان"},{id:3,item1:"الهدهد",item2:"جاء بخبر ملكة سبأ"},{id:4,item1:"الناقة",item2:"معجزة سيدنا صالح"},{id:5,item1:"العنكبوت",item2:"حمى النبي في الغار"}]}],Nw=[{id:"wakeup",title:"عند الاستيقاظ",dhikr:"الحمدُ للهِ الذي أحيَانَا بعدَ مَا أمَاتَنَا وإليهِ النُّشُورُ.",audio:"",benefit:"نشكر الله أنه أعطانا يومًا جديدًا.",ageGroup:"3-5"},{id:"sleep",title:"قبل النوم",dhikr:"بِاسْمِكَ رَبِّـي وَضَعْـتُ جَنْـبِي, وَبِكَ أَرْفَعُـهُ.",audio:"",benefit:"نطلب من الله أن يحفظنا ونحن نائمون.",ageGroup:"3-5"},{id:"before_eating",title:"قبل الأكل",dhikr:"بِسْمِ اللهِ.",audio:"",benefit:"نبدأ طعامنا بذكر اسم الله ليبارك فيه.",ageGroup:"3-5"},{id:"after_eating",title:"بعد الأكل",dhikr:"الحمدُ للهِ الذي أطْعَمَنِي هذا ورَزَقَنِيهِ مِنْ غَيْرِ حَوْلٍ مِنِّي ولا قُوَّة.",audio:"",benefit:"نشكر الله على نعمة الطعام اللذيذ.",ageGroup:"6-8"},{id:"enter_home",title:"عند دخول المنزل",dhikr:"بِسْمِ اللهِ وَلَجْنَا, وَبِسْمِ اللهِ خَرَجْنَا, وَعَلَى رَبِّنَا تَوَكَّلْنَا.",audio:"",benefit:"ندخل بيتنا بذكر الله ليدخل معنا الخير.",ageGroup:"6-8"},{id:"exit_home",title:"عند الخروج من المنزل",dhikr:"بِسْمِ اللهِ, تَوَكَّلْتُ عَلَى اللهِ, وَلَا حَوْلَ وَلَا قُوَّةَ إِلَّا بِاللهِ.",audio:"",benefit:"نطلب من الله أن يحفظنا ونحن في الخارج.",ageGroup:"6-8"},{id:"enter_toilet",title:"قبل دخول الحمام",dhikr:"اللَّهُمَّ إِنِّي أَعُوذُ بِكَ مِنَ الْخُبُثِ وَالْخَبَائِثِ.",audio:"",benefit:"نستعيذ بالله من الشياطين.",ageGroup:"6-8"},{id:"exit_toilet",title:"بعد الخروج من الحمام",dhikr:"غُفْرَانَكَ.",audio:"",benefit:"نطلب المغفرة من الله.",ageGroup:"3-5"},{id:"subhanallah",title:"تسبيح",dhikr:"سبحان الله",audio:"",benefit:"ننزه الله عن كل نقص.",ageGroup:"3-5"},{id:"alhamdulillah",title:"تحميد",dhikr:"الحمد لله",audio:"",benefit:"نشكر الله على كل نعمه.",ageGroup:"3-5"},{id:"allahuakbar",title:"تكبير",dhikr:"الله أكبر",audio:"",benefit:"نعظم الله ونقول إنه أكبر من كل شيء.",ageGroup:"3-5"},{id:"lailahaillallah",title:"تهليل",dhikr:"لا إله إلا الله",audio:"",benefit:"هي أفضل كلمة, ومعناها لا معبود بحق إلا الله.",ageGroup:"6-8"},{id:"salah_nabi",title:"الصلاة على النبي",dhikr:"اللَّهُمَّ صَلِّ وَسَلِّمْ عَلَى نَبِيِّنَا مُحَمَّدٍ",audio:"",benefit:"نصلي على نبينا الحبيب لننال شفاعته.",ageGroup:"9-12"}],Jy=[{id:"arabic_letters",title:"الحروف العربية",ageGroup:"3-5",cards:[{id:1,front:"أ",back:"ألف"},{id:2,front:"ب",back:"باء"},{id:3,front:"ت",back:"تاء"},{id:4,front:"ث",back:"ثاء"},{id:5,front:"ج",back:"جيم"},{id:6,front:"ح",back:"حاء"},{id:7,front:"خ",back:"خاء"},{id:8,front:"د",back:"دال"},{id:9,front:"ذ",back:"ذال"},{id:10,front:"ر",back:"راء"},{id:11,front:"ز",back:"زاي"},{id:12,front:"س",back:"سين"},{id:13,front:"ش",back:"شين"},{id:14,front:"ص",back:"صاد"},{id:15,front:"ض",back:"ضاد"},{id:16,front:"ط",back:"طاء"},{id:17,front:"ظ",back:"ظاء"},{id:18,front:"ع",back:"عين"},{id:19,front:"غ",back:"غين"},{id:20,front:"ف",back:"فاء"},{id:21,front:"ق",back:"قاف"},{id:22,front:"ك",back:"كاف"},{id:23,front:"ل",back:"لام"},{id:24,front:"م",back:"ميم"},{id:25,front:"ن",back:"نون"},{id:26,front:"هـ",back:"هاء"},{id:27,front:"و",back:"واو"},{id:28,front:"ي",back:"ياء"}]},{id:"pillars_of_islam",title:"أركان الإسلام",ageGroup:"3-5",cards:[{id:1,front:"1",back:"الشهادتان"},{id:2,front:"2",back:"إقامة الصلاة"},{id:3,front:"3",back:"إيتاء الزكاة"},{id:4,front:"4",back:"صوم رمضان"},{id:5,front:"5",back:"حج البيت"}]},{id:"names_of_allah",title:"أسماء الله الحسنى",ageGroup:"9-12",cards:[{id:1,front:"الرحمن",back:"واسع الرحمة"},{id:2,front:"الرحيم",back:"كثير الرحمة بعباده"},{id:3,front:"الملك",back:"مالك كل شيء"},{id:4,front:"القدوس",back:"المنزه عن كل نقص"},{id:5,front:"السلام",back:"السالم من كل عيب"},{id:6,front:"الخالق",back:"الذي أوجد كل شيء"},{id:7,front:"الرزاق",back:"الذي يرزق مخلوقاته"},{id:8,front:"السميع",back:"الذي يسمع كل شيء"},{id:9,front:"البصير",back:"الذي يرى كل شيء"},{id:10,front:"العليم",back:"الذي يعلم كل شيء"},{id:11,front:"الغفور",back:"الذي يغفر الذنوب"}]},{id:"islamic_months",title:"الشهور الهجرية",ageGroup:"6-8",cards:[{id:1,front:"1",back:"محرّم"},{id:2,front:"2",back:"صفر"},{id:3,front:"3",back:"ربيع الأول"},{id:4,front:"4",back:"ربيع الآخر"},{id:5,front:"5",back:"جمادى الأولى"},{id:6,front:"6",back:"جمادى الآخرة"},{id:7,front:"7",back:"رجب"},{id:8,front:"8",back:"شعبان"},{id:9,front:"9",back:"رمضان"},{id:10,front:"10",back:"شوال"},{id:11,front:"11",back:"ذو القعدة"},{id:12,front:"12",back:"ذو الحجة"}]},{id:"prayer_times",title:"أوقات الصلوات",ageGroup:"6-8",cards:[{id:1,front:"الفجر",back:"صلاة الصباح الباكر"},{id:2,front:"الظهر",back:"صلاة منتصف النهار"},{id:3,front:"العصر",back:"صلاة بعد الظهر"},{id:4,front:"المغرب",back:"صلاة عند غروب الشمس"},{id:5,front:"العشاء",back:"صلاة الليل"}]}],_w=()=>f.jsx("span",{className:"text-4xl",children:"📚"}),Mw=()=>f.jsx("span",{className:"text-4xl",children:"🎲"}),bw=()=>f.jsx("span",{className:"text-4xl",children:"🤲"}),ww=()=>f.jsx("span",{className:"text-4xl",children:"📇"}),Nc=()=>f.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"})}),cr={"bg-sky-100":"bg-sky-100","bg-green-100":"bg-green-100","bg-yellow-100":"bg-yellow-100","bg-pink-100":"bg-pink-100"},ia=(t,e)=>{const[n,o]=A.useState(()=>{try{const i=localStorage.getItem(t);return i?JSON.parse(i):e}catch(i){return console.error(i),e}});return A.useEffect(()=>{localStorage.setItem(t,JSON.stringify(n))},[t,n]),[n,o]},Rw=t=>{const e=t?`kidsProgress_${t}`:"kidsProgress_guest",[n,o]=ia(e,{storiesCompleted:[],gamesCorrectAnswers:{},dhikrCompleted:[],flashcardsCompleted:[]});return A.useEffect(()=>{t===null&&o({storiesCompleted:[],gamesCorrectAnswers:{},dhikrCompleted:[],flashcardsCompleted:[]})},[t,o]),[n,o]},Pl=(t,e)=>{const n=[];return e<=5?n.push("3-5"):e>=6&&e<=8?n.push("3-5","6-8"):e>=9&&n.push("6-8","9-12"),t.filter(o=>n.includes(o.ageGroup))},jm=t=>[...t].sort(()=>Math.random()-.5),ji=t=>{if("speechSynthesis"in window){window.speechSynthesis.cancel();const e=new SpeechSynthesisUtterance(t);e.lang="ar-SA",e.rate=.9,window.speechSynthesis.speak(e)}else alert("متصفحك لا يدعم نطق النصوص.")},Dw=({stories:t,progress:e,onComplete:n,onBack:o})=>{const[i,l]=A.useState(null),[r,u]=A.useState(null),[c,d]=A.useState(null),m=h=>{if(c!==null)return;u(h);const g=h===(i==null?void 0:i.question.correctAnswer);d(g),g&&n(i.id)},p=()=>{l(null),u(null),d(null)};return i?f.jsxs("div",{children:[f.jsxs("button",{onClick:p,className:"flex items-center gap-2 text-text-secondary hover:text-text-primary mb-4 font-tajawal",children:[f.jsx(He,{className:"w-5 h-5"}),f.jsx("span",{children:"العودة للقصص"})]}),f.jsxs("div",{className:"bg-card p-6 rounded-lg shadow-lg",children:[f.jsx("div",{className:"text-6xl text-center mb-4",children:i.illustration}),f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h3",{className:"text-2xl font-bold text-primary font-tajawal",children:i.title}),f.jsxs("button",{onClick:()=>ji(i.title+". "+i.content),className:"p-2 text-primary hover:bg-primary/10 rounded-full flex items-center gap-2","aria-label":"استمع للقصة",children:[f.jsx(Nc,{}),f.jsx("span",{className:"font-tajawal text-sm font-semibold hidden sm:inline",children:"استمع للقصة"})]})]}),f.jsx("p",{className:"text-text-primary whitespace-pre-line leading-relaxed font-tajawal text-lg mb-4",children:i.content}),f.jsxs("p",{className:"bg-yellow-100 text-yellow-800 p-3 rounded-lg font-semibold font-tajawal",children:["💡 الدرس المستفاد: ",i.moral]}),f.jsxs("div",{className:"mt-6 border-t border-border-color pt-4",children:[f.jsx("h4",{className:"font-bold text-text-primary font-tajawal mb-3",children:"سؤال عن القصة:"}),f.jsx("p",{className:"font-semibold text-text-primary font-tajawal mb-4",children:i.question.text}),f.jsx("div",{className:"space-y-2",children:i.question.options.map(h=>f.jsx("button",{onClick:()=>m(h),className:`w-full text-right p-3 rounded-lg font-tajawal transition-colors ${c!==null&&h===i.question.correctAnswer?"bg-green-200 ring-2 ring-green-500":c===!1&&r===h?"bg-red-200 ring-2 ring-red-500":"bg-background hover:bg-border-color"}`,children:h},h))}),c===!0&&f.jsx("p",{className:"text-green-600 font-bold text-center mt-4 font-tajawal",children:"أحسنت! إجابة صحيحة!"}),c===!1&&f.jsx("p",{className:"text-red-600 font-bold text-center mt-4 font-tajawal",children:"حاول مرة أخرى!"})]})]})]}):f.jsxs("div",{children:[f.jsxs("button",{onClick:o,className:"flex items-center gap-2 text-text-secondary hover:text-text-primary mb-4 font-tajawal",children:[f.jsx(He,{className:"w-5 h-5"}),f.jsx("span",{children:"العودة للقائمة"})]}),f.jsx("h2",{className:"text-2xl font-bold text-primary mb-4 font-tajawal",children:"قصص القرآن المبسطة"}),t.length>0?f.jsx("div",{className:"space-y-3",children:t.map(h=>f.jsxs("button",{onClick:()=>l(h),className:"w-full text-right bg-card p-4 rounded-lg shadow-md flex justify-between items-center hover:shadow-lg transition-shadow",children:[f.jsx("span",{className:"font-bold text-lg font-tajawal text-text-primary",children:h.title}),e.storiesCompleted.includes(h.id)&&f.jsx(Ko,{className:"w-6 h-6 text-green-500"})]},h.id))}):f.jsx("p",{className:"text-center text-text-secondary font-tajawal p-8 bg-card rounded-lg",children:"لا توجد قصص مناسبة لهذا العمر حاليًا."})]})},Iw=({game:t,progress:e,onComplete:n})=>{const o=A.useMemo(()=>{var g;return((g=t.questions)==null?void 0:g.filter(v=>!e.includes(v.id)))||[]},[t,e]),[i,l]=A.useState(0),[r,u]=A.useState(null),[c,d]=A.useState(null),m=o[i],p=g=>{if(c!==null)return;u(g);const v=g===m.correctAnswer;d(v),v&&n(m.id)},h=()=>{d(null),u(null),i<o.length-1&&l(i+1)};return m?f.jsxs("div",{className:"bg-card p-6 rounded-lg shadow-lg font-tajawal",children:[f.jsxs("p",{className:"text-sm text-text-secondary mb-3",children:["سؤال ",e.length+1," / ",t.questions.length]}),f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h3",{className:"text-xl font-bold text-text-primary",children:m.question}),f.jsx("button",{onClick:()=>ji(m.question),className:"p-2 text-primary hover:bg-primary/10 rounded-full flex-shrink-0",children:f.jsx(Nc,{})})]}),f.jsx("div",{className:"space-y-3",children:m.options.map(g=>f.jsx("button",{onClick:()=>p(g),className:`w-full text-right p-3 rounded-lg transition-colors ${c!==null&&g===m.correctAnswer?"bg-green-200 ring-2 ring-green-500":c===!1&&r===g?"bg-red-200 ring-2 ring-red-500":"bg-background hover:bg-border-color"}`,children:g},g))}),c!==null&&f.jsxs("div",{className:"text-center mt-4",children:[f.jsx("p",{className:`font-bold ${c?"text-green-600":"text-red-600"}`,children:c?"إجابة صحيحة!":"حاول مرة أخرى!"}),i<o.length-1&&c&&f.jsx("button",{onClick:h,className:"mt-2 bg-primary text-white font-bold py-2 px-6 rounded-md",children:"السؤال التالي"})]})]}):f.jsx("div",{className:"bg-card p-6 rounded-lg text-center font-tajawal",children:f.jsx("h3",{className:"text-xl font-bold text-primary",children:"رائع! لقد أكملت كل الأسئلة في هذه اللعبة."})})},kw=({game:t,progress:e,onComplete:n})=>{const o=A.useMemo(()=>t.matchingPairs||[],[t]),[i]=A.useState(()=>jm(o)),[l]=A.useState(()=>jm(o)),[r,u]=A.useState(null),[c,d]=A.useState(null),[m,p]=A.useState(e),[h,g]=A.useState(!1);if(A.useEffect(()=>{r&&c&&(r.id===c.id?(p(C=>[...C,r.id]),n(r.id)):(g(!0),setTimeout(()=>g(!1),800)),u(null),d(null))},[r,c,n]),m.length===o.length)return f.jsx("div",{className:"bg-card p-6 rounded-lg text-center font-tajawal",children:f.jsx("h3",{className:"text-xl font-bold text-primary",children:"أحسنت! لقد طابقت كل البطاقات بنجاح."})});const v=(C,E)=>{const x=m.includes(C.id),y=E&&(r==null?void 0:r.id)===C.id||!E&&(c==null?void 0:c.id)===C.id;return x?"bg-green-200 text-green-800 opacity-70":y?`ring-2 ring-primary ${h?"bg-red-200":"bg-sky-200"}`:"bg-card hover:bg-border-color"};return f.jsxs("div",{className:"bg-card p-4 rounded-lg shadow-lg font-tajawal",children:[f.jsx("h3",{className:"text-xl font-bold text-center text-primary mb-4",children:"طابق بين العمودين"}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsx("div",{className:"space-y-3",children:i.map(C=>f.jsx("button",{onClick:()=>!m.includes(C.id)&&u(C),disabled:m.includes(C.id),className:`w-full p-3 rounded-lg shadow transition-all ${v(C,!0)}`,children:C.item1},`1-${C.id}`))}),f.jsx("div",{className:"space-y-3",children:l.map(C=>f.jsx("button",{onClick:()=>!m.includes(C.id)&&d(C),disabled:m.includes(C.id),className:`w-full p-3 rounded-lg shadow transition-all ${v(C,!1)}`,children:C.item2},`2-${C.id}`))})]})]})},Uw=({games:t,progress:e,onComplete:n,onBack:o})=>{const[i,l]=A.useState(null),r=u=>{l(u)};return i?f.jsxs("div",{children:[f.jsxs("button",{onClick:()=>l(null),className:"flex items-center gap-2 text-text-secondary hover:text-text-primary mb-4 font-tajawal",children:[f.jsx(He,{className:"w-5 h-5"}),f.jsx("span",{children:"العودة للألعاب"})]}),i.type==="quiz"&&f.jsx(Iw,{game:i,progress:e[i.id]||[],onComplete:u=>n(i.id,u)}),i.type==="matching"&&f.jsx(kw,{game:i,progress:e[i.id]||[],onComplete:u=>n(i.id,u)})]}):f.jsxs("div",{children:[f.jsxs("button",{onClick:o,className:"flex items-center gap-2 text-text-secondary hover:text-text-primary mb-4 font-tajawal",children:[f.jsx(He,{className:"w-5 h-5"}),f.jsx("span",{children:"العودة للقائمة"})]}),f.jsx("h2",{className:"text-2xl font-bold text-primary mb-4 font-tajawal",children:"الألعاب التعليمية"}),t.length>0?f.jsx("div",{className:"space-y-3",children:t.map(u=>{var c,d,m,p;return f.jsxs("button",{onClick:()=>r(u),className:"w-full text-right bg-card p-4 rounded-lg shadow-md flex justify-between items-center hover:shadow-lg transition-shadow",children:[f.jsx("span",{className:"font-bold text-lg font-tajawal text-text-primary",children:u.title}),(((c=e[u.id])==null?void 0:c.length)||0)>0&&f.jsxs("span",{className:"text-xs font-mono bg-green-100 text-green-700 px-2 py-1 rounded-full",children:[(d=e[u.id])==null?void 0:d.length," / ",((m=u.questions)==null?void 0:m.length)||((p=u.matchingPairs)==null?void 0:p.length)]})]},u.id)})}):f.jsx("p",{className:"text-center text-text-secondary font-tajawal p-8 bg-card rounded-lg",children:"لا توجد ألعاب مناسبة لهذا العمر حاليًا."})]})},qw=({dhikrs:t,progress:e,onComplete:n,onBack:o})=>f.jsxs("div",{children:[f.jsxs("button",{onClick:o,className:"flex items-center gap-2 text-text-secondary hover:text-text-primary mb-4 font-tajawal",children:[f.jsx(He,{className:"w-5 h-5"}),f.jsx("span",{children:"العودة للقائمة"})]}),f.jsx("h2",{className:"text-2xl font-bold text-primary mb-4 font-tajawal",children:"أذكار الطفل المسلم"}),t.length>0?f.jsx("div",{className:"space-y-3",children:t.map(i=>{const l=e.includes(i.id);return f.jsxs("div",{className:"bg-card p-4 rounded-lg shadow-md",children:[f.jsx("h3",{className:"font-bold text-lg font-tajawal text-text-primary",children:i.title}),f.jsx("p",{className:"text-xl font-amiri-quran text-text-secondary my-3",children:i.dhikr}),f.jsxs("p",{className:"text-sm text-green-700 bg-green-100 p-2 rounded-md font-tajawal",children:["💡 ",i.benefit]}),f.jsxs("div",{className:"flex justify-end items-center gap-2 mt-3",children:[f.jsx("button",{onClick:()=>ji(i.dhikr),className:"p-2 text-primary hover:bg-primary/10 rounded-full","aria-label":"استمع للذكر",children:f.jsx(Nc,{})}),f.jsx("button",{onClick:()=>n(i.id),disabled:l,className:`px-4 py-2 text-sm font-bold rounded-md transition-colors ${l?"bg-green-200 text-green-800 cursor-not-allowed":"bg-primary/20 text-primary hover:bg-primary/30"}`,children:l?"أتممت":"أتممت الذكر"})]})]},i.id)})}):f.jsx("p",{className:"text-center text-text-secondary font-tajawal p-8 bg-card rounded-lg",children:"لا توجد أذكار مناسبة لهذا العمر حاليًا."})]}),Vw=({setId:t,onBack:e,progress:n,onComplete:o})=>{const i=Jy.find(h=>h.id===t),[l,r]=A.useState(0),[u,c]=A.useState(!1);if(!i)return null;const d=i.cards[l],m=()=>{c(!1),r(h=>(h+1)%i.cards.length)},p=()=>{c(!1),r(h=>(h-1+i.cards.length)%i.cards.length)};return A.useEffect(()=>{ji(u?d.back:d.front)},[u,d]),f.jsxs("div",{className:"font-tajawal",children:[f.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-text-secondary hover:text-text-primary mb-4",children:[f.jsx(He,{className:"w-5 h-5"}),f.jsx("span",{children:"العودة للبطاقات"})]}),f.jsx("h2",{className:"text-2xl font-bold text-primary mb-4 text-center",children:i.title}),f.jsx("div",{className:"perspective-1000",children:f.jsxs("div",{onClick:()=>c(!u),className:`relative w-full h-48 sm:h-64 transition-transform duration-700 transform-style-3d cursor-pointer ${u?"rotate-y-180":""}`,children:[f.jsx("div",{className:"absolute w-full h-full backface-hidden bg-card rounded-xl shadow-lg flex items-center justify-center",children:f.jsx("p",{className:"text-6xl font-amiri-quran",children:d.front})}),f.jsx("div",{className:"absolute w-full h-full backface-hidden bg-primary text-white rounded-xl shadow-lg flex items-center justify-center rotate-y-180",children:f.jsx("p",{className:"text-4xl font-tajawal",children:d.back})})]})}),f.jsxs("div",{className:"flex justify-between items-center mt-6",children:[f.jsxs("button",{onClick:p,className:"bg-card p-3 rounded-full shadow-md",children:[" ",f.jsx(He,{className:"w-6 h-6"})]}),f.jsxs("span",{className:"font-mono text-text-secondary",children:[l+1," / ",i.cards.length]}),f.jsx("button",{onClick:m,className:"bg-card p-3 rounded-full shadow-md",children:f.jsx(He,{className:"w-6 h-6 transform rotate-180"})})]}),f.jsx("div",{className:"mt-6 text-center",children:f.jsx("button",{onClick:o,disabled:n,className:`px-6 py-3 text-lg font-bold rounded-md transition-colors ${n?"bg-green-200 text-green-800 cursor-not-allowed":"bg-primary/20 text-primary hover:bg-primary/30"}`,children:n?"أتقنت المجموعة ✓":"أتقنت هذه المجموعة"})})]})},Lw=({profiles:t,onSelectProfile:e,onAddProfile:n,onDeleteProfile:o})=>{const[i,l]=A.useState(""),[r,u]=A.useState(5),[c,d]=A.useState(""),m=p=>{p.preventDefault(),i.trim()&&r>0?(n(i.trim(),r),l(""),u(5),d("")):d("الرجاء إدخال اسم وعمر صحيحين.")};return f.jsxs("div",{className:"max-w-md mx-auto min-h-screen flex flex-col justify-center items-center p-4 font-tajawal animate-fade-in",children:[f.jsx("h1",{className:"text-3xl font-bold text-primary mb-4",children:"عالم الطفل"}),f.jsx("p",{className:"text-text-secondary mb-8 text-center",children:"اختر ملف طفلك أو أضف ملفًا جديدًا لبدء المغامرة!"}),f.jsxs("div",{className:"w-full bg-card p-6 rounded-lg shadow-lg",children:[f.jsx("h2",{className:"text-xl font-bold mb-4",children:"ملفات الأطفال"}),f.jsx("div",{className:"space-y-3 mb-6",children:t.length>0?t.map(p=>f.jsxs("div",{className:"flex items-center justify-between bg-background p-3 rounded-md",children:[f.jsxs("button",{onClick:()=>e(p),className:"flex-grow text-right hover:text-primary",children:[f.jsx("span",{className:"font-bold",children:p.name}),f.jsxs("span",{className:"text-sm text-text-secondary mr-2",children:["(",p.age," سنوات)"]})]}),f.jsx("button",{onClick:()=>o(p.id),className:"p-1 text-red-500 hover:bg-red-500/10 rounded-full",children:f.jsx(Ua,{className:"w-5 h-5"})})]},p.id)):f.jsx("p",{className:"text-center text-text-secondary p-4",children:"لا توجد ملفات. أضف ملفًا جديدًا."})}),f.jsxs("form",{onSubmit:m,className:"border-t border-border-color pt-4",children:[f.jsx("h2",{className:"text-xl font-bold mb-4",children:"إضافة طفل جديد"}),c&&f.jsx("p",{className:"text-red-500 text-sm mb-2",children:c}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("input",{type:"text",value:i,onChange:p=>l(p.target.value),placeholder:"اسم الطفل",className:"w-full p-2 border border-border-color rounded-md"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("label",{htmlFor:"age",className:"font-semibold",children:"العمر:"}),f.jsx("input",{id:"age",type:"number",value:r,onChange:p=>u(Number(p.target.value)),min:"3",max:"12",className:"w-20 p-2 border border-border-color rounded-md"}),f.jsx("span",{children:"سنوات"})]}),f.jsx("button",{type:"submit",className:"w-full bg-primary text-white font-bold py-2 px-4 rounded-md hover:opacity-90",children:"إضافة"})]})]})]}),f.jsxs("div",{className:"mt-6 p-3 bg-yellow-100 text-yellow-800 text-center rounded-lg shadow-sm text-sm",children:[f.jsx("p",{className:"font-semibold",children:"⚠️ تنبيه لأولياء الأمور"}),f.jsx("p",{children:'"ننصح أولياء الأمور بعدم ترك الطفل أمام الجهاز بمفرده أثناء استخدام التطبيق."'})]})]})},Pw=()=>{const[t,e]=A.useState("menu"),[n,o]=A.useState(null),[i,l]=ia("kidsProfiles",[]),[r,u]=ia("kidsActiveProfile",null),[c,d]=Rw((r==null?void 0:r.id)??null),[m,p]=ia("kidsBgColor","bg-sky-100"),h=(B,q)=>{const le={id:Date.now(),name:B,age:q},k=[...i,le];l(k),u(le)},g=B=>{u(B)},v=B=>{window.confirm("هل أنت متأكد من حذف ملف هذا الطفل وكل تقدمه؟")&&(l(i.filter(q=>q.id!==B)),localStorage.removeItem(`kidsProgress_${B}`),(r==null?void 0:r.id)===B&&u(null))},C=()=>{u(null),e("menu")},E=A.useMemo(()=>r?Pl(Ew,r.age):[],[r]),x=A.useMemo(()=>r?Pl(Aw,r.age):[],[r]),y=A.useMemo(()=>r?Pl(Nw,r.age):[],[r]),T=A.useMemo(()=>r?Pl(Jy,r.age):[],[r]),S=B=>d(q=>({...q,storiesCompleted:Array.from(new Set([...q.storiesCompleted,B]))})),N=(B,q)=>{d(le=>{const k=le.gamesCorrectAnswers[B]||[];return{...le,gamesCorrectAnswers:{...le.gamesCorrectAnswers,[B]:Array.from(new Set([...k,q]))}}})},R=B=>d(q=>({...q,dhikrCompleted:Array.from(new Set([...q.dhikrCompleted,B]))})),_=B=>d(q=>({...q,flashcardsCompleted:Array.from(new Set([...q.flashcardsCompleted,B]))})),U=E.length+x.reduce((B,q)=>{var le,k;return B+(((le=q.questions)==null?void 0:le.length)||((k=q.matchingPairs)==null?void 0:k.length)||0)},0)+y.length+T.length,b=c.storiesCompleted.length+Object.values(c.gamesCorrectAnswers).reduce((B,q)=>B+q.length,0)+c.dhikrCompleted.length+c.flashcardsCompleted.length,I=U>0?Math.round(b/U*100):0;if(!r)return f.jsx("div",{className:`transition-colors duration-300 ${cr[m]}`,children:f.jsx(Lw,{profiles:i,onSelectProfile:g,onAddProfile:h,onDeleteProfile:v})});const J=()=>f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"bg-card p-4 rounded-xl shadow-lg mb-6",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsxs("h2",{className:"text-2xl font-bold font-tajawal text-primary",children:["أهلاً بك, ",r.name,"!"]}),f.jsx("p",{className:"text-text-secondary font-tajawal mt-1",children:"مغامرات قرآنية وتعاليم إسلامية شيقة"})]}),f.jsx("button",{onClick:C,className:"text-sm font-semibold bg-border-color text-text-primary px-3 py-2 rounded-md hover:bg-primary/20",children:"تغيير الطفل"})]}),f.jsxs("div",{className:"mt-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-2 text-center font-tajawal",children:"شريط التقدم"}),f.jsx("div",{className:"w-full bg-border-color rounded-full h-4",children:f.jsx("div",{className:"bg-primary h-4 rounded-full text-white text-xs flex items-center justify-center transition-all duration-500",style:{width:`${I}%`},children:I>10?`${I}%`:""})})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("button",{onClick:()=>e("stories"),className:"p-4 bg-card rounded-lg shadow-md flex flex-col items-center justify-center aspect-square hover:shadow-lg transition-shadow",children:[f.jsx(_w,{}),f.jsx("span",{className:"font-bold mt-2 font-tajawal",children:"قصص القرآن"})]}),f.jsxs("button",{onClick:()=>e("games"),className:"p-4 bg-card rounded-lg shadow-md flex flex-col items-center justify-center aspect-square hover:shadow-lg transition-shadow",children:[f.jsx(Mw,{}),f.jsx("span",{className:"font-bold mt-2 font-tajawal",children:"ألعاب تعليمية"})]}),f.jsxs("button",{onClick:()=>e("dhikr"),className:"p-4 bg-card rounded-lg shadow-md flex flex-col items-center justify-center aspect-square hover:shadow-lg transition-shadow",children:[f.jsx(bw,{}),f.jsx("span",{className:"font-bold mt-2 font-tajawal",children:"أذكار الطفل"})]}),f.jsxs("button",{onClick:()=>e("flashcards"),className:"p-4 bg-card rounded-lg shadow-md flex flex-col items-center justify-center aspect-square hover:shadow-lg transition-shadow",children:[f.jsx(ww,{}),f.jsx("span",{className:"font-bold mt-2 font-tajawal",children:"بطاقات تعليمية"})]})]}),f.jsxs("div",{className:"mt-6 text-center",children:[f.jsx("label",{className:"text-sm text-text-secondary font-tajawal",children:"اختر لون الخلفية:"}),f.jsx("div",{className:"flex justify-center gap-3 mt-2",children:Object.keys(cr).map(B=>f.jsx("button",{onClick:()=>p(B),className:`w-8 h-8 rounded-full ${B} border-2 ${m===B?"ring-2 ring-primary ring-offset-2":"border-border-color"}`},B))})]})]}),O=()=>{switch(t){case"stories":return f.jsx(Dw,{stories:E,progress:c,onComplete:S,onBack:()=>e("menu")});case"games":return f.jsx(Uw,{games:x,progress:c.gamesCorrectAnswers,onComplete:N,onBack:()=>e("menu")});case"dhikr":return f.jsx(qw,{dhikrs:y,progress:c.dhikrCompleted,onComplete:R,onBack:()=>e("menu")});case"flashcards":return f.jsxs("div",{children:[f.jsxs("button",{onClick:()=>e("menu"),className:"flex items-center gap-2 text-text-secondary hover:text-text-primary mb-4 font-tajawal",children:[f.jsx(He,{className:"w-5 h-5"}),f.jsx("span",{children:"العودة للقائمة"})]}),f.jsx("h2",{className:"text-2xl font-bold text-primary mb-4 font-tajawal",children:"البطاقات التعليمية"}),T.length>0?f.jsx("div",{className:"space-y-3",children:T.map(B=>f.jsxs("button",{onClick:()=>{o(B.id),e("flashcard_set")},className:"w-full text-right bg-card p-4 rounded-lg shadow-md flex justify-between items-center hover:shadow-lg transition-shadow",children:[f.jsx("span",{className:"font-bold text-lg font-tajawal text-text-primary",children:B.title}),c.flashcardsCompleted.includes(B.id)&&f.jsx(Ko,{className:"w-6 h-6 text-green-500"})]},B.id))}):f.jsx("p",{className:"text-center text-text-secondary font-tajawal p-8 bg-card rounded-lg",children:"لا توجد بطاقات مناسبة لهذا العمر حاليًا."})]});case"flashcard_set":return n&&f.jsx(Vw,{setId:n,onBack:()=>e("flashcards"),progress:c.flashcardsCompleted.includes(n),onComplete:()=>_(n)});default:return J()}};return f.jsxs("div",{className:`transition-colors duration-300 ${cr[m]}`,children:[f.jsx("style",{children:`
            .perspective-1000 { perspective: 1000px; }
            .transform-style-3d { transform-style: preserve-3d; }
            .rotate-y-180 { transform: rotateY(180deg); }
            .backface-hidden { backface-visibility: hidden; -webkit-backface-visibility: hidden; }
        `}),f.jsx("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 min-h-screen animate-fade-in pb-8",children:O()})]})},Gw=({className:t})=>f.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),Bw=({query:t,onQueryChange:e})=>f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none","aria-hidden":"true",children:f.jsx(Gw,{className:"h-5 w-5 text-text-secondary"})}),f.jsx("input",{type:"search",id:"surah-search",placeholder:"ابحث عن سورة بالاسم أو الرقم...",value:t,onChange:n=>e(n.target.value),className:"block w-full bg-card border border-border-color rounded-md py-2 pl-10 pr-3 text-sm placeholder-text-secondary focus:outline-none focus:text-text-primary focus:ring-1 focus:ring-primary focus:border-primary"})]}),Hw=({onSave:t})=>{const[e,n]=A.useState(""),[o,i]=A.useState(""),[l,r]=A.useState(3),[u,c]=A.useState(""),d=A.useMemo(()=>Object.keys(ko).sort(),[]),m=A.useMemo(()=>e&&ko[e]?ko[e].sort():[],[e]),p=g=>{n(g.target.value),i("")},h=()=>{if(!e||!o){c("Please complete all selections.");return}c(""),t({country:e,region:o,method:l})};return f.jsx("div",{className:"fixed inset-0 bg-black/75 flex items-center justify-center z-50 animate-fade-in",children:f.jsxs("div",{className:"bg-card rounded-lg shadow-xl p-6 sm:p-8 w-full max-w-md m-4",children:[f.jsx("h2",{className:"text-2xl font-bold text-center text-text-primary mb-4",children:"Prayer Time Settings"}),f.jsx("p",{className:"text-center text-text-secondary mb-6",children:"Select your location for accurate prayer times."}),u&&f.jsx("p",{className:"text-red-500 text-center mb-4",children:u}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-text-primary mb-1",children:"Country"}),f.jsxs("select",{id:"country",value:e,onChange:p,className:"block w-full bg-card border border-border-color rounded-md py-2 px-3 text-sm focus:outline-none focus:ring-1 focus:ring-primary focus:border-primary",children:[f.jsx("option",{value:"",children:"Select Country"}),d.map(g=>f.jsx("option",{value:g,children:g},g))]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"region",className:"block text-sm font-medium text-text-primary mb-1",children:"City / Region"}),f.jsxs("select",{id:"region",value:o,onChange:g=>i(g.target.value),disabled:!e,className:"block w-full bg-card border border-border-color rounded-md py-2 px-3 text-sm focus:outline-none focus:ring-1 focus:ring-primary focus:border-primary",children:[f.jsx("option",{value:"",children:e?"Select City / Region":"Select a country first"}),m.map(g=>f.jsx("option",{value:g,children:g},g))]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"method",className:"block text-sm font-medium text-text-primary mb-1",children:"Calculation Method"}),f.jsx("select",{id:"method",value:l,onChange:g=>r(Number(g.target.value)),className:"block w-full bg-card border border-border-color rounded-md py-2 px-3 text-sm focus:outline-none focus:ring-1 focus:ring-primary focus:border-primary",children:ay.map(g=>f.jsx("option",{value:g.id,children:g.name},g.id))})]})]}),f.jsx("div",{className:"mt-8",children:f.jsx("button",{onClick:h,className:"w-full bg-primary text-white font-bold py-2 px-4 rounded-md hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary dark:focus:ring-offset-gray-800",children:"Save"})})]})})};var Zm={};const zw=()=>{const[t,e]=A.useState([]),[n,o]=A.useState([]),[i,l]=A.useState(!0),[r,u]=A.useState(null),[c,d]=A.useState("home"),[m,p]=A.useState(()=>typeof window<"u"?localStorage.getItem("theme")==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches:!1),[h,g]=A.useState(()=>{if(typeof window<"u")try{const M=localStorage.getItem("ronaqTheme");return M?JSON.parse(M):ta}catch{return ta}return ta}),[v,C]=A.useState(null),[E,x]=A.useState(null),[y,T]=A.useState([]),[S,N]=A.useState(0),[R,_]=A.useState(!1),[U,b]=A.useState(""),[I,J]=A.useState(()=>{if(typeof window<"u"){const M=localStorage.getItem("ronaqBookmarks");return M?JSON.parse(M):{}}return{}}),[O,B]=A.useState("all"),[q,le]=A.useState(""),[k,H]=A.useState({hoursThisWeek:0,surahsCompleted:0}),[$,V]=A.useState(0),[z,Se]=A.useState(!1),[It,Tt]=A.useState(null),[kt,en]=A.useState(!1),[Yy,_c]=A.useState(!1),[as,Mc]=A.useState(null),[$y,ss]=A.useState(!1),[Ky,rs]=A.useState(!1),[dl,us]=A.useState(!1),[to,cs]=A.useState(new Set),[bc,ds]=A.useState({}),fl=A.useRef(null),fs=A.useRef({}),[ms,ps]=A.useState(new Set),[wc,hs]=A.useState({}),gs=A.useRef({}),[no,ys]=A.useState(null),[Qy,Rc]=A.useState(!1),[Dc,Ic]=A.useState(!1),[kc,Xy]=A.useState(null),[Uc,jy]=A.useState(null),[Zy,si]=A.useState([]),[Wy,xs]=A.useState(!1),[ex,ml]=A.useState(null),[oo,qc]=A.useState(null),[io,tx]=A.useState(()=>{if(typeof window<"u"){const M=localStorage.getItem("azkarSettings");return M?JSON.parse(M):{isEnabled:!1,frequency:1}}return{isEnabled:!1,frequency:1}}),[Vc,vs]=A.useState(null),ri=A.useRef(null),Ts=A.useRef(null),Ss=A.useRef(null);A.useEffect(()=>{Zm.API_KEY&&(Ts.current=new Hy({apiKey:Zm.API_KEY}))},[]);const nx=M=>{Xy(M),jy(E),Ic(!0),R&&_(!1)};A.useEffect(()=>{if(typeof window<"u"){const M=localStorage.getItem("quranChallenge");if(M){const D=JSON.parse(M);D.completedAyahs||(D.completedAyahs={}),ys(D)}}},[]),A.useEffect(()=>{typeof window<"u"&&(no?localStorage.setItem("quranChallenge",JSON.stringify(no)):localStorage.removeItem("quranChallenge"))},[no]),A.useEffect(()=>{if(typeof window<"u"){const M=localStorage.getItem("prayerSettings");if(M){const L=JSON.parse(M);L.method===void 0?ss(!0):Mc(L)}else ss(!0);const D=localStorage.getItem("prayerRemindersEnabled");us(D==="true")}},[]),A.useEffect(()=>{typeof window<"u"&&localStorage.setItem("azkarSettings",JSON.stringify(io))},[io]),A.useEffect(()=>{if(ri.current&&clearInterval(ri.current),io.isEnabled&&typeof Notification<"u"&&Notification.permission==="granted"){const M=()=>{const L=Math.floor(Math.random()*xf.length),G=xf[L],Q=new Notification("تذكير أذكار",{body:G,icon:"https://i.imgur.com/1m8xN9N.png",tag:"azkar-notification"});Q.onclick=()=>{vs(G),window.focus()}};setTimeout(M,2e3);const D=io.frequency*60*60*1e3;ri.current=window.setInterval(M,D)}return()=>{ri.current&&clearInterval(ri.current)}},[io]),A.useEffect(()=>{const M=async()=>{await rt();const L=await zy("ayahs"),G={};L.forEach(ye=>{const te=ye.split("-");if(te.length===3){const X=`${te[0]}-${te[1]}`;G[X]=(G[X]||0)+1}});const Q=new Set;if(t.length>0){for(const ye in G){const[,te]=ye.split("-"),X=parseInt(te,10),Ge=t.find(gl=>gl.id===X);Ge&&G[ye]>=Ge.numberOfAyahs&&Q.add(ye)}cs(Q)}},D=async()=>{await rt();const L=new Set;await Promise.all(t.map(async G=>{await sw(G.id)>=G.numberOfAyahs&&L.add(G.id)})),ps(L)};t.length>0&&(M(),D())},[t]);const lo=A.useCallback(()=>{const M=JSON.parse(localStorage.getItem("listeningHistory")||"[]"),D=JSON.parse(localStorage.getItem("completedSurahs")||"[]"),L=Date.now()-7*24*60*60*1e3,Q=M.filter(te=>te.timestamp>=L).reduce((te,X)=>te+(X.duration||0),0)/3600,ye=new Set(D).size;return{hoursThisWeek:Q,surahsCompleted:ye}},[]);A.useEffect(()=>{H(lo())},[lo]);const ox=A.useCallback(M=>{if(!M||M===1/0)return;const D=JSON.parse(localStorage.getItem("listeningHistory")||"[]");D.push({timestamp:Date.now(),duration:M}),localStorage.setItem("listeningHistory",JSON.stringify(D)),H(lo())},[lo]),ix=A.useCallback(M=>{const D=JSON.parse(localStorage.getItem("completedSurahs")||"[]"),L=new Set(D);L.has(M)||(L.add(M),localStorage.setItem("completedSurahs",JSON.stringify(Array.from(L))),H(lo()))},[lo]),Lc=A.useCallback((M,D)=>{ys(L=>{if(!L||!L.isActive||L.isPaused||!M||!D)return L;const G=String(M.id),Q=L.completedAyahs[G]||[];if(Q.includes(D.numberInSurah))return L;const ye=new Date().toISOString().split("T")[0],te={...L.progress};te[ye]=(te[ye]||0)+1;const X={...L.completedAyahs};return X[G]=[...Q,D.numberInSurah],{...L,progress:te,completedAyahs:X}})},[]);A.useEffect(()=>{localStorage.setItem("ronaqBookmarks",JSON.stringify(I))},[I]),A.useEffect(()=>{m?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[m]),A.useEffect(()=>{localStorage.setItem("ronaqTheme",JSON.stringify(h));const M=document.documentElement,D=m?h.dark:h.light;M.style.setProperty("--color-primary",D.primary),M.style.setProperty("--color-background",D.background),M.style.setProperty("--color-card",D.card),M.style.setProperty("--color-text-primary",D.textPrimary),M.style.setProperty("--color-text-secondary",D.textSecondary),M.style.setProperty("--color-border-color",D.border),M.style.setProperty("--color-background-start",D.backgroundStart),M.style.setProperty("--color-background-end",D.backgroundEnd)},[h,m]),A.useEffect(()=>{(async()=>{l(!0),u(null);try{const[D,L]=await Promise.all([fetch("https://api.alquran.cloud/v1/surah"),fetch("https://api.alquran.cloud/v1/edition/format/audio")]);if(!D.ok)throw new Error("Failed to fetch surahs");if(!L.ok)throw new Error("Failed to fetch reciters");const Q=(await D.json()).data.map(X=>({id:X.number,name:X.name,revelationType:X.revelationType,numberOfAyahs:X.numberOfAyahs}));e(Q);const te=(await L.json()).data.filter(X=>X.language==="ar").map(X=>({identifier:X.identifier,name:X.name,englishName:X.englishName})).sort((X,Ge)=>X.name.localeCompare(Ge.name,"ar"));if(o(te),te.length>0){const X=te.find(Ge=>Ge.identifier.includes("alafasy"))||te[0];C(X)}}catch(D){D instanceof Error?u(D.message):u("An unknown error occurred")}finally{l(!1)}})()},[]),A.useEffect(()=>{if(!E||!v)return;(async()=>{try{const D=await fetch(`https://api.alquran.cloud/v1/surah/${E.id}/${v.identifier}`);if(!D.ok)throw new Error("Failed to fetch ayahs");const G=(await D.json()).data.ayahs;if(T(G),!oo||oo.surahId!==E.id){const Q=I[E.id];if(Q){const ye=G.findIndex(te=>te.numberInSurah===Q);N(ye!==-1?ye:0)}else N(0)}}catch(D){console.error("Error fetching ayahs:",D),u("Failed to load Surah audio."),T([])}})()},[E,v,I]),A.useEffect(()=>{if(oo&&(E==null?void 0:E.id)===oo.surahId&&y.length>0){const M=y.findIndex(D=>D.numberInSurah===oo.ayahNumberInSurah);M!==-1&&(N(M),_(!0)),qc(null)}},[y,oo,E]),A.useEffect(()=>{if(z&&E&&y.length>S){const M=y[S];(async()=>{var Q;en(!0),_c(!1),Tt(null);const L=E.id,G=M.numberInSurah;try{const ye=await Ym(L,G);if(ye){Tt(ye),en(!1);return}const te=await fetch(`https://api.alquran.cloud/v1/ayah/${L}:${G}/ar.muyassar`);if(!te.ok)throw new Error("Failed to fetch Tafsir data from API.");const X=await te.json(),Ge=(Q=X==null?void 0:X.data)==null?void 0:Q.text;Ge?(await Om(L,G,Ge),Tt(Ge)):Tt("لا يوجد تفسير لهذه الآية")}catch(ye){console.error("Failed to fetch/load tafsir",ye),Tt("تعذر تحميل التفسير. يرجى المحاولة مرة أخرى."),_c(!0)}finally{en(!1)}})()}},[E,S,z,y]);const Pc=A.useCallback(async M=>{if(fl.current&&(URL.revokeObjectURL(fl.current),fl.current=null),!M||!v||!E){b("");return}const D=`${v.identifier}-${E.id}`;if(to.has(D))try{const L=await aw(v.identifier,E.id,M.numberInSurah);if(L){const G=URL.createObjectURL(L);fl.current=G,b(G)}else b(M.audio)}catch{b(M.audio)}else b(M.audio)},[v,E,to]);A.useEffect(()=>{const M=y.length>0&&S<y.length?y[S]:null;Pc(M)},[y,S,Pc]);const Gc=A.useCallback(()=>{var M;"mediaSession"in navigator&&E&&v&&y.length>0&&(navigator.mediaSession.metadata=new MediaMetadata({title:`سورة ${E.name} (آية ${((M=y[S])==null?void 0:M.numberInSurah)||S+1})`,artist:v.name,album:"رونق",artwork:[{src:"https://i.imgur.com/1m8xN9N.png",sizes:"96x96",type:"image/png"},{src:"https://i.imgur.com/1m8xN9N.png",sizes:"128x128",type:"image/png"},{src:"https://i.imgur.com/1m8xN9N.png",sizes:"192x192",type:"image/png"},{src:"https://i.imgur.com/1m8xN9N.png",sizes:"256x256",type:"image/png"},{src:"https://i.imgur.com/1m8xN9N.png",sizes:"384x384",type:"image/png"},{src:"https://i.imgur.com/1m8xN9N.png",sizes:"512x512",type:"image/png"}]}))},[E,v,y,S]);A.useEffect(()=>{Gc()},[Gc]),A.useEffect(()=>{"mediaSession"in navigator&&(navigator.mediaSession.playbackState=R?"playing":"paused")},[R]);const pl=A.useCallback(()=>{!E&&t.length>0&&x(t[0]),_(M=>!M)},[E,t]),hl=A.useCallback(()=>{if(t.length===0)return;const M=t.findIndex(L=>L.id===(E==null?void 0:E.id)),D=M!==-1?(M+1)%t.length:0;x(t[D]),T([]),_(!0)},[E,t]),Cs=A.useCallback(()=>{if(t.length===0)return;const M=t.findIndex(L=>L.id===(E==null?void 0:E.id)),D=M!==-1?(M-1+t.length)%t.length:0;x(t[D]),T([]),_(!0)},[E,t]);A.useEffect(()=>{"mediaSession"in navigator&&(navigator.mediaSession.setActionHandler("play",pl),navigator.mediaSession.setActionHandler("pause",pl),navigator.mediaSession.setActionHandler("nexttrack",hl),navigator.mediaSession.setActionHandler("previoustrack",Cs))},[pl,hl,Cs]);const Bc=M=>{if((E==null?void 0:E.id)===M.id){_(D=>!D);return}x(M),T([]),_(!0)},lx=()=>{ox($);const M=E,D=y[S];M&&D&&Lc(M,D),S<y.length-1?N(L=>L+1):(E&&ix(E.id),hl())},ax=M=>{C(M)},sx=()=>{p(M=>!M)},rx=(M,D)=>{J(L=>{const G={...L};return G[M]===D?delete G[M]:G[M]=D,G})},ux=async M=>{if(!v)return;const D=`${v.identifier}-${M.id}`;if(to.has(D)||bc[D]!==void 0)return;const L=new AbortController;fs.current[D]=L,ds(G=>({...G,[D]:0}));try{const G=await fetch(`https://api.alquran.cloud/v1/surah/${M.id}/${v.identifier}`,{signal:L.signal});if(!G.ok)throw new Error("Failed to fetch ayahs for download");const ye=(await G.json()).data.ayahs;for(let te=0;te<ye.length;te++){if(L.signal.aborted)throw new DOMException("Download cancelled by user","AbortError");const X=ye[te],Ge=`https://api.allorigins.win/raw?url=${encodeURIComponent(X.audio)}`,gl=await fetch(Ge,{signal:L.signal});if(!gl.ok)throw new Error(`Failed to download audio for Ayah ${X.numberInSurah}`);const Cx=await gl.blob();await lw(v.identifier,M.id,X.numberInSurah,Cx);const Ex=Math.round((te+1)/ye.length*100);ds(Ax=>({...Ax,[D]:Ex}))}cs(te=>new Set(te).add(D))}catch(G){if(G instanceof Error&&G.name==="AbortError")console.log(`Download cancelled for Surah ${M.name}.`),v&&await $m(v.identifier,M.id);else{console.error("Download failed:",G);let Q=`Failed to download Surah ${M.name}.`;G instanceof Error&&G.message.toLowerCase().includes("failed to fetch")&&(Q+=" Please check your network connection."),u(Q)}}finally{ds(G=>{const Q={...G};return delete Q[D],Q}),delete fs.current[D]}},cx=M=>{if(!v)return;const D=`${v.identifier}-${M.id}`,L=fs.current[D];L&&L.abort()},dx=async M=>{const D=M.id;if(ms.has(D)||wc[D]!==void 0)return;const L=new AbortController;gs.current[D]=L,hs(G=>({...G,[D]:0}));try{const G=M.numberOfAyahs;for(let Q=1;Q<=G;Q++){if(L.signal.aborted)throw new DOMException("Download cancelled by user","AbortError");if(!await Ym(D,Q)){const X=await fetch(`https://api.alquran.cloud/v1/ayah/${D}:${Q}/ar.muyassar`,{signal:L.signal});if(!X.ok)throw new Error(`Failed to fetch Tafsir for Ayah ${Q}`);const Ge=await X.json();Ge.code===200&&Ge.data.text&&await Om(D,Q,Ge.data.text)}const te=Math.round(Q/G*100);hs(X=>({...X,[D]:te}))}ps(Q=>new Set(Q).add(D))}catch(G){G instanceof Error&&G.name==="AbortError"?(console.log(`Tafsir download cancelled for Surah ${M.name}.`),await Km(D)):(console.error("Tafsir download failed:",G),u(`Failed to download Tafsir for Surah ${M.name}.`))}finally{hs(G=>{const Q={...G};return delete Q[D],Q}),delete gs.current[D]}},fx=M=>{const D=gs.current[M.id];D&&D.abort()},mx=async M=>{await Km(M),ps(D=>{const L=new Set(D);return L.delete(M),L})},px=async M=>{if(!v)return;const D=`${v.identifier}-${M.id}`;await $m(v.identifier,M.id),cs(L=>{const G=new Set(L);return G.delete(D),G})},Hc=M=>{Mc(M),localStorage.setItem("prayerSettings",JSON.stringify(M)),ss(!1),rs(!1)},hx=()=>{const M=!dl;M&&typeof window.Notification<"u"&&Notification.permission!=="granted"?Notification.requestPermission().then(D=>{D==="granted"&&(us(!0),localStorage.setItem("prayerRemindersEnabled","true"))}):(us(M),localStorage.setItem("prayerRemindersEnabled",String(M)))},gx=A.useCallback(async M=>{if(!Ts.current){ml("Smart search is not available (API key may be missing).");return}if(M.trim().length<3){si([]);return}xs(!0),ml(null),si([]);try{const L=(await Ts.current.models.generateContent({model:"gemini-2.5-flash",contents:`Find Quranic ayahs related to: "${M}"`,config:{systemInstruction:"You are an expert Quranic scholar. Your task is to find ayahs (verses) from the Quran that are relevant to the user's search query. The user is looking for topics, keywords, or concepts. Respond ONLY with a valid JSON array matching the provided schema. Do not include markdown backticks like ```json or any text outside the JSON. If no relevant ayahs are found, return an empty array `[]`. Limit results to a maximum of 10 ayahs.",responseMimeType:"application/json",responseSchema:{type:Ce.ARRAY,items:{type:Ce.OBJECT,properties:{surahId:{type:Ce.NUMBER,description:"The chapter number of the Quran."},ayahIdInSurah:{type:Ce.NUMBER,description:"The verse number within the chapter."},text:{type:Ce.STRING,description:"The full Arabic text of the verse."},surahName:{type:Ce.STRING,description:"The Arabic name of the chapter."}},required:["surahId","ayahIdInSurah","text","surahName"]}}}})).text.trim(),G=JSON.parse(L);si(G)}catch(D){console.error("Smart search failed:",D),ml("Failed to fetch smart search results. Please try again."),si([])}finally{xs(!1)}},[]),yx=M=>{le(M),Ss.current&&clearTimeout(Ss.current),M.trim()?Ss.current=window.setTimeout(()=>{gx(M)},500):(si([]),xs(!1),ml(null))},xx=M=>{const D=t.find(L=>L.id===M.surahId);if(D)if((E==null?void 0:E.id)===M.surahId){const L=y.findIndex(G=>G.numberInSurah===M.ayahIdInSurah);L!==-1&&(N(L),_(!0))}else _(!1),T([]),qc({surahId:M.surahId,ayahNumberInSurah:M.ayahIdInSurah}),x(D)},vx=q.trim()?t.filter(M=>M.name.toLowerCase().includes(q.toLowerCase())||M.id.toString().includes(q)):[],Tx=O==="downloads"?t.filter(M=>v&&to.has(`${v.identifier}-${M.id}`)):t,Sx=()=>{switch(c){case"home":return f.jsx(Jm,{onNavigate:d,stats:k,challenge:no,prayerSettings:as,remindersEnabled:dl});case"audio":return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pt-6 space-y-4",children:f.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[f.jsx("div",{className:"flex-grow",children:f.jsx(Bw,{query:q,onQueryChange:yx})}),f.jsx("button",{onClick:()=>B(M=>M==="all"?"downloads":"all"),className:`px-3 sm:px-4 py-2 text-sm font-medium rounded-md transition-colors whitespace-nowrap ${O==="downloads"?"bg-primary text-white":"bg-card text-text-primary hover:opacity-90"}`,children:O==="downloads"?"كل السور":"المحملة"})]})}),E&&f.jsx(GT,{surah:E,currentAyah:y[S]||null,showTafsir:z,onToggleTafsir:()=>Se(M=>!M),tafsirText:It,isTafsirLoading:kt,isTafsirError:Yy,bookmarks:I,onToggleBookmark:rx,onCoachAyah:nx}),q.trim().length>0?f.jsx($b,{surahResults:vx,ayahResults:Zy,isSearching:Wy,searchError:ex,onSurahSelect:Bc,onPlayAyah:xx,currentSurahId:(E==null?void 0:E.id)||null}):f.jsx(DT,{surahs:Tx,onSurahSelect:Bc,currentSurahId:(E==null?void 0:E.id)||null,bookmarks:I,selectedReciter:v,downloadedSurahs:to,downloadProgress:bc,onDownloadSurah:ux,onCancelDownload:cx,downloadedTafsir:ms,tafsirDownloadProgress:wc,onDownloadTafsir:dx,onCancelTafsirDownload:fx})]});case"reading":return f.jsx(yw,{surahs:t});case"quiz":return f.jsx(vw,{});case"asbab":return f.jsx(Cw,{});case"kids":return f.jsx(Pw,{});default:return f.jsx(Jm,{onNavigate:d,stats:k,challenge:no,prayerSettings:as,remindersEnabled:dl})}};return f.jsxs("div",{className:"min-h-screen bg-background text-text-primary transition-colors duration-300",children:[$y&&f.jsx(Hw,{onSave:Hc}),f.jsx(HT,{isOpen:Ky,onClose:()=>rs(!1),remindersEnabled:dl,onToggleReminders:hx,currentSettings:as,onSaveSettings:Hc,azkarSettings:io,onAzkarSettingsChange:tx,surahs:t,downloadedAudio:to,downloadedTafsir:ms,selectedReciter:v,onDeleteAudio:px,onDeleteTafsir:mx}),f.jsx(FT,{isOpen:Qy,onClose:()=>Rc(!1),challenge:no,onUpdateChallenge:ys}),Dc&&kc&&Uc&&f.jsx(Yb,{isOpen:Dc,onClose:()=>Ic(!1),surah:Uc,ayah:kc,onRecitationSuccess:Lc}),Vc&&f.jsx("div",{className:"fixed inset-0 bg-black/75 flex items-center justify-center z-[100] animate-fade-in",onClick:()=>vs(null),children:f.jsxs("div",{className:"bg-card rounded-lg shadow-xl p-6 sm:p-8 w-full max-w-md m-4",onClick:M=>M.stopPropagation(),children:[f.jsx("h2",{className:"text-xl font-bold text-text-primary mb-4 text-center",children:"تذكير أذكار"}),f.jsx("p",{className:"font-amiri-quran text-2xl text-text-primary leading-loose text-center mb-6",children:Vc}),f.jsx("div",{className:"text-center",children:f.jsx("button",{onClick:()=>vs(null),className:"bg-primary text-white font-bold py-2 px-6 rounded-md hover:opacity-90",children:"إغلاق"})})]})}),f.jsx(wT,{reciters:n,selectedReciter:v,onReciterChange:ax,isDarkMode:m,onToggleDarkMode:sx,onSettingsClick:()=>rs(!0),onChallengeClick:()=>Rc(!0),currentPage:c,onNavigate:d,currentTheme:h,onThemeChange:g}),f.jsxs("main",{className:"pb-40",children:[i&&!t.length&&f.jsx("p",{className:"text-center py-10",children:"...جاري تحميل البيانات"}),r&&f.jsxs("p",{className:"text-center py-10 text-red-500",children:["خطأ: ",r]}),!r&&Sx()]}),v&&f.jsx(qT,{surah:E,reciter:v,isPlaying:R,onPlayPause:pl,onNext:hl,onPrev:Cs,onEnded:lx,audioSrc:U,currentAyah:y[S]||null,totalAyahs:y.length,onDurationChange:V})]})},Oy=document.getElementById("root");if(!Oy)throw new Error("Could not find root element to mount to");const Fw=ET.createRoot(Oy);Fw.render(f.jsx(Fx.StrictMode,{children:f.jsx(zw,{})}));
