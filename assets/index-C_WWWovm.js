(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function eh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var th={exports:{}},Fs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gx=Symbol.for("react.transitional.element"),yx=Symbol.for("react.fragment");function nh(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var a in t)a!=="key"&&(n[a]=t[a])}else n=t;return t=n.ref,{$$typeof:gx,type:e,key:i,ref:t!==void 0?t:null,props:n}}Fs.Fragment=yx;Fs.jsx=nh;Fs.jsxs=nh;th.exports=Fs;var l=th.exports,ih={exports:{}},Z={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Au=Symbol.for("react.transitional.element"),xx=Symbol.for("react.portal"),vx=Symbol.for("react.fragment"),Sx=Symbol.for("react.strict_mode"),bx=Symbol.for("react.profiler"),Ex=Symbol.for("react.consumer"),Tx=Symbol.for("react.context"),Nx=Symbol.for("react.forward_ref"),Ax=Symbol.for("react.suspense"),Cx=Symbol.for("react.memo"),ah=Symbol.for("react.lazy"),wx=Symbol.for("react.activity"),Yc=Symbol.iterator;function _x(e){return e===null||typeof e!="object"?null:(e=Yc&&e[Yc]||e["@@iterator"],typeof e=="function"?e:null)}var oh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sh=Object.assign,lh={};function aa(e,t,n){this.props=e,this.context=t,this.refs=lh,this.updater=n||oh}aa.prototype.isReactComponent={};aa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};aa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function rh(){}rh.prototype=aa.prototype;function Cu(e,t,n){this.props=e,this.context=t,this.refs=lh,this.updater=n||oh}var wu=Cu.prototype=new rh;wu.constructor=Cu;sh(wu,aa.prototype);wu.isPureReactComponent=!0;var Fc=Array.isArray;function Sr(){}var be={H:null,A:null,T:null,S:null},uh=Object.prototype.hasOwnProperty;function _u(e,t,n){var i=n.ref;return{$$typeof:Au,type:e,key:t,ref:i!==void 0?i:null,props:n}}function Mx(e,t){return _u(e.type,t,e.props)}function Mu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Au}function Rx(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Kc=/\/+/g;function ql(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Rx(""+e.key):t.toString(36)}function Ix(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Sr,Sr):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Si(e,t,n,i,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"bigint":case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Au:case xx:s=!0;break;case ah:return s=e._init,Si(s(e._payload),t,n,i,a)}}if(s)return a=a(e),s=i===""?"."+ql(e,0):i,Fc(a)?(n="",s!=null&&(n=s.replace(Kc,"$&/")+"/"),Si(a,t,n,"",function(f){return f})):a!=null&&(Mu(a)&&(a=Mx(a,n+(a.key==null||e&&e.key===a.key?"":(""+a.key).replace(Kc,"$&/")+"/")+s)),t.push(a)),1;s=0;var u=i===""?".":i+":";if(Fc(e))for(var d=0;d<e.length;d++)i=e[d],o=u+ql(i,d),s+=Si(i,t,n,o,a);else if(d=_x(e),typeof d=="function")for(e=d.call(e),d=0;!(i=e.next()).done;)i=i.value,o=u+ql(i,d++),s+=Si(i,t,n,o,a);else if(o==="object"){if(typeof e.then=="function")return Si(Ix(e),t,n,i,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return s}function Mo(e,t,n){if(e==null)return e;var i=[],a=0;return Si(e,i,"","",function(o){return t.call(n,o,a++)}),i}function kx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Dx={map:Mo,forEach:function(e,t,n){Mo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Mo(e,function(){t++}),t},toArray:function(e){return Mo(e,function(t){return t})||[]},only:function(e){if(!Mu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Activity=wx;Z.Children=Dx;Z.Component=aa;Z.Fragment=vx;Z.Profiler=bx;Z.PureComponent=Cu;Z.StrictMode=Sx;Z.Suspense=Ax;Z.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=be;Z.__COMPILER_RUNTIME={__proto__:null,c:function(e){return be.H.useMemoCache(e)}};Z.cache=function(e){return function(){return e.apply(null,arguments)}};Z.cacheSignal=function(){return null};Z.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=sh({},e.props),a=e.key;if(t!=null)for(o in t.key!==void 0&&(a=""+t.key),t)!uh.call(t,o)||o==="key"||o==="__self"||o==="__source"||o==="ref"&&t.ref===void 0||(i[o]=t[o]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var s=Array(o),u=0;u<o;u++)s[u]=arguments[u+2];i.children=s}return _u(e.type,a,i)};Z.createContext=function(e){return e={$$typeof:Tx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:Ex,_context:e},e};Z.createElement=function(e,t,n){var i,a={},o=null;if(t!=null)for(i in t.key!==void 0&&(o=""+t.key),t)uh.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(a[i]=t[i]);var s=arguments.length-2;if(s===1)a.children=n;else if(1<s){for(var u=Array(s),d=0;d<s;d++)u[d]=arguments[d+2];a.children=u}if(e&&e.defaultProps)for(i in s=e.defaultProps,s)a[i]===void 0&&(a[i]=s[i]);return _u(e,o,a)};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:Nx,render:e}};Z.isValidElement=Mu;Z.lazy=function(e){return{$$typeof:ah,_payload:{_status:-1,_result:e},_init:kx}};Z.memo=function(e,t){return{$$typeof:Cx,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=be.T,n={};be.T=n;try{var i=e(),a=be.S;a!==null&&a(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(Sr,Qc)}catch(o){Qc(o)}finally{t!==null&&n.types!==null&&(t.types=n.types),be.T=t}};Z.unstable_useCacheRefresh=function(){return be.H.useCacheRefresh()};Z.use=function(e){return be.H.use(e)};Z.useActionState=function(e,t,n){return be.H.useActionState(e,t,n)};Z.useCallback=function(e,t){return be.H.useCallback(e,t)};Z.useContext=function(e){return be.H.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e,t){return be.H.useDeferredValue(e,t)};Z.useEffect=function(e,t){return be.H.useEffect(e,t)};Z.useEffectEvent=function(e){return be.H.useEffectEvent(e)};Z.useId=function(){return be.H.useId()};Z.useImperativeHandle=function(e,t,n){return be.H.useImperativeHandle(e,t,n)};Z.useInsertionEffect=function(e,t){return be.H.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return be.H.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return be.H.useMemo(e,t)};Z.useOptimistic=function(e,t){return be.H.useOptimistic(e,t)};Z.useReducer=function(e,t,n){return be.H.useReducer(e,t,n)};Z.useRef=function(e){return be.H.useRef(e)};Z.useState=function(e){return be.H.useState(e)};Z.useSyncExternalStore=function(e,t,n){return be.H.useSyncExternalStore(e,t,n)};Z.useTransition=function(){return be.H.useTransition()};Z.version="19.2.0";ih.exports=Z;var b=ih.exports;const ch=eh(b);var dh={exports:{}},Ks={},fh={exports:{}},mh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,Q){var X=k.length;k.push(Q);e:for(;0<X;){var z=X-1>>>1,P=k[z];if(0<a(P,Q))k[z]=Q,k[X]=P,X=z;else break e}}function n(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var Q=k[0],X=k.pop();if(X!==Q){k[0]=X;e:for(var z=0,P=k.length,ge=P>>>1;z<ge;){var yt=2*(z+1)-1,Me=k[yt],Le=yt+1,$e=k[Le];if(0>a(Me,X))Le<P&&0>a($e,Me)?(k[z]=$e,k[Le]=X,z=Le):(k[z]=Me,k[yt]=X,z=yt);else if(Le<P&&0>a($e,X))k[z]=$e,k[Le]=X,z=Le;else break e}}return Q}function a(k,Q){var X=k.sortIndex-Q.sortIndex;return X!==0?X:k.id-Q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();e.unstable_now=function(){return s.now()-u}}var d=[],f=[],m=1,p=null,h=3,g=!1,v=!1,E=!1,N=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function T(k){for(var Q=n(f);Q!==null;){if(Q.callback===null)i(f);else if(Q.startTime<=k)i(f),Q.sortIndex=Q.expirationTime,t(d,Q);else break;Q=n(f)}}function A(k){if(E=!1,T(k),!v)if(n(d)!==null)v=!0,_||(_=!0,j());else{var Q=n(f);Q!==null&&K(A,Q.startTime-k)}}var _=!1,w=-1,U=5,I=-1;function q(){return N?!0:!(e.unstable_now()-I<U)}function O(){if(N=!1,_){var k=e.unstable_now();I=k;var Q=!0;try{e:{v=!1,E&&(E=!1,y(w),w=-1),g=!0;var X=h;try{t:{for(T(k),p=n(d);p!==null&&!(p.expirationTime>k&&q());){var z=p.callback;if(typeof z=="function"){p.callback=null,h=p.priorityLevel;var P=z(p.expirationTime<=k);if(k=e.unstable_now(),typeof P=="function"){p.callback=P,T(k),Q=!0;break t}p===n(d)&&i(d),T(k)}else i(d);p=n(d)}if(p!==null)Q=!0;else{var ge=n(f);ge!==null&&K(A,ge.startTime-k),Q=!1}}break e}finally{p=null,h=X,g=!1}Q=void 0}}finally{Q?j():_=!1}}}var j;if(typeof S=="function")j=function(){S(O)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,D=V.port2;V.port1.onmessage=O,j=function(){D.postMessage(null)}}else j=function(){x(O,0)};function K(k,Q){w=x(function(){k(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(k){switch(h){case 1:case 2:case 3:var Q=3;break;default:Q=h}var X=h;h=Q;try{return k()}finally{h=X}},e.unstable_requestPaint=function(){N=!0},e.unstable_runWithPriority=function(k,Q){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var X=h;h=k;try{return Q()}finally{h=X}},e.unstable_scheduleCallback=function(k,Q,X){var z=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?z+X:z):X=z,k){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=X+P,k={id:m++,callback:Q,priorityLevel:k,startTime:X,expirationTime:P,sortIndex:-1},X>z?(k.sortIndex=X,t(f,k),n(d)===null&&k===n(f)&&(E?(y(w),w=-1):E=!0,K(A,X-z))):(k.sortIndex=P,t(d,k),v||g||(v=!0,_||(_=!0,j()))),k},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(k){var Q=h;return function(){var X=h;h=Q;try{return k.apply(this,arguments)}finally{h=X}}}})(mh);fh.exports=mh;var qx=fh.exports,hh={exports:{}},Xe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ux=b;function ph(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function cn(){}var Qe={d:{f:cn,r:function(){throw Error(ph(522))},D:cn,C:cn,L:cn,m:cn,X:cn,S:cn,M:cn},p:0,findDOMNode:null},Lx=Symbol.for("react.portal");function jx(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lx,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var Ua=Ux.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Qs(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Qe;Xe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(ph(299));return jx(e,t,null,n)};Xe.flushSync=function(e){var t=Ua.T,n=Qe.p;try{if(Ua.T=null,Qe.p=2,e)return e()}finally{Ua.T=t,Qe.p=n,Qe.d.f()}};Xe.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Qe.d.C(e,t))};Xe.prefetchDNS=function(e){typeof e=="string"&&Qe.d.D(e)};Xe.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=Qs(n,t.crossOrigin),a=typeof t.integrity=="string"?t.integrity:void 0,o=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Qe.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:a,fetchPriority:o}):n==="script"&&Qe.d.X(e,{crossOrigin:i,integrity:a,fetchPriority:o,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Xe.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Qs(t.as,t.crossOrigin);Qe.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Qe.d.M(e)};Xe.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=Qs(n,t.crossOrigin);Qe.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Xe.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Qs(t.as,t.crossOrigin);Qe.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Qe.d.m(e)};Xe.requestFormReset=function(e){Qe.d.r(e)};Xe.unstable_batchedUpdates=function(e,t){return e(t)};Xe.useFormState=function(e,t,n){return Ua.H.useFormState(e,t,n)};Xe.useFormStatus=function(){return Ua.H.useHostTransitionStatus()};Xe.version="19.2.0";function gh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gh)}catch(e){console.error(e)}}gh(),hh.exports=Xe;var Vx=hh.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ue=qx,yh=b,Gx=Vx;function M(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function xh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function fo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function vh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Sh(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Xc(e){if(fo(e)!==e)throw Error(M(188))}function Px(e){var t=e.alternate;if(!t){if(t=fo(e),t===null)throw Error(M(188));return t!==e?null:e}for(var n=e,i=t;;){var a=n.return;if(a===null)break;var o=a.alternate;if(o===null){if(i=a.return,i!==null){n=i;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return Xc(a),e;if(o===i)return Xc(a),t;o=o.sibling}throw Error(M(188))}if(n.return!==i.return)n=a,i=o;else{for(var s=!1,u=a.child;u;){if(u===n){s=!0,n=a,i=o;break}if(u===i){s=!0,i=a,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,i=a;break}if(u===i){s=!0,i=o,n=a;break}u=u.sibling}if(!s)throw Error(M(189))}}if(n.alternate!==i)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?e:t}function bh(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=bh(e),t!==null)return t;e=e.sibling}return null}var Te=Object.assign,zx=Symbol.for("react.element"),Ro=Symbol.for("react.transitional.element"),Ma=Symbol.for("react.portal"),Ti=Symbol.for("react.fragment"),Eh=Symbol.for("react.strict_mode"),br=Symbol.for("react.profiler"),Th=Symbol.for("react.consumer"),Qt=Symbol.for("react.context"),Ru=Symbol.for("react.forward_ref"),Er=Symbol.for("react.suspense"),Tr=Symbol.for("react.suspense_list"),Iu=Symbol.for("react.memo"),dn=Symbol.for("react.lazy"),Nr=Symbol.for("react.activity"),Hx=Symbol.for("react.memo_cache_sentinel"),$c=Symbol.iterator;function Sa(e){return e===null||typeof e!="object"?null:(e=$c&&e[$c]||e["@@iterator"],typeof e=="function"?e:null)}var Bx=Symbol.for("react.client.reference");function Ar(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Bx?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ti:return"Fragment";case br:return"Profiler";case Eh:return"StrictMode";case Er:return"Suspense";case Tr:return"SuspenseList";case Nr:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Ma:return"Portal";case Qt:return e.displayName||"Context";case Th:return(e._context.displayName||"Context")+".Consumer";case Ru:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Iu:return t=e.displayName||null,t!==null?t:Ar(e.type)||"Memo";case dn:t=e._payload,e=e._init;try{return Ar(e(t))}catch{}}return null}var Ra=Array.isArray,F=yh.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=Gx.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Qn={pending:!1,data:null,method:null,action:null},Cr=[],Ni=-1;function Pt(e){return{current:e}}function ze(e){0>Ni||(e.current=Cr[Ni],Cr[Ni]=null,Ni--)}function ye(e,t){Ni++,Cr[Ni]=e.current,e.current=t}var jt=Pt(null),Xa=Pt(null),En=Pt(null),ps=Pt(null);function gs(e,t){switch(ye(En,t),ye(Xa,e),ye(jt,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?af(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=af(t),e=Bg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ze(jt),ye(jt,e)}function Fi(){ze(jt),ze(Xa),ze(En)}function wr(e){e.memoizedState!==null&&ye(ps,e);var t=jt.current,n=Bg(t,e.type);t!==n&&(ye(Xa,e),ye(jt,n))}function ys(e){Xa.current===e&&(ze(jt),ze(Xa)),ps.current===e&&(ze(ps),lo._currentValue=Qn)}var Ul,Zc;function Jn(e){if(Ul===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ul=t&&t[1]||"",Zc=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ul+e+Zc}var Ll=!1;function jl(e,t){if(!e||Ll)return"";Ll=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var p=function(){throw Error()};if(Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(g){var h=g}Reflect.construct(e,[],p)}else{try{p.call()}catch(g){h=g}e.call(p.prototype)}}else{try{throw Error()}catch(g){h=g}(p=e())&&typeof p.catch=="function"&&p.catch(function(){})}}catch(g){if(g&&h&&typeof g.stack=="string")return[g.stack,h.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=i.DetermineComponentFrameRoot(),s=o[0],u=o[1];if(s&&u){var d=s.split(`
`),f=u.split(`
`);for(a=i=0;i<d.length&&!d[i].includes("DetermineComponentFrameRoot");)i++;for(;a<f.length&&!f[a].includes("DetermineComponentFrameRoot");)a++;if(i===d.length||a===f.length)for(i=d.length-1,a=f.length-1;1<=i&&0<=a&&d[i]!==f[a];)a--;for(;1<=i&&0<=a;i--,a--)if(d[i]!==f[a]){if(i!==1||a!==1)do if(i--,a--,0>a||d[i]!==f[a]){var m=`
`+d[i].replace(" at new "," at ");return e.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",e.displayName)),m}while(1<=i&&0<=a);break}}}finally{Ll=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Jn(n):""}function Ox(e,t){switch(e.tag){case 26:case 27:case 5:return Jn(e.type);case 16:return Jn("Lazy");case 13:return e.child!==t&&t!==null?Jn("Suspense Fallback"):Jn("Suspense");case 19:return Jn("SuspenseList");case 0:case 15:return jl(e.type,!1);case 11:return jl(e.type.render,!1);case 1:return jl(e.type,!0);case 31:return Jn("Activity");default:return""}}function Wc(e){try{var t="",n=null;do t+=Ox(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var _r=Object.prototype.hasOwnProperty,ku=Ue.unstable_scheduleCallback,Vl=Ue.unstable_cancelCallback,Jx=Ue.unstable_shouldYield,Yx=Ue.unstable_requestPaint,ct=Ue.unstable_now,Fx=Ue.unstable_getCurrentPriorityLevel,Nh=Ue.unstable_ImmediatePriority,Ah=Ue.unstable_UserBlockingPriority,xs=Ue.unstable_NormalPriority,Kx=Ue.unstable_LowPriority,Ch=Ue.unstable_IdlePriority,Qx=Ue.log,Xx=Ue.unstable_setDisableYieldValue,mo=null,dt=null;function yn(e){if(typeof Qx=="function"&&Xx(e),dt&&typeof dt.setStrictMode=="function")try{dt.setStrictMode(mo,e)}catch{}}var ft=Math.clz32?Math.clz32:Wx,$x=Math.log,Zx=Math.LN2;function Wx(e){return e>>>=0,e===0?32:31-($x(e)/Zx|0)|0}var Io=256,ko=262144,Do=4194304;function Yn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Xs(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var a=0,o=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var u=i&134217727;return u!==0?(i=u&~o,i!==0?a=Yn(i):(s&=u,s!==0?a=Yn(s):n||(n=u&~e,n!==0&&(a=Yn(n))))):(u=i&~o,u!==0?a=Yn(u):s!==0?a=Yn(s):n||(n=i&~e,n!==0&&(a=Yn(n)))),a===0?0:t!==0&&t!==a&&!(t&o)&&(o=a&-a,n=t&-t,o>=n||o===32&&(n&4194048)!==0)?t:a}function ho(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function e0(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wh(){var e=Do;return Do<<=1,!(Do&62914560)&&(Do=4194304),e}function Gl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function po(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function t0(e,t,n,i,a,o){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var u=e.entanglements,d=e.expirationTimes,f=e.hiddenUpdates;for(n=s&~n;0<n;){var m=31-ft(n),p=1<<m;u[m]=0,d[m]=-1;var h=f[m];if(h!==null)for(f[m]=null,m=0;m<h.length;m++){var g=h[m];g!==null&&(g.lane&=-536870913)}n&=~p}i!==0&&_h(e,i,0),o!==0&&a===0&&e.tag!==0&&(e.suspendedLanes|=o&~(s&~t))}function _h(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-ft(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function Mh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-ft(n),a=1<<i;a&t|e[i]&t&&(e[i]|=t),n&=~a}}function Rh(e,t){var n=t&-t;return n=n&42?1:Du(n),n&(e.suspendedLanes|t)?0:n}function Du(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function qu(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Ih(){var e=ue.p;return e!==0?e:(e=window.event,e===void 0?32:ey(e.type))}function ed(e,t){var n=ue.p;try{return ue.p=e,t()}finally{ue.p=n}}var Vn=Math.random().toString(36).slice(2),Be="__reactFiber$"+Vn,at="__reactProps$"+Vn,oa="__reactContainer$"+Vn,Mr="__reactEvents$"+Vn,n0="__reactListeners$"+Vn,i0="__reactHandles$"+Vn,td="__reactResources$"+Vn,go="__reactMarker$"+Vn;function Uu(e){delete e[Be],delete e[at],delete e[Mr],delete e[n0],delete e[i0]}function Ai(e){var t=e[Be];if(t)return t;for(var n=e.parentNode;n;){if(t=n[oa]||n[Be]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=uf(e);e!==null;){if(n=e[Be])return n;e=uf(e)}return t}e=n,n=e.parentNode}return null}function sa(e){if(e=e[Be]||e[oa]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ia(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(M(33))}function Li(e){var t=e[td];return t||(t=e[td]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Pe(e){e[go]=!0}var kh=new Set,Dh={};function li(e,t){Ki(e,t),Ki(e+"Capture",t)}function Ki(e,t){for(Dh[e]=t,e=0;e<t.length;e++)kh.add(t[e])}var a0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nd={},id={};function o0(e){return _r.call(id,e)?!0:_r.call(nd,e)?!1:a0.test(e)?id[e]=!0:(nd[e]=!0,!1)}function Xo(e,t,n){if(o0(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function qo(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Ht(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function vt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function s0(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var a=i.get,o=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Rr(e){if(!e._valueTracker){var t=qh(e)?"checked":"value";e._valueTracker=s0(e,t,""+e[t])}}function Uh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=qh(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function vs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var l0=/[\n"\\]/g;function Et(e){return e.replace(l0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ir(e,t,n,i,a,o,s,u){e.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.type=s:e.removeAttribute("type"),t!=null?s==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+vt(t)):e.value!==""+vt(t)&&(e.value=""+vt(t)):s!=="submit"&&s!=="reset"||e.removeAttribute("value"),t!=null?kr(e,s,vt(t)):n!=null?kr(e,s,vt(n)):i!=null&&e.removeAttribute("value"),a==null&&o!=null&&(e.defaultChecked=!!o),a!=null&&(e.checked=a&&typeof a!="function"&&typeof a!="symbol"),u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?e.name=""+vt(u):e.removeAttribute("name")}function Lh(e,t,n,i,a,o,s,u){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||t!=null)){Rr(e);return}n=n!=null?""+vt(n):"",t=t!=null?""+vt(t):n,u||t===e.value||(e.value=t),e.defaultValue=t}i=i??a,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=u?e.checked:!!i,e.defaultChecked=!!i,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.name=s),Rr(e)}function kr(e,t,n){t==="number"&&vs(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ji(e,t,n,i){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&i&&(e[n].defaultSelected=!0)}else{for(n=""+vt(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,i&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function jh(e,t,n){if(t!=null&&(t=""+vt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+vt(n):""}function Vh(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(M(92));if(Ra(i)){if(1<i.length)throw Error(M(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=vt(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),Rr(e)}function Qi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var r0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ad(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||r0.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Gh(e,t,n){if(t!=null&&typeof t!="object")throw Error(M(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var a in t)i=t[a],t.hasOwnProperty(a)&&n[a]!==i&&ad(e,a,i)}else for(var o in t)t.hasOwnProperty(o)&&ad(e,o,t[o])}function Lu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var u0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),c0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $o(e){return c0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Xt(){}var Dr=null;function ju(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ci=null,Vi=null;function od(e){var t=sa(e);if(t&&(e=t.stateNode)){var n=e[at]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ir(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Et(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var a=i[at]||null;if(!a)throw Error(M(90));Ir(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&Uh(i)}break e;case"textarea":jh(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&ji(e,!!n.multiple,t,!1)}}}var Pl=!1;function Ph(e,t,n){if(Pl)return e(t,n);Pl=!0;try{var i=e(t);return i}finally{if(Pl=!1,(Ci!==null||Vi!==null)&&(rl(),Ci&&(t=Ci,e=Vi,Vi=Ci=null,od(t),e)))for(t=0;t<e.length;t++)od(e[t])}}function $a(e,t){var n=e.stateNode;if(n===null)return null;var i=n[at]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(M(231,t,typeof n));return n}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qr=!1;if(tn)try{var ba={};Object.defineProperty(ba,"passive",{get:function(){qr=!0}}),window.addEventListener("test",ba,ba),window.removeEventListener("test",ba,ba)}catch{qr=!1}var xn=null,Vu=null,Zo=null;function zh(){if(Zo)return Zo;var e,t=Vu,n=t.length,i,a="value"in xn?xn.value:xn.textContent,o=a.length;for(e=0;e<n&&t[e]===a[e];e++);var s=n-e;for(i=1;i<=s&&t[n-i]===a[o-i];i++);return Zo=a.slice(e,1<i?1-i:void 0)}function Wo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Uo(){return!0}function sd(){return!1}function ot(e){function t(n,i,a,o,s){this._reactName=n,this._targetInst=a,this.type=i,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Uo:sd,this.isPropagationStopped=sd,this}return Te(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Uo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Uo)},persist:function(){},isPersistent:Uo}),t}var ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$s=ot(ri),yo=Te({},ri,{view:0,detail:0}),d0=ot(yo),zl,Hl,Ea,Zs=Te({},yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ea&&(Ea&&e.type==="mousemove"?(zl=e.screenX-Ea.screenX,Hl=e.screenY-Ea.screenY):Hl=zl=0,Ea=e),zl)},movementY:function(e){return"movementY"in e?e.movementY:Hl}}),ld=ot(Zs),f0=Te({},Zs,{dataTransfer:0}),m0=ot(f0),h0=Te({},yo,{relatedTarget:0}),Bl=ot(h0),p0=Te({},ri,{animationName:0,elapsedTime:0,pseudoElement:0}),g0=ot(p0),y0=Te({},ri,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),x0=ot(y0),v0=Te({},ri,{data:0}),rd=ot(v0),S0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},E0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function T0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=E0[e])?!!t[e]:!1}function Gu(){return T0}var N0=Te({},yo,{key:function(e){if(e.key){var t=S0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Wo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?b0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gu,charCode:function(e){return e.type==="keypress"?Wo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),A0=ot(N0),C0=Te({},Zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ud=ot(C0),w0=Te({},yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gu}),_0=ot(w0),M0=Te({},ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),R0=ot(M0),I0=Te({},Zs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),k0=ot(I0),D0=Te({},ri,{newState:0,oldState:0}),q0=ot(D0),U0=[9,13,27,32],Pu=tn&&"CompositionEvent"in window,La=null;tn&&"documentMode"in document&&(La=document.documentMode);var L0=tn&&"TextEvent"in window&&!La,Hh=tn&&(!Pu||La&&8<La&&11>=La),cd=" ",dd=!1;function Bh(e,t){switch(e){case"keyup":return U0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wi=!1;function j0(e,t){switch(e){case"compositionend":return Oh(t);case"keypress":return t.which!==32?null:(dd=!0,cd);case"textInput":return e=t.data,e===cd&&dd?null:e;default:return null}}function V0(e,t){if(wi)return e==="compositionend"||!Pu&&Bh(e,t)?(e=zh(),Zo=Vu=xn=null,wi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Hh&&t.locale!=="ko"?null:t.data;default:return null}}var G0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!G0[e.type]:t==="textarea"}function Jh(e,t,n,i){Ci?Vi?Vi.push(i):Vi=[i]:Ci=i,t=js(t,"onChange"),0<t.length&&(n=new $s("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var ja=null,Za=null;function P0(e){Pg(e,0)}function Ws(e){var t=Ia(e);if(Uh(t))return e}function md(e,t){if(e==="change")return t}var Yh=!1;if(tn){var Ol;if(tn){var Jl="oninput"in document;if(!Jl){var hd=document.createElement("div");hd.setAttribute("oninput","return;"),Jl=typeof hd.oninput=="function"}Ol=Jl}else Ol=!1;Yh=Ol&&(!document.documentMode||9<document.documentMode)}function pd(){ja&&(ja.detachEvent("onpropertychange",Fh),Za=ja=null)}function Fh(e){if(e.propertyName==="value"&&Ws(Za)){var t=[];Jh(t,Za,e,ju(e)),Ph(P0,t)}}function z0(e,t,n){e==="focusin"?(pd(),ja=t,Za=n,ja.attachEvent("onpropertychange",Fh)):e==="focusout"&&pd()}function H0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ws(Za)}function B0(e,t){if(e==="click")return Ws(t)}function O0(e,t){if(e==="input"||e==="change")return Ws(t)}function J0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ht=typeof Object.is=="function"?Object.is:J0;function Wa(e,t){if(ht(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var a=n[i];if(!_r.call(t,a)||!ht(e[a],t[a]))return!1}return!0}function gd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yd(e,t){var n=gd(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gd(n)}}function Kh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Kh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Qh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=vs(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=vs(e.document)}return t}function zu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Y0=tn&&"documentMode"in document&&11>=document.documentMode,_i=null,Ur=null,Va=null,Lr=!1;function xd(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Lr||_i==null||_i!==vs(i)||(i=_i,"selectionStart"in i&&zu(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Va&&Wa(Va,i)||(Va=i,i=js(Ur,"onSelect"),0<i.length&&(t=new $s("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=_i)))}function Bn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Mi={animationend:Bn("Animation","AnimationEnd"),animationiteration:Bn("Animation","AnimationIteration"),animationstart:Bn("Animation","AnimationStart"),transitionrun:Bn("Transition","TransitionRun"),transitionstart:Bn("Transition","TransitionStart"),transitioncancel:Bn("Transition","TransitionCancel"),transitionend:Bn("Transition","TransitionEnd")},Yl={},Xh={};tn&&(Xh=document.createElement("div").style,"AnimationEvent"in window||(delete Mi.animationend.animation,delete Mi.animationiteration.animation,delete Mi.animationstart.animation),"TransitionEvent"in window||delete Mi.transitionend.transition);function ui(e){if(Yl[e])return Yl[e];if(!Mi[e])return e;var t=Mi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Xh)return Yl[e]=t[n];return e}var $h=ui("animationend"),Zh=ui("animationiteration"),Wh=ui("animationstart"),F0=ui("transitionrun"),K0=ui("transitionstart"),Q0=ui("transitioncancel"),ep=ui("transitionend"),tp=new Map,jr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jr.push("scrollEnd");function It(e,t){tp.set(e,t),li(t,[e])}var Ss=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},xt=[],Ri=0,Hu=0;function el(){for(var e=Ri,t=Hu=Ri=0;t<e;){var n=xt[t];xt[t++]=null;var i=xt[t];xt[t++]=null;var a=xt[t];xt[t++]=null;var o=xt[t];if(xt[t++]=null,i!==null&&a!==null){var s=i.pending;s===null?a.next=a:(a.next=s.next,s.next=a),i.pending=a}o!==0&&np(n,a,o)}}function tl(e,t,n,i){xt[Ri++]=e,xt[Ri++]=t,xt[Ri++]=n,xt[Ri++]=i,Hu|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Bu(e,t,n,i){return tl(e,t,n,i),bs(e)}function ci(e,t){return tl(e,null,null,t),bs(e)}function np(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var a=!1,o=e.return;o!==null;)o.childLanes|=n,i=o.alternate,i!==null&&(i.childLanes|=n),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(a=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,a&&t!==null&&(a=31-ft(n),e=o.hiddenUpdates,i=e[a],i===null?e[a]=[t]:i.push(t),t.lane=n|536870912),o):null}function bs(e){if(50<Fa)throw Fa=0,au=null,Error(M(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ii={};function X0(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rt(e,t,n,i){return new X0(e,t,n,i)}function Ou(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zt(e,t){var n=e.alternate;return n===null?(n=rt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function ip(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function es(e,t,n,i,a,o){var s=0;if(i=e,typeof e=="function")Ou(e)&&(s=1);else if(typeof e=="string")s=tS(e,n,jt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Nr:return e=rt(31,n,t,a),e.elementType=Nr,e.lanes=o,e;case Ti:return Xn(n.children,a,o,t);case Eh:s=8,a|=24;break;case br:return e=rt(12,n,t,a|2),e.elementType=br,e.lanes=o,e;case Er:return e=rt(13,n,t,a),e.elementType=Er,e.lanes=o,e;case Tr:return e=rt(19,n,t,a),e.elementType=Tr,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Qt:s=10;break e;case Th:s=9;break e;case Ru:s=11;break e;case Iu:s=14;break e;case dn:s=16,i=null;break e}s=29,n=Error(M(130,e===null?"null":typeof e,"")),i=null}return t=rt(s,n,t,a),t.elementType=e,t.type=i,t.lanes=o,t}function Xn(e,t,n,i){return e=rt(7,e,i,t),e.lanes=n,e}function Fl(e,t,n){return e=rt(6,e,null,t),e.lanes=n,e}function ap(e){var t=rt(18,null,null,0);return t.stateNode=e,t}function Kl(e,t,n){return t=rt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var vd=new WeakMap;function Tt(e,t){if(typeof e=="object"&&e!==null){var n=vd.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Wc(t)},vd.set(e,t),t)}return{value:e,source:t,stack:Wc(t)}}var ki=[],Di=0,Es=null,eo=0,St=[],bt=0,In=null,qt=1,Ut="";function Ft(e,t){ki[Di++]=eo,ki[Di++]=Es,Es=e,eo=t}function op(e,t,n){St[bt++]=qt,St[bt++]=Ut,St[bt++]=In,In=e;var i=qt;e=Ut;var a=32-ft(i)-1;i&=~(1<<a),n+=1;var o=32-ft(t)+a;if(30<o){var s=a-a%5;o=(i&(1<<s)-1).toString(32),i>>=s,a-=s,qt=1<<32-ft(t)+a|n<<a|i,Ut=o+e}else qt=1<<o|n<<a|i,Ut=e}function Ju(e){e.return!==null&&(Ft(e,1),op(e,1,0))}function Yu(e){for(;e===Es;)Es=ki[--Di],ki[Di]=null,eo=ki[--Di],ki[Di]=null;for(;e===In;)In=St[--bt],St[bt]=null,Ut=St[--bt],St[bt]=null,qt=St[--bt],St[bt]=null}function sp(e,t){St[bt++]=qt,St[bt++]=Ut,St[bt++]=In,qt=t.id,Ut=t.overflow,In=e}var Oe=null,Se=null,se=!1,Tn=null,Nt=!1,Vr=Error(M(519));function kn(e){var t=Error(M(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw to(Tt(t,e)),Vr}function Sd(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[Be]=e,t[at]=i,n){case"dialog":ie("cancel",t),ie("close",t);break;case"iframe":case"object":case"embed":ie("load",t);break;case"video":case"audio":for(n=0;n<oo.length;n++)ie(oo[n],t);break;case"source":ie("error",t);break;case"img":case"image":case"link":ie("error",t),ie("load",t);break;case"details":ie("toggle",t);break;case"input":ie("invalid",t),Lh(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":ie("invalid",t);break;case"textarea":ie("invalid",t),Vh(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||Hg(t.textContent,n)?(i.popover!=null&&(ie("beforetoggle",t),ie("toggle",t)),i.onScroll!=null&&ie("scroll",t),i.onScrollEnd!=null&&ie("scrollend",t),i.onClick!=null&&(t.onclick=Xt),t=!0):t=!1,t||kn(e,!0)}function bd(e){for(Oe=e.return;Oe;)switch(Oe.tag){case 5:case 31:case 13:Nt=!1;return;case 27:case 3:Nt=!0;return;default:Oe=Oe.return}}function xi(e){if(e!==Oe)return!1;if(!se)return bd(e),se=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||uu(e.type,e.memoizedProps)),n=!n),n&&Se&&kn(e),bd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));Se=rf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));Se=rf(e)}else t===27?(t=Se,Gn(e.type)?(e=mu,mu=null,Se=e):Se=t):Se=Oe?Ct(e.stateNode.nextSibling):null;return!0}function ei(){Se=Oe=null,se=!1}function Ql(){var e=Tn;return e!==null&&(nt===null?nt=e:nt.push.apply(nt,e),Tn=null),e}function to(e){Tn===null?Tn=[e]:Tn.push(e)}var Gr=Pt(null),di=null,$t=null;function mn(e,t,n){ye(Gr,t._currentValue),t._currentValue=n}function Wt(e){e._currentValue=Gr.current,ze(Gr)}function Pr(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function zr(e,t,n,i){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){var s=a.child;o=o.firstContext;e:for(;o!==null;){var u=o;o=a;for(var d=0;d<t.length;d++)if(u.context===t[d]){o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Pr(o.return,n,e),i||(s=null);break e}o=u.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(M(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),Pr(s,n,e),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function la(e,t,n,i){e=null;for(var a=t,o=!1;a!==null;){if(!o){if(a.flags&524288)o=!0;else if(a.flags&262144)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(M(387));if(s=s.memoizedProps,s!==null){var u=a.type;ht(a.pendingProps.value,s.value)||(e!==null?e.push(u):e=[u])}}else if(a===ps.current){if(s=a.alternate,s===null)throw Error(M(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e!==null?e.push(lo):e=[lo])}a=a.return}e!==null&&zr(t,e,n,i),t.flags|=262144}function Ts(e){for(e=e.firstContext;e!==null;){if(!ht(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ti(e){di=e,$t=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Je(e){return lp(di,e)}function Lo(e,t){return di===null&&ti(e),lp(e,t)}function lp(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},$t===null){if(e===null)throw Error(M(308));$t=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else $t=$t.next=t;return n}var $0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Z0=Ue.unstable_scheduleCallback,W0=Ue.unstable_NormalPriority,ke={$$typeof:Qt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fu(){return{controller:new $0,data:new Map,refCount:0}}function xo(e){e.refCount--,e.refCount===0&&Z0(W0,function(){e.controller.abort()})}var Ga=null,Hr=0,Xi=0,Gi=null;function ev(e,t){if(Ga===null){var n=Ga=[];Hr=0,Xi=xc(),Gi={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Hr++,t.then(Ed,Ed),t}function Ed(){if(--Hr===0&&Ga!==null){Gi!==null&&(Gi.status="fulfilled");var e=Ga;Ga=null,Xi=0,Gi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function tv(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(a){n.push(a)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var a=0;a<n.length;a++)(0,n[a])(t)},function(a){for(i.status="rejected",i.reason=a,a=0;a<n.length;a++)(0,n[a])(void 0)}),i}var Td=F.S;F.S=function(e,t){bg=ct(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&ev(e,t),Td!==null&&Td(e,t)};var $n=Pt(null);function Ku(){var e=$n.current;return e!==null?e:pe.pooledCache}function ts(e,t){t===null?ye($n,$n.current):ye($n,t.pool)}function rp(){var e=Ku();return e===null?null:{parent:ke._currentValue,pool:e}}var ra=Error(M(460)),Qu=Error(M(474)),nl=Error(M(542)),Ns={then:function(){}};function Nd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function up(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Xt,Xt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Cd(e),e;default:if(typeof t.status=="string")t.then(Xt,Xt);else{if(e=pe,e!==null&&100<e.shellSuspendCounter)throw Error(M(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var a=t;a.status="fulfilled",a.value=i}},function(i){if(t.status==="pending"){var a=t;a.status="rejected",a.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Cd(e),e}throw Zn=t,ra}}function Fn(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Zn=n,ra):n}}var Zn=null;function Ad(){if(Zn===null)throw Error(M(459));var e=Zn;return Zn=null,e}function Cd(e){if(e===ra||e===nl)throw Error(M(483))}var Pi=null,no=0;function jo(e){var t=no;return no+=1,Pi===null&&(Pi=[]),up(Pi,e,t)}function Ta(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Vo(e,t){throw t.$$typeof===zx?Error(M(525)):(e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function cp(e){function t(x,y){if(e){var S=x.deletions;S===null?(x.deletions=[y],x.flags|=16):S.push(y)}}function n(x,y){if(!e)return null;for(;y!==null;)t(x,y),y=y.sibling;return null}function i(x){for(var y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function a(x,y){return x=Zt(x,y),x.index=0,x.sibling=null,x}function o(x,y,S){return x.index=S,e?(S=x.alternate,S!==null?(S=S.index,S<y?(x.flags|=67108866,y):S):(x.flags|=67108866,y)):(x.flags|=1048576,y)}function s(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function u(x,y,S,T){return y===null||y.tag!==6?(y=Fl(S,x.mode,T),y.return=x,y):(y=a(y,S),y.return=x,y)}function d(x,y,S,T){var A=S.type;return A===Ti?m(x,y,S.props.children,T,S.key):y!==null&&(y.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===dn&&Fn(A)===y.type)?(y=a(y,S.props),Ta(y,S),y.return=x,y):(y=es(S.type,S.key,S.props,null,x.mode,T),Ta(y,S),y.return=x,y)}function f(x,y,S,T){return y===null||y.tag!==4||y.stateNode.containerInfo!==S.containerInfo||y.stateNode.implementation!==S.implementation?(y=Kl(S,x.mode,T),y.return=x,y):(y=a(y,S.children||[]),y.return=x,y)}function m(x,y,S,T,A){return y===null||y.tag!==7?(y=Xn(S,x.mode,T,A),y.return=x,y):(y=a(y,S),y.return=x,y)}function p(x,y,S){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return y=Fl(""+y,x.mode,S),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ro:return S=es(y.type,y.key,y.props,null,x.mode,S),Ta(S,y),S.return=x,S;case Ma:return y=Kl(y,x.mode,S),y.return=x,y;case dn:return y=Fn(y),p(x,y,S)}if(Ra(y)||Sa(y))return y=Xn(y,x.mode,S,null),y.return=x,y;if(typeof y.then=="function")return p(x,jo(y),S);if(y.$$typeof===Qt)return p(x,Lo(x,y),S);Vo(x,y)}return null}function h(x,y,S,T){var A=y!==null?y.key:null;if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return A!==null?null:u(x,y,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ro:return S.key===A?d(x,y,S,T):null;case Ma:return S.key===A?f(x,y,S,T):null;case dn:return S=Fn(S),h(x,y,S,T)}if(Ra(S)||Sa(S))return A!==null?null:m(x,y,S,T,null);if(typeof S.then=="function")return h(x,y,jo(S),T);if(S.$$typeof===Qt)return h(x,y,Lo(x,S),T);Vo(x,S)}return null}function g(x,y,S,T,A){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return x=x.get(S)||null,u(y,x,""+T,A);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Ro:return x=x.get(T.key===null?S:T.key)||null,d(y,x,T,A);case Ma:return x=x.get(T.key===null?S:T.key)||null,f(y,x,T,A);case dn:return T=Fn(T),g(x,y,S,T,A)}if(Ra(T)||Sa(T))return x=x.get(S)||null,m(y,x,T,A,null);if(typeof T.then=="function")return g(x,y,S,jo(T),A);if(T.$$typeof===Qt)return g(x,y,S,Lo(y,T),A);Vo(y,T)}return null}function v(x,y,S,T){for(var A=null,_=null,w=y,U=y=0,I=null;w!==null&&U<S.length;U++){w.index>U?(I=w,w=null):I=w.sibling;var q=h(x,w,S[U],T);if(q===null){w===null&&(w=I);break}e&&w&&q.alternate===null&&t(x,w),y=o(q,y,U),_===null?A=q:_.sibling=q,_=q,w=I}if(U===S.length)return n(x,w),se&&Ft(x,U),A;if(w===null){for(;U<S.length;U++)w=p(x,S[U],T),w!==null&&(y=o(w,y,U),_===null?A=w:_.sibling=w,_=w);return se&&Ft(x,U),A}for(w=i(w);U<S.length;U++)I=g(w,x,U,S[U],T),I!==null&&(e&&I.alternate!==null&&w.delete(I.key===null?U:I.key),y=o(I,y,U),_===null?A=I:_.sibling=I,_=I);return e&&w.forEach(function(O){return t(x,O)}),se&&Ft(x,U),A}function E(x,y,S,T){if(S==null)throw Error(M(151));for(var A=null,_=null,w=y,U=y=0,I=null,q=S.next();w!==null&&!q.done;U++,q=S.next()){w.index>U?(I=w,w=null):I=w.sibling;var O=h(x,w,q.value,T);if(O===null){w===null&&(w=I);break}e&&w&&O.alternate===null&&t(x,w),y=o(O,y,U),_===null?A=O:_.sibling=O,_=O,w=I}if(q.done)return n(x,w),se&&Ft(x,U),A;if(w===null){for(;!q.done;U++,q=S.next())q=p(x,q.value,T),q!==null&&(y=o(q,y,U),_===null?A=q:_.sibling=q,_=q);return se&&Ft(x,U),A}for(w=i(w);!q.done;U++,q=S.next())q=g(w,x,U,q.value,T),q!==null&&(e&&q.alternate!==null&&w.delete(q.key===null?U:q.key),y=o(q,y,U),_===null?A=q:_.sibling=q,_=q);return e&&w.forEach(function(j){return t(x,j)}),se&&Ft(x,U),A}function N(x,y,S,T){if(typeof S=="object"&&S!==null&&S.type===Ti&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Ro:e:{for(var A=S.key;y!==null;){if(y.key===A){if(A=S.type,A===Ti){if(y.tag===7){n(x,y.sibling),T=a(y,S.props.children),T.return=x,x=T;break e}}else if(y.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===dn&&Fn(A)===y.type){n(x,y.sibling),T=a(y,S.props),Ta(T,S),T.return=x,x=T;break e}n(x,y);break}else t(x,y);y=y.sibling}S.type===Ti?(T=Xn(S.props.children,x.mode,T,S.key),T.return=x,x=T):(T=es(S.type,S.key,S.props,null,x.mode,T),Ta(T,S),T.return=x,x=T)}return s(x);case Ma:e:{for(A=S.key;y!==null;){if(y.key===A)if(y.tag===4&&y.stateNode.containerInfo===S.containerInfo&&y.stateNode.implementation===S.implementation){n(x,y.sibling),T=a(y,S.children||[]),T.return=x,x=T;break e}else{n(x,y);break}else t(x,y);y=y.sibling}T=Kl(S,x.mode,T),T.return=x,x=T}return s(x);case dn:return S=Fn(S),N(x,y,S,T)}if(Ra(S))return v(x,y,S,T);if(Sa(S)){if(A=Sa(S),typeof A!="function")throw Error(M(150));return S=A.call(S),E(x,y,S,T)}if(typeof S.then=="function")return N(x,y,jo(S),T);if(S.$$typeof===Qt)return N(x,y,Lo(x,S),T);Vo(x,S)}return typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint"?(S=""+S,y!==null&&y.tag===6?(n(x,y.sibling),T=a(y,S),T.return=x,x=T):(n(x,y),T=Fl(S,x.mode,T),T.return=x,x=T),s(x)):n(x,y)}return function(x,y,S,T){try{no=0;var A=N(x,y,S,T);return Pi=null,A}catch(w){if(w===ra||w===nl)throw w;var _=rt(29,w,null,x.mode);return _.lanes=T,_.return=x,_}finally{}}}var ni=cp(!0),dp=cp(!1),fn=!1;function Xu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Br(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Nn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function An(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,re&2){var a=i.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),i.pending=t,t=bs(e),np(e,null,n),t}return tl(e,i,t,n),bs(e)}function Pa(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Mh(e,n)}}function Xl(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var a=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?a=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?a=o=t:o=o.next=t}else a=o=t;n={baseState:i.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Or=!1;function za(){if(Or){var e=Gi;if(e!==null)throw e}}function Ha(e,t,n,i){Or=!1;var a=e.updateQueue;fn=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(u!==null){a.shared.pending=null;var d=u,f=d.next;d.next=null,s===null?o=f:s.next=f,s=d;var m=e.alternate;m!==null&&(m=m.updateQueue,u=m.lastBaseUpdate,u!==s&&(u===null?m.firstBaseUpdate=f:u.next=f,m.lastBaseUpdate=d))}if(o!==null){var p=a.baseState;s=0,m=f=d=null,u=o;do{var h=u.lane&-536870913,g=h!==u.lane;if(g?(oe&h)===h:(i&h)===h){h!==0&&h===Xi&&(Or=!0),m!==null&&(m=m.next={lane:0,tag:u.tag,payload:u.payload,callback:null,next:null});e:{var v=e,E=u;h=t;var N=n;switch(E.tag){case 1:if(v=E.payload,typeof v=="function"){p=v.call(N,p,h);break e}p=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=E.payload,h=typeof v=="function"?v.call(N,p,h):v,h==null)break e;p=Te({},p,h);break e;case 2:fn=!0}}h=u.callback,h!==null&&(e.flags|=64,g&&(e.flags|=8192),g=a.callbacks,g===null?a.callbacks=[h]:g.push(h))}else g={lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},m===null?(f=m=g,d=p):m=m.next=g,s|=h;if(u=u.next,u===null){if(u=a.shared.pending,u===null)break;g=u,u=g.next,g.next=null,a.lastBaseUpdate=g,a.shared.pending=null}}while(!0);m===null&&(d=p),a.baseState=d,a.firstBaseUpdate=f,a.lastBaseUpdate=m,o===null&&(a.shared.lanes=0),qn|=s,e.lanes=s,e.memoizedState=p}}function fp(e,t){if(typeof e!="function")throw Error(M(191,e));e.call(t)}function mp(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)fp(n[e],t)}var $i=Pt(null),As=Pt(0);function wd(e,t){e=sn,ye(As,e),ye($i,t),sn=e|t.baseLanes}function Jr(){ye(As,sn),ye($i,$i.current)}function $u(){sn=As.current,ze($i),ze(As)}var pt=Pt(null),At=null;function hn(e){var t=e.alternate;ye(we,we.current&1),ye(pt,e),At===null&&(t===null||$i.current!==null||t.memoizedState!==null)&&(At=e)}function Yr(e){ye(we,we.current),ye(pt,e),At===null&&(At=e)}function hp(e){e.tag===22?(ye(we,we.current),ye(pt,e),At===null&&(At=e)):pn()}function pn(){ye(we,we.current),ye(pt,pt.current)}function lt(e){ze(pt),At===e&&(At=null),ze(we)}var we=Pt(0);function Cs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||du(n)||fu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var nn=0,W=null,he=null,Re=null,ws=!1,zi=!1,ii=!1,_s=0,io=0,Hi=null,nv=0;function Ae(){throw Error(M(321))}function Zu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ht(e[n],t[n]))return!1;return!0}function Wu(e,t,n,i,a,o){return nn=o,W=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,F.H=e===null||e.memoizedState===null?Jp:cc,ii=!1,o=n(i,a),ii=!1,zi&&(o=gp(t,n,i,a)),pp(e),o}function pp(e){F.H=ao;var t=he!==null&&he.next!==null;if(nn=0,Re=he=W=null,ws=!1,io=0,Hi=null,t)throw Error(M(300));e===null||De||(e=e.dependencies,e!==null&&Ts(e)&&(De=!0))}function gp(e,t,n,i){W=e;var a=0;do{if(zi&&(Hi=null),io=0,zi=!1,25<=a)throw Error(M(301));if(a+=1,Re=he=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}F.H=Yp,o=t(n,i)}while(zi);return o}function iv(){var e=F.H,t=e.useState()[0];return t=typeof t.then=="function"?vo(t):t,e=e.useState()[0],(he!==null?he.memoizedState:null)!==e&&(W.flags|=1024),t}function ec(){var e=_s!==0;return _s=0,e}function tc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function nc(e){if(ws){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ws=!1}nn=0,Re=he=W=null,zi=!1,io=_s=0,Hi=null}function Ke(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?W.memoizedState=Re=e:Re=Re.next=e,Re}function _e(){if(he===null){var e=W.alternate;e=e!==null?e.memoizedState:null}else e=he.next;var t=Re===null?W.memoizedState:Re.next;if(t!==null)Re=t,he=e;else{if(e===null)throw W.alternate===null?Error(M(467)):Error(M(310));he=e,e={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},Re===null?W.memoizedState=Re=e:Re=Re.next=e}return Re}function il(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vo(e){var t=io;return io+=1,Hi===null&&(Hi=[]),e=up(Hi,e,t),t=W,(Re===null?t.memoizedState:Re.next)===null&&(t=t.alternate,F.H=t===null||t.memoizedState===null?Jp:cc),e}function al(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return vo(e);if(e.$$typeof===Qt)return Je(e)}throw Error(M(438,String(e)))}function ic(e){var t=null,n=W.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=W.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(a){return a.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=il(),W.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=Hx;return t.index++,n}function an(e,t){return typeof t=="function"?t(e):t}function ns(e){var t=_e();return ac(t,he,e)}function ac(e,t,n){var i=e.queue;if(i===null)throw Error(M(311));i.lastRenderedReducer=n;var a=e.baseQueue,o=i.pending;if(o!==null){if(a!==null){var s=a.next;a.next=o.next,o.next=s}t.baseQueue=a=o,i.pending=null}if(o=e.baseState,a===null)e.memoizedState=o;else{t=a.next;var u=s=null,d=null,f=t,m=!1;do{var p=f.lane&-536870913;if(p!==f.lane?(oe&p)===p:(nn&p)===p){var h=f.revertLane;if(h===0)d!==null&&(d=d.next={lane:0,revertLane:0,gesture:null,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),p===Xi&&(m=!0);else if((nn&h)===h){f=f.next,h===Xi&&(m=!0);continue}else p={lane:0,revertLane:f.revertLane,gesture:null,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},d===null?(u=d=p,s=o):d=d.next=p,W.lanes|=h,qn|=h;p=f.action,ii&&n(o,p),o=f.hasEagerState?f.eagerState:n(o,p)}else h={lane:p,revertLane:f.revertLane,gesture:f.gesture,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},d===null?(u=d=h,s=o):d=d.next=h,W.lanes|=p,qn|=p;f=f.next}while(f!==null&&f!==t);if(d===null?s=o:d.next=u,!ht(o,e.memoizedState)&&(De=!0,m&&(n=Gi,n!==null)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=d,i.lastRenderedState=o}return a===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function $l(e){var t=_e(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var i=n.dispatch,a=n.pending,o=t.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do o=e(o,s.action),s=s.next;while(s!==a);ht(o,t.memoizedState)||(De=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function yp(e,t,n){var i=W,a=_e(),o=se;if(o){if(n===void 0)throw Error(M(407));n=n()}else n=t();var s=!ht((he||a).memoizedState,n);if(s&&(a.memoizedState=n,De=!0),a=a.queue,oc(Sp.bind(null,i,a,e),[e]),a.getSnapshot!==t||s||Re!==null&&Re.memoizedState.tag&1){if(i.flags|=2048,Zi(9,{destroy:void 0},vp.bind(null,i,a,n,t),null),pe===null)throw Error(M(349));o||nn&127||xp(i,t,n)}return n}function xp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=W.updateQueue,t===null?(t=il(),W.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function vp(e,t,n,i){t.value=n,t.getSnapshot=i,bp(t)&&Ep(e)}function Sp(e,t,n){return n(function(){bp(t)&&Ep(e)})}function bp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ht(e,n)}catch{return!0}}function Ep(e){var t=ci(e,2);t!==null&&it(t,e,2)}function Fr(e){var t=Ke();if(typeof e=="function"){var n=e;if(e=n(),ii){yn(!0);try{n()}finally{yn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:e},t}function Tp(e,t,n,i){return e.baseState=n,ac(e,he,typeof i=="function"?i:an)}function av(e,t,n,i,a){if(sl(e))throw Error(M(485));if(e=t.action,e!==null){var o={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){o.listeners.push(s)}};F.T!==null?n(!0):o.isTransition=!1,i(o),n=t.pending,n===null?(o.next=t.pending=o,Np(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Np(e,t){var n=t.action,i=t.payload,a=e.state;if(t.isTransition){var o=F.T,s={};F.T=s;try{var u=n(a,i),d=F.S;d!==null&&d(s,u),_d(e,t,u)}catch(f){Kr(e,t,f)}finally{o!==null&&s.types!==null&&(o.types=s.types),F.T=o}}else try{o=n(a,i),_d(e,t,o)}catch(f){Kr(e,t,f)}}function _d(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Md(e,t,i)},function(i){return Kr(e,t,i)}):Md(e,t,n)}function Md(e,t,n){t.status="fulfilled",t.value=n,Ap(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Np(e,n)))}function Kr(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,Ap(t),t=t.next;while(t!==i)}e.action=null}function Ap(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Cp(e,t){return t}function Rd(e,t){if(se){var n=pe.formState;if(n!==null){e:{var i=W;if(se){if(Se){t:{for(var a=Se,o=Nt;a.nodeType!==8;){if(!o){a=null;break t}if(a=Ct(a.nextSibling),a===null){a=null;break t}}o=a.data,a=o==="F!"||o==="F"?a:null}if(a){Se=Ct(a.nextSibling),i=a.data==="F!";break e}}kn(i)}i=!1}i&&(t=n[0])}}return n=Ke(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cp,lastRenderedState:t},n.queue=i,n=Hp.bind(null,W,i),i.dispatch=n,i=Fr(!1),o=uc.bind(null,W,!1,i.queue),i=Ke(),a={state:t,dispatch:null,action:e,pending:null},i.queue=a,n=av.bind(null,W,a,o,n),a.dispatch=n,i.memoizedState=e,[t,n,!1]}function Id(e){var t=_e();return wp(t,he,e)}function wp(e,t,n){if(t=ac(e,t,Cp)[0],e=ns(an)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=vo(t)}catch(s){throw s===ra?nl:s}else i=t;t=_e();var a=t.queue,o=a.dispatch;return n!==t.memoizedState&&(W.flags|=2048,Zi(9,{destroy:void 0},ov.bind(null,a,n),null)),[i,o,e]}function ov(e,t){e.action=t}function kd(e){var t=_e(),n=he;if(n!==null)return wp(t,n,e);_e(),t=t.memoizedState,n=_e();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Zi(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=W.updateQueue,t===null&&(t=il(),W.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function _p(){return _e().memoizedState}function is(e,t,n,i){var a=Ke();W.flags|=e,a.memoizedState=Zi(1|t,{destroy:void 0},n,i===void 0?null:i)}function ol(e,t,n,i){var a=_e();i=i===void 0?null:i;var o=a.memoizedState.inst;he!==null&&i!==null&&Zu(i,he.memoizedState.deps)?a.memoizedState=Zi(t,o,n,i):(W.flags|=e,a.memoizedState=Zi(1|t,o,n,i))}function Dd(e,t){is(8390656,8,e,t)}function oc(e,t){ol(2048,8,e,t)}function sv(e){W.flags|=4;var t=W.updateQueue;if(t===null)t=il(),W.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Mp(e){var t=_e().memoizedState;return sv({ref:t,nextImpl:e}),function(){if(re&2)throw Error(M(440));return t.impl.apply(void 0,arguments)}}function Rp(e,t){return ol(4,2,e,t)}function Ip(e,t){return ol(4,4,e,t)}function kp(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Dp(e,t,n){n=n!=null?n.concat([e]):null,ol(4,4,kp.bind(null,t,e),n)}function sc(){}function qp(e,t){var n=_e();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&Zu(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Up(e,t){var n=_e();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&Zu(t,i[1]))return i[0];if(i=e(),ii){yn(!0);try{e()}finally{yn(!1)}}return n.memoizedState=[i,t],i}function lc(e,t,n){return n===void 0||nn&1073741824&&!(oe&261930)?e.memoizedState=t:(e.memoizedState=n,e=Tg(),W.lanes|=e,qn|=e,n)}function Lp(e,t,n,i){return ht(n,t)?n:$i.current!==null?(e=lc(e,n,i),ht(e,t)||(De=!0),e):!(nn&42)||nn&1073741824&&!(oe&261930)?(De=!0,e.memoizedState=n):(e=Tg(),W.lanes|=e,qn|=e,t)}function jp(e,t,n,i,a){var o=ue.p;ue.p=o!==0&&8>o?o:8;var s=F.T,u={};F.T=u,uc(e,!1,t,n);try{var d=a(),f=F.S;if(f!==null&&f(u,d),d!==null&&typeof d=="object"&&typeof d.then=="function"){var m=tv(d,i);Ba(e,t,m,mt(e))}else Ba(e,t,i,mt(e))}catch(p){Ba(e,t,{then:function(){},status:"rejected",reason:p},mt())}finally{ue.p=o,s!==null&&u.types!==null&&(s.types=u.types),F.T=s}}function lv(){}function Qr(e,t,n,i){if(e.tag!==5)throw Error(M(476));var a=Vp(e).queue;jp(e,a,t,Qn,n===null?lv:function(){return Gp(e),n(i)})}function Vp(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Qn,baseState:Qn,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:Qn},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Gp(e){var t=Vp(e);t.next===null&&(t=e.alternate.memoizedState),Ba(e,t.next.queue,{},mt())}function rc(){return Je(lo)}function Pp(){return _e().memoizedState}function zp(){return _e().memoizedState}function rv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=mt();e=Nn(n);var i=An(t,e,n);i!==null&&(it(i,t,n),Pa(i,t,n)),t={cache:Fu()},e.payload=t;return}t=t.return}}function uv(e,t,n){var i=mt();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},sl(e)?Bp(t,n):(n=Bu(e,t,n,i),n!==null&&(it(n,e,i),Op(n,t,i)))}function Hp(e,t,n){var i=mt();Ba(e,t,n,i)}function Ba(e,t,n,i){var a={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(sl(e))Bp(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,u=o(s,n);if(a.hasEagerState=!0,a.eagerState=u,ht(u,s))return tl(e,t,a,0),pe===null&&el(),!1}catch{}finally{}if(n=Bu(e,t,a,i),n!==null)return it(n,e,i),Op(n,t,i),!0}return!1}function uc(e,t,n,i){if(i={lane:2,revertLane:xc(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},sl(e)){if(t)throw Error(M(479))}else t=Bu(e,n,i,2),t!==null&&it(t,e,2)}function sl(e){var t=e.alternate;return e===W||t!==null&&t===W}function Bp(e,t){zi=ws=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Op(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Mh(e,n)}}var ao={readContext:Je,use:al,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useLayoutEffect:Ae,useInsertionEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useSyncExternalStore:Ae,useId:Ae,useHostTransitionStatus:Ae,useFormState:Ae,useActionState:Ae,useOptimistic:Ae,useMemoCache:Ae,useCacheRefresh:Ae};ao.useEffectEvent=Ae;var Jp={readContext:Je,use:al,useCallback:function(e,t){return Ke().memoizedState=[e,t===void 0?null:t],e},useContext:Je,useEffect:Dd,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,is(4194308,4,kp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return is(4194308,4,e,t)},useInsertionEffect:function(e,t){is(4,2,e,t)},useMemo:function(e,t){var n=Ke();t=t===void 0?null:t;var i=e();if(ii){yn(!0);try{e()}finally{yn(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=Ke();if(n!==void 0){var a=n(t);if(ii){yn(!0);try{n(t)}finally{yn(!1)}}}else a=t;return i.memoizedState=i.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},i.queue=e,e=e.dispatch=uv.bind(null,W,e),[i.memoizedState,e]},useRef:function(e){var t=Ke();return e={current:e},t.memoizedState=e},useState:function(e){e=Fr(e);var t=e.queue,n=Hp.bind(null,W,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:sc,useDeferredValue:function(e,t){var n=Ke();return lc(n,e,t)},useTransition:function(){var e=Fr(!1);return e=jp.bind(null,W,e.queue,!0,!1),Ke().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=W,a=Ke();if(se){if(n===void 0)throw Error(M(407));n=n()}else{if(n=t(),pe===null)throw Error(M(349));oe&127||xp(i,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,Dd(Sp.bind(null,i,o,e),[e]),i.flags|=2048,Zi(9,{destroy:void 0},vp.bind(null,i,o,n,t),null),n},useId:function(){var e=Ke(),t=pe.identifierPrefix;if(se){var n=Ut,i=qt;n=(i&~(1<<32-ft(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=_s++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=nv++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:rc,useFormState:Rd,useActionState:Rd,useOptimistic:function(e){var t=Ke();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=uc.bind(null,W,!0,n),n.dispatch=t,[e,t]},useMemoCache:ic,useCacheRefresh:function(){return Ke().memoizedState=rv.bind(null,W)},useEffectEvent:function(e){var t=Ke(),n={impl:e};return t.memoizedState=n,function(){if(re&2)throw Error(M(440));return n.impl.apply(void 0,arguments)}}},cc={readContext:Je,use:al,useCallback:qp,useContext:Je,useEffect:oc,useImperativeHandle:Dp,useInsertionEffect:Rp,useLayoutEffect:Ip,useMemo:Up,useReducer:ns,useRef:_p,useState:function(){return ns(an)},useDebugValue:sc,useDeferredValue:function(e,t){var n=_e();return Lp(n,he.memoizedState,e,t)},useTransition:function(){var e=ns(an)[0],t=_e().memoizedState;return[typeof e=="boolean"?e:vo(e),t]},useSyncExternalStore:yp,useId:Pp,useHostTransitionStatus:rc,useFormState:Id,useActionState:Id,useOptimistic:function(e,t){var n=_e();return Tp(n,he,e,t)},useMemoCache:ic,useCacheRefresh:zp};cc.useEffectEvent=Mp;var Yp={readContext:Je,use:al,useCallback:qp,useContext:Je,useEffect:oc,useImperativeHandle:Dp,useInsertionEffect:Rp,useLayoutEffect:Ip,useMemo:Up,useReducer:$l,useRef:_p,useState:function(){return $l(an)},useDebugValue:sc,useDeferredValue:function(e,t){var n=_e();return he===null?lc(n,e,t):Lp(n,he.memoizedState,e,t)},useTransition:function(){var e=$l(an)[0],t=_e().memoizedState;return[typeof e=="boolean"?e:vo(e),t]},useSyncExternalStore:yp,useId:Pp,useHostTransitionStatus:rc,useFormState:kd,useActionState:kd,useOptimistic:function(e,t){var n=_e();return he!==null?Tp(n,he,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ic,useCacheRefresh:zp};Yp.useEffectEvent=Mp;function Zl(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Te({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Xr={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=mt(),a=Nn(i);a.payload=t,n!=null&&(a.callback=n),t=An(e,a,i),t!==null&&(it(t,e,i),Pa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=mt(),a=Nn(i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=An(e,a,i),t!==null&&(it(t,e,i),Pa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=mt(),i=Nn(n);i.tag=2,t!=null&&(i.callback=t),t=An(e,i,n),t!==null&&(it(t,e,n),Pa(t,e,n))}};function qd(e,t,n,i,a,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,o,s):t.prototype&&t.prototype.isPureReactComponent?!Wa(n,i)||!Wa(a,o):!0}function Ud(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Xr.enqueueReplaceState(t,t.state,null)}function ai(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=Te({},n));for(var a in e)n[a]===void 0&&(n[a]=e[a])}return n}function Fp(e){Ss(e)}function Kp(e){console.error(e)}function Qp(e){Ss(e)}function Ms(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Ld(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function $r(e,t,n){return n=Nn(n),n.tag=3,n.payload={element:null},n.callback=function(){Ms(e,t)},n}function Xp(e){return e=Nn(e),e.tag=3,e}function $p(e,t,n,i){var a=n.type.getDerivedStateFromError;if(typeof a=="function"){var o=i.value;e.payload=function(){return a(o)},e.callback=function(){Ld(t,n,i)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){Ld(t,n,i),typeof a!="function"&&(Cn===null?Cn=new Set([this]):Cn.add(this));var u=i.stack;this.componentDidCatch(i.value,{componentStack:u!==null?u:""})})}function cv(e,t,n,i,a){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&la(t,n,a,!0),n=pt.current,n!==null){switch(n.tag){case 31:case 13:return At===null?qs():n.alternate===null&&Ce===0&&(Ce=3),n.flags&=-257,n.flags|=65536,n.lanes=a,i===Ns?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),ur(e,i,a)),!1;case 22:return n.flags|=65536,i===Ns?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),ur(e,i,a)),!1}throw Error(M(435,n.tag))}return ur(e,i,a),qs(),!1}if(se)return t=pt.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,i!==Vr&&(e=Error(M(422),{cause:i}),to(Tt(e,n)))):(i!==Vr&&(t=Error(M(423),{cause:i}),to(Tt(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,i=Tt(i,n),a=$r(e.stateNode,i,a),Xl(e,a),Ce!==4&&(Ce=2)),!1;var o=Error(M(520),{cause:i});if(o=Tt(o,n),Ya===null?Ya=[o]:Ya.push(o),Ce!==4&&(Ce=2),t===null)return!0;i=Tt(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=$r(n.stateNode,i,e),Xl(n,e),!1;case 1:if(t=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Cn===null||!Cn.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,a=Xp(a),$p(a,e,n,i),Xl(n,a),!1}n=n.return}while(n!==null);return!1}var dc=Error(M(461)),De=!1;function He(e,t,n,i){t.child=e===null?dp(t,null,n,i):ni(t,e.child,n,i)}function jd(e,t,n,i,a){n=n.render;var o=t.ref;if("ref"in i){var s={};for(var u in i)u!=="ref"&&(s[u]=i[u])}else s=i;return ti(t),i=Wu(e,t,n,s,o,a),u=ec(),e!==null&&!De?(tc(e,t,a),on(e,t,a)):(se&&u&&Ju(t),t.flags|=1,He(e,t,i,a),t.child)}function Vd(e,t,n,i,a){if(e===null){var o=n.type;return typeof o=="function"&&!Ou(o)&&o.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=o,Zp(e,t,o,i,a)):(e=es(n.type,null,i,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!fc(e,a)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Wa,n(s,i)&&e.ref===t.ref)return on(e,t,a)}return t.flags|=1,e=Zt(o,i),e.ref=t.ref,e.return=t,t.child=e}function Zp(e,t,n,i,a){if(e!==null){var o=e.memoizedProps;if(Wa(o,i)&&e.ref===t.ref)if(De=!1,t.pendingProps=i=o,fc(e,a))e.flags&131072&&(De=!0);else return t.lanes=e.lanes,on(e,t,a)}return Zr(e,t,n,i,a)}function Wp(e,t,n,i){var a=i.children,o=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(t.flags&128){if(o=o!==null?o.baseLanes|n:n,e!==null){for(i=t.child=e.child,a=0;i!==null;)a=a|i.lanes|i.childLanes,i=i.sibling;i=a&~o}else i=0,t.child=null;return Gd(e,t,o,n,i)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ts(t,o!==null?o.cachePool:null),o!==null?wd(t,o):Jr(),hp(t);else return i=t.lanes=536870912,Gd(e,t,o!==null?o.baseLanes|n:n,n,i)}else o!==null?(ts(t,o.cachePool),wd(t,o),pn(),t.memoizedState=null):(e!==null&&ts(t,null),Jr(),pn());return He(e,t,a,n),t.child}function ka(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Gd(e,t,n,i,a){var o=Ku();return o=o===null?null:{parent:ke._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},e!==null&&ts(t,null),Jr(),hp(t),e!==null&&la(e,t,i,!0),t.childLanes=a,null}function as(e,t){return t=Rs({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Pd(e,t,n){return ni(t,e.child,null,n),e=as(t,t.pendingProps),e.flags|=2,lt(t),t.memoizedState=null,e}function dv(e,t,n){var i=t.pendingProps,a=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(se){if(i.mode==="hidden")return e=as(t,i),t.lanes=536870912,ka(null,e);if(Yr(t),(e=Se)?(e=Jg(e,Nt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:In!==null?{id:qt,overflow:Ut}:null,retryLane:536870912,hydrationErrors:null},n=ap(e),n.return=t,t.child=n,Oe=t,Se=null)):e=null,e===null)throw kn(t);return t.lanes=536870912,null}return as(t,i)}var o=e.memoizedState;if(o!==null){var s=o.dehydrated;if(Yr(t),a)if(t.flags&256)t.flags&=-257,t=Pd(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(M(558));else if(De||la(e,t,n,!1),a=(n&e.childLanes)!==0,De||a){if(i=pe,i!==null&&(s=Rh(i,n),s!==0&&s!==o.retryLane))throw o.retryLane=s,ci(e,s),it(i,e,s),dc;qs(),t=Pd(e,t,n)}else e=o.treeContext,Se=Ct(s.nextSibling),Oe=t,se=!0,Tn=null,Nt=!1,e!==null&&sp(t,e),t=as(t,i),t.flags|=4096;return t}return e=Zt(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function os(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(M(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Zr(e,t,n,i,a){return ti(t),n=Wu(e,t,n,i,void 0,a),i=ec(),e!==null&&!De?(tc(e,t,a),on(e,t,a)):(se&&i&&Ju(t),t.flags|=1,He(e,t,n,a),t.child)}function zd(e,t,n,i,a,o){return ti(t),t.updateQueue=null,n=gp(t,i,n,a),pp(e),i=ec(),e!==null&&!De?(tc(e,t,o),on(e,t,o)):(se&&i&&Ju(t),t.flags|=1,He(e,t,n,o),t.child)}function Hd(e,t,n,i,a){if(ti(t),t.stateNode===null){var o=Ii,s=n.contextType;typeof s=="object"&&s!==null&&(o=Je(s)),o=new n(i,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Xr,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=i,o.state=t.memoizedState,o.refs={},Xu(t),s=n.contextType,o.context=typeof s=="object"&&s!==null?Je(s):Ii,o.state=t.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(Zl(t,n,s,i),o.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(s=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),s!==o.state&&Xr.enqueueReplaceState(o,o.state,null),Ha(t,i,o,a),za(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){o=t.stateNode;var u=t.memoizedProps,d=ai(n,u);o.props=d;var f=o.context,m=n.contextType;s=Ii,typeof m=="object"&&m!==null&&(s=Je(m));var p=n.getDerivedStateFromProps;m=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function",u=t.pendingProps!==u,m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u||f!==s)&&Ud(t,o,i,s),fn=!1;var h=t.memoizedState;o.state=h,Ha(t,i,o,a),za(),f=t.memoizedState,u||h!==f||fn?(typeof p=="function"&&(Zl(t,n,p,i),f=t.memoizedState),(d=fn||qd(t,n,d,i,h,f,s))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=f),o.props=i,o.state=f,o.context=s,i=d):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,Br(e,t),s=t.memoizedProps,m=ai(n,s),o.props=m,p=t.pendingProps,h=o.context,f=n.contextType,d=Ii,typeof f=="object"&&f!==null&&(d=Je(f)),u=n.getDerivedStateFromProps,(f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==p||h!==d)&&Ud(t,o,i,d),fn=!1,h=t.memoizedState,o.state=h,Ha(t,i,o,a),za();var g=t.memoizedState;s!==p||h!==g||fn||e!==null&&e.dependencies!==null&&Ts(e.dependencies)?(typeof u=="function"&&(Zl(t,n,u,i),g=t.memoizedState),(m=fn||qd(t,n,m,i,h,g,d)||e!==null&&e.dependencies!==null&&Ts(e.dependencies))?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,g,d),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,g,d)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=g),o.props=i,o.state=g,o.context=d,i=m):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),i=!1)}return o=i,os(e,t),i=(t.flags&128)!==0,o||i?(o=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&i?(t.child=ni(t,e.child,null,a),t.child=ni(t,null,n,a)):He(e,t,n,a),t.memoizedState=o.state,e=t.child):e=on(e,t,a),e}function Bd(e,t,n,i){return ei(),t.flags|=256,He(e,t,n,i),t.child}var Wl={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function er(e){return{baseLanes:e,cachePool:rp()}}function tr(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=ut),e}function eg(e,t,n){var i=t.pendingProps,a=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(we.current&2)!==0),s&&(a=!0,t.flags&=-129),s=(t.flags&32)!==0,t.flags&=-33,e===null){if(se){if(a?hn(t):pn(),(e=Se)?(e=Jg(e,Nt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:In!==null?{id:qt,overflow:Ut}:null,retryLane:536870912,hydrationErrors:null},n=ap(e),n.return=t,t.child=n,Oe=t,Se=null)):e=null,e===null)throw kn(t);return fu(e)?t.lanes=32:t.lanes=536870912,null}var u=i.children;return i=i.fallback,a?(pn(),a=t.mode,u=Rs({mode:"hidden",children:u},a),i=Xn(i,a,n,null),u.return=t,i.return=t,u.sibling=i,t.child=u,i=t.child,i.memoizedState=er(n),i.childLanes=tr(e,s,n),t.memoizedState=Wl,ka(null,i)):(hn(t),Wr(t,u))}var d=e.memoizedState;if(d!==null&&(u=d.dehydrated,u!==null)){if(o)t.flags&256?(hn(t),t.flags&=-257,t=nr(e,t,n)):t.memoizedState!==null?(pn(),t.child=e.child,t.flags|=128,t=null):(pn(),u=i.fallback,a=t.mode,i=Rs({mode:"visible",children:i.children},a),u=Xn(u,a,n,null),u.flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,ni(t,e.child,null,n),i=t.child,i.memoizedState=er(n),i.childLanes=tr(e,s,n),t.memoizedState=Wl,t=ka(null,i));else if(hn(t),fu(u)){if(s=u.nextSibling&&u.nextSibling.dataset,s)var f=s.dgst;s=f,i=Error(M(419)),i.stack="",i.digest=s,to({value:i,source:null,stack:null}),t=nr(e,t,n)}else if(De||la(e,t,n,!1),s=(n&e.childLanes)!==0,De||s){if(s=pe,s!==null&&(i=Rh(s,n),i!==0&&i!==d.retryLane))throw d.retryLane=i,ci(e,i),it(s,e,i),dc;du(u)||qs(),t=nr(e,t,n)}else du(u)?(t.flags|=192,t.child=e.child,t=null):(e=d.treeContext,Se=Ct(u.nextSibling),Oe=t,se=!0,Tn=null,Nt=!1,e!==null&&sp(t,e),t=Wr(t,i.children),t.flags|=4096);return t}return a?(pn(),u=i.fallback,a=t.mode,d=e.child,f=d.sibling,i=Zt(d,{mode:"hidden",children:i.children}),i.subtreeFlags=d.subtreeFlags&65011712,f!==null?u=Zt(f,u):(u=Xn(u,a,n,null),u.flags|=2),u.return=t,i.return=t,i.sibling=u,t.child=i,ka(null,i),i=t.child,u=e.child.memoizedState,u===null?u=er(n):(a=u.cachePool,a!==null?(d=ke._currentValue,a=a.parent!==d?{parent:d,pool:d}:a):a=rp(),u={baseLanes:u.baseLanes|n,cachePool:a}),i.memoizedState=u,i.childLanes=tr(e,s,n),t.memoizedState=Wl,ka(e.child,i)):(hn(t),n=e.child,e=n.sibling,n=Zt(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function Wr(e,t){return t=Rs({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Rs(e,t){return e=rt(22,e,null,t),e.lanes=0,e}function nr(e,t,n){return ni(t,e.child,null,n),e=Wr(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Od(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Pr(e.return,t,n)}function ir(e,t,n,i,a,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:a,treeForkCount:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=a,s.treeForkCount=o)}function tg(e,t,n){var i=t.pendingProps,a=i.revealOrder,o=i.tail;i=i.children;var s=we.current,u=(s&2)!==0;if(u?(s=s&1|2,t.flags|=128):s&=1,ye(we,s),He(e,t,i,n),i=se?eo:0,!u&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Od(e,n,t);else if(e.tag===19)Od(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Cs(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),ir(t,!1,a,n,o,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Cs(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}ir(t,!0,n,null,o,i);break;case"together":ir(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function on(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),qn|=t.lanes,!(n&t.childLanes))if(e!==null){if(la(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,n=Zt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Zt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function fc(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Ts(e)))}function fv(e,t,n){switch(t.tag){case 3:gs(t,t.stateNode.containerInfo),mn(t,ke,e.memoizedState.cache),ei();break;case 27:case 5:wr(t);break;case 4:gs(t,t.stateNode.containerInfo);break;case 10:mn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Yr(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(hn(t),t.flags|=128,null):n&t.child.childLanes?eg(e,t,n):(hn(t),e=on(e,t,n),e!==null?e.sibling:null);hn(t);break;case 19:var a=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(la(e,t,n,!1),i=(n&t.childLanes)!==0),a){if(i)return tg(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ye(we,we.current),i)break;return null;case 22:return t.lanes=0,Wp(e,t,n,t.pendingProps);case 24:mn(t,ke,e.memoizedState.cache)}return on(e,t,n)}function ng(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)De=!0;else{if(!fc(e,n)&&!(t.flags&128))return De=!1,fv(e,t,n);De=!!(e.flags&131072)}else De=!1,se&&t.flags&1048576&&op(t,eo,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=Fn(t.elementType),t.type=e,typeof e=="function")Ou(e)?(i=ai(e,i),t.tag=1,t=Hd(null,t,e,i,n)):(t.tag=0,t=Zr(null,t,e,i,n));else{if(e!=null){var a=e.$$typeof;if(a===Ru){t.tag=11,t=jd(null,t,e,i,n);break e}else if(a===Iu){t.tag=14,t=Vd(null,t,e,i,n);break e}}throw t=Ar(e)||e,Error(M(306,t,""))}}return t;case 0:return Zr(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,a=ai(i,t.pendingProps),Hd(e,t,i,a,n);case 3:e:{if(gs(t,t.stateNode.containerInfo),e===null)throw Error(M(387));i=t.pendingProps;var o=t.memoizedState;a=o.element,Br(e,t),Ha(t,i,null,n);var s=t.memoizedState;if(i=s.cache,mn(t,ke,i),i!==o.cache&&zr(t,[ke],n,!0),za(),i=s.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=Bd(e,t,i,n);break e}else if(i!==a){a=Tt(Error(M(424)),t),to(a),t=Bd(e,t,i,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Se=Ct(e.firstChild),Oe=t,se=!0,Tn=null,Nt=!0,n=dp(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ei(),i===a){t=on(e,t,n);break e}He(e,t,i,n)}t=t.child}return t;case 26:return os(e,t),e===null?(n=df(t.type,null,t.pendingProps,null))?t.memoizedState=n:se||(n=t.type,e=t.pendingProps,i=Vs(En.current).createElement(n),i[Be]=t,i[at]=e,Ye(i,n,e),Pe(i),t.stateNode=i):t.memoizedState=df(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return wr(t),e===null&&se&&(i=t.stateNode=Yg(t.type,t.pendingProps,En.current),Oe=t,Nt=!0,a=Se,Gn(t.type)?(mu=a,Se=Ct(i.firstChild)):Se=a),He(e,t,t.pendingProps.children,n),os(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&se&&((a=i=Se)&&(i=Hv(i,t.type,t.pendingProps,Nt),i!==null?(t.stateNode=i,Oe=t,Se=Ct(i.firstChild),Nt=!1,a=!0):a=!1),a||kn(t)),wr(t),a=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,i=o.children,uu(a,o)?i=null:s!==null&&uu(a,s)&&(t.flags|=32),t.memoizedState!==null&&(a=Wu(e,t,iv,null,null,n),lo._currentValue=a),os(e,t),He(e,t,i,n),t.child;case 6:return e===null&&se&&((e=n=Se)&&(n=Bv(n,t.pendingProps,Nt),n!==null?(t.stateNode=n,Oe=t,Se=null,e=!0):e=!1),e||kn(t)),null;case 13:return eg(e,t,n);case 4:return gs(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=ni(t,null,i,n):He(e,t,i,n),t.child;case 11:return jd(e,t,t.type,t.pendingProps,n);case 7:return He(e,t,t.pendingProps,n),t.child;case 8:return He(e,t,t.pendingProps.children,n),t.child;case 12:return He(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,mn(t,t.type,i.value),He(e,t,i.children,n),t.child;case 9:return a=t.type._context,i=t.pendingProps.children,ti(t),a=Je(a),i=i(a),t.flags|=1,He(e,t,i,n),t.child;case 14:return Vd(e,t,t.type,t.pendingProps,n);case 15:return Zp(e,t,t.type,t.pendingProps,n);case 19:return tg(e,t,n);case 31:return dv(e,t,n);case 22:return Wp(e,t,n,t.pendingProps);case 24:return ti(t),i=Je(ke),e===null?(a=Ku(),a===null&&(a=pe,o=Fu(),a.pooledCache=o,o.refCount++,o!==null&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:i,cache:a},Xu(t),mn(t,ke,a)):(e.lanes&n&&(Br(e,t),Ha(t,null,null,n),za()),a=e.memoizedState,o=t.memoizedState,a.parent!==i?(a={parent:i,cache:i},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),mn(t,ke,i)):(i=o.cache,mn(t,ke,i),i!==a.cache&&zr(t,[ke],n,!0))),He(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(M(156,t.tag))}function Bt(e){e.flags|=4}function ar(e,t,n,i,a){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(a&335544128)===a)if(e.stateNode.complete)e.flags|=8192;else if(Cg())e.flags|=8192;else throw Zn=Ns,Qu}else e.flags&=-16777217}function Jd(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Qg(t))if(Cg())e.flags|=8192;else throw Zn=Ns,Qu}function Go(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?wh():536870912,e.lanes|=t,Wi|=t)}function Na(e,t){if(!se)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags&65011712,i|=a.flags&65011712,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags,i|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function mv(e,t,n){var i=t.pendingProps;switch(Yu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xe(t),null;case 1:return xe(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Wt(ke),Fi(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(xi(t)?Bt(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ql())),xe(t),null;case 26:var a=t.type,o=t.memoizedState;return e===null?(Bt(t),o!==null?(xe(t),Jd(t,o)):(xe(t),ar(t,a,null,i,n))):o?o!==e.memoizedState?(Bt(t),xe(t),Jd(t,o)):(xe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&Bt(t),xe(t),ar(t,a,e,i,n)),null;case 27:if(ys(t),n=En.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Bt(t);else{if(!i){if(t.stateNode===null)throw Error(M(166));return xe(t),null}e=jt.current,xi(t)?Sd(t):(e=Yg(a,i,n),t.stateNode=e,Bt(t))}return xe(t),null;case 5:if(ys(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Bt(t);else{if(!i){if(t.stateNode===null)throw Error(M(166));return xe(t),null}if(o=jt.current,xi(t))Sd(t);else{var s=Vs(En.current);switch(o){case 1:o=s.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:o=s.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":o=s.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":o=s.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":o=s.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof i.is=="string"?s.createElement("select",{is:i.is}):s.createElement("select"),i.multiple?o.multiple=!0:i.size&&(o.size=i.size);break;default:o=typeof i.is=="string"?s.createElement(a,{is:i.is}):s.createElement(a)}}o[Be]=t,o[at]=i;e:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)o.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=o;e:switch(Ye(o,a,i),a){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Bt(t)}}return xe(t),ar(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&Bt(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(M(166));if(e=En.current,xi(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,a=Oe,a!==null)switch(a.tag){case 27:case 5:i=a.memoizedProps}e[Be]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||Hg(e.nodeValue,n)),e||kn(t,!0)}else e=Vs(e).createTextNode(i),e[Be]=t,t.stateNode=e}return xe(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=xi(t),n!==null){if(e===null){if(!i)throw Error(M(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(557));e[Be]=t}else ei(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xe(t),e=!1}else n=Ql(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(lt(t),t):(lt(t),null);if(t.flags&128)throw Error(M(558))}return xe(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=xi(t),i!==null&&i.dehydrated!==null){if(e===null){if(!a)throw Error(M(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(M(317));a[Be]=t}else ei(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xe(t),a=!1}else a=Ql(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(lt(t),t):(lt(t),null)}return lt(t),t.flags&128?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,a=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(a=i.alternate.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Go(t,t.updateQueue),xe(t),null);case 4:return Fi(),e===null&&vc(t.stateNode.containerInfo),xe(t),null;case 10:return Wt(t.type),xe(t),null;case 19:if(ze(we),i=t.memoizedState,i===null)return xe(t),null;if(a=(t.flags&128)!==0,o=i.rendering,o===null)if(a)Na(i,!1);else{if(Ce!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Cs(e),o!==null){for(t.flags|=128,Na(i,!1),e=o.updateQueue,t.updateQueue=e,Go(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)ip(n,e),n=n.sibling;return ye(we,we.current&1|2),se&&Ft(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&ct()>ks&&(t.flags|=128,a=!0,Na(i,!1),t.lanes=4194304)}else{if(!a)if(e=Cs(o),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Go(t,e),Na(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!se)return xe(t),null}else 2*ct()-i.renderingStartTime>ks&&n!==536870912&&(t.flags|=128,a=!0,Na(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(e=i.last,e!==null?e.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ct(),e.sibling=null,n=we.current,ye(we,a?n&1|2:n&1),se&&Ft(t,i.treeForkCount),e):(xe(t),null);case 22:case 23:return lt(t),$u(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(xe(t),t.subtreeFlags&6&&(t.flags|=8192)):xe(t),n=t.updateQueue,n!==null&&Go(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&ze($n),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Wt(ke),xe(t),null;case 25:return null;case 30:return null}throw Error(M(156,t.tag))}function hv(e,t){switch(Yu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Wt(ke),Fi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ys(t),null;case 31:if(t.memoizedState!==null){if(lt(t),t.alternate===null)throw Error(M(340));ei()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(lt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));ei()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ze(we),null;case 4:return Fi(),null;case 10:return Wt(t.type),null;case 22:case 23:return lt(t),$u(),e!==null&&ze($n),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Wt(ke),null;case 25:return null;default:return null}}function ig(e,t){switch(Yu(t),t.tag){case 3:Wt(ke),Fi();break;case 26:case 27:case 5:ys(t);break;case 4:Fi();break;case 31:t.memoizedState!==null&&lt(t);break;case 13:lt(t);break;case 19:ze(we);break;case 10:Wt(t.type);break;case 22:case 23:lt(t),$u(),e!==null&&ze($n);break;case 24:Wt(ke)}}function So(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var a=i.next;n=a;do{if((n.tag&e)===e){i=void 0;var o=n.create,s=n.inst;i=o(),s.destroy=i}n=n.next}while(n!==a)}}catch(u){de(t,t.return,u)}}function Dn(e,t,n){try{var i=t.updateQueue,a=i!==null?i.lastEffect:null;if(a!==null){var o=a.next;i=o;do{if((i.tag&e)===e){var s=i.inst,u=s.destroy;if(u!==void 0){s.destroy=void 0,a=t;var d=n,f=u;try{f()}catch(m){de(a,d,m)}}}i=i.next}while(i!==o)}}catch(m){de(t,t.return,m)}}function ag(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{mp(t,n)}catch(i){de(e,e.return,i)}}}function og(e,t,n){n.props=ai(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){de(e,t,i)}}function Oa(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(a){de(e,t,a)}}function Lt(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(a){de(e,t,a)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(a){de(e,t,a)}else n.current=null}function sg(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(a){de(e,e.return,a)}}function or(e,t,n){try{var i=e.stateNode;Lv(i,e.type,n,t),i[at]=t}catch(a){de(e,e.return,a)}}function lg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Gn(e.type)||e.tag===4}function sr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Gn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function eu(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Xt));else if(i!==4&&(i===27&&Gn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(eu(e,t,n),e=e.sibling;e!==null;)eu(e,t,n),e=e.sibling}function Is(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Gn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Is(e,t,n),e=e.sibling;e!==null;)Is(e,t,n),e=e.sibling}function rg(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Ye(t,i,n),t[Be]=e,t[at]=n}catch(o){de(e,e.return,o)}}var Kt=!1,Ie=!1,lr=!1,Yd=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function pv(e,t){if(e=e.containerInfo,lu=Hs,e=Qh(e),zu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var a=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,u=-1,d=-1,f=0,m=0,p=e,h=null;t:for(;;){for(var g;p!==n||a!==0&&p.nodeType!==3||(u=s+a),p!==o||i!==0&&p.nodeType!==3||(d=s+i),p.nodeType===3&&(s+=p.nodeValue.length),(g=p.firstChild)!==null;)h=p,p=g;for(;;){if(p===e)break t;if(h===n&&++f===a&&(u=s),h===o&&++m===i&&(d=s),(g=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=g}n=u===-1||d===-1?null:{start:u,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(ru={focusedElem:e,selectionRange:n},Hs=!1,Ge=t;Ge!==null;)if(t=Ge,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ge=e;else for(;Ge!==null;){switch(t=Ge,o=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)a=e[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&o!==null){e=void 0,n=t,a=o.memoizedProps,o=o.memoizedState,i=n.stateNode;try{var v=ai(n.type,a);e=i.getSnapshotBeforeUpdate(v,o),i.__reactInternalSnapshotBeforeUpdate=e}catch(E){de(n,n.return,E)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)cu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":cu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(M(163))}if(e=t.sibling,e!==null){e.return=t.return,Ge=e;break}Ge=t.return}}function ug(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Jt(e,n),i&4&&So(5,n);break;case 1:if(Jt(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(s){de(n,n.return,s)}else{var a=ai(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){de(n,n.return,s)}}i&64&&ag(n),i&512&&Oa(n,n.return);break;case 3:if(Jt(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{mp(e,t)}catch(s){de(n,n.return,s)}}break;case 27:t===null&&i&4&&rg(n);case 26:case 5:Jt(e,n),t===null&&i&4&&sg(n),i&512&&Oa(n,n.return);break;case 12:Jt(e,n);break;case 31:Jt(e,n),i&4&&fg(e,n);break;case 13:Jt(e,n),i&4&&mg(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Nv.bind(null,n),Ov(e,n))));break;case 22:if(i=n.memoizedState!==null||Kt,!i){t=t!==null&&t.memoizedState!==null||Ie,a=Kt;var o=Ie;Kt=i,(Ie=t)&&!o?Yt(e,n,(n.subtreeFlags&8772)!==0):Jt(e,n),Kt=a,Ie=o}break;case 30:break;default:Jt(e,n)}}function cg(e){var t=e.alternate;t!==null&&(e.alternate=null,cg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Uu(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ne=null,tt=!1;function Ot(e,t,n){for(n=n.child;n!==null;)dg(e,t,n),n=n.sibling}function dg(e,t,n){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(mo,n)}catch{}switch(n.tag){case 26:Ie||Lt(n,t),Ot(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ie||Lt(n,t);var i=Ne,a=tt;Gn(n.type)&&(Ne=n.stateNode,tt=!1),Ot(e,t,n),Ka(n.stateNode),Ne=i,tt=a;break;case 5:Ie||Lt(n,t);case 6:if(i=Ne,a=tt,Ne=null,Ot(e,t,n),Ne=i,tt=a,Ne!==null)if(tt)try{(Ne.nodeType===9?Ne.body:Ne.nodeName==="HTML"?Ne.ownerDocument.body:Ne).removeChild(n.stateNode)}catch(o){de(n,t,o)}else try{Ne.removeChild(n.stateNode)}catch(o){de(n,t,o)}break;case 18:Ne!==null&&(tt?(e=Ne,sf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ia(e)):sf(Ne,n.stateNode));break;case 4:i=Ne,a=tt,Ne=n.stateNode.containerInfo,tt=!0,Ot(e,t,n),Ne=i,tt=a;break;case 0:case 11:case 14:case 15:Dn(2,n,t),Ie||Dn(4,n,t),Ot(e,t,n);break;case 1:Ie||(Lt(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&og(n,t,i)),Ot(e,t,n);break;case 21:Ot(e,t,n);break;case 22:Ie=(i=Ie)||n.memoizedState!==null,Ot(e,t,n),Ie=i;break;default:Ot(e,t,n)}}function fg(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ia(e)}catch(n){de(t,t.return,n)}}}function mg(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ia(e)}catch(n){de(t,t.return,n)}}function gv(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Yd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Yd),t;default:throw Error(M(435,e.tag))}}function Po(e,t){var n=gv(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var a=Av.bind(null,e,i);i.then(a,a)}})}function We(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var a=n[i],o=e,s=t,u=s;e:for(;u!==null;){switch(u.tag){case 27:if(Gn(u.type)){Ne=u.stateNode,tt=!1;break e}break;case 5:Ne=u.stateNode,tt=!1;break e;case 3:case 4:Ne=u.stateNode.containerInfo,tt=!0;break e}u=u.return}if(Ne===null)throw Error(M(160));dg(o,s,a),Ne=null,tt=!1,o=a.alternate,o!==null&&(o.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)hg(t,e),t=t.sibling}var Rt=null;function hg(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:We(t,e),et(e),i&4&&(Dn(3,e,e.return),So(3,e),Dn(5,e,e.return));break;case 1:We(t,e),et(e),i&512&&(Ie||n===null||Lt(n,n.return)),i&64&&Kt&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var a=Rt;if(We(t,e),et(e),i&512&&(Ie||n===null||Lt(n,n.return)),i&4){var o=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(i){case"title":o=a.getElementsByTagName("title")[0],(!o||o[go]||o[Be]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=a.createElement(i),a.head.insertBefore(o,a.querySelector("head > title"))),Ye(o,i,n),o[Be]=e,Pe(o),i=o;break e;case"link":var s=mf("link","href",a).get(i+(n.href||""));if(s){for(var u=0;u<s.length;u++)if(o=s[u],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(u,1);break t}}o=a.createElement(i),Ye(o,i,n),a.head.appendChild(o);break;case"meta":if(s=mf("meta","content",a).get(i+(n.content||""))){for(u=0;u<s.length;u++)if(o=s[u],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(u,1);break t}}o=a.createElement(i),Ye(o,i,n),a.head.appendChild(o);break;default:throw Error(M(468,i))}o[Be]=e,Pe(o),i=o}e.stateNode=i}else hf(a,e.type,e.stateNode);else e.stateNode=ff(a,i,e.memoizedProps);else o!==i?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,i===null?hf(a,e.type,e.stateNode):ff(a,i,e.memoizedProps)):i===null&&e.stateNode!==null&&or(e,e.memoizedProps,n.memoizedProps)}break;case 27:We(t,e),et(e),i&512&&(Ie||n===null||Lt(n,n.return)),n!==null&&i&4&&or(e,e.memoizedProps,n.memoizedProps);break;case 5:if(We(t,e),et(e),i&512&&(Ie||n===null||Lt(n,n.return)),e.flags&32){a=e.stateNode;try{Qi(a,"")}catch(v){de(e,e.return,v)}}i&4&&e.stateNode!=null&&(a=e.memoizedProps,or(e,a,n!==null?n.memoizedProps:a)),i&1024&&(lr=!0);break;case 6:if(We(t,e),et(e),i&4){if(e.stateNode===null)throw Error(M(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(v){de(e,e.return,v)}}break;case 3:if(rs=null,a=Rt,Rt=Gs(t.containerInfo),We(t,e),Rt=a,et(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{ia(t.containerInfo)}catch(v){de(e,e.return,v)}lr&&(lr=!1,pg(e));break;case 4:i=Rt,Rt=Gs(e.stateNode.containerInfo),We(t,e),et(e),Rt=i;break;case 12:We(t,e),et(e);break;case 31:We(t,e),et(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Po(e,i)));break;case 13:We(t,e),et(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(ll=ct()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Po(e,i)));break;case 22:a=e.memoizedState!==null;var d=n!==null&&n.memoizedState!==null,f=Kt,m=Ie;if(Kt=f||a,Ie=m||d,We(t,e),Ie=m,Kt=f,et(e),i&8192)e:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||d||Kt||Ie||Kn(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){d=n=t;try{if(o=d.stateNode,a)s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{u=d.stateNode;var p=d.memoizedProps.style,h=p!=null&&p.hasOwnProperty("display")?p.display:null;u.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(v){de(d,d.return,v)}}}else if(t.tag===6){if(n===null){d=t;try{d.stateNode.nodeValue=a?"":d.memoizedProps}catch(v){de(d,d.return,v)}}}else if(t.tag===18){if(n===null){d=t;try{var g=d.stateNode;a?lf(g,!0):lf(d.stateNode,!1)}catch(v){de(d,d.return,v)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Po(e,n))));break;case 19:We(t,e),et(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Po(e,i)));break;case 30:break;case 21:break;default:We(t,e),et(e)}}function et(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(lg(i)){n=i;break}i=i.return}if(n==null)throw Error(M(160));switch(n.tag){case 27:var a=n.stateNode,o=sr(e);Is(e,o,a);break;case 5:var s=n.stateNode;n.flags&32&&(Qi(s,""),n.flags&=-33);var u=sr(e);Is(e,u,s);break;case 3:case 4:var d=n.stateNode.containerInfo,f=sr(e);eu(e,f,d);break;default:throw Error(M(161))}}catch(m){de(e,e.return,m)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function pg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;pg(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Jt(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)ug(e,t.alternate,t),t=t.sibling}function Kn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Dn(4,t,t.return),Kn(t);break;case 1:Lt(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&og(t,t.return,n),Kn(t);break;case 27:Ka(t.stateNode);case 26:case 5:Lt(t,t.return),Kn(t);break;case 22:t.memoizedState===null&&Kn(t);break;case 30:Kn(t);break;default:Kn(t)}e=e.sibling}}function Yt(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,a=e,o=t,s=o.flags;switch(o.tag){case 0:case 11:case 15:Yt(a,o,n),So(4,o);break;case 1:if(Yt(a,o,n),i=o,a=i.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(f){de(i,i.return,f)}if(i=o,a=i.updateQueue,a!==null){var u=i.stateNode;try{var d=a.shared.hiddenCallbacks;if(d!==null)for(a.shared.hiddenCallbacks=null,a=0;a<d.length;a++)fp(d[a],u)}catch(f){de(i,i.return,f)}}n&&s&64&&ag(o),Oa(o,o.return);break;case 27:rg(o);case 26:case 5:Yt(a,o,n),n&&i===null&&s&4&&sg(o),Oa(o,o.return);break;case 12:Yt(a,o,n);break;case 31:Yt(a,o,n),n&&s&4&&fg(a,o);break;case 13:Yt(a,o,n),n&&s&4&&mg(a,o);break;case 22:o.memoizedState===null&&Yt(a,o,n),Oa(o,o.return);break;case 30:break;default:Yt(a,o,n)}t=t.sibling}}function mc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&xo(n))}function hc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&xo(e))}function Mt(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)gg(e,t,n,i),t=t.sibling}function gg(e,t,n,i){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Mt(e,t,n,i),a&2048&&So(9,t);break;case 1:Mt(e,t,n,i);break;case 3:Mt(e,t,n,i),a&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&xo(e)));break;case 12:if(a&2048){Mt(e,t,n,i),e=t.stateNode;try{var o=t.memoizedProps,s=o.id,u=o.onPostCommit;typeof u=="function"&&u(s,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(d){de(t,t.return,d)}}else Mt(e,t,n,i);break;case 31:Mt(e,t,n,i);break;case 13:Mt(e,t,n,i);break;case 23:break;case 22:o=t.stateNode,s=t.alternate,t.memoizedState!==null?o._visibility&2?Mt(e,t,n,i):Ja(e,t):o._visibility&2?Mt(e,t,n,i):(o._visibility|=2,bi(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),a&2048&&mc(s,t);break;case 24:Mt(e,t,n,i),a&2048&&hc(t.alternate,t);break;default:Mt(e,t,n,i)}}function bi(e,t,n,i,a){for(a=a&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var o=e,s=t,u=n,d=i,f=s.flags;switch(s.tag){case 0:case 11:case 15:bi(o,s,u,d,a),So(8,s);break;case 23:break;case 22:var m=s.stateNode;s.memoizedState!==null?m._visibility&2?bi(o,s,u,d,a):Ja(o,s):(m._visibility|=2,bi(o,s,u,d,a)),a&&f&2048&&mc(s.alternate,s);break;case 24:bi(o,s,u,d,a),a&&f&2048&&hc(s.alternate,s);break;default:bi(o,s,u,d,a)}t=t.sibling}}function Ja(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,a=i.flags;switch(i.tag){case 22:Ja(n,i),a&2048&&mc(i.alternate,i);break;case 24:Ja(n,i),a&2048&&hc(i.alternate,i);break;default:Ja(n,i)}t=t.sibling}}var Da=8192;function vi(e,t,n){if(e.subtreeFlags&Da)for(e=e.child;e!==null;)yg(e,t,n),e=e.sibling}function yg(e,t,n){switch(e.tag){case 26:vi(e,t,n),e.flags&Da&&e.memoizedState!==null&&nS(n,Rt,e.memoizedState,e.memoizedProps);break;case 5:vi(e,t,n);break;case 3:case 4:var i=Rt;Rt=Gs(e.stateNode.containerInfo),vi(e,t,n),Rt=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Da,Da=16777216,vi(e,t,n),Da=i):vi(e,t,n));break;default:vi(e,t,n)}}function xg(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Aa(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Ge=i,Sg(i,e)}xg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)vg(e),e=e.sibling}function vg(e){switch(e.tag){case 0:case 11:case 15:Aa(e),e.flags&2048&&Dn(9,e,e.return);break;case 3:Aa(e);break;case 12:Aa(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ss(e)):Aa(e);break;default:Aa(e)}}function ss(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Ge=i,Sg(i,e)}xg(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Dn(8,t,t.return),ss(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,ss(t));break;default:ss(t)}e=e.sibling}}function Sg(e,t){for(;Ge!==null;){var n=Ge;switch(n.tag){case 0:case 11:case 15:Dn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:xo(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Ge=i;else e:for(n=e;Ge!==null;){i=Ge;var a=i.sibling,o=i.return;if(cg(i),i===n){Ge=null;break e}if(a!==null){a.return=o,Ge=a;break e}Ge=o}}}var yv={getCacheForType:function(e){var t=Je(ke),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Je(ke).controller.signal}},xv=typeof WeakMap=="function"?WeakMap:Map,re=0,pe=null,ae=null,oe=0,ce=0,st=null,vn=!1,ua=!1,pc=!1,sn=0,Ce=0,qn=0,Wn=0,gc=0,ut=0,Wi=0,Ya=null,nt=null,tu=!1,ll=0,bg=0,ks=1/0,Ds=null,Cn=null,qe=0,wn=null,ea=null,en=0,nu=0,iu=null,Eg=null,Fa=0,au=null;function mt(){return re&2&&oe!==0?oe&-oe:F.T!==null?xc():Ih()}function Tg(){if(ut===0)if(!(oe&536870912)||se){var e=ko;ko<<=1,!(ko&3932160)&&(ko=262144),ut=e}else ut=536870912;return e=pt.current,e!==null&&(e.flags|=32),ut}function it(e,t,n){(e===pe&&(ce===2||ce===9)||e.cancelPendingCommit!==null)&&(ta(e,0),Sn(e,oe,ut,!1)),po(e,n),(!(re&2)||e!==pe)&&(e===pe&&(!(re&2)&&(Wn|=n),Ce===4&&Sn(e,oe,ut,!1)),zt(e))}function Ng(e,t,n){if(re&6)throw Error(M(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||ho(e,t),a=i?bv(e,t):rr(e,t,!0),o=i;do{if(a===0){ua&&!i&&Sn(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!vv(n)){a=rr(e,t,!1),o=!1;continue}if(a===2){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=e.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){t=s;e:{var u=e;a=Ya;var d=u.current.memoizedState.isDehydrated;if(d&&(ta(u,s).flags|=256),s=rr(u,s,!1),s!==2){if(pc&&!d){u.errorRecoveryDisabledLanes|=o,Wn|=o,a=4;break e}o=nt,nt=a,o!==null&&(nt===null?nt=o:nt.push.apply(nt,o))}a=s}if(o=!1,a!==2)continue}}if(a===1){ta(e,0),Sn(e,t,0,!0);break}e:{switch(i=e,o=a,o){case 0:case 1:throw Error(M(345));case 4:if((t&4194048)!==t)break;case 6:Sn(i,t,ut,!vn);break e;case 2:nt=null;break;case 3:case 5:break;default:throw Error(M(329))}if((t&62914560)===t&&(a=ll+300-ct(),10<a)){if(Sn(i,t,ut,!vn),Xs(i,0,!0)!==0)break e;en=t,i.timeoutHandle=Og(Fd.bind(null,i,n,nt,Ds,tu,t,ut,Wn,Wi,vn,o,"Throttled",-0,0),a);break e}Fd(i,n,nt,Ds,tu,t,ut,Wn,Wi,vn,o,null,-0,0)}}break}while(!0);zt(e)}function Fd(e,t,n,i,a,o,s,u,d,f,m,p,h,g){if(e.timeoutHandle=-1,p=t.subtreeFlags,p&8192||(p&16785408)===16785408){p={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xt},yg(t,o,p);var v=(o&62914560)===o?ll-ct():(o&4194048)===o?bg-ct():0;if(v=iS(p,v),v!==null){en=o,e.cancelPendingCommit=v(Qd.bind(null,e,t,o,n,i,a,s,u,d,m,p,null,h,g)),Sn(e,o,s,!f);return}}Qd(e,t,o,n,i,a,s,u,d)}function vv(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var a=n[i],o=a.getSnapshot;a=a.value;try{if(!ht(o(),a))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Sn(e,t,n,i){t&=~gc,t&=~Wn,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var a=t;0<a;){var o=31-ft(a),s=1<<o;i[o]=-1,a&=~s}n!==0&&_h(e,n,t)}function rl(){return re&6?!0:(bo(0),!1)}function yc(){if(ae!==null){if(ce===0)var e=ae.return;else e=ae,$t=di=null,nc(e),Pi=null,no=0,e=ae;for(;e!==null;)ig(e.alternate,e),e=e.return;ae=null}}function ta(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Gv(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),en=0,yc(),pe=e,ae=n=Zt(e.current,null),oe=t,ce=0,st=null,vn=!1,ua=ho(e,t),pc=!1,Wi=ut=gc=Wn=qn=Ce=0,nt=Ya=null,tu=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var a=31-ft(i),o=1<<a;t|=e[a],i&=~o}return sn=t,el(),n}function Ag(e,t){W=null,F.H=ao,t===ra||t===nl?(t=Ad(),ce=3):t===Qu?(t=Ad(),ce=4):ce=t===dc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,st=t,ae===null&&(Ce=1,Ms(e,Tt(t,e.current)))}function Cg(){var e=pt.current;return e===null?!0:(oe&4194048)===oe?At===null:(oe&62914560)===oe||oe&536870912?e===At:!1}function wg(){var e=F.H;return F.H=ao,e===null?ao:e}function _g(){var e=F.A;return F.A=yv,e}function qs(){Ce=4,vn||(oe&4194048)!==oe&&pt.current!==null||(ua=!0),!(qn&134217727)&&!(Wn&134217727)||pe===null||Sn(pe,oe,ut,!1)}function rr(e,t,n){var i=re;re|=2;var a=wg(),o=_g();(pe!==e||oe!==t)&&(Ds=null,ta(e,t)),t=!1;var s=Ce;e:do try{if(ce!==0&&ae!==null){var u=ae,d=st;switch(ce){case 8:yc(),s=6;break e;case 3:case 2:case 9:case 6:pt.current===null&&(t=!0);var f=ce;if(ce=0,st=null,qi(e,u,d,f),n&&ua){s=0;break e}break;default:f=ce,ce=0,st=null,qi(e,u,d,f)}}Sv(),s=Ce;break}catch(m){Ag(e,m)}while(!0);return t&&e.shellSuspendCounter++,$t=di=null,re=i,F.H=a,F.A=o,ae===null&&(pe=null,oe=0,el()),s}function Sv(){for(;ae!==null;)Mg(ae)}function bv(e,t){var n=re;re|=2;var i=wg(),a=_g();pe!==e||oe!==t?(Ds=null,ks=ct()+500,ta(e,t)):ua=ho(e,t);e:do try{if(ce!==0&&ae!==null){t=ae;var o=st;t:switch(ce){case 1:ce=0,st=null,qi(e,t,o,1);break;case 2:case 9:if(Nd(o)){ce=0,st=null,Kd(t);break}t=function(){ce!==2&&ce!==9||pe!==e||(ce=7),zt(e)},o.then(t,t);break e;case 3:ce=7;break e;case 4:ce=5;break e;case 7:Nd(o)?(ce=0,st=null,Kd(t)):(ce=0,st=null,qi(e,t,o,7));break;case 5:var s=null;switch(ae.tag){case 26:s=ae.memoizedState;case 5:case 27:var u=ae;if(s?Qg(s):u.stateNode.complete){ce=0,st=null;var d=u.sibling;if(d!==null)ae=d;else{var f=u.return;f!==null?(ae=f,ul(f)):ae=null}break t}}ce=0,st=null,qi(e,t,o,5);break;case 6:ce=0,st=null,qi(e,t,o,6);break;case 8:yc(),Ce=6;break e;default:throw Error(M(462))}}Ev();break}catch(m){Ag(e,m)}while(!0);return $t=di=null,F.H=i,F.A=a,re=n,ae!==null?0:(pe=null,oe=0,el(),Ce)}function Ev(){for(;ae!==null&&!Jx();)Mg(ae)}function Mg(e){var t=ng(e.alternate,e,sn);e.memoizedProps=e.pendingProps,t===null?ul(e):ae=t}function Kd(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=zd(n,t,t.pendingProps,t.type,void 0,oe);break;case 11:t=zd(n,t,t.pendingProps,t.type.render,t.ref,oe);break;case 5:nc(t);default:ig(n,t),t=ae=ip(t,sn),t=ng(n,t,sn)}e.memoizedProps=e.pendingProps,t===null?ul(e):ae=t}function qi(e,t,n,i){$t=di=null,nc(t),Pi=null,no=0;var a=t.return;try{if(cv(e,a,t,n,oe)){Ce=1,Ms(e,Tt(n,e.current)),ae=null;return}}catch(o){if(a!==null)throw ae=a,o;Ce=1,Ms(e,Tt(n,e.current)),ae=null;return}t.flags&32768?(se||i===1?e=!0:ua||oe&536870912?e=!1:(vn=e=!0,(i===2||i===9||i===3||i===6)&&(i=pt.current,i!==null&&i.tag===13&&(i.flags|=16384))),Rg(t,e)):ul(t)}function ul(e){var t=e;do{if(t.flags&32768){Rg(t,vn);return}e=t.return;var n=mv(t.alternate,t,sn);if(n!==null){ae=n;return}if(t=t.sibling,t!==null){ae=t;return}ae=t=e}while(t!==null);Ce===0&&(Ce=5)}function Rg(e,t){do{var n=hv(e.alternate,e);if(n!==null){n.flags&=32767,ae=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ae=e;return}ae=e=n}while(e!==null);Ce=6,ae=null}function Qd(e,t,n,i,a,o,s,u,d){e.cancelPendingCommit=null;do cl();while(qe!==0);if(re&6)throw Error(M(327));if(t!==null){if(t===e.current)throw Error(M(177));if(o=t.lanes|t.childLanes,o|=Hu,t0(e,n,o,s,u,d),e===pe&&(ae=pe=null,oe=0),ea=t,wn=e,en=n,nu=o,iu=a,Eg=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,Cv(xs,function(){return Ug(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=F.T,F.T=null,a=ue.p,ue.p=2,s=re,re|=4;try{pv(e,t,n)}finally{re=s,ue.p=a,F.T=i}}qe=1,Ig(),kg(),Dg()}}function Ig(){if(qe===1){qe=0;var e=wn,t=ea,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=F.T,F.T=null;var i=ue.p;ue.p=2;var a=re;re|=4;try{hg(t,e);var o=ru,s=Qh(e.containerInfo),u=o.focusedElem,d=o.selectionRange;if(s!==u&&u&&u.ownerDocument&&Kh(u.ownerDocument.documentElement,u)){if(d!==null&&zu(u)){var f=d.start,m=d.end;if(m===void 0&&(m=f),"selectionStart"in u)u.selectionStart=f,u.selectionEnd=Math.min(m,u.value.length);else{var p=u.ownerDocument||document,h=p&&p.defaultView||window;if(h.getSelection){var g=h.getSelection(),v=u.textContent.length,E=Math.min(d.start,v),N=d.end===void 0?E:Math.min(d.end,v);!g.extend&&E>N&&(s=N,N=E,E=s);var x=yd(u,E),y=yd(u,N);if(x&&y&&(g.rangeCount!==1||g.anchorNode!==x.node||g.anchorOffset!==x.offset||g.focusNode!==y.node||g.focusOffset!==y.offset)){var S=p.createRange();S.setStart(x.node,x.offset),g.removeAllRanges(),E>N?(g.addRange(S),g.extend(y.node,y.offset)):(S.setEnd(y.node,y.offset),g.addRange(S))}}}}for(p=[],g=u;g=g.parentNode;)g.nodeType===1&&p.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<p.length;u++){var T=p[u];T.element.scrollLeft=T.left,T.element.scrollTop=T.top}}Hs=!!lu,ru=lu=null}finally{re=a,ue.p=i,F.T=n}}e.current=t,qe=2}}function kg(){if(qe===2){qe=0;var e=wn,t=ea,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=F.T,F.T=null;var i=ue.p;ue.p=2;var a=re;re|=4;try{ug(e,t.alternate,t)}finally{re=a,ue.p=i,F.T=n}}qe=3}}function Dg(){if(qe===4||qe===3){qe=0,Yx();var e=wn,t=ea,n=en,i=Eg;t.subtreeFlags&10256||t.flags&10256?qe=5:(qe=0,ea=wn=null,qg(e,e.pendingLanes));var a=e.pendingLanes;if(a===0&&(Cn=null),qu(n),t=t.stateNode,dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(mo,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=F.T,a=ue.p,ue.p=2,F.T=null;try{for(var o=e.onRecoverableError,s=0;s<i.length;s++){var u=i[s];o(u.value,{componentStack:u.stack})}}finally{F.T=t,ue.p=a}}en&3&&cl(),zt(e),a=e.pendingLanes,n&261930&&a&42?e===au?Fa++:(Fa=0,au=e):Fa=0,bo(0)}}function qg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,xo(t)))}function cl(){return Ig(),kg(),Dg(),Ug()}function Ug(){if(qe!==5)return!1;var e=wn,t=nu;nu=0;var n=qu(en),i=F.T,a=ue.p;try{ue.p=32>n?32:n,F.T=null,n=iu,iu=null;var o=wn,s=en;if(qe=0,ea=wn=null,en=0,re&6)throw Error(M(331));var u=re;if(re|=4,vg(o.current),gg(o,o.current,s,n),re=u,bo(0,!1),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(mo,o)}catch{}return!0}finally{ue.p=a,F.T=i,qg(e,t)}}function Xd(e,t,n){t=Tt(n,t),t=$r(e.stateNode,t,2),e=An(e,t,2),e!==null&&(po(e,2),zt(e))}function de(e,t,n){if(e.tag===3)Xd(e,e,n);else for(;t!==null;){if(t.tag===3){Xd(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Cn===null||!Cn.has(i))){e=Tt(n,e),n=Xp(2),i=An(t,n,2),i!==null&&($p(n,i,t,e),po(i,2),zt(i));break}}t=t.return}}function ur(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new xv;var a=new Set;i.set(t,a)}else a=i.get(t),a===void 0&&(a=new Set,i.set(t,a));a.has(n)||(pc=!0,a.add(n),e=Tv.bind(null,e,t,n),t.then(e,e))}function Tv(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,pe===e&&(oe&n)===n&&(Ce===4||Ce===3&&(oe&62914560)===oe&&300>ct()-ll?!(re&2)&&ta(e,0):gc|=n,Wi===oe&&(Wi=0)),zt(e)}function Lg(e,t){t===0&&(t=wh()),e=ci(e,t),e!==null&&(po(e,t),zt(e))}function Nv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Lg(e,n)}function Av(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(M(314))}i!==null&&i.delete(t),Lg(e,n)}function Cv(e,t){return ku(e,t)}var Us=null,Ei=null,ou=!1,Ls=!1,cr=!1,bn=0;function zt(e){e!==Ei&&e.next===null&&(Ei===null?Us=Ei=e:Ei=Ei.next=e),Ls=!0,ou||(ou=!0,_v())}function bo(e,t){if(!cr&&Ls){cr=!0;do for(var n=!1,i=Us;i!==null;){if(e!==0){var a=i.pendingLanes;if(a===0)var o=0;else{var s=i.suspendedLanes,u=i.pingedLanes;o=(1<<31-ft(42|e)+1)-1,o&=a&~(s&~u),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,$d(i,o))}else o=oe,o=Xs(i,i===pe?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(o&3)||ho(i,o)||(n=!0,$d(i,o));i=i.next}while(n);cr=!1}}function wv(){jg()}function jg(){Ls=ou=!1;var e=0;bn!==0&&Vv()&&(e=bn);for(var t=ct(),n=null,i=Us;i!==null;){var a=i.next,o=Vg(i,t);o===0?(i.next=null,n===null?Us=a:n.next=a,a===null&&(Ei=n)):(n=i,(e!==0||o&3)&&(Ls=!0)),i=a}qe!==0&&qe!==5||bo(e),bn!==0&&(bn=0)}function Vg(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var s=31-ft(o),u=1<<s,d=a[s];d===-1?(!(u&n)||u&i)&&(a[s]=e0(u,t)):d<=t&&(e.expiredLanes|=u),o&=~u}if(t=pe,n=oe,n=Xs(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(ce===2||ce===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Vl(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||ho(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Vl(i),qu(n)){case 2:case 8:n=Ah;break;case 32:n=xs;break;case 268435456:n=Ch;break;default:n=xs}return i=Gg.bind(null,e),n=ku(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Vl(i),e.callbackPriority=2,e.callbackNode=null,2}function Gg(e,t){if(qe!==0&&qe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(cl()&&e.callbackNode!==n)return null;var i=oe;return i=Xs(e,e===pe?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Ng(e,i,t),Vg(e,ct()),e.callbackNode!=null&&e.callbackNode===n?Gg.bind(null,e):null)}function $d(e,t){if(cl())return null;Ng(e,t,!0)}function _v(){Pv(function(){re&6?ku(Nh,wv):jg()})}function xc(){if(bn===0){var e=Xi;e===0&&(e=Io,Io<<=1,!(Io&261888)&&(Io=256)),bn=e}return bn}function Zd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:$o(""+e)}function Wd(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Mv(e,t,n,i,a){if(t==="submit"&&n&&n.stateNode===a){var o=Zd((a[at]||null).action),s=i.submitter;s&&(t=(t=s[at]||null)?Zd(t.formAction):s.getAttribute("formAction"),t!==null&&(o=t,s=null));var u=new $s("action","action",null,i,a);e.push({event:u,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(bn!==0){var d=s?Wd(a,s):new FormData(a);Qr(n,{pending:!0,data:d,method:a.method,action:o},null,d)}}else typeof o=="function"&&(u.preventDefault(),d=s?Wd(a,s):new FormData(a),Qr(n,{pending:!0,data:d,method:a.method,action:o},o,d))},currentTarget:a}]})}}for(var dr=0;dr<jr.length;dr++){var fr=jr[dr],Rv=fr.toLowerCase(),Iv=fr[0].toUpperCase()+fr.slice(1);It(Rv,"on"+Iv)}It($h,"onAnimationEnd");It(Zh,"onAnimationIteration");It(Wh,"onAnimationStart");It("dblclick","onDoubleClick");It("focusin","onFocus");It("focusout","onBlur");It(F0,"onTransitionRun");It(K0,"onTransitionStart");It(Q0,"onTransitionCancel");It(ep,"onTransitionEnd");Ki("onMouseEnter",["mouseout","mouseover"]);Ki("onMouseLeave",["mouseout","mouseover"]);Ki("onPointerEnter",["pointerout","pointerover"]);Ki("onPointerLeave",["pointerout","pointerover"]);li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));li("onBeforeInput",["compositionend","keypress","textInput","paste"]);li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(oo));function Pg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],a=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var s=i.length-1;0<=s;s--){var u=i[s],d=u.instance,f=u.currentTarget;if(u=u.listener,d!==o&&a.isPropagationStopped())break e;o=u,a.currentTarget=f;try{o(a)}catch(m){Ss(m)}a.currentTarget=null,o=d}else for(s=0;s<i.length;s++){if(u=i[s],d=u.instance,f=u.currentTarget,u=u.listener,d!==o&&a.isPropagationStopped())break e;o=u,a.currentTarget=f;try{o(a)}catch(m){Ss(m)}a.currentTarget=null,o=d}}}}function ie(e,t){var n=t[Mr];n===void 0&&(n=t[Mr]=new Set);var i=e+"__bubble";n.has(i)||(zg(t,e,2,!1),n.add(i))}function mr(e,t,n){var i=0;t&&(i|=4),zg(n,e,i,t)}var zo="_reactListening"+Math.random().toString(36).slice(2);function vc(e){if(!e[zo]){e[zo]=!0,kh.forEach(function(n){n!=="selectionchange"&&(kv.has(n)||mr(n,!1,e),mr(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[zo]||(t[zo]=!0,mr("selectionchange",!1,t))}}function zg(e,t,n,i){switch(ey(t)){case 2:var a=sS;break;case 8:a=lS;break;default:a=Tc}n=a.bind(null,t,n,e),a=void 0,!qr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),i?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function hr(e,t,n,i,a){var o=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var u=i.stateNode.containerInfo;if(u===a)break;if(s===4)for(s=i.return;s!==null;){var d=s.tag;if((d===3||d===4)&&s.stateNode.containerInfo===a)return;s=s.return}for(;u!==null;){if(s=Ai(u),s===null)return;if(d=s.tag,d===5||d===6||d===26||d===27){i=o=s;continue e}u=u.parentNode}}i=i.return}Ph(function(){var f=o,m=ju(n),p=[];e:{var h=tp.get(e);if(h!==void 0){var g=$s,v=e;switch(e){case"keypress":if(Wo(n)===0)break e;case"keydown":case"keyup":g=A0;break;case"focusin":v="focus",g=Bl;break;case"focusout":v="blur",g=Bl;break;case"beforeblur":case"afterblur":g=Bl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=ld;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=m0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=_0;break;case $h:case Zh:case Wh:g=g0;break;case ep:g=R0;break;case"scroll":case"scrollend":g=d0;break;case"wheel":g=k0;break;case"copy":case"cut":case"paste":g=x0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=ud;break;case"toggle":case"beforetoggle":g=q0}var E=(t&4)!==0,N=!E&&(e==="scroll"||e==="scrollend"),x=E?h!==null?h+"Capture":null:h;E=[];for(var y=f,S;y!==null;){var T=y;if(S=T.stateNode,T=T.tag,T!==5&&T!==26&&T!==27||S===null||x===null||(T=$a(y,x),T!=null&&E.push(so(y,T,S))),N)break;y=y.return}0<E.length&&(h=new g(h,v,null,n,m),p.push({event:h,listeners:E}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&n!==Dr&&(v=n.relatedTarget||n.fromElement)&&(Ai(v)||v[oa]))break e;if((g||h)&&(h=m.window===m?m:(h=m.ownerDocument)?h.defaultView||h.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=f,v=v?Ai(v):null,v!==null&&(N=fo(v),E=v.tag,v!==N||E!==5&&E!==27&&E!==6)&&(v=null)):(g=null,v=f),g!==v)){if(E=ld,T="onMouseLeave",x="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(E=ud,T="onPointerLeave",x="onPointerEnter",y="pointer"),N=g==null?h:Ia(g),S=v==null?h:Ia(v),h=new E(T,y+"leave",g,n,m),h.target=N,h.relatedTarget=S,T=null,Ai(m)===f&&(E=new E(x,y+"enter",v,n,m),E.target=S,E.relatedTarget=N,T=E),N=T,g&&v)t:{for(E=Dv,x=g,y=v,S=0,T=x;T;T=E(T))S++;T=0;for(var A=y;A;A=E(A))T++;for(;0<S-T;)x=E(x),S--;for(;0<T-S;)y=E(y),T--;for(;S--;){if(x===y||y!==null&&x===y.alternate){E=x;break t}x=E(x),y=E(y)}E=null}else E=null;g!==null&&ef(p,h,g,E,!1),v!==null&&N!==null&&ef(p,N,v,E,!0)}}e:{if(h=f?Ia(f):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var _=md;else if(fd(h))if(Yh)_=O0;else{_=H0;var w=z0}else g=h.nodeName,!g||g.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?f&&Lu(f.elementType)&&(_=md):_=B0;if(_&&(_=_(e,f))){Jh(p,_,n,m);break e}w&&w(e,h,f),e==="focusout"&&f&&h.type==="number"&&f.memoizedProps.value!=null&&kr(h,"number",h.value)}switch(w=f?Ia(f):window,e){case"focusin":(fd(w)||w.contentEditable==="true")&&(_i=w,Ur=f,Va=null);break;case"focusout":Va=Ur=_i=null;break;case"mousedown":Lr=!0;break;case"contextmenu":case"mouseup":case"dragend":Lr=!1,xd(p,n,m);break;case"selectionchange":if(Y0)break;case"keydown":case"keyup":xd(p,n,m)}var U;if(Pu)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else wi?Bh(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(Hh&&n.locale!=="ko"&&(wi||I!=="onCompositionStart"?I==="onCompositionEnd"&&wi&&(U=zh()):(xn=m,Vu="value"in xn?xn.value:xn.textContent,wi=!0)),w=js(f,I),0<w.length&&(I=new rd(I,e,null,n,m),p.push({event:I,listeners:w}),U?I.data=U:(U=Oh(n),U!==null&&(I.data=U)))),(U=L0?j0(e,n):V0(e,n))&&(I=js(f,"onBeforeInput"),0<I.length&&(w=new rd("onBeforeInput","beforeinput",null,n,m),p.push({event:w,listeners:I}),w.data=U)),Mv(p,e,f,n,m)}Pg(p,t)})}function so(e,t,n){return{instance:e,listener:t,currentTarget:n}}function js(e,t){for(var n=t+"Capture",i=[];e!==null;){var a=e,o=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||o===null||(a=$a(e,n),a!=null&&i.unshift(so(e,a,o)),a=$a(e,t),a!=null&&i.push(so(e,a,o))),e.tag===3)return i;e=e.return}return[]}function Dv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ef(e,t,n,i,a){for(var o=t._reactName,s=[];n!==null&&n!==i;){var u=n,d=u.alternate,f=u.stateNode;if(u=u.tag,d!==null&&d===i)break;u!==5&&u!==26&&u!==27||f===null||(d=f,a?(f=$a(n,o),f!=null&&s.unshift(so(n,f,d))):a||(f=$a(n,o),f!=null&&s.push(so(n,f,d)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var qv=/\r\n?/g,Uv=/\u0000|\uFFFD/g;function tf(e){return(typeof e=="string"?e:""+e).replace(qv,`
`).replace(Uv,"")}function Hg(e,t){return t=tf(t),tf(e)===t}function me(e,t,n,i,a,o){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Qi(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Qi(e,""+i);break;case"className":qo(e,"class",i);break;case"tabIndex":qo(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":qo(e,n,i);break;case"style":Gh(e,i,o);break;case"data":if(t!=="object"){qo(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=$o(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(t!=="input"&&me(e,t,"name",a.name,a,null),me(e,t,"formEncType",a.formEncType,a,null),me(e,t,"formMethod",a.formMethod,a,null),me(e,t,"formTarget",a.formTarget,a,null)):(me(e,t,"encType",a.encType,a,null),me(e,t,"method",a.method,a,null),me(e,t,"target",a.target,a,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=$o(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Xt);break;case"onScroll":i!=null&&ie("scroll",e);break;case"onScrollEnd":i!=null&&ie("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(M(61));if(n=i.__html,n!=null){if(a.children!=null)throw Error(M(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=$o(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":ie("beforetoggle",e),ie("toggle",e),Xo(e,"popover",i);break;case"xlinkActuate":Ht(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Ht(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Ht(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Ht(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Ht(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Ht(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Ht(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Ht(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Ht(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Xo(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=u0.get(n)||n,Xo(e,n,i))}}function su(e,t,n,i,a,o){switch(n){case"style":Gh(e,i,o);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(M(61));if(n=i.__html,n!=null){if(a.children!=null)throw Error(M(60));e.innerHTML=n}}break;case"children":typeof i=="string"?Qi(e,i):(typeof i=="number"||typeof i=="bigint")&&Qi(e,""+i);break;case"onScroll":i!=null&&ie("scroll",e);break;case"onScrollEnd":i!=null&&ie("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Xt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dh.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),o=e[at]||null,o=o!=null?o[n]:null,typeof o=="function"&&e.removeEventListener(t,o,a),typeof i=="function")){typeof o!="function"&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,a);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):Xo(e,n,i)}}}function Ye(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ie("error",e),ie("load",e);var i=!1,a=!1,o;for(o in n)if(n.hasOwnProperty(o)){var s=n[o];if(s!=null)switch(o){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(M(137,t));default:me(e,t,o,s,n,null)}}a&&me(e,t,"srcSet",n.srcSet,n,null),i&&me(e,t,"src",n.src,n,null);return;case"input":ie("invalid",e);var u=o=s=a=null,d=null,f=null;for(i in n)if(n.hasOwnProperty(i)){var m=n[i];if(m!=null)switch(i){case"name":a=m;break;case"type":s=m;break;case"checked":d=m;break;case"defaultChecked":f=m;break;case"value":o=m;break;case"defaultValue":u=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(M(137,t));break;default:me(e,t,i,m,n,null)}}Lh(e,o,u,d,f,s,a,!1);return;case"select":ie("invalid",e),i=s=o=null;for(a in n)if(n.hasOwnProperty(a)&&(u=n[a],u!=null))switch(a){case"value":o=u;break;case"defaultValue":s=u;break;case"multiple":i=u;default:me(e,t,a,u,n,null)}t=o,n=s,e.multiple=!!i,t!=null?ji(e,!!i,t,!1):n!=null&&ji(e,!!i,n,!0);return;case"textarea":ie("invalid",e),o=a=i=null;for(s in n)if(n.hasOwnProperty(s)&&(u=n[s],u!=null))switch(s){case"value":i=u;break;case"defaultValue":a=u;break;case"children":o=u;break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(M(91));break;default:me(e,t,s,u,n,null)}Vh(e,i,a,o);return;case"option":for(d in n)if(n.hasOwnProperty(d)&&(i=n[d],i!=null))switch(d){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:me(e,t,d,i,n,null)}return;case"dialog":ie("beforetoggle",e),ie("toggle",e),ie("cancel",e),ie("close",e);break;case"iframe":case"object":ie("load",e);break;case"video":case"audio":for(i=0;i<oo.length;i++)ie(oo[i],e);break;case"image":ie("error",e),ie("load",e);break;case"details":ie("toggle",e);break;case"embed":case"source":case"link":ie("error",e),ie("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(f in n)if(n.hasOwnProperty(f)&&(i=n[f],i!=null))switch(f){case"children":case"dangerouslySetInnerHTML":throw Error(M(137,t));default:me(e,t,f,i,n,null)}return;default:if(Lu(t)){for(m in n)n.hasOwnProperty(m)&&(i=n[m],i!==void 0&&su(e,t,m,i,n,void 0));return}}for(u in n)n.hasOwnProperty(u)&&(i=n[u],i!=null&&me(e,t,u,i,n,null))}function Lv(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,o=null,s=null,u=null,d=null,f=null,m=null;for(g in n){var p=n[g];if(n.hasOwnProperty(g)&&p!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":d=p;default:i.hasOwnProperty(g)||me(e,t,g,null,i,p)}}for(var h in i){var g=i[h];if(p=n[h],i.hasOwnProperty(h)&&(g!=null||p!=null))switch(h){case"type":o=g;break;case"name":a=g;break;case"checked":f=g;break;case"defaultChecked":m=g;break;case"value":s=g;break;case"defaultValue":u=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(M(137,t));break;default:g!==p&&me(e,t,h,g,i,p)}}Ir(e,s,u,d,f,m,o,a);return;case"select":g=s=u=h=null;for(o in n)if(d=n[o],n.hasOwnProperty(o)&&d!=null)switch(o){case"value":break;case"multiple":g=d;default:i.hasOwnProperty(o)||me(e,t,o,null,i,d)}for(a in i)if(o=i[a],d=n[a],i.hasOwnProperty(a)&&(o!=null||d!=null))switch(a){case"value":h=o;break;case"defaultValue":u=o;break;case"multiple":s=o;default:o!==d&&me(e,t,a,o,i,d)}t=u,n=s,i=g,h!=null?ji(e,!!n,h,!1):!!i!=!!n&&(t!=null?ji(e,!!n,t,!0):ji(e,!!n,n?[]:"",!1));return;case"textarea":g=h=null;for(u in n)if(a=n[u],n.hasOwnProperty(u)&&a!=null&&!i.hasOwnProperty(u))switch(u){case"value":break;case"children":break;default:me(e,t,u,null,i,a)}for(s in i)if(a=i[s],o=n[s],i.hasOwnProperty(s)&&(a!=null||o!=null))switch(s){case"value":h=a;break;case"defaultValue":g=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(M(91));break;default:a!==o&&me(e,t,s,a,i,o)}jh(e,h,g);return;case"option":for(var v in n)if(h=n[v],n.hasOwnProperty(v)&&h!=null&&!i.hasOwnProperty(v))switch(v){case"selected":e.selected=!1;break;default:me(e,t,v,null,i,h)}for(d in i)if(h=i[d],g=n[d],i.hasOwnProperty(d)&&h!==g&&(h!=null||g!=null))switch(d){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:me(e,t,d,h,i,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var E in n)h=n[E],n.hasOwnProperty(E)&&h!=null&&!i.hasOwnProperty(E)&&me(e,t,E,null,i,h);for(f in i)if(h=i[f],g=n[f],i.hasOwnProperty(f)&&h!==g&&(h!=null||g!=null))switch(f){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(M(137,t));break;default:me(e,t,f,h,i,g)}return;default:if(Lu(t)){for(var N in n)h=n[N],n.hasOwnProperty(N)&&h!==void 0&&!i.hasOwnProperty(N)&&su(e,t,N,void 0,i,h);for(m in i)h=i[m],g=n[m],!i.hasOwnProperty(m)||h===g||h===void 0&&g===void 0||su(e,t,m,h,i,g);return}}for(var x in n)h=n[x],n.hasOwnProperty(x)&&h!=null&&!i.hasOwnProperty(x)&&me(e,t,x,null,i,h);for(p in i)h=i[p],g=n[p],!i.hasOwnProperty(p)||h===g||h==null&&g==null||me(e,t,p,h,i,g)}function nf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function jv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var a=n[i],o=a.transferSize,s=a.initiatorType,u=a.duration;if(o&&u&&nf(s)){for(s=0,u=a.responseEnd,i+=1;i<n.length;i++){var d=n[i],f=d.startTime;if(f>u)break;var m=d.transferSize,p=d.initiatorType;m&&nf(p)&&(d=d.responseEnd,s+=m*(d<u?1:(u-f)/(d-f)))}if(--i,t+=8*(o+s)/(a.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var lu=null,ru=null;function Vs(e){return e.nodeType===9?e:e.ownerDocument}function af(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function uu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pr=null;function Vv(){var e=window.event;return e&&e.type==="popstate"?e===pr?!1:(pr=e,!0):(pr=null,!1)}var Og=typeof setTimeout=="function"?setTimeout:void 0,Gv=typeof clearTimeout=="function"?clearTimeout:void 0,of=typeof Promise=="function"?Promise:void 0,Pv=typeof queueMicrotask=="function"?queueMicrotask:typeof of<"u"?function(e){return of.resolve(null).then(e).catch(zv)}:Og;function zv(e){setTimeout(function(){throw e})}function Gn(e){return e==="head"}function sf(e,t){var n=t,i=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(a),ia(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")Ka(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Ka(n);for(var o=n.firstChild;o;){var s=o.nextSibling,u=o.nodeName;o[go]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&o.rel.toLowerCase()==="stylesheet"||n.removeChild(o),o=s}}else n==="body"&&Ka(e.ownerDocument.body);n=a}while(n);ia(t)}function lf(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function cu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":cu(n),Uu(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Hv(e,t,n,i){for(;e.nodeType===1;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[go])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==a.rel||e.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||e.getAttribute("title")!==(a.title==null?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(a.src==null?null:a.src)||e.getAttribute("type")!==(a.type==null?null:a.type)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=a.name==null?null:""+a.name;if(a.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=Ct(e.nextSibling),e===null)break}return null}function Bv(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ct(e.nextSibling),e===null))return null;return e}function Jg(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Ct(e.nextSibling),e===null))return null;return e}function du(e){return e.data==="$?"||e.data==="$~"}function fu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Ov(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Ct(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var mu=null;function rf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Ct(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function uf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Yg(e,t,n){switch(t=Vs(n),e){case"html":if(e=t.documentElement,!e)throw Error(M(452));return e;case"head":if(e=t.head,!e)throw Error(M(453));return e;case"body":if(e=t.body,!e)throw Error(M(454));return e;default:throw Error(M(451))}}function Ka(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Uu(e)}var _t=new Map,cf=new Set;function Gs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ln=ue.d;ue.d={f:Jv,r:Yv,D:Fv,C:Kv,L:Qv,m:Xv,X:Zv,S:$v,M:Wv};function Jv(){var e=ln.f(),t=rl();return e||t}function Yv(e){var t=sa(e);t!==null&&t.tag===5&&t.type==="form"?Gp(t):ln.r(e)}var ca=typeof document>"u"?null:document;function Fg(e,t,n){var i=ca;if(i&&typeof t=="string"&&t){var a=Et(t);a='link[rel="'+e+'"][href="'+a+'"]',typeof n=="string"&&(a+='[crossorigin="'+n+'"]'),cf.has(a)||(cf.add(a),e={rel:e,crossOrigin:n,href:t},i.querySelector(a)===null&&(t=i.createElement("link"),Ye(t,"link",e),Pe(t),i.head.appendChild(t)))}}function Fv(e){ln.D(e),Fg("dns-prefetch",e,null)}function Kv(e,t){ln.C(e,t),Fg("preconnect",e,t)}function Qv(e,t,n){ln.L(e,t,n);var i=ca;if(i&&e&&t){var a='link[rel="preload"][as="'+Et(t)+'"]';t==="image"&&n&&n.imageSrcSet?(a+='[imagesrcset="'+Et(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(a+='[imagesizes="'+Et(n.imageSizes)+'"]')):a+='[href="'+Et(e)+'"]';var o=a;switch(t){case"style":o=na(e);break;case"script":o=da(e)}_t.has(o)||(e=Te({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),_t.set(o,e),i.querySelector(a)!==null||t==="style"&&i.querySelector(Eo(o))||t==="script"&&i.querySelector(To(o))||(t=i.createElement("link"),Ye(t,"link",e),Pe(t),i.head.appendChild(t)))}}function Xv(e,t){ln.m(e,t);var n=ca;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",a='link[rel="modulepreload"][as="'+Et(i)+'"][href="'+Et(e)+'"]',o=a;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=da(e)}if(!_t.has(o)&&(e=Te({rel:"modulepreload",href:e},t),_t.set(o,e),n.querySelector(a)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(To(o)))return}i=n.createElement("link"),Ye(i,"link",e),Pe(i),n.head.appendChild(i)}}}function $v(e,t,n){ln.S(e,t,n);var i=ca;if(i&&e){var a=Li(i).hoistableStyles,o=na(e);t=t||"default";var s=a.get(o);if(!s){var u={loading:0,preload:null};if(s=i.querySelector(Eo(o)))u.loading=5;else{e=Te({rel:"stylesheet",href:e,"data-precedence":t},n),(n=_t.get(o))&&Sc(e,n);var d=s=i.createElement("link");Pe(d),Ye(d,"link",e),d._p=new Promise(function(f,m){d.onload=f,d.onerror=m}),d.addEventListener("load",function(){u.loading|=1}),d.addEventListener("error",function(){u.loading|=2}),u.loading|=4,ls(s,t,i)}s={type:"stylesheet",instance:s,count:1,state:u},a.set(o,s)}}}function Zv(e,t){ln.X(e,t);var n=ca;if(n&&e){var i=Li(n).hoistableScripts,a=da(e),o=i.get(a);o||(o=n.querySelector(To(a)),o||(e=Te({src:e,async:!0},t),(t=_t.get(a))&&bc(e,t),o=n.createElement("script"),Pe(o),Ye(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(a,o))}}function Wv(e,t){ln.M(e,t);var n=ca;if(n&&e){var i=Li(n).hoistableScripts,a=da(e),o=i.get(a);o||(o=n.querySelector(To(a)),o||(e=Te({src:e,async:!0,type:"module"},t),(t=_t.get(a))&&bc(e,t),o=n.createElement("script"),Pe(o),Ye(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(a,o))}}function df(e,t,n,i){var a=(a=En.current)?Gs(a):null;if(!a)throw Error(M(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=na(n.href),n=Li(a).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=na(n.href);var o=Li(a).hoistableStyles,s=o.get(e);if(s||(a=a.ownerDocument||a,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,s),(o=a.querySelector(Eo(e)))&&!o._p&&(s.instance=o,s.state.loading=5),_t.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},_t.set(e,n),o||eS(a,e,n,s.state))),t&&i===null)throw Error(M(528,""));return s}if(t&&i!==null)throw Error(M(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=da(n),n=Li(a).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(M(444,e))}}function na(e){return'href="'+Et(e)+'"'}function Eo(e){return'link[rel="stylesheet"]['+e+"]"}function Kg(e){return Te({},e,{"data-precedence":e.precedence,precedence:null})}function eS(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),Ye(t,"link",n),Pe(t),e.head.appendChild(t))}function da(e){return'[src="'+Et(e)+'"]'}function To(e){return"script[async]"+e}function ff(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Et(n.href)+'"]');if(i)return t.instance=i,Pe(i),i;var a=Te({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Pe(i),Ye(i,"style",a),ls(i,n.precedence,e),t.instance=i;case"stylesheet":a=na(n.href);var o=e.querySelector(Eo(a));if(o)return t.state.loading|=4,t.instance=o,Pe(o),o;i=Kg(n),(a=_t.get(a))&&Sc(i,a),o=(e.ownerDocument||e).createElement("link"),Pe(o);var s=o;return s._p=new Promise(function(u,d){s.onload=u,s.onerror=d}),Ye(o,"link",i),t.state.loading|=4,ls(o,n.precedence,e),t.instance=o;case"script":return o=da(n.src),(a=e.querySelector(To(o)))?(t.instance=a,Pe(a),a):(i=n,(a=_t.get(o))&&(i=Te({},n),bc(i,a)),e=e.ownerDocument||e,a=e.createElement("script"),Pe(a),Ye(a,"link",i),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(M(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,ls(i,n.precedence,e));return t.instance}function ls(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=i.length?i[i.length-1]:null,o=a,s=0;s<i.length;s++){var u=i[s];if(u.dataset.precedence===t)o=u;else if(o!==a)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Sc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function bc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var rs=null;function mf(e,t,n){if(rs===null){var i=new Map,a=rs=new Map;a.set(n,i)}else a=rs,i=a.get(n),i||(i=new Map,a.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var o=n[a];if(!(o[go]||o[Be]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var s=o.getAttribute(t)||"";s=e+s;var u=i.get(s);u?u.push(o):i.set(s,[o])}}return i}function hf(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function tS(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Qg(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function nS(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var a=na(i.href),o=t.querySelector(Eo(a));if(o){t=o._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ps.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=o,Pe(o);return}o=t.ownerDocument||t,i=Kg(i),(a=_t.get(a))&&Sc(i,a),o=o.createElement("link"),Pe(o);var s=o;s._p=new Promise(function(u,d){s.onload=u,s.onerror=d}),Ye(o,"link",i),n.instance=o}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Ps.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var gr=0;function iS(e,t){return e.stylesheets&&e.count===0&&us(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&us(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4+t);0<e.imgBytes&&gr===0&&(gr=62500*jv());var a=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&us(e,e.stylesheets),e.unsuspend)){var o=e.unsuspend;e.unsuspend=null,o()}},(e.imgBytes>gr?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(a)}}:null}function Ps(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)us(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var zs=null;function us(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,zs=new Map,t.forEach(aS,e),zs=null,Ps.call(e))}function aS(e,t){if(!(t.state.loading&4)){var n=zs.get(e);if(n)var i=n.get(null);else{n=new Map,zs.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<a.length;o++){var s=a[o];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),i=s)}i&&n.set(null,i)}a=t.instance,s=a.getAttribute("data-precedence"),o=n.get(s)||i,o===i&&n.set(null,a),n.set(s,a),this.count++,i=Ps.bind(this),a.addEventListener("load",i),a.addEventListener("error",i),o?o.parentNode.insertBefore(a,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(a,e.firstChild)),t.state.loading|=4}}var lo={$$typeof:Qt,Provider:null,Consumer:null,_currentValue:Qn,_currentValue2:Qn,_threadCount:0};function oS(e,t,n,i,a,o,s,u,d){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gl(0),this.hiddenUpdates=Gl(null),this.identifierPrefix=i,this.onUncaughtError=a,this.onCaughtError=o,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=d,this.incompleteTransitions=new Map}function Xg(e,t,n,i,a,o,s,u,d,f,m,p){return e=new oS(e,t,n,s,d,f,m,p,u),t=1,o===!0&&(t|=24),o=rt(3,null,null,t),e.current=o,o.stateNode=e,t=Fu(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:i,isDehydrated:n,cache:t},Xu(o),e}function $g(e){return e?(e=Ii,e):Ii}function Zg(e,t,n,i,a,o){a=$g(a),i.context===null?i.context=a:i.pendingContext=a,i=Nn(t),i.payload={element:n},o=o===void 0?null:o,o!==null&&(i.callback=o),n=An(e,i,t),n!==null&&(it(n,e,t),Pa(n,e,t))}function pf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ec(e,t){pf(e,t),(e=e.alternate)&&pf(e,t)}function Wg(e){if(e.tag===13||e.tag===31){var t=ci(e,67108864);t!==null&&it(t,e,67108864),Ec(e,67108864)}}function gf(e){if(e.tag===13||e.tag===31){var t=mt();t=Du(t);var n=ci(e,t);n!==null&&it(n,e,t),Ec(e,t)}}var Hs=!0;function sS(e,t,n,i){var a=F.T;F.T=null;var o=ue.p;try{ue.p=2,Tc(e,t,n,i)}finally{ue.p=o,F.T=a}}function lS(e,t,n,i){var a=F.T;F.T=null;var o=ue.p;try{ue.p=8,Tc(e,t,n,i)}finally{ue.p=o,F.T=a}}function Tc(e,t,n,i){if(Hs){var a=hu(i);if(a===null)hr(e,t,i,Bs,n),yf(e,i);else if(uS(a,e,t,n,i))i.stopPropagation();else if(yf(e,i),t&4&&-1<rS.indexOf(e)){for(;a!==null;){var o=sa(a);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var s=Yn(o.pendingLanes);if(s!==0){var u=o;for(u.pendingLanes|=2,u.entangledLanes|=2;s;){var d=1<<31-ft(s);u.entanglements[1]|=d,s&=~d}zt(o),!(re&6)&&(ks=ct()+500,bo(0))}}break;case 31:case 13:u=ci(o,2),u!==null&&it(u,o,2),rl(),Ec(o,2)}if(o=hu(i),o===null&&hr(e,t,i,Bs,n),o===a)break;a=o}a!==null&&i.stopPropagation()}else hr(e,t,i,null,n)}}function hu(e){return e=ju(e),Nc(e)}var Bs=null;function Nc(e){if(Bs=null,e=Ai(e),e!==null){var t=fo(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=vh(t),e!==null)return e;e=null}else if(n===31){if(e=Sh(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Bs=e,null}function ey(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fx()){case Nh:return 2;case Ah:return 8;case xs:case Kx:return 32;case Ch:return 268435456;default:return 32}default:return 32}}var pu=!1,_n=null,Mn=null,Rn=null,ro=new Map,uo=new Map,gn=[],rS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yf(e,t){switch(e){case"focusin":case"focusout":_n=null;break;case"dragenter":case"dragleave":Mn=null;break;case"mouseover":case"mouseout":Rn=null;break;case"pointerover":case"pointerout":ro.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":uo.delete(t.pointerId)}}function Ca(e,t,n,i,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[a]},t!==null&&(t=sa(t),t!==null&&Wg(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function uS(e,t,n,i,a){switch(t){case"focusin":return _n=Ca(_n,e,t,n,i,a),!0;case"dragenter":return Mn=Ca(Mn,e,t,n,i,a),!0;case"mouseover":return Rn=Ca(Rn,e,t,n,i,a),!0;case"pointerover":var o=a.pointerId;return ro.set(o,Ca(ro.get(o)||null,e,t,n,i,a)),!0;case"gotpointercapture":return o=a.pointerId,uo.set(o,Ca(uo.get(o)||null,e,t,n,i,a)),!0}return!1}function ty(e){var t=Ai(e.target);if(t!==null){var n=fo(t);if(n!==null){if(t=n.tag,t===13){if(t=vh(n),t!==null){e.blockedOn=t,ed(e.priority,function(){gf(n)});return}}else if(t===31){if(t=Sh(n),t!==null){e.blockedOn=t,ed(e.priority,function(){gf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function cs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=hu(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Dr=i,n.target.dispatchEvent(i),Dr=null}else return t=sa(n),t!==null&&Wg(t),e.blockedOn=n,!1;t.shift()}return!0}function xf(e,t,n){cs(e)&&n.delete(t)}function cS(){pu=!1,_n!==null&&cs(_n)&&(_n=null),Mn!==null&&cs(Mn)&&(Mn=null),Rn!==null&&cs(Rn)&&(Rn=null),ro.forEach(xf),uo.forEach(xf)}function Ho(e,t){e.blockedOn===t&&(e.blockedOn=null,pu||(pu=!0,Ue.unstable_scheduleCallback(Ue.unstable_NormalPriority,cS)))}var Bo=null;function vf(e){Bo!==e&&(Bo=e,Ue.unstable_scheduleCallback(Ue.unstable_NormalPriority,function(){Bo===e&&(Bo=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],a=e[t+2];if(typeof i!="function"){if(Nc(i||n)===null)continue;break}var o=sa(n);o!==null&&(e.splice(t,3),t-=3,Qr(o,{pending:!0,data:a,method:n.method,action:i},i,a))}}))}function ia(e){function t(d){return Ho(d,e)}_n!==null&&Ho(_n,e),Mn!==null&&Ho(Mn,e),Rn!==null&&Ho(Rn,e),ro.forEach(t),uo.forEach(t);for(var n=0;n<gn.length;n++){var i=gn[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<gn.length&&(n=gn[0],n.blockedOn===null);)ty(n),n.blockedOn===null&&gn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var a=n[i],o=n[i+1],s=a[at]||null;if(typeof o=="function")s||vf(n);else if(s){var u=null;if(o&&o.hasAttribute("formAction")){if(a=o,s=o[at]||null)u=s.formAction;else if(Nc(a)!==null)continue}else u=s.action;typeof u=="function"?n[i+1]=u:(n.splice(i,3),i-=3),vf(n)}}}function ny(){function e(o){o.canIntercept&&o.info==="react-transition"&&o.intercept({handler:function(){return new Promise(function(s){return a=s})},focusReset:"manual",scroll:"manual"})}function t(){a!==null&&(a(),a=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var o=navigation.currentEntry;o&&o.url!=null&&navigation.navigate(o.url,{state:o.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),a!==null&&(a(),a=null)}}}function Ac(e){this._internalRoot=e}dl.prototype.render=Ac.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));var n=t.current,i=mt();Zg(n,i,e,t,null,null)};dl.prototype.unmount=Ac.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zg(e.current,2,null,e,null,null),rl(),t[oa]=null}};function dl(e){this._internalRoot=e}dl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ih();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gn.length&&t!==0&&t<gn[n].priority;n++);gn.splice(n,0,e),n===0&&ty(e)}};var Sf=yh.version;if(Sf!=="19.2.0")throw Error(M(527,Sf,"19.2.0"));ue.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=Px(t),e=e!==null?bh(e):null,e=e===null?null:e.stateNode,e};var dS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oo.isDisabled&&Oo.supportsFiber)try{mo=Oo.inject(dS),dt=Oo}catch{}}Ks.createRoot=function(e,t){if(!xh(e))throw Error(M(299));var n=!1,i="",a=Fp,o=Kp,s=Qp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(a=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Xg(e,1,!1,null,null,n,i,null,a,o,s,ny),e[oa]=t.current,vc(e),new Ac(t)};Ks.hydrateRoot=function(e,t,n){if(!xh(e))throw Error(M(299));var i=!1,a="",o=Fp,s=Kp,u=Qp,d=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(u=n.onRecoverableError),n.formState!==void 0&&(d=n.formState)),t=Xg(e,1,!0,t,n??null,i,a,d,o,s,u,ny),t.context=$g(null),n=t.current,i=mt(),i=Du(i),a=Nn(i),a.callback=null,An(n,a,i),n=i,t.current.lanes=n,po(t,n),zt(t),e[oa]=t.current,vc(e),new dl(t)};Ks.version="19.2.0";function iy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iy)}catch(e){console.error(e)}}iy(),dh.exports=Ks;var fS=dh.exports;const mS=eh(fS),hS=({className:e})=>l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}),pS=({className:e})=>l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}),ay=({className:e})=>l.jsxs("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),ds=({className:e})=>l.jsxs("svg",{className:e,fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9a9.75 9.75 0 011.05-4.383 9.75 9.75 0 014.383-1.05h.134a9.75 9.75 0 014.383 1.05 9.75 9.75 0 011.05 4.383z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 1.5v6.75m0 0l-3-3m3 3l3-3M5.25 9.75A9.75 9.75 0 0112 4.5a9.75 9.75 0 016.75 5.25"})]}),Ee=({className:e})=>l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})}),fs={name:"Islamic Blue & Gold",light:{primary:"#2563eb",background:"#f8fafd",card:"#ffffff",textPrimary:"#1f2937",textSecondary:"#6b7280",border:"#e5e7eb",backgroundStart:"#f8fafd",backgroundEnd:"#eef4ff"},dark:{primary:"#f59e0b",background:"#111827",card:"#1f2937",textPrimary:"#f9fafb",textSecondary:"#a1a1aa",border:"#3f3f46",backgroundStart:"#111827",backgroundEnd:"#25210f"}},gS=[fs,{name:"Emerald Green",light:{primary:"#059669",background:"#f9fafb",card:"#ffffff",textPrimary:"#1f2937",textSecondary:"#6b7280",border:"#e5e7eb",backgroundStart:"#f9fafb",backgroundEnd:"#f0fdf4"},dark:{primary:"#10b981",background:"#111827",card:"#1f2937",textPrimary:"#f9fafb",textSecondary:"#a1a1aa",border:"#3f3f46",backgroundStart:"#111827",backgroundEnd:"#064e3b"}},{name:"Royal Purple",light:{primary:"#7c3aed",background:"#f9fafb",card:"#ffffff",textPrimary:"#1f2937",textSecondary:"#6b7280",border:"#e5e7eb",backgroundStart:"#f9fafb",backgroundEnd:"#f5f3ff"},dark:{primary:"#8b5cf6",background:"#111827",card:"#1f2937",textPrimary:"#f9fafb",textSecondary:"#a1a1aa",border:"#3f3f46",backgroundStart:"#1e1b4b",backgroundEnd:"#312e81"}}],yS=({currentTheme:e,onThemeChange:t})=>{const[n,i]=b.useState(!1),a=b.useRef(null);return b.useEffect(()=>{function o(s){a.current&&!a.current.contains(s.target)&&i(!1)}return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[a]),l.jsxs("div",{ref:a,className:"relative",children:[l.jsx("button",{onClick:()=>i(!n),className:"w-6 h-6 rounded-full border-2 border-border-color",style:{backgroundColor:e.light.primary},"aria-label":"Change theme"}),n&&l.jsx("div",{className:"absolute top-full right-0 mt-2 p-2 bg-card rounded-lg shadow-lg border border-border-color z-20",children:l.jsx("div",{className:"flex gap-3",children:gS.map(o=>l.jsx("button",{onClick:()=>{t(o),i(!1)},className:`w-8 h-8 rounded-full transition-transform hover:scale-110 ${!o.isCustom&&e.name===o.name?"ring-2 ring-primary ring-offset-2 dark:ring-offset-card":""}`,style:{backgroundColor:o.light.primary},"aria-label":`Select ${o.name} theme`},o.name))})})]})},xS={home:"رونق",audio:"أنصت",reading:"اقرأ",quiz:"فقه وحكمة",asbab:"تدبر",kids:"عالم الطفل",ronaq_mind:"Ronaq Mind",history:"اعرف تاريخك"},vS=({reciters:e,selectedReciter:t,onReciterChange:n,isDarkMode:i,onToggleDarkMode:a,onSettingsClick:o,onChallengeClick:s,currentPage:u,onNavigate:d,currentTheme:f,onThemeChange:m})=>{const p=h=>{const g=h.target.value,v=e.find(E=>E.identifier===g);v&&n(v)};return l.jsx("header",{className:"bg-card/70 dark:bg-card/70 backdrop-blur-lg sticky top-0 z-10 shadow-sm",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex items-center justify-between h-16",children:[l.jsxs("div",{className:"flex-1 flex items-center",children:[u!=="home"&&l.jsx("button",{onClick:()=>d("home"),className:"p-2 -ml-2 rounded-full text-text-secondary hover:bg-border-color","aria-label":"العودة للصفحة الرئيسية",children:l.jsx(Ee,{className:"w-6 h-6"})}),l.jsx("h1",{className:"text-2xl font-bold text-text-primary mr-2",children:xS[u]})]}),l.jsx("div",{className:"flex-1 text-center truncate",children:u!=="audio"&&l.jsxs("select",{value:(t==null?void 0:t.identifier)||"",onChange:p,disabled:!t||e.length===0,className:"bg-background dark:bg-card border border-border-color text-text-primary text-sm rounded-lg focus:ring-primary focus:border-primary block w-full max-w-[200px] sm:max-w-xs p-2.5 mx-auto",children:[e.length===0&&l.jsx("option",{children:"Loading..."}),e.map(h=>l.jsx("option",{value:h.identifier,children:h.name},h.identifier))]})}),l.jsxs("div",{className:"flex flex-1 items-center justify-end space-x-1 sm:space-x-2",children:[l.jsx(yS,{currentTheme:f,onThemeChange:m}),l.jsx("button",{onClick:a,className:"p-2 rounded-full text-text-secondary hover:bg-border-color focus:outline-none","aria-label":"Toggle dark mode",children:i?l.jsx(hS,{className:"w-6 h-6"}):l.jsx(pS,{className:"w-6 h-6"})}),l.jsx("button",{onClick:s,className:"p-2 rounded-full text-text-secondary hover:bg-border-color focus:outline-none","aria-label":"Quran Challenge",children:l.jsx(ds,{className:"w-6 h-6"})}),l.jsx("button",{onClick:o,className:"p-2 rounded-full text-text-secondary hover:bg-border-color focus:outline-none","aria-label":"Settings",children:l.jsx(ay,{className:"w-6 h-6"})})]})]})})})},oi=({className:e})=>l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),bf=({className:e})=>l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),SS=({className:e})=>l.jsxs("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 19.5A2.5 2.5 0 016.5 17H20"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.5 2H20v20H6.5A2.5 2.5 0 014 19.5v-15A2.5 2.5 0 016.5 2z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 7v6m0 0l-2-2m2 2l2-2"})]}),bS=({className:e})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})}),oy=({className:e})=>l.jsxs("svg",{className:e,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("style",{children:`
                .wave-bar1 { animation: wave 1.2s linear infinite; animation-delay: 0s; }
                .wave-bar2 { animation: wave 1.2s linear infinite; animation-delay: 0.2s; }
                .wave-bar3 { animation: wave 1.2s linear infinite; animation-delay: 0.4s; }
                .wave-bar4 { animation: wave 1.2s linear infinite; animation-delay: 0.6s; }
                @keyframes wave {
                    0% { transform: scaleY(0.3); }
                    20% { transform: scaleY(1); }
                    40% { transform: scaleY(0.3); }
                    100% { transform: scaleY(0.3); }
                }
            `}),l.jsx("rect",{className:"wave-bar1",x:"4",y:"6",width:"2",height:"12",rx:"1",fill:"currentColor",style:{transformOrigin:"center"}}),l.jsx("rect",{className:"wave-bar2",x:"9",y:"6",width:"2",height:"12",rx:"1",fill:"currentColor",style:{transformOrigin:"center"}}),l.jsx("rect",{className:"wave-bar3",x:"14",y:"6",width:"2",height:"12",rx:"1",fill:"currentColor",style:{transformOrigin:"center"}}),l.jsx("rect",{className:"wave-bar4",x:"19",y:"6",width:"2",height:"12",rx:"1",fill:"currentColor",style:{transformOrigin:"center"}})]}),fl=({className:e})=>l.jsx("svg",{className:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M8 5.14v14l11-7-11-7z"})}),Cc=({className:e})=>l.jsx("svg",{className:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"})}),ES=({surahs:e,onSurahSelect:t,currentSurahId:n,isPlaying:i,bookmarks:a,selectedReciter:o,downloadedTafsir:s,tafsirDownloadProgress:u,onDownloadTafsir:d,onCancelTafsirDownload:f,downloadedAudio:m,audioDownloadProgress:p,onDownloadAudio:h,onCancelAudioDownload:g})=>l.jsx("div",{className:"px-4 sm:px-6 lg:px-8 pt-4 pb-8",children:l.jsx("div",{className:"space-y-3",children:e.map(v=>{const E=n===v.id,N=s.has(v.id),x=u[v.id],y=x!==void 0,S=`${o==null?void 0:o.identifier}-${v.id}`,T=m.has(S),A=p[S],_=A!==void 0,w=()=>N?l.jsx("div",{className:"p-2",children:l.jsx(oi,{className:"w-5 h-5 text-primary"})}):y?l.jsxs("div",{className:"flex items-center",children:[l.jsxs("div",{className:"w-8 text-center text-xs font-mono text-text-secondary",role:"progressbar","aria-valuenow":x,children:[x,"%"]}),l.jsx("button",{onClick:O=>{O.stopPropagation(),f(v)},className:"p-1 text-red-500 hover:bg-red-500/10 rounded-full","aria-label":"Cancel tafsir download",children:l.jsx(bf,{className:"w-4 h-4"})})]}):l.jsx("button",{onClick:O=>{O.stopPropagation(),d(v)},className:"p-2 text-text-secondary hover:text-primary transition-colors rounded-full","aria-label":"Download tafsir",children:l.jsx(SS,{className:"w-5 h-5"})}),U=()=>o?T?l.jsx("div",{className:"p-2",children:l.jsx(oi,{className:"w-5 h-5 text-green-500"})}):_?l.jsxs("div",{className:"flex items-center",children:[l.jsxs("div",{className:"w-8 text-center text-xs font-mono text-text-secondary",role:"progressbar","aria-valuenow":A,children:[A,"%"]}),l.jsx("button",{onClick:O=>{O.stopPropagation(),g(v,o)},className:"p-1 text-red-500 hover:bg-red-500/10 rounded-full","aria-label":"Cancel audio download",children:l.jsx(bf,{className:"w-4 h-4"})})]}):l.jsx("button",{onClick:O=>{O.stopPropagation(),h(v,o)},className:"p-2 text-text-secondary hover:text-primary transition-colors rounded-full","aria-label":"Download audio",children:l.jsx(bS,{className:"w-5 h-5"})}):null,I=E&&i,q=()=>l.jsx("button",{onClick:O=>{O.stopPropagation(),t(v)},className:`p-2 rounded-full transition-colors ${I?"text-primary":"text-text-secondary hover:text-primary"}`,"aria-label":I?`Pause ${v.name}`:`Play ${v.name}`,children:I?l.jsx(Cc,{className:"w-5 h-5"}):l.jsx(fl,{className:"w-5 h-5"})});return l.jsxs("div",{onClick:()=>t(v),className:`group relative p-4 rounded-lg transition-all duration-300 flex items-center justify-between cursor-pointer border ${E?"bg-card border-primary shadow-lg shadow-primary/10":"bg-card/60 border-border-color/50 hover:border-border-color hover:bg-card"}`,children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`w-12 h-12 flex items-center justify-center rounded-lg text-lg font-bold ml-4 transition-colors ${E?"bg-primary text-black":"bg-background text-text-primary"}`,children:v.id}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold font-amiri-quran text-2xl text-text-primary",children:v.name}),l.jsxs("div",{className:"text-xs text-text-secondary flex items-center gap-2",children:[l.jsx("span",{children:v.revelationType==="Meccan"?"مكية":"مدنية"}),l.jsx("span",{children:"•"}),l.jsxs("span",{children:[v.numberOfAyahs," آيات"]})]})]})]}),l.jsxs("div",{className:"flex items-center justify-between w-36",children:[l.jsx(q,{}),w(),U()]}),E&&i&&l.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 left-4 h-full flex items-center",children:l.jsx(oy,{className:"w-5 h-5 text-primary"})})]},v.id)})})}),TS=({className:e})=>l.jsx("svg",{className:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"})}),NS=({className:e})=>l.jsx("svg",{className:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M6 6h2v12H6V6zm3.5 6l8.5 6V6l-8.5 6z"})}),AS=({className:e})=>l.jsxs("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h5M20 11a8.1 8.1 0 00-15.5 2m.5-6H20v5h-5"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 4l5 5-5 5"})]}),CS=({surah:e,reciter:t,isPlaying:n,onPlayPause:i,onNext:a,onPrev:o,onEnded:s,audioSrc:u,currentAyah:d,totalAyahs:f,onDurationChange:m,onTimeUpdate:p,seekToTime:h,onSeeked:g})=>{const v=b.useRef(null),[E,N]=b.useState(0),[x,y]=b.useState(0),[S,T]=b.useState(0),[A,_]=b.useState(!1);b.useEffect(()=>{v.current&&(v.current.loop=A)},[A]),b.useEffect(()=>{const j=v.current;if(!j)return;const V=()=>{j.volume=0;const D=j.play();D!==void 0&&D.then(()=>{let K=0;const k=setInterval(()=>{K+=.1,K>=1?(j.volume=1,clearInterval(k)):j.volume=K},150)}).catch(K=>{K.name!=="AbortError"&&console.error("Audio play failed during fade-in",K)})};if(u)if(j.src!==u&&(j.src=u,y(0),T(0),N(0)),n)if(h!==null)V();else{j.volume=1;const D=j.play();D!==void 0&&D.catch(K=>{K.name!=="AbortError"&&console.error("Audio play failed",K)})}else j.pause();else j.pause(),j.src=""},[n,u,h]);const w=()=>{if(v.current){const{currentTime:j,duration:V}=v.current;y(j),p(j),V&&N(j/V*100)}},U=()=>{if(v.current){N(0);const j=v.current.duration;isFinite(j)&&(T(j),m(j)),h!==null&&(v.current.currentTime=h)}},I=()=>{A||s()},q=j=>{if(v.current&&S>0){const V=j.currentTarget.getBoundingClientRect(),D=j.clientX-V.left,K=V.width;v.current.currentTime=D/K*S}},O=j=>{if(isNaN(j)||j<0)return"0:00";const V=Math.floor(j/60),D=Math.floor(j%60);return`${V}:${D.toString().padStart(2,"0")}`};return e?l.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-background/80 backdrop-blur-lg shadow-t-lg z-20 border-t border-border-color/50",children:[l.jsx("audio",{ref:v,onEnded:I,onTimeUpdate:w,onLoadedMetadata:U,onSeeked:g}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"flex items-center min-w-0 w-1/4",children:l.jsxs("div",{className:"mr-4 truncate",children:[l.jsx("p",{className:"font-semibold text-text-primary font-amiri-quran text-lg truncate",children:e.name}),l.jsx("p",{className:"text-sm text-text-secondary truncate",children:t.name})]})}),l.jsxs("div",{className:"flex flex-col items-center justify-center flex-grow mx-4",children:[l.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[l.jsx("button",{onClick:o,className:"p-2 rounded-full text-text-primary hover:bg-border-color focus:outline-none","aria-label":"Previous Surah",children:l.jsx(NS,{className:"w-7 h-7"})}),l.jsx("button",{onClick:i,className:"p-4 rounded-full bg-primary text-background shadow-lg hover:opacity-90 focus:outline-none","aria-label":n?"Pause":"Play",children:n?l.jsx(Cc,{className:"w-8 h-8"}):l.jsx(fl,{className:"w-8 h-8"})}),l.jsx("button",{onClick:a,className:"p-2 rounded-full text-text-primary hover:bg-border-color focus:outline-none","aria-label":"Next Surah",children:l.jsx(TS,{className:"w-7 h-7"})})]}),l.jsxs("div",{className:"w-full flex items-center gap-2 mt-3",children:[l.jsx("span",{className:"text-xs font-mono text-text-secondary w-10 text-center",children:O(x)}),l.jsx("div",{className:"w-full bg-border-color rounded-full h-2 cursor-pointer group",onClick:q,role:"slider","aria-valuenow":E,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"Audio progress",children:l.jsx("div",{className:"bg-primary h-2 rounded-full relative",style:{width:`${E}%`},children:l.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 translate-x-1/2 w-4 h-4 bg-white rounded-full shadow border-2 border-primary transition-transform group-hover:scale-110"})})}),l.jsx("span",{className:"text-xs font-mono text-text-secondary w-10 text-center",children:O(S)})]})]}),l.jsxs("div",{className:"w-1/4 flex items-center justify-end",children:[l.jsx("button",{onClick:()=>_(j=>!j),className:`p-2 rounded-full hover:bg-border-color focus:outline-none ${A?"text-primary":"text-text-secondary"}`,"aria-label":"Repeat Ayah",children:l.jsx(AS,{className:"w-6 h-6"})}),f>0&&d&&l.jsxs("p",{className:"text-sm text-text-secondary mr-2",children:[d.numberInSurah,"/",f]})]})]})})]}):null},wS=({className:e,isFilled:t})=>l.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:t?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx("path",{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"})}),_S=({surah:e,currentAyah:t,showTafsir:n,onToggleTafsir:i,tafsirText:a,isTafsirLoading:o,isTafsirError:s,bookmarks:u,onToggleBookmark:d})=>{const f=!!(t&&u[e.id]===t.numberInSurah),m=t&&t.numberInSurah===1&&e.id!==1&&e.id!==9,p=()=>t?m?t.text.replace(/^بِسْمِ ٱللَّهِ ٱلرَّحْمَٰنِ ٱلرَّحِيمِ\s*/,""):t.text:"",h=({active:g,onClick:v,children:E})=>l.jsx("button",{onClick:v,className:`px-4 py-2 text-sm font-semibold rounded-md transition-colors ${g?"bg-primary text-black":"text-text-secondary hover:bg-border-color"}`,children:E});return l.jsx("div",{className:"px-4 sm:px-6 lg:px-8 pt-6",children:l.jsxs("div",{className:"bg-card rounded-xl shadow-lg border border-border-color p-6 animate-fade-in",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("div",{className:"flex items-center gap-4",children:l.jsx(h,{active:n,onClick:i,children:"التفسير"})}),l.jsx("div",{className:"flex items-center space-x-2",children:l.jsx("button",{onClick:()=>t&&d(e.id,t.numberInSurah),disabled:!t,className:`p-2 rounded-full transition-colors ${f?"text-primary bg-primary/20":"text-text-secondary hover:bg-primary/10"}`,"aria-label":f?"Remove bookmark":"Add bookmark",children:l.jsx(wS,{className:"w-6 h-6",isFilled:f})})})]}),l.jsxs("div",{className:"border-t border-border-color pt-4 mt-4",children:[l.jsx("div",{className:"flex items-center justify-center p-4",children:t?l.jsxs("div",{className:"text-center",children:[m&&l.jsx("p",{className:"text-2xl md:text-3xl font-amiri-quran text-text-primary leading-loose mb-4",children:"بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ"}),l.jsxs("p",{className:"text-3xl md:text-4xl font-amiri-quran text-text-primary leading-loose",children:[p(),l.jsxs("span",{className:"font-sans text-lg align-middle mx-2 p-1 text-primary",children:["(",t.numberInSurah,")"]})]},t.number)]}):l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-text-secondary text-lg",children:"اختر سورة للبدء."}),l.jsx("p",{className:"text-sm text-text-secondary",children:"من القائمة على اليسار"})]})}),n&&l.jsx("div",{className:"mt-4 border-t border-border-color/50 pt-4 animate-fade-in",children:l.jsxs("div",{className:"flex flex-col justify-center",children:[l.jsxs("h4",{className:"font-semibold mb-2 text-text-primary",children:["التفسير الميسر للآية ",t==null?void 0:t.numberInSurah]}),l.jsx("div",{className:"flex-grow flex items-center justify-center rounded-lg bg-background p-4 min-h-[8rem]",children:o?l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary",role:"status",children:l.jsx("span",{className:"sr-only",children:"Loading..."})}):s?l.jsx("p",{className:"text-red-500 text-center",children:a}):a&&l.jsx("p",{className:"text-text-secondary max-w-none leading-relaxed text-right",children:a})})]})})]})]})})},Ef=({className:e})=>l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),ml=({className:e})=>l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),Bi={Australia:["Sydney","Melbourne","Brisbane","Perth","Adelaide","Gold Coast","Canberra","Newcastle","Wollongong","Logan City"],Canada:["Toronto","Montreal","Vancouver","Calgary","Edmonton","Ottawa","Mississauga","Winnipeg","Quebec City","Hamilton"],Egypt:["Cairo","Alexandria","Giza","Shubra El-Kheima","Port Said","Suez","Luxor","al-Mansura","El-Mahalla El-Kubra","Tanta","Asyut","Ismailia","Fayyum","Zagazig","Aswan","Damietta","Damanhur","al-Minya","Beni Suef","Qena","Sohag","Hurghada","6th of October City","Shibin El Kom","Banha","Kafr el-Sheikh","Arish","Mallawi","10th of Ramadan City","Bilbais","Marsa Matruh","Idfu","Mit Ghamr","Al-Hamidiyya","Desouk","Qalyub","Abu Kabir","Kafr el-Dawwar","Jirja","Akhmim","Matareya"],India:["Delhi","Mumbai","Kolkata","Bangalore","Chennai","Hyderabad","Pune","Ahmedabad","Surat","Lucknow"],Indonesia:["Jakarta","Surabaya","Bandung","Medan","Bekasi","Tangerang","Depok","Semarang","Palembang","Makassar"],Malaysia:["Kuala Lumpur","George Town","Ipoh","Shah Alam","Petaling Jaya","Johor Bahru","Malacca City","Kota Kinabalu","Alor Setar","Kuantan"],Pakistan:["Karachi","Lahore","Faisalabad","Rawalpindi","Gujranwala","Peshawar","Multan","Hyderabad","Islamabad","Quetta"],"Saudi Arabia":["Riyadh","Jeddah","Mecca","Medina","Sultanah","Dammam","Ta'if","Tabuk","Al Kharj","Buraidah","Khamis Mushait","Al Hufuf","Al Mubarraz","Hafar Al-Batin","Ha'il","Najran","Al Jubayl","Abha","Yanbu","Al Qunfudhah","Sabya","Jizan","Al Bahah","Skaka"],"United Arab Emirates":["Dubai","Abu Dhabi","Sharjah","Al Ain","Ajman","Ras Al Khaimah","Fujairah","Umm Al Quwain","Khor Fakkan","Dibba Al-Fujairah"],"United Kingdom":["London","Birmingham","Glasgow","Liverpool","Bristol","Manchester","Sheffield","Leeds","Edinburgh","Leicester"],"United States":["New York","Los Angeles","Chicago","Houston","Phoenix","Philadelphia","San Antonio","San Diego","Dallas","San Jose","Austin","Jacksonville","Fort Worth","Columbus","Charlotte","San Francisco","Indianapolis","Seattle","Denver","Washington"]},Tf=["سبحان الله وبحمده، سبحان الله العظيم","لا إله إلا الله وحده لا شريك له، له الملك وله الحمد وهو على كل شيء قدير","اللهم صلِّ وسلِّم على نبينا محمد","أستغفر الله العظيم وأتوب إليه","سبحان الله، والحمد لله، ولا إله إلا الله، والله أكبر","لا حول ولا قوة إلا بالله","اللهم أعنِّي على ذكرك وشكرك وحسن عبادتك","يا حي يا قيوم برحمتك أستغيث","رضيت بالله ربًا، وبالإسلام دينًا، وبمحمدٍ نبيًا"],MS={1:1,2:2,3:50,4:77,5:106,6:128,7:151,8:177,9:187,10:208,11:221,12:235,13:249,14:255,15:262,16:267,17:282,18:293,19:305,20:312,21:322,22:332,23:342,24:350,25:359,26:367,27:377,28:385,29:396,30:404,31:411,32:415,33:418,34:428,35:434,36:440,37:446,38:453,39:458,40:467,41:477,42:483,43:489,44:496,45:499,46:502,47:507,48:511,49:515,50:518,51:520,52:523,53:526,54:528,55:531,56:534,57:537,58:542,59:545,60:549,61:551,62:553,63:554,64:556,65:558,66:560,67:562,68:564,69:566,70:568,71:570,72:572,73:574,74:575,75:577,76:578,77:580,78:582,79:583,80:585,81:586,82:587,83:587,84:589,85:590,86:591,87:591,88:592,89:593,90:594,91:595,92:595,93:596,94:596,95:597,96:597,97:598,98:598,99:599,100:599,101:600,102:600,103:601,104:601,105:601,106:602,107:602,108:602,109:603,110:603,111:603,112:604,113:604,114:604},sy=[{id:1,name:"Muslim World League"},{id:2,name:"ISNA (North America)"},{id:3,name:"Egyptian General Authority"},{id:4,name:"Umm Al-Qura, Makkah"},{id:5,name:"University of Islamic Sciences, Karachi"},{id:0,name:"Shia Ithna-Ansari"},{id:7,name:"Institute of Geophysics, University of Tehran"},{id:8,name:"Kuwait"},{id:9,name:"Qatar"},{id:10,name:"Singapore"},{id:11,name:"Union Organization islamic de France"},{id:12,name:"Diyanet İşleri Başkanlığı, Turkey"},{id:13,name:"Spiritual Administration of Muslims of Russia"},{id:14,name:"Moonsighting Committee Worldwide"},{id:15,name:"Dubai"}],RS=({isOpen:e,onClose:t,remindersEnabled:n,onToggleReminders:i,currentSettings:a,onSaveSettings:o,azkarSettings:s,onAzkarSettingsChange:u,surahs:d,downloadedTafsir:f,onDeleteTafsir:m})=>{const[p,h]=b.useState((a==null?void 0:a.country)||""),[g,v]=b.useState((a==null?void 0:a.region)||""),[E,N]=b.useState((a==null?void 0:a.method)??3),[x,y]=b.useState(""),[S,T]=b.useState(!1),[A,_]=b.useState(!1),w=b.useMemo(()=>Object.keys(Bi).sort(),[]),U=b.useMemo(()=>p&&Bi[p]?Bi[p].sort():[],[p]);b.useEffect(()=>{e&&(h((a==null?void 0:a.country)||""),v((a==null?void 0:a.region)||""),N((a==null?void 0:a.method)??3),y(""),typeof Notification<"u"&&Notification.permission==="default"?_(!0):_(!1))},[e,a]);const I=D=>{const K=D.target.value;h(K),v("")},q=()=>{if(!p||!g){y("Please complete all location selections.");return}y(""),o({country:p,region:g,method:E})},O=()=>{if(!s.isEnabled){if(typeof Notification>"u"){alert("هذا المتصفح لا يدعم الإشعارات.");return}Notification.permission==="granted"?(u({...s,isEnabled:!0}),T(!0)):Notification.permission!=="denied"?Notification.requestPermission().then(K=>{K==="granted"?(u({...s,isEnabled:!0}),T(!0),_(!1)):alert("لتمكين الإشعارات، يرجى منح الإذن.")}):alert("تم حظر الإشعارات. يرجى تفعيلها من إعدادات المتصفح.")}else u({...s,isEnabled:!1})},j=()=>{typeof Notification<"u"&&Notification.permission==="default"&&Notification.requestPermission().then(()=>{_(!1)})},V=b.useMemo(()=>d.filter(D=>f.has(D.id)),[d,f]);return e?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 bg-black/75 flex items-center justify-center z-50 animate-fade-in",onClick:t,children:l.jsxs("div",{className:"bg-card rounded-lg shadow-xl p-6 sm:p-8 w-full max-w-md m-4",onClick:D=>D.stopPropagation(),children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-text-primary",children:"الإعدادات"}),l.jsx("button",{onClick:t,className:"text-text-secondary text-3xl leading-none hover:text-text-primary",children:"×"})]}),x&&l.jsx("p",{className:"text-red-500 text-center mb-4 text-sm",children:x}),l.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2 custom-scrollbar",children:[A&&l.jsxs("div",{className:"p-3 bg-blue-500/10 text-blue-800 dark:text-blue-300 rounded-lg flex items-start gap-3 animate-fade-in",children:[l.jsx(Ef,{className:"w-5 h-5 mt-1 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold",children:"تفعيل التنبيهات"}),l.jsx("p",{className:"text-xs mt-1",children:"للاستفادة من تنبيهات الصلاة والأذكار، يرجى تمكين الإشعارات."}),l.jsx("button",{onClick:j,className:"mt-2 text-xs font-bold bg-blue-200 dark:bg-blue-800/50 text-blue-800 dark:text-blue-200 px-3 py-1 rounded-md hover:bg-blue-300 dark:hover:bg-blue-800",children:"تمكين الإشعارات"})]})]}),l.jsxs("div",{className:"p-3 bg-background rounded-lg space-y-3",children:[l.jsx("h3",{className:"font-medium text-text-primary",children:"إعدادات التنبيهات"}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("label",{htmlFor:"reminders-toggle",className:"text-sm text-text-primary",children:"تنبيهات الصلاة"}),l.jsx("button",{role:"switch","aria-checked":n,onClick:i,className:`${n?"bg-primary":"bg-border-color"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none`,children:l.jsx("span",{className:`${n?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("label",{htmlFor:"azkar-toggle",className:"text-sm text-text-primary",children:"تنبيهات الأذكار"}),l.jsx("button",{role:"switch","aria-checked":s.isEnabled,onClick:O,className:`${s.isEnabled?"bg-primary":"bg-border-color"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none`,children:l.jsx("span",{className:`${s.isEnabled?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),s.isEnabled&&l.jsxs("div",{className:"flex items-center justify-between animate-fade-in pl-2",children:[l.jsx("label",{htmlFor:"azkar-frequency",className:"text-xs text-text-secondary",children:"التكرار"}),l.jsxs("select",{id:"azkar-frequency",value:s.frequency,onChange:D=>u({...s,frequency:Number(D.target.value)}),className:"bg-card border border-border-color text-text-primary text-xs rounded-md focus:ring-primary focus:border-primary block p-1",children:[l.jsx("option",{value:1,children:"كل ساعة"}),l.jsx("option",{value:3,children:"كل 3 ساعات"}),l.jsx("option",{value:12,children:"مرتين يوميًا"})]})]})]}),l.jsxs("div",{className:"p-3 bg-background rounded-lg space-y-3",children:[l.jsx("h3",{className:"font-medium text-text-primary",children:"إدارة المحتوى المحمّل"}),l.jsx("div",{className:"max-h-40 overflow-y-auto space-y-2",children:V.length>0?V.map(D=>l.jsxs("div",{className:"p-2 bg-card rounded",children:[l.jsx("span",{className:"text-sm font-amiri-quran font-semibold",children:D.name}),l.jsx("div",{className:"pl-4 mt-1 space-y-1",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-xs text-text-secondary",children:"تفسير"}),l.jsx("button",{onClick:()=>m(D.id),className:"text-red-500 hover:text-red-700 p-1 rounded-full","aria-label":`Delete tafsir for ${D.name}`,children:l.jsx(ml,{className:"w-4 h-4"})})]})})]},D.id)):l.jsx("p",{className:"text-xs text-text-secondary text-center p-4",children:"لا يوجد محتوى محمّل."})})]}),l.jsxs("div",{className:"p-3 bg-background rounded-lg space-y-3",children:[l.jsx("h3",{className:"font-medium text-text-primary",children:"الموقع وطريقة الحساب"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"settings-country",className:"block text-xs font-medium text-text-secondary",children:"الدولة"}),l.jsxs("select",{id:"settings-country",value:p,onChange:I,className:"mt-1 block w-full bg-card border border-border-color rounded-md py-1 px-2 text-sm focus:outline-none focus:ring-1 focus:ring-primary focus:border-primary",children:[l.jsx("option",{value:"",children:"اختر الدولة"}),w.map(D=>l.jsx("option",{value:D,children:D},D))]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"settings-region",className:"block text-xs font-medium text-text-secondary",children:"المدينة/المنطقة"}),l.jsxs("select",{id:"settings-region",value:g,onChange:D=>v(D.target.value),disabled:!p,className:"mt-1 block w-full bg-card border border-border-color rounded-md py-1 px-2 text-sm focus:outline-none focus:ring-1 focus:ring-primary focus:border-primary",children:[l.jsx("option",{value:"",children:p?"اختر المدينة/المنطقة":"اختر الدولة أولاً"}),U.map(D=>l.jsx("option",{value:D,children:D},D))]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"settings-method",className:"block text-xs font-medium text-text-secondary",children:"طريقة الحساب"}),l.jsx("select",{id:"settings-method",value:E,onChange:D=>N(Number(D.target.value)),className:"mt-1 block w-full bg-card border border-border-color rounded-md py-1 px-2 text-sm focus:outline-none focus:ring-1 focus:ring-primary focus:border-primary",children:sy.map(D=>l.jsx("option",{value:D.id,children:D.name},D.id))})]}),l.jsx("button",{onClick:q,className:"w-full mt-2 bg-primary/20 text-primary font-bold py-1.5 px-4 rounded-md hover:bg-primary/30 focus:outline-none",children:"حفظ الإعدادات"})]})]})]}),l.jsx("div",{className:"mt-8 text-center",children:l.jsx("button",{onClick:t,className:"bg-primary text-white font-bold py-2 px-6 rounded-md hover:opacity-90 focus:outline-none",children:"تم"})})]})}),S&&l.jsx("div",{className:"fixed inset-0 bg-black/75 flex items-center justify-center z-[60]",onClick:()=>T(!1),children:l.jsxs("div",{className:"bg-card rounded-lg shadow-xl p-6 w-full max-w-sm m-4 text-center",onClick:D=>D.stopPropagation(),children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:l.jsx(Ef,{className:"w-6 h-6 text-primary"})})}),l.jsx("h3",{className:"text-lg font-bold text-text-primary mb-3",children:"تنبيه هام"}),l.jsx("p",{className:"text-sm text-text-secondary mb-5",children:"لضمان وصول إشعارات الأذكار بانتظام، قد تحتاج إلى استثناء التطبيق من إعدادات توفير البطارية على جهازك."}),l.jsx("button",{onClick:()=>T(!1),className:"bg-primary text-white font-bold py-2 px-6 rounded-md hover:opacity-90 w-full",children:"حسنًا، فهمت"})]})})]}):null},Nf=6236,IS=()=>new Date().toISOString().split("T")[0],kS=({isOpen:e,onClose:t,challenge:n,onUpdateChallenge:i})=>{const[a,o]=b.useState(30),s=()=>{const g={isActive:!0,isPaused:!1,startDate:new Date().toISOString(),durationDays:a,progress:{},completedAyahs:{}};i(g)},u=()=>{window.confirm("هل أنت متأكد من رغبتك في إعادة تعيين التحدي؟ سيتم حذف كل تقدمك.")&&i(null)},d=()=>{n&&i({...n,isPaused:!n.isPaused})},f=()=>{const g=window.prompt("أدخل المدة الجديدة بالأيام:",String((n==null?void 0:n.durationDays)||30));if(g){const v=parseInt(g,10);!isNaN(v)&&v>0&&n&&i({...n,durationDays:v})}},m=b.useMemo(()=>{if(!n||!n.isActive)return null;const g=Object.values(n.completedAyahs||{}).flat().length,v=Nf-g,E=Math.min(100,g/Nf*100),N=new Date(n.startDate),y=new Date(IS()).getTime()-N.getTime(),S=Math.max(0,Math.floor(y/(1e3*3600*24))),T=Math.max(0,n.durationDays-S),A=T>0?Math.ceil(v/T):v;return{totalCompleted:g,ayahsRemaining:v,overallProgress:E,daysElapsed:S,daysRemaining:T,requiredPace:A}},[n]);if(!e)return null;const p=()=>l.jsxs("div",{className:"text-center",children:[l.jsx("h3",{className:"text-xl font-bold text-text-primary mb-2",children:"ابدأ تحدي ختم القرآن"}),l.jsx("p",{className:"text-text-secondary mb-6",children:"حدد المدة التي ترغب في إكمال القرآن خلالها."}),l.jsxs("div",{className:"flex items-center justify-center gap-4 mb-8",children:[l.jsx("label",{htmlFor:"duration",className:"font-medium text-text-primary",children:"أريد أن أختم في"}),l.jsx("input",{type:"number",id:"duration",value:a,onChange:g=>o(Math.max(1,parseInt(g.target.value,10)||1)),className:"w-24 text-center bg-background border border-border-color rounded-md p-2 focus:ring-primary focus:border-primary"}),l.jsx("span",{className:"font-medium text-text-primary",children:"يومًا"})]}),l.jsx("button",{onClick:s,className:"w-full bg-primary text-white font-bold py-2 px-4 rounded-md hover:opacity-90",children:"ابدأ التحدي"})]}),h=()=>{if(!n||!m)return null;const{totalCompleted:g,ayahsRemaining:v,overallProgress:E,daysRemaining:N,requiredPace:x}=m;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[l.jsx("h3",{className:"font-bold text-text-primary",children:"تقدمك في الختمة"}),l.jsxs("span",{className:"text-sm font-mono text-primary",children:[E.toFixed(1),"%"]})]}),l.jsx("div",{className:"w-full bg-border-color rounded-full h-2.5",children:l.jsx("div",{className:"bg-primary h-2.5 rounded-full",style:{width:`${E}%`}})})]}),l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 text-center",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-primary",children:g}),l.jsx("p",{className:"text-sm text-text-secondary",children:"آية تمت قراءتها"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-primary",children:N}),l.jsx("p",{className:"text-sm text-text-secondary",children:"يومًا متبقيًا"})]}),l.jsxs("div",{className:"col-span-2 sm:col-span-1",children:[l.jsx("p",{className:"text-2xl font-bold text-primary",children:n.isPaused?"-":x}),l.jsx("p",{className:"text-sm text-text-secondary",children:"آية/يوم للمتابعة"})]})]}),n.isPaused&&l.jsx("div",{className:"p-4 text-center bg-yellow-500/10 text-yellow-700 dark:text-yellow-400 rounded-lg",children:l.jsx("p",{className:"font-semibold",children:"التحدي متوقف مؤقتًا. استأنف للمتابعة."})}),l.jsxs("div",{className:"border-t border-border-color pt-4",children:[l.jsx("h4",{className:"font-semibold text-text-primary mb-3",children:"إدارة التحدي"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx("button",{onClick:d,className:"bg-primary/20 text-primary font-semibold py-2 px-4 rounded-md hover:bg-primary/30",children:n.isPaused?"استئناف التحدي":"إيقاف مؤقت"}),l.jsx("button",{onClick:f,className:"bg-background text-text-primary font-semibold py-2 px-4 rounded-md hover:bg-border-color",children:"تعديل المدة"}),l.jsx("button",{onClick:u,className:"col-span-2 bg-red-500/10 text-red-600 font-semibold py-2 px-4 rounded-md hover:bg-red-500/20",children:"إعادة تعيين التحدي"})]})]})]})};return l.jsx("div",{className:"fixed inset-0 bg-black/75 flex items-center justify-center z-50 animate-fade-in",onClick:t,children:l.jsxs("div",{className:"bg-card rounded-lg shadow-xl p-6 sm:p-8 w-full max-w-md m-4",onClick:g=>g.stopPropagation(),children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-text-primary",children:"تحدي ختم القرآن"}),l.jsx("button",{onClick:t,className:"text-text-secondary text-3xl leading-none hover:text-text-primary",children:"×"})]}),n&&n.isActive?h():p()]})})},DS=({surahResults:e,ayahResults:t,isSearching:n,searchError:i,onSurahSelect:a,onPlayAyah:o,currentSurahId:s})=>{const u=n||t.length>0||i;return l.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pt-4 pb-8",children:l.jsxs("div",{className:"space-y-6",children:[e.length>0&&l.jsxs("div",{className:"animate-fade-in",children:[l.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-3 px-2",children:"السور المطابقة"}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(d=>l.jsx("div",{onClick:()=>a(d),className:`p-4 rounded-lg shadow-md transition-all duration-200 text-left w-full flex items-center justify-between cursor-pointer ${s===d.id?"bg-primary text-white transform scale-105":"bg-card hover:bg-border-color"}`,children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:`w-10 h-10 flex items-center justify-center rounded-full text-sm font-medium ml-4 ${s===d.id?"bg-white text-primary":"bg-background text-text-secondary"}`,children:d.id}),l.jsx("p",{className:`font-semibold font-amiri-quran text-xl ${s===d.id?"text-white":"text-text-primary"}`,children:d.name})]})},`surah-res-${d.id}`))})]}),u&&l.jsxs("div",{className:"animate-fade-in",children:[l.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-3 px-2",children:"الآيات ذات الصلة"}),n&&l.jsx("div",{className:"flex justify-center items-center p-8",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary",role:"status",children:l.jsx("span",{className:"sr-only",children:"Searching..."})})}),i&&l.jsx("p",{className:"text-red-500 text-center bg-red-500/10 p-4 rounded-lg",children:i}),!n&&t.length>0&&l.jsx("div",{className:"space-y-3",children:t.map(d=>l.jsxs("div",{className:"bg-card p-4 rounded-lg shadow-md flex items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex-grow",children:[l.jsx("p",{className:"font-amiri-quran text-lg text-text-primary leading-relaxed",children:d.text}),l.jsxs("p",{className:"text-xs text-text-secondary mt-2",children:[d.surahName," - الآية ",d.ayahIdInSurah]})]}),l.jsx("button",{onClick:()=>o(d),className:"p-3 rounded-full text-primary bg-primary/10 hover:bg-primary/20 transition-colors flex-shrink-0","aria-label":`Play Ayah ${d.ayahIdInSurah} from Surah ${d.surahName}`,children:l.jsx(fl,{className:"w-6 h-6"})})]},`${d.surahId}-${d.ayahIdInSurah}`))}),!n&&!i&&t.length===0&&e.length===0&&l.jsxs("div",{className:"text-center text-text-secondary py-8",children:[l.jsx("p",{className:"font-semibold",children:"لا توجد نتائج."}),l.jsx("p",{className:"text-sm",children:'حاول البحث عن موضوع مثل "الصبر" أو "الجنة".'})]})]})]})})},qS=({stats:e})=>l.jsxs("div",{className:"bg-card rounded-lg shadow-md p-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-3 text-center",children:"إحصائيات الاستماع"}),l.jsxs("div",{className:"flex justify-around",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-primary",children:e.hoursThisWeek.toFixed(1)}),l.jsx("p",{className:"text-sm text-text-secondary",children:"ساعة هذا الأسبوع"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-primary",children:e.surahsCompleted}),l.jsx("p",{className:"text-sm text-text-secondary",children:"سورة مكتملة"})]})]})]}),Af=6236,US=()=>new Date().toISOString().split("T")[0],LS=({challenge:e})=>{if(!e||!e.isActive)return null;const t=Object.values(e.completedAyahs||{}).flat().length;if(t>=Af)return l.jsxs("div",{className:"bg-card rounded-lg shadow-md p-4 flex items-center gap-4 animate-fade-in",children:[l.jsx(ds,{className:"w-8 h-8 text-primary"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-text-primary",children:"مبارك!"}),l.jsx("p",{className:"text-sm text-text-secondary",children:"لقد أكملت تحدي ختم القرآن بنجاح."})]})]});if(e.isPaused)return l.jsxs("div",{className:"bg-card rounded-lg shadow-md p-4 flex items-center gap-4 animate-fade-in",children:[l.jsx(ds,{className:"w-8 h-8 text-text-secondary"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-text-primary",children:"التحدي متوقف مؤقتًا"}),l.jsx("p",{className:"text-sm text-text-secondary",children:"استأنف التحدي من صفحة التحدي للمتابعة."})]})]});const n=US(),i=new Date(e.startDate),o=new Date(n).getTime()-i.getTime(),s=Math.max(0,Math.floor(o/(1e3*3600*24))),u=Af-t,d=Math.max(1,e.durationDays-s),f=d>0?Math.ceil(u/d):u,m=e.progress[n]||0,p=Math.max(0,f-m);return l.jsx("div",{className:"bg-card rounded-lg shadow-md p-4 animate-fade-in",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(ds,{className:"w-8 h-8 text-primary"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-text-primary",children:"ورد اليوم"}),l.jsx("p",{className:"text-sm text-text-secondary",children:"هدف اليوم لإتمام ختم القرآن."})]})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-primary",children:p}),l.jsx("p",{className:"text-sm text-text-secondary",children:"آية متبقية"})]})]})})},On={Fajr:"الفجر",Dhuhr:"الظهر",Asr:"العصر",Maghrib:"المغرب",Isha:"العشاء"},jS=({prayerSettings:e,remindersEnabled:t})=>{const[n,i]=b.useState(null),[a,o]=b.useState(null),[s,u]=b.useState(!1),[d,f]=b.useState(null);return b.useEffect(()=>{e&&e.method!==void 0&&(async()=>{u(!0),f(null),i(null);try{const p=encodeURIComponent(e.country),h=encodeURIComponent(e.region),g=e.method,E=await(await fetch(`https://api.aladhan.com/v1/timingsByCity?city=${h}&country=${p}&method=${g}`)).json();if(E.code!==200||!E.data.timings){const x=(E==null?void 0:E.data)||`Failed to fetch prayer times (status: ${E.status}).`;throw new Error(x)}const N={Fajr:E.data.timings.Fajr,Dhuhr:E.data.timings.Dhuhr,Asr:E.data.timings.Asr,Maghrib:E.data.timings.Maghrib,Isha:E.data.timings.Isha};i(N)}catch(p){p instanceof Error?f(p.message):f("An unknown error occurred.")}finally{u(!1)}})()},[e]),b.useEffect(()=>{if(n&&t&&typeof window.Notification<"u"&&Notification.permission==="granted"){const m=new Date,p=[];return Object.entries(n).forEach(([h,g])=>{if(On[h]){const[v,E]=g.split(":").map(Number),N=new Date;if(N.setHours(v,E,0,0),N>m){const x=N.getTime()-m.getTime(),y=window.setTimeout(()=>{new Notification("حي على الصلاة",{body:`حان الآن وقت صلاة ${On[h]}`,icon:"https://i.imgur.com/1m8xN9N.png"})},x);p.push(y)}}}),()=>{p.forEach(clearTimeout)}}},[n,t]),b.useEffect(()=>{if(n){const m=new Date;let p=null;const h=Object.entries(n).filter(([g])=>On[g]).map(([g,v])=>{const E=v,[N,x]=E.split(":").map(Number),y=new Date;return y.setHours(N,x,0,0),{name:g,time:E,date:y}}).sort((g,v)=>g.date.getTime()-v.date.getTime());for(const g of h)if(g.date>m){p={name:On[g.name],time:g.time};break}!p&&h.length>0&&(p={name:On[h[0].name],time:h[0].time}),o(p)}},[n]),e?l.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pt-6",children:l.jsxs("div",{className:"bg-card rounded-lg shadow-md p-4 animate-fade-in",children:[l.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-3 text-center",children:"أوقات الصلاة"}),s&&l.jsx("p",{className:"text-center",children:"...جاري التحميل"}),d&&l.jsx("p",{className:"text-center text-red-500",children:d}),n&&!s&&!d&&l.jsxs("div",{children:[a&&l.jsxs("div",{className:"text-center mb-4",children:[l.jsx("p",{className:"text-sm text-text-secondary",children:"الصلاة التالية"}),l.jsxs("p",{className:"text-2xl font-bold text-primary",children:[a.name," في ",a.time]})]}),l.jsx("div",{className:"grid grid-cols-5 gap-2 text-center border-t border-border-color pt-3",children:Object.entries(n).filter(([m])=>On[m]).map(([m,p])=>l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-text-primary",children:On[m]}),l.jsx("p",{className:"text-sm text-text-secondary",children:p})]},m))})]})]})}):null},VS=({className:e})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.114 5.636a9 9 0 010 12.728M16.463 8.288a5.25 5.25 0 010 7.424M6.75 8.25l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75z"})}),GS=({className:e})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})}),PS=({className:e})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"})}),zS=({className:e})=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 2v4"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8l-2-2m2 2l2-2"})]}),HS=({className:e})=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.375a9.375 9.375 0 01-6.44-2.423 9.375 9.375 0 0112.88 0A9.375 9.375 0 0112 18.375z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3.75c-3.46 0-6.25 2.79-6.25 6.25S8.54 16.25 12 16.25s6.25-2.79 6.25-6.25S15.46 3.75 12 3.75z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 11.25a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.125 11.25a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.875 11.25a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25z"})]}),ly=({className:e})=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.5 13.5c0 1.657 1.343 3 3 3h.01c1.657 0 3-1.343 3-3m-3-3.03v.03M12 21a9 9 0 110-18 9 9 0 010 18z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75"})]}),BS=({className:e})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m-1.125 0H5.625A2.25 2.25 0 003.375 6v12a2.25 2.25 0 002.25 2.25h12.75A2.25 2.25 0 0020.625 18V9.375m-16.5 0v-2.625a3.375 3.375 0 013.375-3.375h1.5"})}),Cf=({onNavigate:e,stats:t,challenge:n,prayerSettings:i,remindersEnabled:a})=>{const o=[{page:"audio",label:"أنصت",icon:l.jsx(VS,{className:"w-10 h-10 mb-3 text-primary"})},{page:"reading",label:"اقرأ",icon:l.jsx(GS,{className:"w-10 h-10 mb-3 text-primary"})},{page:"asbab",label:"تدبر",icon:l.jsx(zS,{className:"w-10 h-10 mb-3 text-primary"})},{page:"quiz",label:"فقه وحكمة",icon:l.jsx(PS,{className:"w-10 h-10 mb-3 text-primary"})}];return l.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pt-6 pb-8 animate-fade-in",children:l.jsxs("div",{className:"space-y-6",children:[l.jsx(LS,{challenge:n}),l.jsx(qS,{stats:t}),l.jsx(jS,{prayerSettings:i,remindersEnabled:a}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-4",children:o.map(s=>l.jsxs("button",{onClick:()=>e(s.page),className:"bg-card rounded-xl shadow-md p-6 flex flex-col items-center justify-center text-center hover:bg-border-color transform hover:-translate-y-1 transition-all duration-200",children:[s.icon,l.jsx("h2",{className:"text-lg font-bold text-text-primary",children:s.label})]},s.page))}),l.jsx("div",{className:"pt-4",children:l.jsxs("button",{onClick:()=>e("history"),className:"bg-card rounded-xl shadow-md p-6 w-full flex flex-col items-center justify-center text-center hover:bg-border-color transform hover:-translate-y-1 transition-all duration-200",children:[l.jsx(BS,{className:"w-12 h-12 mb-3 text-primary"}),l.jsx("h2",{className:"text-xl font-bold text-text-primary",children:"اعرف تاريخك"}),l.jsx("p",{className:"text-sm text-text-secondary mt-1",children:"السيرة النبوية، الصحابة، والغزوات"})]})}),l.jsx("div",{className:"pt-4",children:l.jsxs("button",{onClick:()=>e("ronaq_mind"),className:"bg-card rounded-xl shadow-md p-6 w-full flex flex-col items-center justify-center text-center hover:bg-border-color transform hover:-translate-y-1 transition-all duration-200",children:[l.jsx(ly,{className:"w-12 h-12 mb-3 text-primary"}),l.jsx("h2",{className:"text-xl font-bold text-text-primary",children:"Ronaq Mind"}),l.jsx("p",{className:"text-sm text-text-secondary mt-1",children:"حيث يلتقى الجمال بالذكاء"})]})}),l.jsx("div",{className:"pt-4",children:l.jsxs("button",{onClick:()=>e("kids"),className:"bg-card rounded-xl shadow-md p-6 w-full flex flex-col items-center justify-center text-center hover:bg-border-color transform hover:-translate-y-1 transition-all duration-200",children:[l.jsx(HS,{className:"w-12 h-12 mb-3 text-primary"}),l.jsx("h2",{className:"text-xl font-bold text-text-primary",children:"عالم الطفل"}),l.jsx("p",{className:"text-sm text-text-secondary mt-1",children:"مغامرات قرآنية وتعاليم إسلامية شيقة"})]})})]})})},OS="ronaq-db",JS=4,Un="ayahs",Vt="tafsir",Ln="quranText";let Jo;const gt=()=>new Promise((e,t)=>{if(Jo)return e(Jo);const n=window.indexedDB.open(OS,JS);n.onerror=i=>{console.error("IndexedDB error:",i.target.error),t("IndexedDB error: "+i.target.error)},n.onsuccess=i=>{Jo=i.target.result,e(Jo)},n.onupgradeneeded=i=>{const a=i.target.result;i.oldVersion<4&&a.objectStoreNames.contains("kidsAudio")&&a.deleteObjectStore("kidsAudio"),a.objectStoreNames.contains(Un)||a.createObjectStore(Un,{keyPath:"id"}),a.objectStoreNames.contains(Vt)||a.createObjectStore(Vt,{keyPath:"id"}),a.objectStoreNames.contains(Ln)||a.createObjectStore(Ln,{keyPath:"id"})}}),YS=async(e,t,n,i)=>{const a=await gt();return new Promise((o,s)=>{const d=a.transaction([Un],"readwrite").objectStore(Un),f=`${e}-${t}-${n}`,m=d.put({id:f,audioBlob:i});m.onsuccess=()=>o(),m.onerror=p=>{console.error("Failed to add ayah:",p.target.error),s("Failed to add ayah: "+p.target.error)}})},FS=async(e,t,n)=>{const i=await gt();return new Promise((a,o)=>{const u=i.transaction([Un],"readonly").objectStore(Un),d=`${e}-${t}-${n}`,f=u.get(d);f.onsuccess=m=>{const p=m.target.result;a(p?p.audioBlob:null)},f.onerror=m=>{console.error("Failed to get ayah:",m.target.error),o("Failed to get ayah: "+m.target.error)}})},wf=async(e,t,n)=>{const i=await gt();return new Promise((a,o)=>{const u=i.transaction([Vt],"readwrite").objectStore(Vt),d=`${e}:${t}`,f=u.put({id:d,text:n});f.onsuccess=()=>a(),f.onerror=m=>{console.error("Failed to add tafsir:",m.target.error),o("Failed to add tafsir: "+m.target.error)}})},_f=async(e,t)=>{const n=await gt();return new Promise((i,a)=>{const s=n.transaction([Vt],"readonly").objectStore(Vt),u=`${e}:${t}`,d=s.get(u);d.onsuccess=f=>{const m=f.target.result;i(m?m.text:null)},d.onerror=f=>{console.error("Failed to get tafsir:",f.target.error),a("Failed to get tafsir: "+f.target.error)}})},ry=async e=>{const t=await gt();return new Promise((n,i)=>{const s=t.transaction([e],"readonly").objectStore(e).getAllKeys();s.onsuccess=u=>{const d=u.target.result;n(d)},s.onerror=u=>{console.error("Failed to get keys:",u.target.error),i("Failed to get keys: "+u.target.error)}})},KS=async(e,t)=>{const n=await gt();return new Promise((i,a)=>{const s=n.transaction([Un],"readwrite").objectStore(Un),u=`${e}-${t}-`,d=IDBKeyRange.bound(u,u+"￿"),f=s.delete(d);f.onsuccess=()=>i(),f.onerror=m=>{console.error("Failed to delete surah audio:",m.target.error),a("Failed to delete surah audio: "+m.target.error)}})},QS=async e=>{const t=await gt();return new Promise((n,i)=>{const o=t.transaction([Vt],"readwrite").objectStore(Vt),s=`${e}:`,u=IDBKeyRange.bound(s,s+"￿"),d=o.delete(u);d.onsuccess=()=>n(),d.onerror=f=>{console.error("Failed to delete tafsirs for surah:",f.target.error),i("Failed to delete tafsirs for surah: "+f.target.error)}})},XS=async e=>{const t=await gt();return new Promise((n,i)=>{const o=t.transaction([Vt],"readonly").objectStore(Vt),s=`${e}:`,u=IDBKeyRange.bound(s,s+"￿"),d=o.count(u);d.onsuccess=f=>{n(f.target.result)},d.onerror=f=>{console.error("Failed to count tafsirs for surah:",f.target.error),i("Failed to count tafsirs for surah: "+f.target.error)}})},$S=async(e,t)=>{const n=await gt();return new Promise((i,a)=>{const u=n.transaction([Ln],"readwrite").objectStore(Ln).put({id:e,ayahs:t});u.onsuccess=()=>i(),u.onerror=d=>a("Failed to add surah text: "+d.target.error)})},ZS=async e=>{const t=await gt();return new Promise((n,i)=>{const s=t.transaction([Ln],"readonly").objectStore(Ln).get(e);s.onsuccess=u=>{const d=u.target.result;n(d?d.ayahs:null)},s.onerror=u=>i("Failed to get surah text: "+u.target.error)})},WS=async e=>{const t=await gt();return new Promise((n,i)=>{const s=t.transaction([Ln],"readwrite").objectStore(Ln).delete(e);s.onsuccess=()=>n(),s.onerror=u=>i("Failed to delete surah text: "+u.target.error)})},e1=({className:e})=>l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),uy=({className:e})=>l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),t1=({className:e})=>l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v6m3-3h-6"})}),n1=({className:e})=>l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7"})}),i1=(e,t)=>{const n=parseInt(e.replace("#",""),16),i=Math.max(0,(n>>16)-t),a=Math.max(0,(n>>8&255)-t),o=Math.max(0,(n&255)-t);return`#${(i<<16|a<<8|o).toString(16).padStart(6,"0")}`},Yo={Beige:"#fdf9e8",Cream:"#F2EEC0","Light Turquoise":"#E0F2F1","Light Green":"#E8F5E9"},a1=({number:e,className:t})=>l.jsxs("svg",{viewBox:"0 0 40 40",className:`inline-block w-[1.5em] h-[1.5em] text-primary dark:text-primary/80 ${t}`,children:[l.jsx("path",{d:"M20,4 C28.837,4 36,11.163 36,20 C36,28.837 28.837,36 20,36 C11.163,36 4,28.837 4,20 C4,11.163 11.163,4 20,4 Z",fill:"none",stroke:"currentColor",strokeWidth:"1.5"}),l.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",fill:"currentColor",fontSize:"14",fontFamily:"sans-serif",fontWeight:"bold",children:e})]}),o1=({surah:e,surahs:t,onBack:n})=>{const[i,a]=b.useState(()=>JSON.parse(localStorage.getItem("lastReadPagePerSurah")||"{}")[e.id]||MS[e.id]||1),[o,s]=b.useState(null),[u,d]=b.useState(!1),[f,m]=b.useState(null),[p,h]=b.useState(!1),[g,v]=b.useState(()=>Number(localStorage.getItem("mushafFontSize")||28)),[E,N]=b.useState(()=>localStorage.getItem("mushafBgColorName")||"Beige"),[x,y]=b.useState(null),[S,T]=b.useState(!1),A=b.useRef(null),_=b.useRef(null),w=b.useRef(null);b.useEffect(()=>{const z=P=>{_.current&&!_.current.contains(P.target)&&h(!1),w.current&&!w.current.contains(P.target)&&y(null)};return document.addEventListener("mousedown",z),()=>document.removeEventListener("mousedown",z)},[]),b.useEffect(()=>{localStorage.setItem("mushafFontSize",String(g))},[g]),b.useEffect(()=>{localStorage.setItem("mushafBgColorName",E)},[E]),b.useEffect(()=>{const z=setTimeout(()=>{const P=new Set(JSON.parse(localStorage.getItem("readPagesSet")||"[]"));P.has(i)||(P.add(i),localStorage.setItem("readPagesSet",JSON.stringify(Array.from(P))))},15e3);return()=>clearTimeout(z)},[i]),b.useEffect(()=>{const z=JSON.parse(localStorage.getItem("lastReadPagePerSurah")||"{}");z[e.id]=i,localStorage.setItem("lastReadPagePerSurah",JSON.stringify(z));const P={surahId:e.id,surahName:e.name,page:i};localStorage.setItem("lastReadLocation",JSON.stringify(P))},[i,e]);const U=b.useCallback(async()=>{d(!0),m(null),s(null);try{const z=await ZS(e.id);if(z){const Me=z.filter(Le=>Le.page===i);if(Me.length>0){s(Me),d(!1),A.current&&(A.current.scrollTop=0);return}}const P=await fetch(`https://api.quran.com/api/v4/verses/by_page/${i}?language=ar&fields=text_uthmani,juz_number`);if(!P.ok)throw new Error("Failed to fetch page data from network.");const ge=await P.json();if(!ge.verses)throw new Error("Invalid API response structure from quran.com.");const yt=ge.verses.map(Me=>{const[Le,$e]=Me.verse_key.split(":"),H=parseInt(Le,10),te=t.find(je=>je.id===H);return{number:Me.id,text:Me.text_uthmani,numberInSurah:parseInt($e,10),page:i,surah:{number:H,name:te?te.name:""},juz:Me.juz_number}});s(yt)}catch(z){m(z instanceof Error?z.message:"An unknown error occurred.")}finally{d(!1),A.current&&(A.current.scrollTop=0)}},[i,e.id,t]);b.useEffect(()=>{U()},[U]);const I=z=>{const P=i+z;P>=1&&P<=604&&(a(P),y(null))},q=(z,P)=>{const ge=z.currentTarget.getBoundingClientRect();y({ayah:P,top:ge.top+window.scrollY,left:ge.left+window.scrollX}),T(!1)},O=()=>{if(!x)return;const z=`"${x.ayah.text}" (سورة ${x.ayah.surah.name}, الآية ${x.ayah.numberInSurah})`;navigator.clipboard.writeText(z).then(()=>{T(!0),setTimeout(()=>{y(null)},1200)})},j=2,V=20,D=48,K=z=>{v(P=>{let ge=P+(z==="in"?j:-j);return ge<V&&(ge=V),ge>D&&(ge=D),ge})},k={"--scrollbar-track-bg":Yo[E],"--scrollbar-thumb-bg":i1(Yo[E],40)},Q=()=>{if(!o)return null;const z=new Set;return o.map((P,ge)=>{P.text.replace(/^[بسم الله الرحمن الرحيم\s]*/,"");const yt=P.numberInSurah===1&&P.surah.number!==1&&P.surah.number!==9&&!o.some(te=>te.numberInSurah===0&&te.surah.number===P.surah.number),Me=ge===0,Le=o.some(te=>te.numberInSurah===1),$e=Me&&Le||P.numberInSurah===1;let H;return $e&&!z.has(P.surah.number)&&(H=t.find(te=>te.id===P.surah.number),H&&z.add(P.surah.number)),l.jsxs(ch.Fragment,{children:[H&&l.jsxs("div",{className:"my-4 p-2 border-y-4 border-double border-[#b4a485] bg-[#f3efe4] text-center",children:[l.jsx("h3",{className:"text-2xl font-bold font-amiri-quran text-black",children:H.name}),l.jsxs("p",{className:"text-sm text-gray-700 font-sans",children:[H.revelationType==="Meccan"?"مكية":"مدنية"," • ",H.numberOfAyahs," آيات"]})]}),yt&&l.jsx("p",{className:"text-center font-amiri-quran tracking-wider my-4",style:{fontSize:`${g*1.1}px`},children:"بِسْمِ ٱللَّهِ ٱلرَّحْمَٰنِ ٱلرَّحِيمِ"}),l.jsxs("span",{onClick:te=>q(te,P),className:"cursor-pointer hover:bg-primary/10 rounded-md",children:[l.jsx("span",{className:"ayah-text","data-ayah-ref":`${P.surah.number}:${P.numberInSurah}`,children:P.text}),l.jsx(a1,{number:P.numberInSurah})]})]},P.number)})},X=o&&o.length>0?o[0].juz:null;return l.jsxs("div",{className:"fixed inset-0 z-30 flex flex-col animate-fade-in",style:{backgroundColor:Yo[E]},children:[l.jsxs("header",{className:"flex-shrink-0 bg-[#3D3522] text-white shadow-lg p-3 flex items-center justify-between",children:[l.jsx("button",{onClick:n,className:"p-2 rounded-full text-white/90 hover:bg-white/10 w-10 h-10 flex items-center justify-center","aria-label":"العودة إلى قائمة السور",children:l.jsx(Ee,{className:"w-6 h-6 transform scale-x-[-1]"})}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>I(1),disabled:i>=604,className:"p-2 rounded-full text-white hover:bg-white/10 disabled:opacity-40","aria-label":"الصفحة التالية",children:l.jsx(Ee,{className:"w-6 h-6 transform scale-x-[-1]"})}),l.jsxs("span",{className:"text-sm font-mono w-16 text-center text-white","aria-live":"polite",children:[i," / 604"]}),l.jsx("button",{onClick:()=>I(-1),disabled:i<=1,className:"p-2 rounded-full text-white hover:bg-white/10 disabled:opacity-40","aria-label":"الصفحة السابقة",children:l.jsx(Ee,{className:"w-6 h-6"})})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:()=>K("out"),disabled:g<=V,className:"p-2 rounded-full text-white/90 hover:bg-white/10 disabled:opacity-40","aria-label":"تصغير الخط",children:l.jsx(n1,{className:"w-6 h-6"})}),l.jsx("button",{onClick:()=>K("in"),disabled:g>=D,className:"p-2 rounded-full text-white/90 hover:bg-white/10 disabled:opacity-40","aria-label":"تكبير الخط",children:l.jsx(t1,{className:"w-6 h-6"})}),l.jsx("button",{onClick:()=>{h(z=>!z),y(null)},className:"p-2 rounded-full text-white/90 hover:bg-white/10","aria-label":"إعدادات العرض",children:l.jsx(ay,{className:"w-6 h-6"})})]})]}),l.jsxs("main",{ref:A,className:"flex-grow overflow-y-auto p-4 custom-scrollbar",style:k,children:[u&&l.jsx("div",{className:"flex justify-center items-center h-full",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary",role:"status",children:l.jsx("span",{className:"sr-only",children:"Loading..."})})}),f&&l.jsx("div",{className:"text-center text-red-500 p-8",children:f}),o&&l.jsxs("div",{className:"max-w-3xl mx-auto bg-[#fdfaf0] p-4 sm:p-6 rounded-lg shadow-xl border border-[#dcd6c0]",children:[l.jsx("div",{className:"font-amiri-quran text-right text-black",style:{fontSize:`${g}px`,lineHeight:2,textAlign:"justify"},dir:"rtl",children:Q()}),l.jsxs("div",{className:"mt-4 pt-2 border-t-2 border-dashed border-[#d3c9a4] flex justify-between items-center text-sm font-sans text-gray-600",children:[X&&l.jsxs("span",{children:["الجزء ",X]}),l.jsx("span",{children:i})]})]})]}),p&&l.jsx("div",{ref:_,className:"absolute top-16 right-3 w-72 bg-card p-4 rounded-lg shadow-xl border border-border-color z-40 animate-fade-in space-y-4",children:l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-text-secondary",children:"لون الخلفية"}),l.jsx("div",{className:"flex justify-between items-center mt-2",children:Object.entries(Yo).map(([z,P])=>l.jsx("button",{onClick:()=>N(z),className:`w-10 h-10 rounded-full border-2 ${E===z?"ring-2 ring-primary ring-offset-2 dark:ring-offset-card":"border-border-color"}`,style:{backgroundColor:P},"aria-label":`Select ${z} color`},z))})]})}),x&&l.jsxs("div",{ref:w,style:{top:x.top-70,left:"50%",transform:"translateX(-50%)"},className:"fixed bg-card p-2 rounded-lg shadow-xl border border-border-color z-50 text-center animate-fade-in w-72",children:[l.jsx("p",{className:"text-xs text-text-secondary mb-2",children:"نسخ الآية؟"}),l.jsx("button",{onClick:O,className:`w-full text-white font-bold py-2 px-4 rounded-md flex items-center justify-center gap-2 ${S?"bg-green-500":"bg-primary hover:opacity-90"}`,children:S?l.jsxs(l.Fragment,{children:[l.jsx(oi,{className:"w-5 h-5"})," تم النسخ!"]}):l.jsxs(l.Fragment,{children:[l.jsx(uy,{className:"w-5 h-5"})," نسخ"]})})]})]})},s1=({surahs:e})=>{const[t,n]=b.useState(null),[i,a]=b.useState({pagesRead:0,lastLocation:null}),[o,s]=b.useState(new Set),[u,d]=b.useState(null);b.useEffect(()=>{if(!t){const p=localStorage.getItem("readPagesSet"),h=p?JSON.parse(p):[],g=localStorage.getItem("lastReadLocation"),v=g?JSON.parse(g):null;a({pagesRead:h.length,lastLocation:v}),(async()=>{const N=await ry("quranText");s(new Set(N.map(x=>Number(x))))})()}},[t]);const f=async p=>{if(!(o.has(p.id)||u===p.id)){d(p.id);try{const h=await fetch(`https://api.quran.com/api/v4/verses/by_chapter/${p.id}?language=ar&fields=text_uthmani,page_number,juz_number`);if(!h.ok)throw new Error("Failed to fetch Surah text from quran.com.");const g=await h.json();if(!g.verses)throw new Error("Invalid API response structure from quran.com.");const v=g.verses.map(E=>{const[N,x]=E.verse_key.split(":");return{number:E.id,text:E.text_uthmani,numberInSurah:parseInt(x,10),page:E.page_number,surah:{number:p.id,name:p.name},juz:E.juz_number}});await $S(p.id,v),s(E=>new Set(E).add(p.id))}catch(h){console.error(`Failed to download Surah ${p.id}`,h),alert(`فشل تحميل سورة ${p.name}. يرجى التحقق من اتصالك بالإنترنت.`)}finally{d(null)}}},m=async p=>{if(window.confirm("هل أنت متأكد من حذف النص المحمل لهذه السورة؟"))try{await WS(p),s(h=>{const g=new Set(h);return g.delete(p),g})}catch(h){console.error(`Failed to delete Surah ${p}`,h),alert("حدث خطأ أثناء الحذف.")}};return t?l.jsx(o1,{surah:t,surahs:e,onBack:()=>n(null)}):l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pt-4 pb-8 animate-fade-in",children:[l.jsxs("div",{className:"mb-6 bg-card p-4 rounded-lg shadow-md",children:[l.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-3 text-center",children:"تقدم القراءة"}),l.jsxs("div",{className:"flex justify-around text-center items-center",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-primary",children:i.pagesRead}),l.jsx("p",{className:"text-sm text-text-secondary",children:"صفحة مقروءة"})]}),i.lastLocation?l.jsxs("div",{onClick:()=>{const p=e.find(h=>{var g;return h.id===((g=i.lastLocation)==null?void 0:g.surahId)});p&&n(p)},className:"cursor-pointer p-2 rounded-md hover:bg-border-color",children:[l.jsx("p",{className:"font-semibold text-text-primary truncate",children:i.lastLocation.surahName}),l.jsxs("p",{className:"text-sm text-text-secondary",children:["آخر صفحة: ",i.lastLocation.page]})]}):l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-text-primary",children:"-"}),l.jsx("p",{className:"text-sm text-text-secondary",children:"آخر صفحة"})]})]})]}),l.jsx("h2",{className:"text-xl font-bold text-text-primary mb-4",children:"اختر سورة للبدء"}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(p=>{const h=o.has(p.id),g=u===p.id;return l.jsxs("div",{className:"p-4 rounded-lg shadow-md bg-card hover:bg-border-color transition-all duration-200 flex items-center justify-between cursor-pointer",onClick:()=>n(p),children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"w-10 h-10 flex items-center justify-center rounded-full text-sm font-medium ml-4 bg-background text-text-secondary",children:p.id}),l.jsx("p",{className:"font-semibold font-amiri-quran text-xl text-text-primary",children:p.name})]}),l.jsx("div",{className:"flex-shrink-0",children:g?l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-primary"}):h?l.jsx("button",{onClick:v=>{v.stopPropagation(),m(p.id)},className:"p-2 text-red-500 hover:bg-red-500/10 rounded-full","aria-label":"حذف النص المحمل",children:l.jsx(ml,{className:"w-5 h-5"})}):l.jsx("button",{onClick:v=>{v.stopPropagation(),f(p)},className:"p-2 text-text-secondary hover:text-primary rounded-full","aria-label":"تحميل للقراءة بدون انترنت",children:l.jsx(e1,{className:"w-6 h-6"})})})]},p.id)})})]})},l1=[{id:1001,question:"من هو النبي الذي ابتلعه الحوت؟",options:["يوسف عليه السلام","يونس عليه السلام","موسى عليه السلام","إسحاق عليه السلام"],correctAnswer:"يونس عليه السلام",shortExplanation:"نبي الله يونس عليه السلام هو الذي غضب على قومه فذهب وابتلعه الحوت، فدعا ربه في الظلمات فنجاه الله.",detailedExplanation:"قصة يونس عليه السلام مذكورة في القرآن الكريم. أُرسل إلى أهل نينوى فدعاهم فلم يؤمنوا، فغضب عليهم وخرج من بينهم قبل أن يأذن الله له. فركب سفينة، فلما كانت في عرض البحر هاجت، فاقترعوا ليلقوا أحدهم تخفيفًا للحمولة، فوقعت القرعة على يونس ثلاث مرات، فأُلقي في البحر فالتقمه الحوت. وفي بطن الحوت نادى ربه: (لَّا إِلَٰهَ إِلَّا أَنتَ سُبْحَانَكَ إِنِّي كُنتُ مِنَ الظَّالِمِينَ)، فاستجاب الله له ونجاه.",reference:"القرآن الكريم، سورة الأنبياء: 87-88، وسورة الصافات: 139-148."},{id:1002,question:"ما هي 'أم الكتاب'؟",options:["سورة البقرة","سورة يس","سورة الفاتحة","سورة الملك"],correctAnswer:"سورة الفاتحة",shortExplanation:"سورة الفاتحة تسمى 'أم الكتاب' و 'أم القرآن' لأنها تشتمل على مقاصد القرآن الأساسية.",detailedExplanation:"لسورة الفاتحة أسماء كثيرة منها: أم الكتاب، وأم القرآن، والسبع المثاني، والشفاء، والأساس. سميت 'أم الكتاب' لأنها أول سورة في ترتيب المصحف، ولأنها تفتتح بها الصلاة، ولأنها جمعت معاني القرآن ومقاصده الأساسية من التوحيد والعبادة والدعاء وبيان طريق الهداية.",reference:"صحيح البخاري، كتب التفسير."},{id:1003,question:"كم سنة استمر نزول القرآن الكريم على النبي محمد صلى الله عليه وسلم؟",options:["13 سنة","20 سنة","23 سنة","25 سنة"],correctAnswer:"23 سنة",shortExplanation:"استمر نزول القرآن الكريم على النبي صلى الله عليه وسلم قرابة 23 سنة، منها 13 في مكة و 10 في المدينة.",detailedExplanation:"بدأ نزول الوحي على النبي صلى الله عليه وسلم وهو في سن الأربعين، واستمر حتى وفاته في سن الثالثة والستين. الفترة المكية استمرت حوالي 13 عامًا، وركزت آياتها على العقيدة والتوحيد والرد على المشركين. والفترة المدنية استمرت 10 سنوات، وركزت آياتها على التشريعات والأحكام وتنظيم المجتمع المسلم.",reference:"كتب علوم القرآن والسيرة النبوية."},{id:1004,question:"من هو أول مؤذن في الإسلام؟",options:["عمر بن الخطاب","علي بن أبي طالب","زيد بن حارثة","بلال بن رباح"],correctAnswer:"بلال بن رباح",shortExplanation:"الصحابي الجليل بلال بن رباح الحبشي هو أول من أذن للصلاة في الإسلام.",detailedExplanation:"بعد أن شرع الأذان في السنة الأولى من الهجرة، اختار النبي صلى الله عليه وسلم بلال بن رباح ليكون أول مؤذن له، وذلك لجمال صوته وقوته. وقد عُذب بلال في مكة لثباته على التوحيد، فكان مثالاً للصبر والإخلاص.",reference:"سيرة ابن هشام."},{id:1005,question:"ما هي الغزوة التي وقعت في شهر رمضان؟",options:["غزوة أحد","غزوة بدر","غزوة الخندق","غزوة حنين"],correctAnswer:"غزوة بدر",shortExplanation:"غزوة بدر الكبرى، أول معركة فاصلة في تاريخ الإسلام، وقعت في السابع عشر من شهر رمضان في السنة الثانية للهجرة.",detailedExplanation:"خرج المسلمون في رمضان من السنة الثانية للهجرة لاعتراض قافلة لقريش، ولكن الأمر تطور إلى مواجهة عسكرية شاملة مع جيش المشركين في مكان يسمى بدر. وعلى الرغم من قلة عدد المسلمين وعدتهم، نصرهم الله نصرًا مؤزرًا، وسُمي هذا اليوم بـ 'يوم الفرقان'.",reference:"القرآن الكريم، سورة الأنفال."},{id:1006,question:"من هو الصحابي الملقب بـ 'ذي النورين'؟",options:["أبو بكر الصديق","عمر بن الخطاب","عثمان بن عفان","علي بن أبي طالب"],correctAnswer:"عثمان بن عفان",shortExplanation:"لقب الخليفة الثالث عثمان بن عفان رضي الله عنه بـ 'ذي النورين' لأنه تزوج من ابنتي النبي صلى الله عليه وسلم: رقية ثم بعد وفاتها أم كلثوم.",detailedExplanation:"تزوج عثمان بن عفان رضي الله عنه من السيدة رقية بنت رسول الله، وبعد وفاتها زوجه النبي من أختها السيدة أم كلثوم. ولم يُعرف أن رجلاً تزوج ابنتي نبي غيره، فلهذا السبب سُمي 'ذي النورين'.",reference:"كتب التاريخ والتراجم الإسلامية."},{id:1007,question:"ما هو اسم زوجة فرعون التي آمنت بموسى عليه السلام؟",options:["هاجر","زبيدة","آسية","بلقيس"],correctAnswer:"آسية",shortExplanation:"آسية بنت مزاحم، زوجة فرعون، هي التي آمنت بدعوة موسى عليه السلام وضربها الله مثلاً للذين آمنوا.",detailedExplanation:"على الرغم من أنها كانت زوجة أطغى طغاة الأرض، إلا أن الله قذف الإيمان في قلب آسية. لما آمنت، عذبها فرعون عذابًا شديدًا لترجع عن دينها فرفضت، ودعت ربها قائلة: (رَبِّ ابْنِ لِي عِندَكَ بَيْتًا فِي الْجَنَّةِ وَنَجِّنِي مِن فِرْعَوْنَ وَعَمَلِهِ وَنَجِّنِي مِنَ الْقَوْمِ الظَّالِمِينَ)، فاستجاب الله لها.",reference:"القرآن الكريم، سورة التحريم: 11."},{id:1008,question:"ما هي السورة التي لا تبدأ بالبسملة 'بسم الله الرحمن الرحيم'؟",options:["الأنفال","التوبة","المنافقون","الممتحنة"],correctAnswer:"التوبة",shortExplanation:"سورة التوبة هي السورة الوحيدة في القرآن الكريم التي لا تبدأ بالبسملة.",detailedExplanation:"اختلف العلماء في سبب عدم بدء سورة التوبة بالبسملة. القول الأشهر هو ما روي عن علي بن أبي طالب أن البسملة أمان، وسورة براءة (التوبة) نزلت بالسيف ونبذ العهود مع المشركين، فلا يجتمع الأمان مع السيف.",reference:"كتب علوم القرآن وتفاسيرها."},{id:1009,question:"من هو 'روح القدس' المذكور في القرآن الكريم؟",options:["ميكائيل عليه السلام","إسرافيل عليه السلام","جبريل عليه السلام","ملك الموت"],correctAnswer:"جبريل عليه السلام",shortExplanation:"روح القدس هو لقب للملك جبريل عليه السلام، وهو الملك الموكل بإنزال الوحي على الأنبياء.",detailedExplanation:"ذُكر جبريل عليه السلام في القرآن بأسماء وألقاب متعددة، منها 'روح القدس' كما في قوله تعالى: (قُلْ نَزَّلَهُ رُوحُ الْقُدُsسِ مِن رَّبِّكَ بِالْحَقِّ). وسمي بذلك لطهارته، ولأنه ينزل بالوحي الذي هو حياة للقلوب والأرواح.",reference:"القرآن الكريم، سورة النحل: 102."},{id:1010,question:"في أي مدينة يوجد المسجد الأقصى؟",options:["مكة المكرمة","المدينة المنورة","القدس","دمشق"],correctAnswer:"القدس",shortExplanation:"يقع المسجد الأقصى المبارك في مدينة القدس بفلسطين، وهو أولى القبلتين وثالث الحرمين الشريفين.",detailedExplanation:"المسجد الأقصى له مكانة عظيمة في الإسلام، فهو القبلة الأولى التي صلى إليها المسلمون قبل التوجه للكعبة، وهو مسرى النبي صلى الله عليه وسلم في رحلة الإسراء والمعراج، وهو ثالث مسجد تشد إليه الرحال بعد المسجد الحرام والمسجد النبوي.",reference:"القرآن الكريم، سورة الإسراء: 1، وصحيح البخاري."},{id:1011,question:"من هو النبي الذي كلمه الله مباشرة بدون وحي؟",options:["إبراهيم عليه السلام","موسى عليه السلام","عيسى عليه السلام","محمد صلى الله عليه وسلم"],correctAnswer:"موسى عليه السلام",shortExplanation:"لقب موسى عليه السلام بـ 'كليم الله' لأن الله كلمه تكليمًا مباشرًا عند جبل الطور.",detailedExplanation:"من الخصائص التي تفرد بها نبي الله موسى عليه السلام أن الله كلمه كلامًا حقيقيًا سمعه موسى منه مباشرة دون واسطة ملك. قال تعالى: (وَكَلَّمَ اللَّهُ مُوسَىٰ تَكْلِيمًا). وقد حدث هذا التكليم في الوادي المقدس طوى بسيناء.",reference:"القرآن الكريم، سورة النساء: 164."},{id:1012,question:"ما هي الصلاة الوسطى التي ذكرت في القرآن الكريم؟",options:["صلاة الفجر","صلاة الظهر","صلاة العصر","صلاة المغرب"],correctAnswer:"صلاة العصر",shortExplanation:"القول الراجح عند جمهور العلماء أن الصلاة الوسطى المذكورة في قوله تعالى (حَافِظُوا عَلَى الصَّلَوَاتِ وَالصَّلَاةِ الْوُسْطَىٰ) هي صلاة العصر.",detailedExplanation:"أكد الله على المحافظة على جميع الصلوات، وخص بالذكر 'الصلاة الوسطى' لمزيد من العناية بها. وقد وردت أحاديث صحيحة عن النبي صلى الله عليه وسلم تصرح بأنها صلاة العصر، منها قوله يوم الخندق: 'شغلونا عن الصلاة الوسطى، صلاة العصر، ملأ الله بيوتهم وقبورهم نارًا'.",reference:"القرآن الكريم، سورة البقرة: 238، وصحيح البخاري ومسلم."},{id:1013,question:"من هو الصحابي الذي تستحي منه الملائكة؟",options:["أبو بكر الصديق","عمر بن الخطاب","عثمان بن عفان","علي بن أبي طالب"],correctAnswer:"عثمان بن عفان",shortExplanation:"عثمان بن عفان رضي الله عنه هو الصحابي الذي قال عنه النبي صلى الله عليه وسلم: 'ألا أستحي من رجل تستحي منه الملائكة'.",detailedExplanation:"عُرف عثمان بن عفان رضي الله عنه بشدة حيائه. وفي حديث عائشة رضي الله عنها، أن النبي صلى الله عليه وسلم كان مضطجعًا كاشفًا عن ساقيه، فدخل أبو بكر ثم عمر فلم يغير جلسته، فلما استأذن عثمان، سوى النبي ثيابه وجلس. فلما سألته عائشة عن ذلك، قال: 'ألا أستحي من رجل تستحي منه الملائكة'.",reference:"صحيح مسلم."},{id:1014,question:"ما هي 'دار السلام'؟",options:["مكة المكرمة","المدينة المنورة","الجنة","السماء الدنيا"],correctAnswer:"الجنة",shortExplanation:"دار السلام اسم من أسماء الجنة، لأنها دار السلامة من كل الآفات والشرور.",detailedExplanation:"الجنة هي دار النعيم المقيم التي أعدها الله لعباده المؤمنين. لها أسماء كثيرة في القرآن تدل على عظمتها وجمالها، منها 'دار السلام' لأنها خالية من كل نقص أو أذى أو حزن أو موت، وفيها السلام والأمان الدائم. قال تعالى: (لَهُمْ دَارُ السَّلَامِ عِندَ رَبِّهِمْ).",reference:"القرآن الكريم، سورة الأنعام: 127."},{id:1015,question:"من هو النبي الذي كان يعمل نجارًا؟",options:["إدريس عليه السلام","نوح عليه السلام","زكريا عليه السلام","صالح عليه السلام"],correctAnswer:"زكريا عليه السلام",shortExplanation:"كان نبي الله زكريا عليه السلام، والد يحيى، يعمل نجارًا ويأكل من كسب يده.",detailedExplanation:"حث الإسلام على العمل والكسب الحلال، وكان الأنبياء عليهم السلام قدوة في ذلك. وقد أخبر النبي محمد صلى الله عليه وسلم أن نبي الله زكريا كان نجارًا. وفي هذا دليل على شرف العمل اليدوي وأن الأنبياء كانوا يأكلون من عمل أيديهم.",reference:"صحيح مسلم."},{id:1016,question:"ما هي الشجرة الملعونة المذكورة في القرآن؟",options:["شجرة الغرقد","شجرة الزقوم","شجرة السدر","شجرة التين"],correctAnswer:"شجرة الزقوم",shortExplanation:"شجرة الزقوم هي الشجرة الملعونة المذكورة في القرآن، وهي طعام أهل النار.",detailedExplanation:"ذكر الله شجرة الزقوم في سورة الإسراء بأنها فتنة للناس، ووصفها في سورة الصافات بأنها شجرة تخرج في أصل الجحيم، طلعها كأنه رؤوس الشياطين، وهي طعام أهل النار، والعياذ بالله. وكونها 'ملعونة' أي مبعدة عن الخير والرحمة.",reference:"القرآن الكريم، سورة الإسراء: 60."},{id:1017,question:"كم عدد أبواب الجنة؟",options:["7","8","9","10"],correctAnswer:"8",shortExplanation:"للجنة ثمانية أبواب، منها باب يسمى 'الريان' يدخل منه الصائمون.",detailedExplanation:"أخبر النبي صلى الله عليه وسلم أن للجنة ثمانية أبواب. ولكل نوع من أنواع الطاعات باب خاص يدخل منه أهله تكريمًا لهم، فهناك باب الصلاة، وباب الجهاد، وباب الصدقة، وباب الريان للصائمين. ومن كان من أهل هذه الأعمال كلها، دُعي من جميع الأبواب.",reference:"صحيح البخاري وصحيح مسلم."},{id:1018,question:"ما هو اسم خازن النار (حارس جهنم)؟",options:["رضوان","مالك","عتيد","زبور"],correctAnswer:"مالك",shortExplanation:"مالك هو اسم الملك الموكل بالنار وخازنها، كما ورد في القرآن الكريم.",detailedExplanation:"ذكر القرآن اسم خازن النار في سورة الزخرف، حيث ينادي أهل النار عليه ليدعو لهم ربهم أن يقضي عليهم ليستريحوا من العذاب، فيقولون: (وَنَادَوْا يَا مَالِكُ لِيَقْضِ عَلَيْنَا رَبُّكَ ۖ قَالَ إِنَّكُم مَّاكِثُونَ).",reference:"القرآن الكريم، سورة الزخرف: 77."},{id:1019,question:"من هي أول امرأة تزوجها النبي محمد صلى الله عليه وسلم؟",options:["عائشة بنت أبي بكر","حفصة بنت عمر","خديجة بنت خويلد","مارية القبطية"],correctAnswer:"خديجة بنت خويلد",shortExplanation:"السيدة خديجة بنت خويلد رضي الله عنها هي أولى زوجات النبي صلى الله عليه وسلم وأم أولاده جميعًا إلا إبراهيم.",detailedExplanation:"كانت السيدة خديجة امرأة ذات شرف ومال، تزوجها النبي قبل البعثة وهو في الخامسة والعشرين من عمره، وكانت هي في الأربعين. كانت أول من آمن به وصدقه، وواسته بنفسها ومالها. لم يتزوج عليها في حياتها، وظل يذكرها ويثني عليها حتى بعد وفاتها.",reference:"كتب السيرة النبوية."},{id:1020,question:"ما هو يوم الحج الأكبر؟",options:["يوم عرفة","يوم التروية","يوم النحر","أول أيام التشريق"],correctAnswer:"يوم النحر",shortExplanation:"يوم الحج الأكبر هو يوم النحر، وهو اليوم العاشر من ذي الحجة، وفيه معظم أعمال الحج.",detailedExplanation:"سمي يوم النحر بيوم الحج الأكبر لاجتماع معظم أعمال الحج فيه، حيث يقوم الحجاج فيه برمي جمرة العقبة الكبرى، ونحر الهدي، والحلق أو التقصير، وطواف الإفاضة. وهو يوم عيد للمسلمين في كل مكان.",reference:"القرآن الكريم، سورة التوبة: 3."}],Mf=["طالب علم","باحث مجتهد","صاحب علم","فقيه الديار","عالم الأمة"],Fo=[{id:"purification",title:"الطهارة",color:"sky",icon:"💧",questions:[{id:2001,question:"ما هو الحدث الأصغر الذي يوجب الوضوء؟",options:["الجنابة","الحيض","خروج الريح","النفاس"],correctAnswer:"خروج الريح",shortExplanation:"الحدث الأصغر هو ما يوجب الوضوء فقط، مثل خروج الريح أو البول أو الغائط.",detailedExplanation:"تنقسم الأحداث إلى قسمين: حدث أصغر وحدث أكبر. الحدث الأصغر هو نواقض الوضوء المعروفة، كخروج شيء من السبيلين (بول، غائط، ريح)، والنوم العميق، وزوال العقل. أما الحدث الأكبر فهو ما يوجب الغسل، كالجنابة والحيض والنفاس. الطهارة من الحدث الأصغر تكون بالوضوء، ومن الأكبر تكون بالغسل.",reference:"متون الفقه الحنبلي (مثل زاد المستقنع)."},{id:2002,question:"كم عدد فرائض الوضوء المتفق عليها؟",options:["أربعة","خمسة","ستة","سبعة"],correctAnswer:"ستة",shortExplanation:"فرائض الوضوء ستة وهي: غسل الوجه، غسل اليدين إلى المرفقين، مسح الرأس، غسل الرجلين إلى الكعبين، الترتيب، والموالاة.",detailedExplanation:"فرائض الوضوء هي الأركان التي لا يصح الوضوء إلا بها، وهي مذكورة في قوله تعالى: (يَا أَيُّهَا الَّذِينَ آمَنُوا إِذَا قُمْتُمْ إِلَى الصَّلَاةِ فَاغْسِلُوا وُجُوهَكُمْ وَأَيْدِيَكُمْ إِلَى الْمَرَافِقِ وَامْسَحُوا بِرُءُوسِكُمْ وَأَرْجُلَكُمْ إِلَى الْكَعْبَيْنِ). وأضافت السنة الترتيب بين هذه الأعضاء، والموالاة (عدم ترك فاصل زمني طويل بين غسل الأعضاء).",reference:"القرآن الكريم، سورة المائدة: 6، وكتب الفقه المعتمدة."},{id:2003,question:"ما هو الماء الطهور؟",options:["الماء الذي تغير طعمه بالملح","الماء الباقي على طبيعته التي خلق عليها","الماء المخلوط بالصابون","الماء المستعمل في الوضوء"],correctAnswer:"الماء الباقي على طبيعته التي خلق عليها",shortExplanation:"الماء الطهور هو الماء الباقي على صفته الأصلية (لون، طعم، رائحة) ولم يتغير بشيء يسلبه طهوريته.",detailedExplanation:"المياه تنقسم إلى ثلاثة أقسام عند جمهور الفقهاء: طهور، وطاهر، ونجس. الماء الطهور هو الذي يرفع الحدث ويزيل النجس، وهو الماء الباقي على خلقته الأصلية كماء المطر والبحار والأنهار. أما الماء الطاهر فهو طاهر في نفسه لكنه لا يطهر غيره، كالماء الذي تغير لونه أو طعمه بشيء طاهر كالشاي. والماء النجس هو الذي خالطته نجاسة فغيرت أحد أوصافه.",reference:"بداية المجتهد لابن رشد."},{id:2004,question:"متى يجوز التيمم؟",options:["عند عدم وجود صابون","عند شدة البرد مع وجود الماء","عند فقدان الماء أو العجز عن استعماله","في جميع حالات السفر"],correctAnswer:"عند فقدان الماء أو العجز عن استعماله",shortExplanation:"التيمم رخصة شرعية تجوز عند عدم وجود الماء، أو عند وجوده مع العجز عن استعماله لمرض أو خوف ضرر.",detailedExplanation:"التيمم طهارة ترابية بديلة عن الطهارة المائية عند وجود العذر. وأسبابه الرئيسية هي: فقدان الماء بعد البحث عنه، أو وجود الماء ولكن لا يمكن استعماله بسبب مرض يخشى معه زيادة المرض أو تأخر الشفاء، أو بسبب الخوف من عدو، أو الحاجة الشديدة للماء للشرب. ويكون التيمم بضربتين على التراب الطاهر: ضربة للوجه وضربة للكفين.",reference:"القرآن الكريم، سورة النساء: 43."},{id:2005,question:"ما حكم مسح الرأس في الوضوء؟",options:["سنة مؤكدة","واجب (فرض)","مستحب","مباح"],correctAnswer:"واجب (فرض)",shortExplanation:"مسح الرأس هو الفرض الرابع من فروض الوضوء كما نص القرآن الكريم.",detailedExplanation:"نصت آية الوضوء في سورة المائدة على وجوب مسح الرأس: (وَامْسَحُوا بِرُءُوسِكُمْ). وقد أجمع العلماء على أن مسح الرأس ركن من أركان الوضوء لا يصح بدونه. واختلفوا في القدر الواجب مسحه، فذهب المالكية والحنابلة إلى وجوب مسح الرأس كله، بينما يرى الشافعية إجزاء مسح بعض الرأس، ويرى الحنفية وجوب مسح ربع الرأس.",reference:"تفسير القرطبي، والمغني لابن قدامة."},{id:2006,question:"ما هو 'الاستنجاء'؟",options:["غسل اليدين قبل الطعام","إزالة ما يخرج من السبيلين بالماء","المضمضة في الوضوء","التلفظ بالنية"],correctAnswer:"إزالة ما يخرج من السبيلين بالماء",shortExplanation:"الاستنجاء هو تطهير مخرج البول أو الغائط بالماء الطهور حتى يزول أثر النجاسة.",detailedExplanation:"الاستنجاء واجب بعد قضاء الحاجة، وهو إزالة الخارج النجس من القبل أو الدبر بالماء. أما إزالته بالأحجار أو المناديل ونحوها فيسمى 'استجمارًا'. والأفضل هو الجمع بينهما، بأن يزيل عين النجاسة أولاً بالاستجمار ثم يتبع ذلك بالماء.",reference:"فقه السنة لسيد سابق."},{id:2007,question:"ما حكم النوم العميق من حيث نواقض الوضوء؟",options:["لا ينقض الوضوء مطلقًا","ينقض الوضوء مطلقًا","ينقض إذا كان المصلي مضطجعًا","مكروه فقط"],correctAnswer:"ينقض إذا كان المصلي مضطجعًا",shortExplanation:"النوم العميق الذي يزول معه الإحساس ينقض الوضوء، لأنه مظنة خروج الحدث دون شعور.",detailedExplanation:"النوم نفسه ليس حدثًا، ولكنه مظنة للحدث (خروج الريح). لذلك فرق الفقهاء بين النوم الخفيف الذي لا يغيب فيه الوعي تمامًا كنوم الجالس المتمكن من مقعدته، فهذا لا ينقض. والنوم الثقيل الذي يستغرق فيه الإنسان ويزول إدراكه، فهذا ناقض للوضوء لأنه لا يشعر بما قد يخرج منه.",reference:"صحيح مسلم، حديث صفوان بن عسال."},{id:2008,question:"ما هي مدة المسح على الخفين للمقيم؟",options:["ثلاثة أيام بلياليها","يوم وليلة","خمس صلوات","يوم واحد فقط"],correctAnswer:"يوم وليلة",shortExplanation:"يجوز للمقيم أن يمسح على خفيه مدة يوم وليلة (24 ساعة).",detailedExplanation:"المسح على الخفين رخصة ثابتة بالسنة المتواترة. مدة المسح للمقيم هي يوم وليلة، وللمسافر ثلاثة أيام بلياليها. وتبدأ مدة المسح من أول مسحة بعد الحدث، وليس من وقت لبس الخف.",reference:"صحيح مسلم."},{id:2009,question:"ما هو شرط صحة المسح على الجبيرة؟",options:["أن توضع على طهارة","أن تكون الجبيرة نظيفة","ليس له شروط","أن تكون مؤقتة"],correctAnswer:"أن توضع على طهارة",shortExplanation:"يشترط لصحة المسح على الجبيرة (الجبس أو اللفاف) أن يكون قد وضعها وهو على طهارة (متوضئ أو مغتسل).",detailedExplanation:"الجبيرة هي ما يوضع على الكسر أو الجرح. يشرع المسح عليها في الوضوء أو الغسل إذا كان هناك ضرر من غسل العضو أو نزعها. والمسح عليها عزيمة (واجب) وليس رخصة. ويمسح عليها كلها، ولا يشترط لها مدة محددة، بل يمسح عليها حتى يشفى العضو وتنزع.",reference:"فتاوى اللجنة الدائمة للبحوث العلمية والإفتاء."},{id:2010,question:"أي مما يلي لا يعتبر من موجبات الغسل؟",options:["الجنابة","الحيض","الموت","الوضوء"],correctAnswer:"الوضوء",shortExplanation:"الوضوء طهارة صغرى، بينما الجنابة والحيض والموت من موجبات الغسل (الطهارة الكبرى).",detailedExplanation:"موجبات الغسل هي الأمور التي إذا حصلت وجب على المسلم أن يغتسل لرفع الحدث الأكبر. وهي ستة: خروج المني، التقاء الختانين (الجماع)، الموت (يغسل الميت)، الحيض، النفاس، وإسلام الكافر على قول بعض الفقهاء.",reference:"كتب الفقه المعتمدة."},{id:2011,question:"ما حكم استخدام السواك عند كل صلاة؟",options:["واجب","سنة مؤكدة","مباح","مكروه"],correctAnswer:"سنة مؤكدة",shortExplanation:"استخدام السواك من السنن المؤكدة التي حث عليها النبي صلى الله عليه وسلم، خاصة عند الصلاة والوضوء.",detailedExplanation:"قال النبي صلى الله عليه وسلم: 'لولا أن أشق على أمتي لأمرتهم بالسواك عند كل صلاة'. وهذا يدل على شدة استحباب السواك وأهميته. وهو مرضاة للرب، مطهرة للفم.",reference:"صحيح البخاري ومسلم."},{id:2012,question:"هل لمس المرأة ينقض الوضوء؟",options:["نعم، مطلقًا","لا، مطلقًا","نعم، إن كان بشهوة","نعم، إن كانت أجنبية"],correctAnswer:"نعم، إن كان بشهوة",shortExplanation:"الراجح من أقوال العلماء أن مجرد لمس المرأة لا ينقض الوضوء، إلا إذا كان بشهوة أدى إلى خروج شيء.",detailedExplanation:"هذه المسألة من المسائل الخلافية. الشافعية يرون أن لمس بشرة المرأة الأجنبية ينقض مطلقًا. الحنفية يرون أنه لا ينقض مطلقًا. المالكية والحنابلة يفرقون، فيرون أنه ينقض إن كان بشهوة. والقول الراجح الذي تدل عليه الأدلة هو أنه لا ينقض إلا إذا خرج بسببه شيء (مذي مثلاً)، لأن الأصل بقاء الطهارة.",reference:"مجموع فتاوى ابن تيمية."},{id:2013,question:"ما هو 'الاستحاضة'؟",options:["دم الحيض","دم النفاس","دم يخرج في غير أوقات الحيض والنفاس","دم الجروح"],correctAnswer:"دم يخرج في غير أوقات الحيض والنفاس",shortExplanation:"الاستحاضة هي نزول دم من المرأة في غير أوقات الدورة الشهرية المعتادة، وهو دم علة ومرض لا يمنع الصلاة والصيام.",detailedExplanation:"دم الاستحاضة يختلف عن دم الحيض والنفاس في حكمه وصفته. هو دم عرق لا يمنع من العبادات. المستحاضة تتوضأ لكل صلاة بعد دخول وقتها، وتتحفظ جيدًا ثم تصلي، ولا يضرها ما خرج بعد ذلك.",reference:"صحيح البخاري، حديث فاطمة بنت أبي حبيش."},{id:2014,question:"ما حكم المذي من حيث الطهارة؟",options:["طاهر","نجس ويجب غسله","نجس معفو عنه","طاهر لكن يستحب غسله"],correctAnswer:"نجس ويجب غسله",shortExplanation:"المذي سائل لزج شفاف يخرج عند الشهوة، وهو نجس نجاسة مخففة، يوجب غسل الذكر والأنثيين والوضوء.",detailedExplanation:"المذي نجس باتفاق العلماء، ويجب غسل ما أصابه من البدن والثوب. لكن نجاسته مخففة، فيكفي في تطهير الثوب منه أن ينضح بالماء (يرش). وهو ناقض للوضوء.",reference:"صحيح البخاري ومسلم."},{id:2015,question:"ما حكم من شك في انتقاض وضوئه؟",options:["يعيد الوضوء احتياطًا","يبني على اليقين وهو الطهارة","يصلي ثم يعيد الصلاة","يسأل من بجانبه"],correctAnswer:"يبني على اليقين وهو الطهارة",shortExplanation:"قاعدة فقهية هامة: 'اليقين لا يزول بالشك'. فمن كان متأكدًا أنه توضأ وشك هل أحدث أم لا، فالأصل أنه باقٍ على طهارته.",detailedExplanation:"هذه القاعدة مستنبطة من حديث النبي صلى الله عليه وسلم في الرجل الذي يُخيل إليه أنه يجد الشيء في الصلاة، فقال: 'لا ينصرف حتى يسمع صوتًا أو يجد ريحًا'. فما لم يتيقن من خروج الحدث، فالأصل بقاء الوضوء.",reference:"صحيح البخاري ومسلم."},{id:2016,question:"كم مرة يُسن تثليث غسل أعضاء الوضوء؟",options:["مرة واحدة","مرتين","ثلاث مرات","أربع مرات"],correctAnswer:"ثلاث مرات",shortExplanation:"الواجب في الوضوء غسل الأعضاء مرة واحدة، والسنة غسلها ثلاث مرات.",detailedExplanation:"ثبت عن النبي صلى الله عليه وسلم أنه توضأ مرة مرة، ومرتين مرتين، وثلاثًا ثلاثًا. فالمرة الواحدة مجزئة وهي الفرض، والثلاث هي الكمال والسنة. ولا تجوز الزيادة على ثلاث، فقد ورد النهي عن ذلك.",reference:"صحيح البخاري."},{id:2017,question:"ما حكم غسل الجمعة؟",options:["واجب على كل مسلم","سنة مؤكدة","مباح","فرض كفاية"],correctAnswer:"سنة مؤكدة",shortExplanation:"الراجح عند جمهور العلماء أن غسل يوم الجمعة سنة مؤكدة، ويتأكد في حق من له رائحة تتأذى بها الملائكة والمصلون.",detailedExplanation:"لقوله صلى الله عليه وسلم: 'من توضأ يوم الجمعة فبها ونعمت، ومن اغتسل فالغسل أفضل'. بينما ذهب بعض أهل العلم إلى وجوبه لحديث: 'غسل الجمعة واجب على كل محتلم'. وجمع الجمهور بين الأحاديث بأن الوجوب هنا بمعنى شدة التأكيد وليس بمعنى الفرض الذي يأثم تاركه.",reference:"سنن الترمذي، صحيح البخاري."},{id:2018,question:"هل أكل لحم الإبل ينقض الوضوء؟",options:["نعم، ينقض الوضوء","لا ينقض الوضوء","ينقض إذا كان مطبوخًا","مكروه فقط"],correctAnswer:"نعم، ينقض الوضوء",shortExplanation:"أكل لحم الإبل من نواقض الوضوء على القول الراجح، سواء كان نيئًا أو مطبوخًا.",detailedExplanation:"هذه من المسائل التي تفرد بها مذهب الحنابلة عن بقية المذاهب، وهو القول الراجح لقوة الدليل. فقد سئل النبي صلى الله عليه وسلم: 'أنتوضأ من لحوم الغنم؟ قال: إن شئت فتوضأ، وإن شئت فلا توضأ. قال: أنتوضأ من لحوم الإبل؟ قال: نعم، فتوضأ من لحوم الإبل'. وهذا أمر صريح.",reference:"صحيح مسلم."},{id:2019,question:"ما هو 'الاستجمار'؟",options:["التطيب بالبخور","إزالة النجاسة بالأحجار أو ما في حكمها","النظر في النجوم","رمي الجمرات في الحج"],correctAnswer:"إزالة النجاسة بالأحجار أو ما في حكمها",shortExplanation:"الاستجمار هو تطهير مخرج البول والغائط باستخدام ثلاثة أحجار طاهرة فأكثر أو ما يقوم مقامها كالمناديل.",detailedExplanation:"الاستجمار بديل عن الاستنجاء بالماء عند عدم وجوده أو وجود عذر. ويشترط له أن يكون بثلاثة مسحات منقية فأكثر، وأن يكون بمادة طاهرة، مباحة، تزيل النجاسة وليست طعامًا أو شيئًا محترمًا كالعظم.",reference:"صحيح البخاري ومسلم."},{id:2020,question:"ما هو الدعاء المأثور بعد الوضوء؟",options:["سبحانك اللهم وبحمدك...","بسم الله، توكلت على الله...","أشهد أن لا إله إلا الله وحده لا شريك له...","اللهم إني أعوذ بك من الخبث والخبائث"],correctAnswer:"أشهد أن لا إله إلا الله وحده لا شريك له...",shortExplanation:"الدعاء المشروع بعد الفراغ من الوضوء هو قول: 'أشهد أن لا إله إلا الله وحده لا شريك له، وأشهد أن محمدًا عبده ورسوله'.",detailedExplanation:"قال النبي صلى الله عليه وسلم: 'ما منكم من أحد يتوضأ فيبلغ - أو فيسبغ - الوضوء ثم يقول: أشهد أن لا إله إلا الله وأن محمدًا عبد الله ورسوله، إلا فتحت له أبواب الجنة الثمانية يدخل من أيها شاء'. وفي رواية الترمذي زيادة: 'اللهم اجعلني من التوابين واجعلني من المتطهرين'.",reference:"صحيح مسلم."},{id:2021,question:"هل خروج الدم من غير السبيلين (مثل جرح) ينقض الوضوء؟",options:["نعم، إذا كان كثيرًا","نعم، مطلقًا","لا ينقض الوضوء","ينقض إذا كان من الرأس"],correctAnswer:"لا ينقض الوضوء",shortExplanation:"القول الراجح أن خروج الدم من غير السبيلين (القبل والدبر) لا ينقض الوضوء، سواء كان قليلاً أو كثيرًا.",detailedExplanation:"هذه مسألة خلافية، فالحنفية والحنابلة يرون أنه ينقض إذا كان كثيرًا. والمالكية والشافعية والقول الراجح عند المحققين أنه لا ينقض مطلقًا، لعدم وجود دليل صحيح صريح على ذلك، ولأن الأصل بقاء الطهارة. وقد ثبت أن الصحابة كانوا يصلون وجراحهم تثعب دمًا.",reference:"مجموع فتاوى ابن باز."},{id:2022,question:"ما حكم الموالاة في الوضوء؟",options:["سنة","مستحبة","واجبة (شرط)","مباحة"],correctAnswer:"واجبة (شرط)",shortExplanation:"الموالاة، وهي غسل الأعضاء متتابعة دون فاصل زمني طويل، شرط لصحة الوضوء على المذهب الراجح.",detailedExplanation:"الموالاة تعني أن يغسل العضو التالي قبل أن يجف العضو الذي قبله في زمن معتدل. وهي واجبة عند المالكية والحنابلة، وسنة عند الحنفية والشافعية. والقول بالوجوب أرجح، لأن وضوء النبي صلى الله عليه وسلم كان دائمًا متواليًا، ولأن الوضوء عبادة واحدة لا ينبغي تفريق أجزائها.",reference:"المغني لابن قدامة."},{id:2023,question:"ماذا يفعل من نسي عضوًا في الوضوء وتذكره بعد فترة قصيرة؟",options:["يعيد الوضوء كاملاً","يغسل العضو المنسي وما بعده فقط","يغسل العضو المنسي فقط","وضوؤه صحيح ولا شيء عليه"],correctAnswer:"يغسل العضو المنسي وما بعده فقط",shortExplanation:"من نسي غسل عضو وتذكر قريبًا، يلزمه غسل ذلك العضو وما بعده فقط، مراعاةً للترتيب والموالاة.",detailedExplanation:"إذا كان الفاصل الزمني قصيرًا ولم تجف الأعضاء، فإنه يغسل العضو الذي نسيه ثم يغسل الأعضاء التي تليه بالترتيب. أما إذا طال الفاصل الزمني وجفت الأعضاء، فيجب عليه إعادة الوضوء من جديد لفوَات شرط الموالاة.",reference:"فتاوى الشيخ ابن عثيمين."},{id:2024,question:"ما حكم الغسل للمرأة إذا انقطع دم الحيض؟",options:["تنتظر يومًا كاملاً","يجب عليها الغسل فورًا","تغتسل بعد ثلاث أيام","يجوز لها تأخير الغسل"],correctAnswer:"يجب عليها الغسل فورًا",shortExplanation:"بمجرد أن ترى المرأة علامة الطهر (الجفاف التام أو القصة البيضاء)، يجب عليها أن تبادر بالغسل لتصلي.",detailedExplanation:"متى انقطع دم الحيض وتحققت المرأة من طهرها، وجب عليها الغسل فورًا لتتمكن من أداء الصلاة والعبادات الأخرى التي يمنعها الحيض. ولا يجوز لها تأخير الغسل بدون عذر.",reference:"فقه المرأة المسلمة للدكتور محمد متولي الشعراوي."},{id:2025,question:"هل القيء ينقض الوضوء؟",options:["نعم، إذا كان كثيرًا","نعم، مطلقًا","لا ينقض الوضوء","ينقض إذا كان عمدًا"],correctAnswer:"لا ينقض الوضوء",shortExplanation:"القول الراجح عند أهل العلم أن القيء لا ينقض الوضوء، سواء كان قليلاً أو كثيرًا، لعدم وجود دليل صحيح على ذلك.",detailedExplanation:"يرى الحنفية والحنابلة أن القيء الكثير ينقض الوضوء، بينما يرى المالكية والشافعية أنه لا ينقض. والقول بعدم النقض هو الأقوى، لأن الأحاديث الواردة في ذلك ضعيفة، والأصل بقاء الطهارة حتى يثبت الناقض بدليل صحيح.",reference:"تمام المنة في التعليق على فقه السنة للألباني."}]},{id:"prayer",title:"الصلاة",color:"green",icon:"🕌",questions:[{id:3001,question:"ما هو أول ما يحاسب عليه العبد يوم القيامة؟",options:["الصيام","الزكاة","الصلاة","بر الوالدين"],correctAnswer:"الصلاة",shortExplanation:"أول عمل يحاسب عليه العبد من أعماله يوم القيامة هو الصلاة، فإن صلحت صلح سائر عمله.",detailedExplanation:"لقول النبي صلى الله عليه وسلم: 'إن أول ما يحاسب به العبد يوم القيامة من عمله صلاته، فإن صلحت فقد أفلح وأنجح، وإن فسدت فقد خاب وخسر'. وهذا يدل على عظم مكانة الصلاة وأهميتها، فهي عمود الدين.",reference:"سنن الترمذي، وصححه الألباني."},{id:3002,question:"كم عدد أركان الصلاة؟",options:["9","12","14","15"],correctAnswer:"14",shortExplanation:"أركان الصلاة أربعة عشر ركنًا على المذهب الحنبلي، وهي التي لا تصح الصلاة بترك أحدها عمدًا أو سهوًا.",detailedExplanation:"أركان الصلاة هي أجزاؤها الأساسية التي تتكون منها هيئتها. وهي: القيام مع القدرة، تكبيرة الإحرام، قراءة الفاتحة، الركوع، الرفع منه، السجود على الأعضاء السبعة، الاعتدال منه، الجلسة بين السجدتين، الطمأنينة في جميع الأفعال، الترتيب، التشهد الأخير، الجلوس له، الصلاة على النبي فيه، والتسليمتان.",reference:"شرح أركان الصلاة وواجباتها وسننها للشيخ محمد بن عبد الوهاب."},{id:3003,question:"ما حكم من ترك الصلاة عمدًا؟",options:["فاسق","كافر","عاصٍ فقط","مبتدع"],correctAnswer:"كافر",shortExplanation:"تارك الصلاة عمدًا بالكلية كافر خارج عن ملة الإسلام على القول الراجح من أقوال أهل العلم.",detailedExplanation:"لقول النبي صلى الله عليه وسلم: 'العهد الذي بيننا وبينهم الصلاة، فمن تركها فقد كفر'. وقوله: 'بين الرجل وبين الشرك والكفر ترك الصلاة'. وهذا هو قول جمع من الصحابة وعليه المذهب الحنبلي واختيار كثير من المحققين، لأن الصلاة هي أعظم شعائر الإسلام الظاهرة بعد الشهادتين.",reference:"صحيح مسلم، وسنن الترمذي."},{id:3004,question:"ما هي صلاة 'الأوابين'؟",options:["صلاة الضحى","صلاة قيام الليل","صلاة بعد المغرب","صلاة الاستخارة"],correctAnswer:"صلاة الضحى",shortExplanation:"صلاة الأوابين هي صلاة الضحى حين ترمض الفصال، أي حين تشتد حرارة الشمس.",detailedExplanation:"الأواب هو كثير الرجوع إلى الله. وقد ورد في الحديث أن النبي صلى الله عليه وسلم قال: 'صلاة الأوابين حين ترمض الفصال'، أي حين تحترق أخفاف صغار الإبل من شدة حرارة الرمال، وهذا يكون في وقت الضحى المرتفع، وهو أفضل أوقات صلاة الضحى.",reference:"صحيح مسلم."},{id:3005,question:"ما حكم سجود السهو؟",options:["سنة دائمًا","واجب للزيادة أو النقص أو الشك","مباح","مستحب فقط"],correctAnswer:"واجب للزيادة أو النقص أو الشك",shortExplanation:"سجود السهو واجب لجبر الخلل الذي يحدث في الصلاة بسبب السهو، سواء كان بزيادة أو نقص أو شك.",detailedExplanation:"شرع سجود السهو رحمة من الله وتيسيرًا على عباده. وهو سجدتان يسجدهما المصلي قبل السلام أو بعده حسب سبب السهو. يجب عند ترك واجب سهوًا، أو زيادة فعل سهوًا، أو الشك في عدد الركعات ولم يترجح لديه شيء.",reference:"فتاوى الشيخ ابن عثيمين."},{id:3006,question:"ماذا يقول المصلي في سجود التلاوة؟",options:["سبحان ربي الأعلى","نفس دعاء سجود الصلاة","لا يقول شيئًا","سجد وجهي للذي خلقه..."],correctAnswer:"سجد وجهي للذي خلقه...",shortExplanation:"الدعاء المأثور في سجود التلاوة هو: 'سجد وجهي للذي خلقه، وشق سمعه وبصره، بحوله وقوته'.",detailedExplanation:"سجود التلاوة سنة عند قراءة آية فيها سجدة. ويقال فيه ما يقال في سجود الصلاة من التسبيح والدعاء. وقد ورد دعاء خاص به وهو: 'سجد وجهي للذي خلقه، وشق سمعه وبصره، بحوله وقوته، فتبارك الله أحسن الخالقين'.",reference:"سنن الترمذي، وصححه الحاكم."},{id:3007,question:"ما حكم الصلاة في الثوب الذي عليه صورة؟",options:["صحيحة مع الكراهة","باطلة","صحيحة ولا كراهة","محرمة"],correctAnswer:"صحيحة مع الكراهة",shortExplanation:"الصلاة في ثوب فيه صورة لذوات الأرواح صحيحة، ولكنها مكروهة لأنها قد تلهي المصلي وتشغل عن الخشوع.",detailedExplanation:"يكره للمصلي أن يصلي في ثوب فيه تصاوير أو نقوش، أو أن يصلي تجاه شيء يلهيه. وقد ثبت أن النبي صلى الله عليه وسلم صلى في خميصة لها أعلام، فنظر إلى أعلامها نظرة، فلما انصرف قال: 'اذهبوا بخميصتي هذه إلى أبي جهم وأتوني بأنبجانية أبي جهم، فإنها ألهتني آنفًا عن صلاتي'. والصلاة صحيحة لأن النهي يعود لأمر خارج عن ذات الصلاة.",reference:"صحيح البخاري."},{id:3008,question:"متى يبدأ وقت صلاة العشاء؟",options:["عند غروب الشمس","عند مغيب الشفق الأحمر","عند منتصف الليل","عندما يصبح ظل كل شيء مثله"],correctAnswer:"عند مغيب الشفق الأحمر",shortExplanation:"يبدأ وقت صلاة العشاء من مغيب الشفق الأحمر في الأفق، ويمتد إلى منتصف الليل اختيارًا، وإلى طلوع الفجر ضرورة.",detailedExplanation:"وقت العشاء يبدأ بعد انتهاء وقت المغرب مباشرة، وعلامة ذلك هي غياب الشفق الأحمر من السماء. وينتهي وقتها الاختياري (الأفضل) عند منتصف الليل. ومن أخرها بعد منتصف الليل لعذر كنوم أو نسيان، فإنه يصليها ما لم يطلع الفجر.",reference:"صحيح مسلم، حديث أوقات الصلاة."},{id:3009,question:"ما هو 'القنوت' في الصلاة؟",options:["جلسة الاستراحة","دعاء خاص في صلاة الوتر أو النوازل","رفع اليدين في التكبير","التورك في التشهد الأخير"],correctAnswer:"دعاء خاص في صلاة الوتر أو النوازل",shortExplanation:"القنوت هو دعاء مخصوص يكون في الركعة الأخيرة من صلاة الوتر بعد الرفع من الركوع، أو في الصلوات المفروضة عند حدوث نازلة بالمسلمين.",detailedExplanation:"القنوت له معانٍ عدة في اللغة منها الطاعة والسكوت. وفي الشرع هو دعاء في محل مخصوص من الصلاة. وهو مسنون في صلاة الوتر. ويشرع أيضًا في الفرائض عند النوازل العامة (قنوت النازلة) كالحروب أو الأوبئة، فيدعو الإمام على الأعداء وللمسلمين.",reference:"زاد المعاد لابن القيم."},{id:3010,question:"كم عدد تكبيرات صلاة العيد؟",options:["خمس في الأولى وأربع في الثانية","سبع في الأولى وخمس في الثانية","أربع في الأولى وثلاث في الثانية","ست في الأولى وست في الثانية"],correctAnswer:"سبع في الأولى وخمس في الثانية",shortExplanation:"صلاة العيد ركعتان، يكبر في الركعة الأولى سبع تكبيرات بعد تكبيرة الإحرام، وفي الثانية خمس تكبيرات بعد تكبيرة الانتقال.",detailedExplanation:"صفة صلاة العيد أن يصلي الإمام ركعتين. يبدأ الأولى بتكبيرة الإحرام ثم بست تكبيرات بعدها (المجموع سبع). ثم يقرأ الفاتحة وسورة. وفي الركعة الثانية يقوم فيكبر خمس تكبيرات (غير تكبيرة القيام) ثم يقرأ. وهذا هو الثابت عن النبي صلى الله عليه وسلم.",reference:"سنن أبي داود."},{id:3011,question:"ما حكم قراءة الفاتحة للمأموم في الصلاة الجهرية؟",options:["واجبة","سنة","لا تجب، ويستمع للإمام","مكروهة"],correctAnswer:"لا تجب، ويستمع للإمام",shortExplanation:"القول الراجح أن المأموم في الصلاة الجهرية يستمع لقراءة إمامه، وقراءة الإمام قراءة له، ولا تجب عليه قراءة الفاتحة.",detailedExplanation:"هذه مسألة خلافية كبيرة. الشافعية يرون وجوبها على المأموم في كل الصلوات لعموم حديث: 'لا صلاة لمن لم يقرأ بفاتحة الكتاب'. والجمهور (الحنفية والمالكية والحنابلة) يرون أنها لا تجب عليه في الجهرية، لقوله تعالى: (وَإِذَا قُرِئَ الْقُرْآنُ فَاسْتَمِعُوا لَهُ وَأَنصِتُوا)، ولقول النبي: 'من كان له إمام فقراءة الإمام له قراءة'. وهذا القول أرجح.",reference:"مجموع فتاوى ابن تيمية."},{id:3012,question:"ما هو 'السترة' في الصلاة؟",options:["غطاء الرأس للمرأة","ما يضعه المصلي أمامه ليمنع المرور بين يديه","سجادة الصلاة","نوع من اللباس"],correctAnswer:"ما يضعه المصلي أمامه ليمنع المرور بين يديه",shortExplanation:"السترة هي حاجز يضعه المصلي أمامه كجدار أو عمود أو عصا، لمنع الناس من المرور أمامه ولقطع مرور الشيطان.",detailedExplanation:"اتخاذ السترة سنة مؤكدة للمصلي المنفرد والإمام. وتكون قريبة منه (قدر ثلاثة أذرع). وتحرم المرور بين المصلي وسترته، لقول النبي صلى الله عليه وسلم: 'لو يعلم المار بين يدي المصلي ماذا عليه، لكان أن يقف أربعين خيرًا له من أن يمر بين يديه'.",reference:"صحيح البخاري."},{id:3013,question:"ما حكم الصلاة في مرابض الغنم؟",options:["جائزة","محرمة","مكروهة","باطلة"],correctAnswer:"جائزة",shortExplanation:"تجوز الصلاة في مرابض (أماكن مبيت) الغنم لأنها طاهرة.",detailedExplanation:"سئل النبي صلى الله عليه وسلم عن الصلاة في مرابض الغنم فقال: 'صلوا فيها فإنها بركة'. وسئل عن الصلاة في معاطن الإبل فقال: 'لا تصلوا في معاطن الإبل فإنها خلقت من الشياطين'. فدل الحديث على جواز الصلاة في أماكن الغنم والنهي عن الصلاة في أماكن الإبل.",reference:"صحيح مسلم."},{id:3014,question:"ماذا تفعل إذا دخلت المسجد والإمام راكع؟",options:["تنتظر حتى يقوم","تكبر تكبيرة الإحرام ثم تركع مباشرة","تدخل في الصف ثم تركع","تبدأ صلاة جديدة"],correctAnswer:"تكبر تكبيرة الإحرام ثم تركع مباشرة",shortExplanation:"من أدرك الإمام راكعًا، فإنه يكبر تكبيرة الإحرام وهو قائم ثم يركع مع الإمام، وبذلك يكون قد أدرك الركعة.",detailedExplanation:"لقول النبي صلى الله عليه وسلم: 'من أدرك الركوع فقد أدرك الركعة'. فإذا دخل المسبوق المسجد ووجد الإمام راكعًا، فيجب عليه أن يكبر تكبيرة الإحرام أولاً وهو قائم، ثم يكبر للركوع ويركع. وإذا اطمأن في الركوع قبل أن يرفع الإمام، فقد أدرك الركعة كاملة.",reference:"سنن أبي داود."},{id:3015,question:"ما هي 'صلاة الاستسقاء'؟",options:["صلاة لطلب الزواج","صلاة لطلب نزول المطر","صلاة عند الخوف","صلاة عند رؤية الهلال"],correctAnswer:"صلاة لطلب نزول المطر",shortExplanation:"صلاة الاستسقاء هي صلاة وخطبة تؤدى جماعة عند انقطاع المطر وحدوث الجفاف، لطلب السقيا من الله.",detailedExplanation:"الاستسقاء هو طلب السقيا. وهو سنة مؤكدة إذا أجدبت الأرض واحتاج الناس للمطر. وصفتها كصلاة العيد، ركعتان جهريتان، يكبر في الأولى سبعًا وفي الثانية خمسًا، ثم يخطب الإمام خطبة واحدة يدعو فيها ويكثر من الاستغفار، ومن السنة أن يقلب رداءه تفاؤلاً بتغير الحال.",reference:"صحيح البخاري."},{id:3016,question:"ما هو حكم استقبال القبلة في الصلاة؟",options:["ركن من أركان الصلاة","واجب من واجبات الصلاة","سنة من سنن الصلاة","مستحب"],correctAnswer:"ركن من أركان الصلاة",shortExplanation:"استقبال القبلة (الكعبة المشرفة) شرط من شروط صحة الصلاة لا تصح بدونه إلا في حالات معينة.",detailedExplanation:"استقبال القبلة شرط لصحة الصلاة المفروضة والنافلة، لقوله تعالى: (فَوَلِّ وَجْهَكَ شَطْرَ الْمَسْجِدِ الْحَرَامِ). ويسقط هذا الشرط في حالتين: عند العجز الشديد كالمرض، وفي صلاة النافلة على الراحلة (وسيلة النقل) في السفر.",reference:"القرآن الكريم، سورة البقرة: 144."},{id:3017,question:"على كم عظم يجب السجود في الصلاة؟",options:["خمسة","ستة","سبعة","ثمانية"],correctAnswer:"سبعة",shortExplanation:"أمر النبي صلى الله عليه وسلم بالسجود على سبعة أعضاء.",detailedExplanation:"قال النبي صلى الله عليه وسلم: 'أمرت أن أسجد على سبعة أعظم: على الجبهة - وأشار بيده على أنفه - واليدين، والركبتين، وأطراف القدمين'. وهذه الأعضاء السبعة هي: الجبهة مع الأنف، الكفان، الركبتان، وأطراف أصابع القدمين.",reference:"صحيح البخاري ومسلم."},{id:3018,question:"ما حكم الكلام في الصلاة عمدًا؟",options:["مكروه","يبطل الصلاة","جائز للحاجة","ينقص الأجر فقط"],correctAnswer:"يبطل الصلاة",shortExplanation:"الكلام العمد في الصلاة من غير جنسها لمصلحة خارجة عنها يبطلها بالإجماع.",detailedExplanation:"كان الكلام في الصلاة جائزًا في أول الإسلام للحاجة، ثم نسخ. والدليل على ذلك حديث زيد بن أرقم: 'كنا نتكلم في الصلاة يكلم الرجل صاحبه وهو إلى جنبه في الصلاة حتى نزلت: (وَقُومُوا لِلَّهِ قَانِتِينَ) فأمرنا بالسكوت ونهينا عن الكلام'.",reference:"صحيح البخاري ومسلم."},{id:3019,question:"ما هي 'تحية المسجد'؟",options:["السلام على المصلين","ركعتان قبل صلاة الفجر","ركعتان يصليهما من دخل المسجد قبل أن يجلس","دعاء دخول المسجد"],correctAnswer:"ركعتان يصليهما من دخل المسجد قبل أن يجلس",shortExplanation:"تحية المسجد هي صلاة ركعتين، وهي سنة مؤكدة في حق من دخل المسجد ويريد الجلوس فيه.",detailedExplanation:"لقول النبي صلى الله عليه وسلم: 'إذا دخل أحدكم المسجد فلا يجلس حتى يصلي ركعتين'. وهذا الأمر للاستحباب المؤكد عند جمهور العلماء. وتجزئ عنها صلاة الفريضة أو السنة الراتبة إذا دخل المسجد وقتها.",reference:"صحيح البخاري ومسلم."},{id:3020,question:"ما هو 'التورك' و 'الافتراش' في الصلاة؟",options:["نوعان من الركوع","جلستان في التشهد","طريقتان للسجود","نوعان من القيام"],correctAnswer:"جلستان في التشهد",shortExplanation:"الافتراش هو نصب القدم اليمنى والجلوس على اليسرى، والتورك هو إخراج القدم اليسرى من تحت اليمنى والجلوس على المقعدة.",detailedExplanation:"الافتراش هو السنة في الجلوس بين السجدتين وفي التشهد الأول. أما التورك فهو السنة في التشهد الأخير في الصلاة الثلاثية والرباعية. والحكمة من التفريق بينهما هي التمييز بين التشهدين.",reference:"صحيح البخاري."},{id:3021,question:"ما حكم صلاة الجماعة للرجال؟",options:["سنة مؤكدة","فرض عين","فرض كفاية","مستحبة"],correctAnswer:"فرض عين",shortExplanation:"القول الراجح أن صلاة الجماعة في المسجد فرض عين على الرجال القادرين.",detailedExplanation:"الأدلة على وجوب صلاة الجماعة كثيرة، منها أمر الله بها في حالة الخوف والحرب، وحديث الأعمى الذي طلب الرخصة ليصلي في بيته فقال له النبي: 'هل تسمع النداء؟ قال: نعم. قال: فأجب'. فإذا لم يرخص للأعمى، فغيره من باب أولى.",reference:"القرآن الكريم، سورة النساء: 102، وصحيح مسلم."},{id:3022,question:"متى يجوز الجمع بين الصلاتين؟",options:["في السفر والمطر الشديد","عند النوم","عند الانشغال بالعمل","في أي وقت للحاجة"],correctAnswer:"في السفر والمطر الشديد",shortExplanation:"يجوز الجمع بين الظهر والعصر، وبين المغرب والعشاء، في حالات معينة كالسفر والمطر الشديد الذي يبل الثياب والمرض.",detailedExplanation:"الجمع رخصة من الله لتيسير على عباده. فيجوز للمسافر أن يجمع بين الظهر والعصر (جمع تقديم أو تأخير)، وبين المغرب والعشاء. ويجوز الجمع في الحضر للمطر الشديد الذي يشق معه الذهاب للمسجد، وللمرض الشديد، وللحاجة الملحة على ألا يتخذ عادة.",reference:"صحيح مسلم."},{id:3023,question:"ما هي الصلوات التي لها سنن رواتب؟",options:["جميع الصلوات الخمس","الظهر، المغرب، العشاء","الفجر، الظهر، المغرب، العشاء","الفجر والظهر فقط"],correctAnswer:"الفجر، الظهر، المغرب، العشاء",shortExplanation:"السنن الرواتب المؤكدة هي 12 ركعة مرتبطة بالصلوات المفروضة، وهي سبب لبناء بيت في الجنة.",detailedExplanation:"السنن الرواتب هي: ركعتان قبل الفجر، وأربع ركعات قبل الظهر وركعتان بعده، وركعتان بعد المغرب، وركعتان بعد العشاء. مجموعها 12 ركعة. قال النبي صلى الله عليه وسلم: 'من صلى في يوم وليلة ثنتي عشرة ركعة بني له بهن بيت في الجنة'.",reference:"صحيح مسلم."},{id:3024,question:"ما حكم من أكل أو شرب ناسيًا وهو في الصلاة؟",options:["صلاته باطلة","صلاته صحيحة","يسجد للسهو","عليه كفارة"],correctAnswer:"صلاته باطلة",shortExplanation:"الأكل والشرب في الصلاة عمدًا أو نسيانًا يبطلها، لأنه فعل كثير من غير جنس الصلاة.",detailedExplanation:"أجمع العلماء على أن من أكل أو شرب في صلاة الفرض عمدًا بطلت صلاته. واختلفوا في الناسي، والجمهور على أنها تبطل أيضًا، بخلاف الصيام الذي يعذر فيه الناسي. والفرق أن هيئة الصلاة من قيام وركوع وسجود منبهة، فيندر النسيان فيها جدًا، فلم يعذر به.",reference:"الإجماع لابن المنذر، والمغني لابن قدامة."},{id:3025,question:"ما هي 'صلاة الكسوف'؟",options:["صلاة عند رؤية قوس قزح","صلاة عند خسوف القمر أو كسوف الشمس","صلاة عند نزول المطر","صلاة عند هبوب الريح"],correctAnswer:"صلاة عند خسوف القمر أو كسوف الشمس",shortExplanation:"صلاة الكسوف (للشمس) والخسوف (للقمر) سنة مؤكدة، تصلى عند حدوث هذه الظاهرة الكونية تخويفًا من الله لعباده.",detailedExplanation:"عندما تنكسف الشمس أو يخسف القمر، يشرع للمسلمين أن يفزعوا إلى الصلاة والدعاء والصدقة. وصفتها أنها ركعتان، في كل ركعة قيامان وقراءتان وركوعان وسجودان. وهي صلاة جهرية.",reference:"صحيح البخاري ومسلم."}]},{id:"zakat",title:"الزكاة",color:"amber",icon:"💰",questions:[{id:4001,question:"على من تجب الزكاة؟",options:["على كل مسلم غني أو فقير","على المسلم الحر المالك للنصاب","على الرجال فقط","على من يعمل بالتجارة فقط"],correctAnswer:"على المسلم الحر المالك للنصاب",shortExplanation:"تجب الزكاة على كل مسلم، حر، يملك نصابًا (مقدار معين من المال) حال عليه الحول (مر عليه عام هجري).",detailedExplanation:"شروط وجوب الزكاة هي: الإسلام، والحرية، وملك النصاب ملكًا تامًا، وحولان الحول (مرور سنة قمرية على امتلاك النصاب). والنصاب هو الحد الأدنى من المال الذي تجب فيه الزكاة، ويختلف باختلاف نوع المال.",reference:"كتب الفقه الإسلامي."},{id:4002,question:"ما هو نصاب الذهب الذي تجب فيه الزكاة؟",options:["20 دينارًا (85 جرامًا)","40 دينارًا (170 جرامًا)","100 جرام","50 جرامًا"],correctAnswer:"20 دينارًا (85 جرامًا)",shortExplanation:"نصاب الذهب هو 20 دينارًا ذهبيًا، وهو ما يعادل 85 جرامًا من الذهب الخالص.",detailedExplanation:"إذا بلغ الذهب الذي يملكه المسلم 85 جرامًا من عيار 24، أو ما يعادلها في العيارات الأخرى، وحال عليه الحول، وجب عليه إخراج ربع العشر (2.5%) من قيمته.",reference:"فقه الزكاة للقرضاوي."},{id:4003,question:"ما مقدار زكاة المال (عروض التجارة والنقود)؟",options:["العشر (10%)","نصف العشر (5%)","ربع العشر (2.5%)","الخمس (20%)"],correctAnswer:"ربع العشر (2.5%)",shortExplanation:"مقدار الزكاة الواجب إخراجه في النقود وعروض التجارة والذهب والفضة هو ربع العشر، أي 2.5%.",detailedExplanation:"لقول النبي صلى الله عليه وسلم في زكاة الفضة: '...فهاتوا صدقة الرقة، من كل مائتي درهم خمسة دراهم'. وخمسة دراهم هي ربع عشر المائتين. وقاس العلماء الذهب والنقود وعروض التجارة على ذلك.",reference:"سنن أبي داود."},{id:4004,question:"ما هو 'الحول' في الزكاة؟",options:["حول العالم","مرور سنة هجرية كاملة","مرور سنة ميلادية","قوة الإنسان"],correctAnswer:"مرور سنة هجرية كاملة",shortExplanation:"الحول هو مرور عام هجري كامل على امتلاك المال البالغ للنصاب.",detailedExplanation:"من شروط وجوب الزكاة في الأموال النقدية وعروض التجارة والأنعام السائمة هو حولان الحول. لقول النبي صلى الله عليه وسلم: 'لا زكاة في مال حتى يحول عليه الحول'.",reference:"سنن ابن ماجه."},{id:4005,question:"من هم الأصناف الثمانية الذين تصرف لهم الزكاة؟",options:["الأقارب والجيران والأصدقاء","بناء المساجد والمدارس","الفقراء والمساكين والعاملون عليها...","الأيتام والأرامل فقط"],correctAnswer:"الفقراء والمساكين والعاملون عليها...",shortExplanation:"مصارف الزكاة محددة في القرآن الكريم وهم ثمانية أصناف.",detailedExplanation:"قال تعالى: (إِنَّمَا الصَّدَقَاتُ لِلْفُقَرَاءِ وَالْمَسَاكِينِ وَالْعَامِلِينَ عَلَيْهَا وَالْمُؤَلَّفَةِ قُلُوبُهُمْ وَفِي الرِّقَابِ وَالْغَارِمِينَ وَفِي سَبِيلِ اللَّهِ وَابْنِ السَّبِيلِ). فلا يجوز صرف الزكاة لغير هذه الأصناف الثمانية.",reference:"القرآن الكريم، سورة التوبة: 60."},{id:4006,question:"ما حكم زكاة الفطر؟",options:["سنة مؤكدة","فرض على كل مسلم","مستحبة","فرض على الأغنياء فقط"],correctAnswer:"فرض على كل مسلم",shortExplanation:"زكاة الفطر فريضة على كل مسلم، صغير أو كبير، ذكر أو أنثى، حر أو عبد.",detailedExplanation:"فرض رسول الله صلى الله عليه وسلم زكاة الفطر طهرة للصائم من اللغو والرفث، وطعمة للمساكين. وهي صاع من طعام من غالب قوت أهل البلد، وتجب على كل مسلم يملك قوت يوم العيد وليلته فاضلاً عن حاجته الأصلية.",reference:"صحيح البخاري ومسلم."},{id:4007,question:"متى يخرج وقت إخراج زكاة الفطر؟",options:["قبل صلاة العيد","طوال يوم العيد","في أي يوم من رمضان","بعد صلاة العيد"],correctAnswer:"قبل صلاة العيد",shortExplanation:"أفضل وقت لإخراج زكاة الفطر هو صباح يوم العيد قبل الخروج إلى الصلاة، ويجوز إخراجها قبل العيد بيوم أو يومين.",detailedExplanation:"أمر النبي صلى الله عليه وسلم أن تؤدى زكاة الفطر قبل خروج الناس إلى الصلاة. ومن أداها بعد الصلاة فهي صدقة من الصدقات وليست زكاة فطر. والحكمة من ذلك هي إغناء الفقراء عن السؤال في يوم العيد.",reference:"سنن أبي داود."},{id:4008,question:"هل تجب الزكاة في حلي المرأة (الذهب والفضة) الذي تستعمله للزينة؟",options:["نعم، مطلقًا","لا، مطلقًا","مسألة خلافية والراجح وجوبها","نعم، إذا كان للاستثمار فقط"],correctAnswer:"مسألة خلافية والراجح وجوبها",shortExplanation:"اختلف العلماء في زكاة حلي المرأة، والقول الراجح والأحوط هو وجوب الزكاة فيها إذا بلغت النصاب وحال عليها الحول.",detailedExplanation:"جمهور العلماء (المالكية والشافعية والحنابلة) على أنه لا زكاة في حلي المرأة المعد للاستعمال المباح. والحنفية وقول عند الحنابلة وهو اختيار الشيخ ابن باز وابن عثيمين، يرون وجوب الزكاة فيها، لعموم الأدلة الموجبة للزكاة في الذهب والفضة، وعدم وجود مخصص قوي. وهذا القول أحوط وأبرأ للذمة.",reference:"مجموع فتاوى ابن باز."},{id:4009,question:"ما هو نصاب زكاة الزروع والثمار التي تسقى بماء المطر؟",options:["العشر (10%)","نصف العشر (5%)","ربع العشر (2.5%)","لا زكاة فيها"],correctAnswer:"العشر (10%)",shortExplanation:"ما سقي بماء السماء والأنهار (بدون تكلفة) فزكاته العشر، أي 10%.",detailedExplanation:"لقول النبي صلى الله عليه وسلم: 'فيما سقت السماء والعيون أو كان عثريًا العشر، وفيما سقي بالنضح نصف العشر'. والنصاب هو خمسة أوسق، والوسق ستون صاعًا، أي حوالي 612 كيلوجرام.",reference:"صحيح البخاري."},{id:4010,question:"هل يجوز إعطاء الزكاة للأقارب الفقراء؟",options:["لا يجوز مطلقًا","نعم، وهو أولى من غيرهم","يجوز للإخوة فقط","لا يجوز للأصول والفروع"],correctAnswer:"نعم، وهو أولى من غيرهم",shortExplanation:"يجوز إعطاء الزكاة للقريب الفقير الذي لا تجب عليك نفقته، والصدقة عليه لها أجران: أجر الصدقة وأجر صلة الرحم.",detailedExplanation:"لا يجوز دفع الزكاة للأصول (الآباء والأجداد) ولا للفروع (الأبناء والأحفاد) ولا للزوجة، لأن نفقتهم واجبة على المزكي. أما بقية الأقارب كالإخوة والأعمام والأخوال، إذا كانوا فقراء، فهم من أولى الناس بالزكاة.",reference:"فتاوى اللجنة الدائمة."},{id:4011,question:"ما هو نصاب بهيمة الأنعام (الإبل)؟",options:["5 رؤوس","10 رؤوس","30 رأسًا","40 رأسًا"],correctAnswer:"5 رؤوس",shortExplanation:"أقل نصاب تجب فيه الزكاة من الإبل هو خمس من الإبل، وفيها شاة واحدة.",detailedExplanation:"تبدأ زكاة الإبل من 5 رؤوس، ففيها شاة. وفي 10 شاتان، وفي 15 ثلاث شياه، وفي 20 أربع شياه. فإذا بلغت 25 ففيها بنت مخاض (أنثى الإبل عمرها سنة). وتتغير المقادير بعد ذلك حسب الأعداد.",reference:"صحيح البخاري، كتاب الزكاة."},{id:4012,question:"هل تجب الزكاة على الراتب الشهري؟",options:["نعم، عند استلامه مباشرة","لا تجب عليه زكاة","نعم، إذا حال الحول على ما بلغ النصاب منه","نعم، في نهاية كل شهر"],correctAnswer:"نعم، إذا حال الحول على ما بلغ النصاب منه",shortExplanation:"الراتب الشهري لا تجب فيه الزكاة عند قبضه، بل يضم إلى بقية الأموال، ويزكى الجميع عندما يحول الحول على النصاب.",detailedExplanation:"الطريقة الأسهل لزكاة الراتب هي أن يحدد المزكي يومًا معينًا في السنة (مثلاً 1 رمضان) وينظر إلى كل ما يملكه من نقود بلغت النصاب في هذا اليوم، فيخرج زكاتها 2.5%، بغض النظر متى استفاد هذا المال. وهذا أيسر للمحاسبة وأعظم للأجر.",reference:"فتاوى الشيخ ابن عثيمين."},{id:4013,question:"ما حكم من عليه دين وله مال بلغ النصاب؟",options:["يسدد الدين أولاً ثم يزكي الباقي","يزكي جميع المال ولا علاقة للدين","مسألة خلافية والأرجح أنه يزكي","لا زكاة عليه حتى يسدد الدين"],correctAnswer:"يسدد الدين أولاً ثم يزكي الباقي",shortExplanation:"اختلف العلماء، والقول الراجح أن الدين يمنع وجوب الزكاة في الأموال الباطنة (النقود)، فيخصم مقدار الدين من المال ثم يزكي ما تبقى إن بلغ نصابًا.",detailedExplanation:"إذا كان الدين يستغرق النصاب أو ينقصه، فلا زكاة على المدين. أما إذا كان الدين لا ينقص المال عن النصاب، فإنه يخصم الدين ثم يزكي الباقي. هذا في الأموال الباطنة. أما الزروع والثمار والماشية فتجب فيها الزكاة ولا يمنعها الدين.",reference:"المغني لابن قدامة."},{id:4014,question:"هل يجوز نقل الزكاة من بلد إلى آخر؟",options:["لا يجوز مطلقًا","يجوز للمصلحة الراجحة","يجوز دائمًا","مكروه"],correctAnswer:"يجوز للمصلحة الراجحة",shortExplanation:"الأصل أن زكاة كل بلد توزع على فقرائه، لكن يجوز نقلها إذا كان هناك مصلحة شرعية معتبرة، كوجود أقارب أشد فقرًا في بلد آخر، أو حدوث مجاعة.",detailedExplanation:"لقول النبي صلى الله عليه وسلم لمعاذ حين أرسله إلى اليمن: '...فأعلمهم أن الله افترض عليهم صدقة تؤخذ من أغنيائهم فترد على فقرائهم'. فدل على أن الأصل صرفها في نفس البلد. لكن استثنى العلماء حالات للمصلحة، كعدم وجود فقراء في البلد، أو وجود حاجة أشد في بلد آخر.",reference:"فتاوى اللجنة الدائمة."},{id:4015,question:"ما هو 'زكاة الركاز'؟",options:["زكاة التجارة","زكاة المعادن","زكاة كنوز الجاهلية","زكاة الأسهم"],correctAnswer:"زكاة كنوز الجاهلية",shortExplanation:"الركاز هو دفين الجاهلية (كنز من زمن الكفار قبل الإسلام) يوجد في أرض غير مملوكة، وزكاته الخمس (20%).",detailedExplanation:"لقول النبي صلى الله عليه وسلم: 'وفي الركاز الخمس'. ويجب إخراج زكاته فور العثور عليه، ولا يشترط له نصاب ولا حول. ويصرف مصرف الفيء، أي في مصالح المسلمين العامة.",reference:"صحيح البخاري."},{id:4016,question:"هل تجب الزكاة في مال اليتيم والمجنون؟",options:["لا تجب","تجب على الولي فقط","نعم، تجب في مالهما","تجب عند البلوغ والعقل"],correctAnswer:"نعم، تجب في مالهما",shortExplanation:"تجب الزكاة في مال الصغير (اليتيم) والمجنون إذا بلغ نصابًا وحال عليه الحول، ويخرجها الولي عنهما.",detailedExplanation:"الزكاة حق يتعلق بالمال نفسه، لا بشخص المالك. لعموم قوله تعالى: (خُذْ مِنْ أَمْوَالِهِمْ صَدَقَةً). ولقول عمر بن الخطاب: 'اتجروا في أموال اليتامى لا تأكلها الصدقة'. وهذا مذهب جمهور العلماء.",reference:"موطأ الإمام مالك."},{id:4017,question:"هل يجوز تعجيل الزكاة قبل وقتها؟",options:["لا يجوز","يجوز لعام واحد فقط","يجوز لعامين","يجوز إذا وجدت حاجة ماسة"],correctAnswer:"يجوز إذا وجدت حاجة ماسة",shortExplanation:"يجوز تقديم الزكاة وتعجيلها عن وقتها المحدد إذا كان النصاب مكتملًا ودعت إلى ذلك مصلحة أو حاجة، كوجود مجاعة أو فقراء مضطرين.",detailedExplanation:"ثبت أن النبي صلى الله عليه وسلم استسلف من عمه العباس زكاة عامين. وهذا يدل على جواز التعجيل للمصلحة. لكن لا يجوز تعجيلها قبل اكتمال النصاب.",reference:"سنن الترمذي."},{id:4018,question:"كيف تُحسب زكاة عروض التجارة؟",options:["تقوّم بسعر الشراء","تقوّم بسعر البيع عند نهاية الحول","تُخرج من نفس السلع","لا زكاة عليها"],correctAnswer:"تقوّم بسعر البيع عند نهاية الحول",shortExplanation:"عندما يحول الحول، يقوم التاجر بجرد بضاعته وتقويمها بسعر السوق الحالي (سعر البيع)، ثم يضيف إليها السيولة النقدية والديون المرجوة، ويخرج 2.5% من المجموع.",detailedExplanation:"زكاة عروض التجارة تشمل كل ما أعد للبيع والشراء بقصد الربح. طريقة حسابها: (قيمة البضاعة بسعر السوق + النقد المتوفر + الديون التي على الآخرين ويرجى سدادها - الديون التي على التاجر) × 2.5%.",reference:"فقه الزكاة للقرضاوي."},{id:4019,question:"هل تجب الزكاة في العقارات المؤجرة؟",options:["نعم، على قيمة العقار","لا، الزكاة على الأجرة فقط","لا تجب الزكاة فيها مطلقًا","نعم، على الأجرة وقيمة العقار معًا"],correctAnswer:"لا، الزكاة على الأجرة فقط",shortExplanation:"العقارات المعدة للإيجار لا تجب الزكاة في قيمتها الأصلية، وإنما تجب في الأجرة (الإيراد) إذا بلغت نصابًا بنفسها أو بما يضم إليها وحال عليها الحول.",detailedExplanation:"العقارات المؤجرة (المستغلات) مثلها مثل المصانع وسيارات الأجرة، الزكاة لا تجب في أصلها (عينها)، بل في ريعها وإيرادها. فيضم هذا الإيراد إلى بقية أموال المالك ويزكى الجميع عند حولان الحول.",reference:"فتاوى الشيخ ابن باز."},{id:4020,question:"ما الفرق بين الفقير والمسكين؟",options:["لا فرق بينهما","الفقير أشد حاجة من المسكين","المسكين أشد حاجة من الفقير","الفقير يسأل والمسكين لا يسأل"],correctAnswer:"الفقير أشد حاجة من المسكين",shortExplanation:"على القول الراجح، الفقير هو من لا يجد شيئًا أو يجد أقل من نصف كفايته. أما المسكين فهو من يجد نصف كفايته فأكثر ولكن لا يجد تمام الكفاية.",detailedExplanation:"كلا الصنفين من مصارف الزكاة. وقد بدأ الله بالفقراء في آية مصارف الزكاة لأنهم الأشد حاجة. الفقير هو المعدم أو شبه المعدم، أما المسكين فله بعض المال لكنه لا يكفيه.",reference:"تفسير ابن كثير."}]},{id:"fasting",title:"الصيام",color:"blue",icon:"🌙",questions:[{id:5001,question:"ما هو تعريف الصيام شرعًا؟",options:["الامتناع عن الكلام","الإمساك عن المفطرات من طلوع الفجر إلى غروب الشمس بنية","الامتناع عن الطعام فقط","الاعتكاف في المسجد"],correctAnswer:"الإمساك عن المفطرات من طلوع الفجر إلى غروب الشمس بنية",shortExplanation:"الصيام هو التعبد لله تعالى بالإمساك عن الأكل والشرب والجماع وسائر المفطرات من طلوع الفجر الصادق إلى غروب الشمس.",detailedExplanation:"أركان الصيام اثنان: الأول هو النية، ومحلها القلب، ويجب تبييتها من الليل في صيام الفرض. والركن الثاني هو الإمساك عن جميع المفطرات (الأكل، الشرب، الجماع، وكل ما في حكمها) في الوقت المحدد وهو من طلوع الفجر الثاني إلى غروب الشمس.",reference:"فقه السنة لسيد سابق."},{id:5002,question:"ما حكم من أكل أو شرب ناسيًا وهو صائم؟",options:["بطل صومه وعليه القضاء","صومه صحيح ويتمه","عليه كفارة","عليه القضاء فقط"],correctAnswer:"صومه صحيح ويتمه",shortExplanation:"من أكل أو شرب ناسيًا في نهار رمضان فصومه صحيح ولا شيء عليه.",detailedExplanation:"لقول النبي صلى الله عليه وسلم: 'من نسي وهو صائم، فأكل أو شرب، فليتم صومه، فإنما أطعمه الله وسقاه'. وهذا من رحمة الله وتيسيره على عباده.",reference:"صحيح البخاري ومسلم."},{id:5003,question:"ما حكم استعمال قطرة العين للصائم؟",options:["تفطر مطلقًا","لا تفطر","تفطر إن وجد طعمها في حلقه","مكروهة"],correctAnswer:"لا تفطر",shortExplanation:"قطرة العين والأذن لا تفطر الصائم على القول الراجح، لأن العين ليست منفذًا معتادًا للطعام والشراب.",detailedExplanation:"الأصل صحة الصيام حتى يثبت ما يفسده بدليل شرعي. والعين ليست منفذًا للأكل والشرب، وما يصل منها إلى الحلق (إن وصل) فهو يسير جدًا ومعفو عنه. وهذا اختيار الشيخ ابن باز والشيخ ابن عثيمين.",reference:"مجموع فتاوى ابن باز."},{id:5004,question:"متى يجب تبييت النية في الصيام؟",options:["في صيام الفرض والنفل","في صيام الفرض فقط","في صيام النفل فقط","لا يجب مطلقًا"],correctAnswer:"في صيام الفرض فقط",shortExplanation:"يجب عقد النية وتبييتها من الليل (قبل طلوع الفجر) في كل صيام واجب كرمضان والقضاء والنذر.",detailedExplanation:"لقول النبي صلى الله عليه وسلم: 'من لم يبيت الصيام من الليل فلا صيام له'. أما صيام النفل فيجوز بنية من النهار إذا لم يكن قد أكل أو شرب شيئًا بعد الفجر.",reference:"سنن النسائي، وصححه الألباني."},{id:5005,question:"ما حكم صيام يوم الشك؟",options:["واجب","سنة","مباح","محرم"],correctAnswer:"محرم",shortExplanation:"يحرم صيام يوم الشك، وهو يوم الثلاثين من شعبان إذا لم ير الهلال ليلة الثلاثين بسبب غيم أو قتر.",detailedExplanation:"لقول عمار بن ياسر رضي الله عنه: 'من صام اليوم الذي يشك فيه فقد عصى أبا القاسم صلى الله عليه وسلم'. والحكمة من ذلك هي المبالغة في الاحتياط لدخول الشهر، وهو من التنطع المنهي عنه.",reference:"علقه البخاري ووصله أصحاب السنن."},{id:5006,question:"ما كفارة من جامع زوجته في نهار رمضان عمدًا؟",options:["إطعام 60 مسكينًا","صيام شهرين متتابعين","عتق رقبة، فإن لم يجد فصيام شهرين، فإن لم يستطع فإطعام 60 مسكينًا","القضاء فقط"],correctAnswer:"عتق رقبة، فإن لم يجد فصيام شهرين، فإن لم يستطع فإطعام 60 مسكينًا",shortExplanation:"كفارة الجماع في نهار رمضان هي كفارة مغلظة على الترتيب.",detailedExplanation:"يجب على من جامع في نهار رمضان متعمدًا: القضاء، والإمساك بقية اليوم، والكفارة المغلظة. وهي عتق رقبة مؤمنة، فإن عجز انتقل إلى صيام شهرين هجريين متتابعين، فإن عجز انتقل إلى إطعام ستين مسكينًا، لكل مسكين نصف صاع من طعام.",reference:"صحيح البخاري ومسلم."},{id:5007,question:"ما حكم المبالغة في المضمضة والاستنشاق للصائم؟",options:["مستحبة","مباحة","مكروهة","محرمة"],correctAnswer:"مكروهة",shortExplanation:"تكره المبالغة في المضمضة والاستنشاق أثناء الوضوء للصائم، خشية أن يسبق الماء إلى حلقه فيفطر.",detailedExplanation:"لقول النبي صلى الله عليه وسلم للقيط بن صبرة: '...وبالغ في الاستنشاق إلا أن تكون صائمًا'. فدل على أن الصائم يتمضمض ويستنشق لكن دون مبالغة.",reference:"سنن أبي داود والترمذي."},{id:5008,question:"من هم الذين يباح لهم الفطر في رمضان؟",options:["المسافر والمريض","العامل في مهنة شاقة","الطالب الذي عنده اختبار","كل من وجد مشقة"],correctAnswer:"المسافر والمريض",shortExplanation:"يباح الفطر للمسافر سفر قصر، وللمريض الذي يضره الصوم أو يشق عليه مشقة شديدة، وعليهما القضاء.",detailedExplanation:"قال تعالى: (وَمَن كَانَ مَرِيضًا أَوْ عَلَىٰ سَفَرٍ فَعِدَّةٌ مِّنْ أَيَّامٍ أُخَرَ). ويلحق بهما الحامل والمرضع إذا خافتا على نفسيهما أو ولديهما، والشيخ الكبير العاجز عن الصيام.",reference:"القرآن الكريم، سورة البقرة: 185."},{id:5009,question:"ما حكم من أخر قضاء رمضان حتى دخل رمضان التالي بدون عذر؟",options:["عليه القضاء فقط","عليه القضاء مع إطعام مسكين عن كل يوم","عليه كفارة مغلظة","لا شيء عليه"],correctAnswer:"عليه القضاء مع إطعام مسكين عن كل يوم",shortExplanation:"من أخر قضاء ما عليه من رمضان حتى دخل عليه رمضان آخر بلا عذر شرعي، فإنه يصوم الحاضر ثم يقضي ما عليه، مع إطعام مسكين عن كل يوم أخره.",detailedExplanation:"هذا هو ما أفتى به عدد من الصحابة كابن عباس وابن عمر وأبي هريرة. فالقضاء واجب على الفور، وتأخيره لغير عذر إثم يوجب التوبة، وجبره يكون بهذه الفدية (الإطعام) مع القضاء.",reference:"فتاوى الصحابة."},{id:5010,question:"ما هي ليلة القدر؟",options:["ليلة الإسراء والمعراج","ليلة النصف من شعبان","ليلة في العشر الأواخر من رمضان","أول ليلة من رمضان"],correctAnswer:"ليلة في العشر الأواخر من رمضان",shortExplanation:"ليلة القدر هي ليلة عظيمة في العشر الأواخر من رمضان، وهي خير من ألف شهر، وتلتمس في ليالي الوتر منها.",detailedExplanation:"قال تعالى: (لَيْلَةُ الْقَدْرِ خَيْرٌ مِّنْ أَلْفِ شَهْرٍ). وقال النبي صلى الله عليه وسلم: 'تحروا ليلة القدر في الوتر من العشر الأواخر من رمضان'. ومن قامها إيمانًا واحتسابًا غفر له ما تقدم من ذنبه.",reference:"القرآن الكريم، سورة القدر، وصحيح البخاري."},{id:5011,question:"ما حكم استخدام معجون الأسنان للصائم؟",options:["يفطر مطلقًا","جائز بشرط عدم بلع شيء","مكروه","محرم"],correctAnswer:"جائز بشرط عدم بلع شيء",shortExplanation:"يجوز للصائم تنظيف أسنانه بالفرشاة والمعجون، مع التحرز من وصول شيء منه إلى جوفه.",detailedExplanation:"استعمال المعجون لا يفطر، لأنه ليس أكلًا ولا شربًا ولا في معناهما. وهو من جنس المضمضة، فيجوز مع الحذر من بلعه. والأولى تركه في النهار واستعمال السواك بدلاً منه خروجًا من الخلاف.",reference:"فتاوى الشيخ ابن باز."},{id:5012,question:"ماذا يفعل الشيخ الكبير العاجز عن الصيام؟",options:["لا شيء عليه","يصوم عنه ولده","يطعم عن كل يوم مسكينًا","يقضي بعد رمضان"],correctAnswer:"يطعم عن كل يوم مسكينًا",shortExplanation:"الشيخ الكبير والمريض الذي لا يرجى شفاؤه، يفطران ويطعمان عن كل يوم أفطراه مسكينًا.",detailedExplanation:"لقوله تعالى: (وَعَلَى الَّذِينَ يُطِيقُونَهُ فِدْيَةٌ طَعَامُ مِسْكِينٍ). قال ابن عباس: هي للشيخ الكبير والمرأة الكبيرة لا يستطيعان أن يصوما، فيطعمان مكان كل يوم مسكينًا. ومقدار الإطعام نصف صاع من غالب قوت البلد (حوالي كيلو ونصف).",reference:"صحيح البخاري."},{id:5013,question:"ما حكم صيام يومي العيد؟",options:["سنة","مباح","مكروه","محرم"],correctAnswer:"محرم",shortExplanation:"يحرم صيام يوم عيد الفطر ويوم عيد الأضحى بالإجماع.",detailedExplanation:"نهى النبي صلى الله عليه وسلم عن صيام يومين: يوم الفطر ويوم الأضحى. فهي أيام أكل وشرب وذكر لله، وإظهار للفرح والسرور بنعمة الله.",reference:"صحيح البخاري ومسلم."},{id:5014,question:"هل الحجامة تفطر الصائم؟",options:["نعم، تفطر","لا تفطر","تفطر الحاجم والمحجوم","مسألة خلافية والراجح أنها لا تفطر"],correctAnswer:"مسألة خلافية والراجح أنها لا تفطر",shortExplanation:"اختلف العلماء في ذلك، والقول الراجح أن الحجامة لا تفطر الصائم، لكن الأولى تركها في النهار إن كانت تضعف الصائم.",detailedExplanation:"كانت الحجامة مفطرة في أول الأمر لحديث: 'أفطر الحاجم والمحجوم'. ثم نسخ هذا الحكم، وثبت أن النبي صلى الله عليه وسلم احتجم وهو صائم. وهذا هو اختيار شيخ الإسلام ابن تيمية والشيخ ابن عثيمين.",reference:"صحيح البخاري."},{id:5015,question:"ما حكم بلع الريق للصائم؟",options:["يفطر","مكروه","جائز ولا يفطر","يفطر إن كان كثيرًا"],correctAnswer:"جائز ولا يفطر",shortExplanation:"بلع الريق المعتاد لا يفطر الصائم بالإجماع، لأنه مما لا يمكن التحرز منه.",detailedExplanation:"لا يفطر الصائم ببلع ريقه، ولو كثر. أما بلع النخامة (البلغم) بعد وصولها إلى الفم، ففيه خلاف، والأحوط لفظها وعدم بلعها.",reference:"المغني لابن قدامة."},{id:5016,question:"ما هو أفضل الصيام بعد رمضان؟",options:["صيام شهر الله المحرم","صيام ستة من شوال","صيام يوم عرفة","صيام الإثنين والخميس"],correctAnswer:"صيام شهر الله المحرم",shortExplanation:"أفضل الصيام تطوعًا بعد شهر رمضان هو صيام شهر الله المحرم، وآكده يوم عاشوراء.",detailedExplanation:"لقول النبي صلى الله عليه وسلم: 'أفضل الصيام بعد رمضان شهر الله المحرم، وأفضل الصلاة بعد الفريضة صلاة الليل'.",reference:"صحيح مسلم."},{id:5017,question:"ما فضل صيام ستة أيام من شوال؟",options:["كصيام الدهر","غفران الذنوب","بناء بيت في الجنة","لا فضل خاص لها"],correctAnswer:"كصيام الدهر",shortExplanation:"من صام رمضان ثم أتبعه ستًا من شوال، كان كصيام الدهر كله.",detailedExplanation:"لقول النبي صلى الله عليه وسلم: 'من صام رمضان ثم أتبعه ستًا من شوال، كان كصيام الدهر'. والحسنة بعشر أمثالها، فرمضان بعشرة أشهر، والستة أيام بستين يومًا (شهرين)، فالمجموع اثنا عشر شهرًا.",reference:"صحيح مسلم."},{id:5018,question:"ما حكم من طلع عليه الفجر وهو جنب؟",options:["بطل صومه","صومه صحيح ويغتسل ويصلي","عليه قضاء ذلك اليوم","عليه كفارة"],correctAnswer:"صومه صحيح ويغتسل ويصلي",shortExplanation:"من أدركه الفجر وهو على جنابة من جماع ليلي، فصومه صحيح، ويجب عليه أن يغتسل ليصلي الفجر.",detailedExplanation:"ثبت عن النبي صلى الله عليه وسلم أنه كان يدركه الفجر وهو جنب من أهله ثم يغتسل ويصوم. فالجنابة ليست من المفطرات، وإنما يجب الاغتسال منها لأجل الصلاة.",reference:"صحيح البخاري ومسلم."},{id:5019,question:"هل القيء عمدًا يفطر الصائم؟",options:["نعم، يفطر وعليه القضاء","لا يفطر","يفطر وعليه كفارة","مكروه فقط"],correctAnswer:"نعم، يفطر وعليه القضاء",shortExplanation:"من تعمد القيء (الاستقاءة) فقد أفطر وعليه قضاء ذلك اليوم، أما من غلبه القيء فلا شيء عليه.",detailedExplanation:"لقول النبي صلى الله عليه وسلم: 'من ذرعه القيء (غلبه) فليس عليه قضاء، ومن استقاء عمدًا فليقضِ'.",reference:"سنن الترمذي."},{id:5020,question:"ما هو الاعتكاف وأين يكون؟",options:["عزلة في البيت","صيام متواصل","لزوم المسجد لطاعة الله","السفر للعبادة"],correctAnswer:"لزوم المسجد لطاعة الله",shortExplanation:"الاعتكاف هو لزوم المسلم للمسجد بنية التقرب إلى الله تعالى، وهو سنة في كل وقت، ويتأكد في العشر الأواخر من رمضان.",detailedExplanation:"الاعتكاف هو الانقطاع عن الناس والتفرغ للعبادة في بيت من بيوت الله. ويكون في مسجد تقام فيه صلاة الجماعة. والسنة اعتكاف العشر الأواخر من رمضان كاملة، اقتداء بالنبي صلى الله عليه وسلم.",reference:"صحيح البخاري."}]},{id:"hajj",title:"الحج والعمرة",color:"slate",icon:"🕋",questions:[{id:6001,question:"ما هو ركن الحج الأعظم الذي لا يصح الحج بدونه؟",options:["طواف الوداع","الوقوف بعرفة","رمي الجمرات","المبيت بمنى"],correctAnswer:"الوقوف بعرفة",shortExplanation:"الوقوف بعرفة هو ركن الحج الأعظم، لقول النبي صلى الله عليه وسلم: 'الحج عرفة'.",detailedExplanation:"أركان الحج هي التي يبطل الحج بترك أحدها. وأعظمها هو الوقوف بعرفة في اليوم التاسع من ذي الحجة، ولو للحظة واحدة، في أي جزء من أرض عرفة، ما بين زوال الشمس إلى طلوع فجر يوم النحر. فمن فاته الوقوف بعرفة فقد فاته الحج.",reference:"سنن الترمذي، وصححه الألباني."},{id:6002,question:"ما هي أركان الحج الأربعة؟",options:["الإحرام، الوقوف بعرفة، طواف الإفاضة، السعي","الإحرام، الطواف، السعي، الحلق","الوقوف بعرفة، رمي الجمار، المبيت بمنى، الطواف","النية، الإحرام، الطواف، رمي الجمار"],correctAnswer:"الإحرام، الوقوف بعرفة، طواف الإفاضة، السعي",shortExplanation:"أركان الحج عند جمهور العلماء هي: الإحرام (نية الدخول في النسك)، والوقوف بعرفة، وطواف الإفاضة، والسعي بين الصفا والمروة.",detailedExplanation:"الأركان لا يصح الحج إلا بالإتيان بها جميعًا، ولا تجبر بدم (ذبح فدية). من ترك ركنًا لم يتم حجه حتى يأتي به. والإحرام هو نية الدخول، والوقوف بعرفة في وقته المحدد، وطواف الإفاضة بعد عرفة، والسعي بعد طواف القدوم أو الإفاضة.",reference:"المغني لابن قدامة."},{id:6003,question:"ما هي أنواع النسك (الحج) الثلاثة؟",options:["المفرد، المقرن، المتمتع","العام، الخاص، الكامل","المكي، المدني، العراقي","الأول، الأوسط، الأخير"],correctAnswer:"المفرد، المقرن، المتمتع",shortExplanation:"أنساك الحج ثلاثة: الإفراد (حج فقط)، والقِران (حج وعمرة معًا بإحرام واحد)، والتمتع (عمرة ثم حج بإحرامين).",detailedExplanation:"التمتع: هو أن يحرم بالعمرة في أشهر الحج، ويفرغ منها، ثم يحرم بالحج من مكة في نفس العام. وهو أفضل الأنساك. القِران: هو أن يحرم بالحج والعمرة معًا. الإفراد: هو أن يحرم بالحج وحده. والقارن والمتمتع عليهما هدي (ذبح شاة)، أما المفرد فلا هدي عليه.",reference:"صحيح البخاري ومسلم."},{id:6004,question:"ما هو 'يوم التروية'؟",options:["اليوم السابع من ذي الحجة","اليوم الثامن من ذي الحجة","يوم عرفة","يوم العيد"],correctAnswer:"اليوم الثامن من ذي الحجة",shortExplanation:"يوم التروية هو اليوم الثامن من ذي الحجة، وفيه يتوجه الحجاج إلى منى للمبيت بها استعدادًا للوقوف بعرفة.",detailedExplanation:"سمي بيوم التروية لأن الحجاج كانوا يتروون فيه من الماء (أي يتزودون) لما بعده من الأيام في المشاعر التي لم يكن بها ماء آنذاك. ومن السنة للحاج المتمتع أن يحرم بالحج ضحى هذا اليوم من مكانه في مكة ثم يتوجه إلى منى فيصلي بها الظهر والعصر والمغرب والعشاء والفجر.",reference:"صحيح مسلم."},{id:6005,question:"ما هي 'محظورات الإحرام'؟",options:["الأكل والشرب","النوم","تغطية الرأس للرجل ولبس المخيط","الكلام"],correctAnswer:"تغطية الرأس للرجل ولبس المخيط",shortExplanation:"محظورات الإحرام هي أمور ممنوعة على الحاج أو المعتمر بعد إحرامه، منها ما هو مشترك بين الرجال والنساء ومنها ما يخص الرجال فقط.",detailedExplanation:"المحظورات المشتركة: حلق الشعر، تقليم الأظافر، استعمال الطيب، قتل الصيد، عقد النكاح، الجماع ومقدماته. ويختص الرجل بلبس المخيط (الملابس المفصلة على الجسم) وتغطية الرأس. وتختص المرأة بلبس النقاب والقفازين.",reference:"كتب مناسك الحج."},{id:6006,question:"كم عدد أشواط الطواف حول الكعبة؟",options:["ثلاثة","خمسة","سبعة","عشرة"],correctAnswer:"سبعة",shortExplanation:"الطواف حول الكعبة سبعة أشواط كاملة، تبدأ من الحجر الأسود وتنتهي به.",detailedExplanation:"يشترط لصحة الطواف: الطهارة من الحدثين، وستر العورة، وأن يجعل البيت عن يساره، وأن يكون سبعة أشواط، وأن يكون داخل المسجد الحرام. يبدأ كل شوط من محاذاة الحجر الأسود وينتهي عنده.",reference:"فقه السنة لسيد سابق."},{id:6007,question:"ماذا يفعل الحاج ليلة العاشر من ذي الحجة (ليلة العيد)؟",options:["يبقى في عرفة","يرجع إلى مكة","يبيت في مزدلفة","يبيت في منى"],correctAnswer:"يبيت في مزدلفة",shortExplanation:"بعد غروب شمس يوم عرفة، يتوجه الحجاج إلى مزدلفة ويبيتون بها حتى يصلوا الفجر، وهو واجب من واجبات الحج.",detailedExplanation:"يجمع الحاج في مزدلفة بين صلاتي المغرب والعشاء جمع تأخير. والسنة أن يبيت بها حتى يصلي الفجر، ثم يقف عند المشعر الحرام للدعاء والذكر حتى يسفر الجو جدًا، ثم ينطلق إلى منى قبل طلوع الشمس. والمبيت بمزدلفة واجب، من تركه لغير عذر فعليه دم.",reference:"صحيح مسلم."},{id:6008,question:"ما هي أعمال يوم النحر (العاشر من ذي الحجة)؟",options:["الوقوف بعرفة فقط","رمي جمرة العقبة، النحر، الحلق، طواف الإفاضة","السعي فقط","طواف الوداع"],correctAnswer:"رمي جمرة العقبة، النحر، الحلق، طواف الإفاضة",shortExplanation:"أعمال يوم النحر أربعة بالترتيب الأفضل: رمي جمرة العقبة الكبرى، ثم نحر الهدي، ثم الحلق أو التقصير، ثم طواف الإفاضة.",detailedExplanation:"هذا هو الترتيب الذي فعله النبي صلى الله عليه وسلم. وإذا فعل الحاج اثنين من هذه الأربعة (مثل الرمي والحلق) فقد حصل له التحلل الأول، فيباح له كل شيء من محظورات الإحرام إلا النساء. وإذا أتى ببقية الأعمال مع السعي، حصل له التحلل الثاني وحلت له النساء.",reference:"صحيح البخاري."},{id:6009,question:"ما الفرق بين الحج والعمرة؟",options:["لا فرق بينهما","الحج في رمضان والعمرة في ذي الحجة","الحج له وقت محدد وفيه وقوف بعرفة","العمرة واجبة والحج سنة"],correctAnswer:"الحج له وقت محدد وفيه وقوف بعرفة",shortExplanation:"الحج فرض مرة في العمر وله وقت معين (أشهر الحج) وأعماله أكثر، وأهمها الوقوف بعرفة. أما العمرة فتصح في كل وقت وأعمالها أقل (طواف وسعي وحلق).",detailedExplanation:"أعمال العمرة هي: الإحرام، والطواف، والسعي، والحلق أو التقصير. أما الحج فيزيد على ذلك: الوقوف بعرفة، والمبيت بمزدلفة، والمبيت بمنى، ورمي الجمار. والعمرة جائزة طوال العام، أما الحج فلا يكون إلا في أشهر الحج (شوال، ذو القعدة، ذو الحجة).",reference:"مجموع فتاوى ابن باز."},{id:6010,question:"ما حكم طواف الوداع؟",options:["ركن من أركان الحج","واجب على الحاج غير الحائض","سنة مؤكدة","مستحب"],correctAnswer:"واجب على الحاج غير الحائض",shortExplanation:"طواف الوداع واجب على كل حاج يريد مغادرة مكة، ويسقط عن المرأة الحائض والنفساء.",detailedExplanation:"لقول النبي صلى الله عليه وسلم: 'لا ينفرن أحد حتى يكون آخر عهده بالبيت'. فمن ترك طواف الوداع لعذر كالحيض فلا شيء عليه، ومن تركه لغير عذر فعليه دم (ذبح شاة) يوزع على فقراء الحرم.",reference:"صحيح مسلم."},{id:6011,question:"ما هي 'أيام التشريق'؟",options:["الأيام الثلاثة قبل عرفة","الأيام الثلاثة بعد يوم العيد","أول عشرة أيام من ذي الحجة","يوم عرفة ويوم العيد"],correctAnswer:"الأيام الثلاثة بعد يوم العيد",shortExplanation:"أيام التشريق هي اليوم الحادي عشر والثاني عشر والثالث عشر من شهر ذي الحجة.",detailedExplanation:"هذه الأيام هي أيام أكل وشرب وذكر لله، ويحرم صيامها لغير الحاج المتمتع أو القارن الذي لم يجد الهدي. وفيها يقوم الحجاج برمي الجمرات الثلاث والمبيت بمنى.",reference:"صحيح مسلم."},{id:6012,question:"من أين يحرم أهل مكة للحج؟",options:["من بيوتهم","من التنعيم","من السيل الكبير","من الجحفة"],correctAnswer:"من بيوتهم",shortExplanation:"من كان مقيمًا في مكة، فإنه يحرم بالحج من مكانه الذي هو فيه (بيته أو سكنه).",detailedExplanation:"المواقيت المكانية للإحرام حددها النبي صلى الله عليه وسلم للقادمين إلى مكة. أما من كان داخل هذه المواقيت (أهل مكة ومن بها من المقيمين)، فميقاتهم للحج هو نفس المكان الذي هم فيه. أما للعمرة، فيجب عليهم الخروج إلى أدنى الحل (خارج حدود الحرم) كالتنعيم أو الجعرانة ليحرموا منها.",reference:"صحيح البخاري."},{id:6013,question:"ما حكم من ترك واجبًا من واجبات الحج سهوًا؟",options:["حجه باطل","عليه دم (ذبح شاة)","لا شيء عليه","يصوم ثلاثة أيام"],correctAnswer:"عليه دم (ذبح شاة)",shortExplanation:"من ترك واجبًا من واجبات الحج (مثل المبيت بمزدلفة أو رمي الجمار) فإن حجه صحيح، ولكن يجب عليه جبره بدم.",detailedExplanation:"واجبات الحج تختلف عن الأركان. فالركن لا ينجبر إلا بفعله، أما الواجب فيجبر تركه بفدية (ذبح شاة في مكة وتوزيعها على الفقراء). وهذا من تيسير الشريعة.",reference:"فتاوى اللجنة الدائمة."},{id:6014,question:"ما هو 'الرَّمَل' في الطواف؟",options:["لمس الركن اليماني","الإسراع في المشي مع تقارب الخطى","الدعاء عند الملتزم","تقبيل الحجر الأسود"],correctAnswer:"الإسراع في المشي مع تقارب الخطى",shortExplanation:"الرمل هو سنة للرجال فقط في الأشواط الثلاثة الأولى من طواف القدوم أو طواف العمرة.",detailedExplanation:"الرمل هو إسراع المشي مع هز الكتفين وتقارب الخطى، لإظهار القوة والجلد. فعله النبي صلى الله عليه وسلم وأصحابه عند دخول مكة ليُروا المشركين قوتهم. وهو سنة في طواف القدوم للحاج، وطواف العمرة للمعتمر.",reference:"صحيح مسلم."},{id:6015,question:"ما هي 'التلبية' ومتى تقطع؟",options:["دعاء عند رؤية الكعبة","ذكر يردده المحرم، ويقطعه عند رمي جمرة العقبة","صلاة عند الميقات","نوع من اللباس"],correctAnswer:"ذكر يردده المحرم، ويقطعه عند رمي جمرة العقبة",shortExplanation:"التلبية هي شعار الحج والعمرة، وهي قول 'لبيك اللهم لبيك...'. ويبدأ بها المحرم من الميقات، ويقطعها الحاج عند بدء رمي جمرة العقبة يوم العيد، ويقطعها المعتمر عند بدء الطواف.",detailedExplanation:"صيغة التلبية المأثورة: 'لبيك اللهم لبيك، لبيك لا شريك لك لبيك، إن الحمد والنعمة لك والملك، لا شريك لك'. يسن للرجال الجهر بها، أما النساء فيقلنها سرًا.",reference:"صحيح البخاري ومسلم."}]},{id:"transactions",title:"المعاملات المالية",color:"amber",icon:"⚖️",questions:[{id:7001,question:"ما هو 'الربا' في الإسلام؟",options:["الربح في التجارة","الزيادة المشروطة في أحد عوضي العقد","بيع السلعة بأكثر من سعرها","أخذ فائدة على القرض"],correctAnswer:"أخذ فائدة على القرض",shortExplanation:"الربا هو كل زيادة مشروطة في عقد القرض أو في بيع الأموال الربوية بعضها ببعض، وهو من أكبر الكبائر.",detailedExplanation:"الربا نوعان رئيسيان: ربا الديون (وهو زيادة مشروطة على أصل الدين مقابل الأجل، وهو ربا الجاهلية)، وربا البيوع (وهو بيع مال ربوي بمال ربوي من نفس الجنس مع زيادة، أو مع تأخير القبض). وقد حرمه الله تحريمًا قاطعًا وتوعد فاعله بالحرب.",reference:"القرآن الكريم، سورة البقرة: 275-279."},{id:7002,question:"ما هي شروط صحة عقد البيع؟",options:["التراضي، العاقدان، المعقود عليه، الصيغة","وجود شاهدين","الكتابة والتوثيق","أن يكون في السوق"],correctAnswer:"التراضي، العاقدان، المعقود عليه، الصيغة",shortExplanation:"لصحة البيع شروط تتعلق بأطراف العقد (العاقدان)، وبمحل العقد (المعقود عليه)، وبطريقة العقد (الصيغة)، وبالرضا بين الطرفين.",detailedExplanation:"شروط صحة البيع هي: 1. التراضي بين المتبايعين. 2. أن يكون العاقدان جائزا التصرف (بالغين، عاقلين، راشدين). 3. أن يكون المبيع مملوكًا للبائع أو مأذونًا له فيه. 4. أن يكون المبيع مقدورًا على تسليمه. 5. أن يكون المبيع والثمن معلومين. 6. أن يكون المبيع مباح النفع.",reference:"زاد المستقنع في اختصار المقنع."},{id:7003,question:"ما هو 'بيع الغرر'؟",options:["البيع بالتقسيط","البيع الذي فيه جهالة أو مخاطرة","بيع المسروق","البيع في المسجد"],correctAnswer:"البيع الذي فيه جهالة أو مخاطرة",shortExplanation:"بيع الغرر هو البيع الذي يشتمل على جهالة كبيرة في المبيع أو الثمن أو الأجل، مما قد يؤدي إلى النزاع. وهو محرم.",detailedExplanation:"نهى النبي صلى الله عليه وسلم عن بيع الغرر. ومن أمثلته: بيع السمك في الماء، أو الطير في الهواء، أو بيع الثمار قبل أن يبدو صلاحها، أو بيع سلعة لا يملكها البائع. فكل بيع فيه مخاطرة أو جهالة غير يسيرة فهو من الغرر المنهي عنه.",reference:"صحيح مسلم."},{id:7004,question:"ما حكم بيع ما لا يملك؟",options:["جائز إذا ضمنه","محرم","مكروه","جائز للتاجر الخبير"],correctAnswer:"محرم",shortExplanation:"لا يجوز للمسلم أن يبيع سلعة لا يملكها وقت العقد.",detailedExplanation:"لقول النبي صلى الله عليه وسلم لحكيم بن حزام: 'لا تبع ما ليس عندك'. وهذا شرط أساسي من شروط صحة البيع، وهو أن يكون البائع مالكًا للمبيع أو وكيلاً عن مالكه. ويستثنى من ذلك بيع السلم بشروطه.",reference:"سنن الترمذي."},{id:7005,question:"ما هو 'خيار المجلس'؟",options:["حق اختيار أفضل مكان في السوق","حق المتبايعين في فسخ العقد ما داما في مكان البيع","الاختيار بين الدفع نقدًا أو بالتقسيط","خيار التاجر في تحديد السعر"],correctAnswer:"حق المتبايعين في فسخ العقد ما داما في مكان البيع",shortExplanation:"خيار المجلس هو حق يثبت للمشتري والبائع في إمضاء العقد أو فسخه ما داما لم يتفرقا بأبدانهما عن مكان العقد.",detailedExplanation:"لقول النبي صلى الله عليه وسلم: 'البيعان بالخيار ما لم يتفرقا'. وهذا الخيار يعطي فرصة للتروي والتفكير قبل لزوم العقد. وينتهي هذا الخيار بتفرقهما أو باختيارهما إمضاء العقد.",reference:"صحيح البخاري ومسلم."},{id:7006,question:"ما هو بيع 'العينة' المحرم؟",options:["بيع عينة من المنتج قبل بيع الكمية","بيع سلعة بثمن مؤجل ثم شراؤها نقدًا بثمن أقل","بيع السلعة قبل رؤيتها","البيع بالمزاد"],correctAnswer:"بيع سلعة بثمن مؤجل ثم شراؤها نقدًا بثمن أقل",shortExplanation:"بيع العينة هو حيلة للحصول على قرض بفائدة، وهو من صور الربا المحرم.",detailedExplanation:"صورته: أن يبيع شخص سلعة على آخر بثمن مؤجل (مثلاً 1200)، ثم يشتريها البائع نفسه من المشتري في نفس المجلس بثمن حالٍّ أقل (مثلاً 1000). فتكون النتيجة أن المشتري حصل على 1000 نقدًا وسيردها 1200 مؤجلة، والسلعة مجرد حيلة، فهذا ربا.",reference:"فتاوى اللجنة الدائمة."},{id:7007,question:"ما حكم الرهن في الدين؟",options:["محرم","جائز","واجب","مكروه"],correctAnswer:"جائز",shortExplanation:"الرهن عقد جائز ومشروع، وهو توثيق للدين بعين يمكن استيفاء الدين منها عند تعذر السداد.",detailedExplanation:"الرهن جائز بالكتاب والسنة والإجماع. قال تعالى: (وَإِن كُنتُمْ عَلَىٰ سَفَرٍ وَلَمْ تَجِدُوا كَاتِبًا فَرِهَانٌ مَّقْبُوضَةٌ). وقد ثبت أن النبي صلى الله عليه وسلم مات ودرعه مرهونة عند يهودي في شعير أخذه لأهله.",reference:"القرآن الكريم، سورة البقرة: 283، وصحيح البخاري."},{id:7008,question:"ما حكم بيع التقسيط بسعر أعلى من سعر النقد؟",options:["محرم لأنه ربا","جائز إذا كان معلوماً عند العقد","مكروه","جائز في السلع الضرورية فقط"],correctAnswer:"جائز إذا كان معلوماً عند العقد",shortExplanation:"يجوز بيع السلعة بالتقسيط بسعر أعلى من سعرها النقدي، بشرط أن يتم تحديد السعر وطريقة الدفع (نقد أو تقسيط) بشكل باتٍّ عند إبرام العقد.",detailedExplanation:"هذا البيع ليس من الربا، لأن الزيادة هنا في مقابل الأجل (الزمن)، وهي زيادة في ثمن السلعة لا في أصل الدين. والمحرم هو أن يتم العقد دون تحديد السعر، كأن يقول: 'هي بالنقد بألف وبالتقسيط بألف ومائتين'، دون أن يختارا أحدهما.",reference:"فتاوى اللجنة الدائمة."},{id:7009,question:"ما هو 'بيع السلم'؟",options:["البيع بالسلام والمصافحة","بيع شيء موصوف في الذمة بثمن معجل","البيع عند باب المسجد","البيع بثمن رمزي"],correctAnswer:"بيع شيء موصوف في الذمة بثمن معجل",shortExplanation:"بيع السلم (أو السلف) هو استثناء من بيع ما لا يملك، وهو تعجيل الثمن وتأجيل المبيع الموصوف وصفًا دقيقًا.",detailedExplanation:"صورته: أن يدفع المشتري الثمن كاملاً في مجلس العقد، على أن يسلمه البائع سلعة (كالتمر أو القمح) موصوفة وصفًا يرفع الجهالة، في أجل معلوم. وقد شرع لحاجة الناس إليه، خاصة المزارعين الذين يحتاجون للمال قبل نضج الثمار.",reference:"صحيح البخاري."},{id:7010,question:"ما حكم التأمين التجاري (مثل تأمين السيارات والحياة)؟",options:["جائز","محرم لاشتماله على الغرر والقمار","مستحب","واجب"],correctAnswer:"محرم لاشتماله على الغرر والقمار",shortExplanation:"التأمين التجاري بصورته الحالية محرم شرعًا، لأنه يشتمل على الغرر (الجهالة) والميسر (القمار). والبديل الشرعي هو التأمين التعاوني.",detailedExplanation:"وجه الغرر في التأمين التجاري أن المؤمن لا يدري كم سيدفع وكم سيأخذ. ووجه القمار أنه إما أن يأخذ أكثر مما دفع (إذا وقع الحادث) أو يذهب ماله دون مقابل (إذا لم يقع الحادث). أما التأمين التعاوني فمبني على التبرع والتعاون على جبر المصائب، والفائض يعود على المشتركين، وهذا جائز.",reference:"قرارات مجمع الفقه الإسلامي."}]},{id:"family",title:"أحكام الأسرة",color:"sky",icon:"👨‍👩‍👧‍👦",questions:[{id:8001,question:"ما هي أركان عقد النكاح؟",options:["الإيجاب والقبول، الزوجان الخاليان من الموانع، الولي، الشاهدان","المهر والوليمة","الزوج والزوجة فقط","الكفاءة بين الزوجين"],correctAnswer:"الإيجاب والقبول، الزوجان الخاليان من الموانع، الولي، الشاهدان",shortExplanation:"أركان عقد النكاح التي لا يصح إلا بها هي: وجود الزوجين، وحصول الإيجاب والقبول، وموافقة الولي، وحضور الشاهدين.",detailedExplanation:"لا يصح النكاح إلا بولي وشاهدي عدل. فالولي (والد المرأة أو الأقرب فالأقرب من عصبتها) هو الذي يزوجها. والإيجاب هو قوله 'زوجتك ابنتي'، والقبول هو قول الزوج 'قبلت'. والشهادة شرط لتوثيق العقد وإعلانه.",reference:"حديث: 'لا نكاح إلا بولي وشاهدي عدل'."},{id:8002,question:"من هن النساء المحرمات على الرجل تحريمًا مؤبدًا؟",options:["بنات العم وبنات الخال","الأصول والفروع والحواشي","زوجة الأخ وأخت الزوجة","المطلقة ثلاثًا"],correctAnswer:"الأصول والفروع والحواشي",shortExplanation:"المحرمات تحريمًا أبديًا هن المحرمات بالنسب (كالأم والبنت والأخت)، والمحرمات بالرضاع، والمحرمات بالمصاهرة (كزوجة الأب وزوجة الابن).",detailedExplanation:"فصلت سورة النساء المحرمات: (حُرِّمَتْ عَلَيْكُمْ أُمَّهَاتُكُمْ وَبَنَاتُكُمْ وَأَخَوَاتُكُمْ...). فالأصول هن الأمهات والجدات، والفروع هن البنات والحفيدات، والحواشي هن الأخوات والعمات والخالات وبنات الأخ وبنات الأخت. ويحرم من الرضاع ما يحرم من النسب.",reference:"القرآن الكريم، سورة النساء: 23."},{id:8003,question:"ما حكم 'نكاح الشغار'؟",options:["جائز","مكروه","محرم وباطل","جائز للضرورة"],correctAnswer:"محرم وباطل",shortExplanation:"نكاح الشغار هو أن يزوج الرجل موليته (ابنته أو أخته) لرجل آخر، على أن يزوجه الآخر موليته، وليس بينهما مهر. وهو نكاح باطل.",detailedExplanation:"نهى النبي صلى الله عليه وسلم عن الشغار. وفسره ابن عمر بأنه جعل بضع كل واحدة منهما صداقًا للأخرى. وسبب التحريم هو خلوه من المهر الذي هو حق للمرأة، وجعل المرأة كأنها سلعة للمبادلة.",reference:"صحيح البخاري ومسلم."},{id:8004,question:"ما هو 'الطلاق الرجعي'؟",options:["الطلاق قبل الدخول","الطلاق الذي لا يمكن الرجوع فيه","الطلقة الأولى والثانية ما دامت الزوجة في العدة","الطلقة الثالثة"],correctAnswer:"الطلقة الأولى والثانية ما دامت الزوجة في العدة",shortExplanation:"الطلاق الرجعي هو الذي يوقعه الزوج على زوجته المدخول بها لأول أو ثاني مرة، ويحق له مراجعتها خلال فترة العدة دون عقد جديد.",detailedExplanation:"في الطلاق الرجعي، تبقى الزوجة في حكم الزوجات، فلها النفقة والسكنى، ويرث كل منهما الآخر لو مات في العدة. ويملك الزوج مراجعتها بالقول (كقوله: راجعتك) أو بالفعل (كالوطء) ما لم تنقض عدتها.",reference:"القرآن الكريم، سورة البقرة: 228."},{id:8005,question:"ما هي 'العدة' للمرأة المطلقة التي تحيض؟",options:["شهر واحد","ثلاث حيضات كاملة","أربعة أشهر وعشرة أيام","سنة كاملة"],correctAnswer:"ثلاث حيضات كاملة",shortExplanation:"عدة المطلقة المدخول بها من ذوات الحيض هي ثلاث حيضات كاملة.",detailedExplanation:"قال تعالى: (وَالْمُطَلَّقَاتُ يَتَرَبَّصْنَ بِأَنفُسِهِنَّ ثَلَاثَةَ قُرُوءٍ). والقرء يطلق على الحيض والطهر، والراجح أنه الحيض. فبمجرد أن تبدأ في الحيضة الثالثة وتغتسل منها، تنقضي عدتها.",reference:"القرآن الكريم، سورة البقرة: 228."},{id:8006,question:"ما هي عدة المرأة المتوفى عنها زوجها؟",options:["ثلاث حيضات","ستة أشهر","سنة كاملة","أربعة أشهر وعشرة أيام"],correctAnswer:"أربعة أشهر وعشرة أيام",shortExplanation:"عدة المتوفى عنها زوجها هي أربعة أشهر وعشرة أيام، سواء كانت مدخولاً بها أم لا، حائضًا أم لا، إلا إذا كانت حاملاً.",detailedExplanation:"لقوله تعالى: (وَالَّذِينَ يُتَوَفَّوْنَ مِنكُمْ وَيَذَرُونَ أَزْوَاجًا يَتَرَبَّصْنَ بِأَنفُسِهِنَّ أَرْبَعَةَ أَشْهُرٍ وَعَشْرًا). أما إذا كانت حاملاً، فعدتها تنتهي بوضع حملها، ولو كان بعد وفاة زوجها بساعة.",reference:"القرآن الكريم، سورة البقرة: 234."},{id:8007,question:"ما هو 'الخلع'؟",options:["نوع من الطلاق يوقعه القاضي","أن تفارق الزوجة زوجها مقابل عوض مالي تدفعه له","فسخ النكاح بسبب عيب","الطلاق قبل الدخول"],correctAnswer:"أن تفارق الزوجة زوجها مقابل عوض مالي تدفعه له",shortExplanation:"الخلع هو فراق الزوج لزوجته بلفظ معين مقابل عوض (مال) تأخذه منه. وهو طلاق بائن.",detailedExplanation:"إذا كرهت المرأة زوجها وخشيت ألا تؤدي حقه، فيجوز لها أن تطلب منه الفراق مقابل أن ترد عليه المهر الذي دفعه لها أو أقل أو أكثر حسب الاتفاق. ودليله قصة امرأة ثابت بن قيس التي جاءت للنبي تطلب فراق زوجها، فأمره أن يقبل حديقته (مهره) ويطلقها.",reference:"صحيح البخاري."},{id:8008,question:"ما حكم تعدد الزوجات في الإسلام؟",options:["محرم","مباح بشروط العدل والقدرة","واجب","مكروه"],correctAnswer:"مباح بشروط العدل والقدرة",shortExplanation:"أباح الإسلام للرجل أن يتزوج بأكثر من واحدة حتى أربع، بشرط أن يثق من نفسه في العدل بينهن في النفقة والمبيت، وأن يكون قادرًا على الإنفاق عليهن.",detailedExplanation:"قال تعالى: (فَانكِحُوا مَا طَابَ لَكُم مِّنَ النِّسَاءِ مَثْنَىٰ وَثُلَاثَ وَرُبَاعَ ۖ فَإِنْ خِفْتُمْ أَلَّا تَعْدِلُوا فَوَاحِدَةً). فالعدل شرط أساسي في إباحة التعدد، ومن لم يستطعه حرم عليه الزواج بأكثر من واحدة.",reference:"القرآن الكريم، سورة النساء: 3."},{id:8009,question:"من هم 'أصحاب الفروض' في الميراث؟",options:["كل الورثة","الورثة الذين لهم نصيب مقدر شرعًا في القرآن أو السنة","الورثة الذكور فقط","الأبناء والآباء فقط"],correctAnswer:"الورثة الذين لهم نصيب مقدر شرعًا في القرآن أو السنة",shortExplanation:"أصحاب الفروض هم ورثة حُددت لهم أنصبة ثابتة في التركة، كالنصف والربع والثمن والثلثين والثلث والسدس.",detailedExplanation:"أصحاب الفروض هم: الزوج، الزوجة، الأب، الأم، الجد، الجدة، البنات، بنات الابن، الأخوات الشقيقات، الأخوات لأب، الإخوة لأم. لكل واحد من هؤلاء نصيب مقدر في حالات معينة، ويبدأ بهم في تقسيم التركة.",reference:"علم الفرائض والمواريث."},{id:8010,question:"ما هي 'الحضانة' ولمن تكون الأولوية فيها؟",options:["الرضاعة، وللأب","تربية الطفل، وللأم","النفقة، وللأب","التعليم، وللجد"],correctAnswer:"تربية الطفل، وللأم",shortExplanation:"الحضانة هي حفظ الطفل وتربيته ورعايته. والأم هي الأحق بحضانة طفلها الصغير ما لم تتزوج.",detailedExplanation:"إذا حصل فراق بين الزوجين، فالأم هي الأولى بحضانة أولادها الصغار ما لم يكن بها مانع أو تتزوج. لقول النبي صلى الله عليه وسلم للمرأة التي جاءت تشكو زوجها الذي أراد أخذ ابنها: 'أنت أحق به ما لم تنكحي'.",reference:"سنن أبي داود."}]},{id:"foods_oaths",title:"الأطعمة والأيمان",color:"green",icon:"🍽️",questions:[{id:9001,question:"ما هو الأصل في الأطعمة والأشربة؟",options:["الحرمة إلا ما ورد حله","الإباحة إلا ما ورد تحريمه","الكراهة","التوقف"],correctAnswer:"الإباحة إلا ما ورد تحريمه",shortExplanation:"القاعدة الفقهية أن الأصل في جميع الأطعمة والأشربة الحل والإباحة، ولا يحرم منها إلا ما جاء النص بتحريمه.",detailedExplanation:"لقوله تعالى: (هُوَ الَّذِي خَلَقَ لَكُم مَّا فِي الْأَرْضِ جَمِيعًا). فكل ما في الأرض من أطعمة وأشربة حلال لنا، إلا ما استثناه الشارع بالنص، كالخمر والميتة ولحم الخنزير والسباع وغيرها.",reference:"القرآن الكريم، سورة البقرة: 29."},{id:9002,question:"ما هي شروط الذكاة الشرعية للحيوان؟",options:["أن يكون الذابح مسلمًا أو كتابيًا، التسمية، قطع الحلقوم والمريء والودجين","قطع الرأس","استقبال القبلة فقط","أن يكون الحيوان سمينًا"],correctAnswer:"أن يكون الذابح مسلمًا أو كتابيًا، التسمية، قطع الحلقوم والمريء والودجين",shortExplanation:"لحل أكل الحيوان البري، لا بد من تذكيته بشروط: أهلية الذابح، واستخدام آلة حادة، والتسمية، وقطع ما يجب قطعه.",detailedExplanation:"شروط الذكاة هي: 1. أن يكون الذابح مسلمًا أو كتابيًا (يهودي أو نصراني). 2. أن تكون الآلة حادة تقطع وتُنهر الدم. 3. أن يقول 'بسم الله' عند الذبح. 4. أن يقطع الحلقوم (مجرى النفس) والمريء (مجرى الطعام) وأحد الودجين أو كليهما (العرقان المحيطان بالعنق).",reference:"فقه السنة لسيد سابق."},{id:9003,question:"ما حكم أكل لحوم السباع التي لها ناب؟",options:["حلال","مكروه","حرام","جائز للضرورة"],correctAnswer:"حرام",shortExplanation:"حرم النبي صلى الله عليه وسلم أكل كل ذي ناب من السباع، وكل ذي مخلب من الطير.",detailedExplanation:"السباع التي لها ناب تفترس به (كالأسد والنمر والذئب والكلب) محرم أكلها. وكذلك الطيور التي لها مخلب تصطاد به (كالصقر والنسر والبازي) محرم أكلها. وهذا مذهب جمهور العلماء.",reference:"صحيح مسلم."},{id:9004,question:"هل يحل أكل جميع حيوانات البحر؟",options:["نعم، كلها حلال","لا، يحل السمك فقط","لا، يحرم ما كان مفترسًا","لا، يحرم ما ليس له قشر"],correctAnswer:"نعم، كلها حلال",shortExplanation:"الأصل أن جميع ما في البحر من حيوانات حلال أكله، سواء كان سمكًا أو غيره.",detailedExplanation:"لقول النبي صلى الله عليه وسلم عن البحر: 'هو الطهور ماؤه، الحل ميتته'. فميتة البحر حلال، ويشمل ذلك جميع أنواع الكائنات البحرية، إلا ما كان فيه ضرر أو كان سامًا.",reference:"سنن أبي داود والترمذي."},{id:9005,question:"ما هي 'اليمين الغموس'؟",options:["اليمين على فعل في المستقبل","اليمين الكاذبة على أمر ماضٍ عمدًا","اليمين التي لا يقصدها الحالف","يمين الاستثناء"],correctAnswer:"اليمين الكاذبة على أمر ماضٍ عمدًا",shortExplanation:"اليمين الغموس هي التي تغمس صاحبها في الإثم ثم في النار، وهي الحلف كذبًا على أمر في الماضي لاقتطاع حق أو مال.",detailedExplanation:"اليمين الغموس من أكبر الكبائر، ولا كفارة لها عند جمهور العلماء إلا التوبة الصادقة ورد الحقوق إلى أهلها، لعظم إثمها. مثالها: أن يحلف شخص أنه لم يأخذ مال فلان، وهو يعلم أنه أخذه.",reference:"صحيح البخاري."},{id:9006,question:"ما هي كفارة اليمين المنعقدة إذا حنث فيها؟",options:["صيام ثلاثة أيام فقط","إطعام عشرة مساكين أو كسوتهم أو تحرير رقبة، فإن لم يجد فصيام ثلاثة أيام","الاستغفار والتوبة","التصدق بمال"],correctAnswer:"إطعام عشرة مساكين أو كسوتهم أو تحرير رقبة، فإن لم يجد فصيام ثلاثة أيام",shortExplanation:"كفارة اليمين تكون على التخيير بين ثلاثة أمور، فإن عجز عنها انتقل إلى الصيام.",detailedExplanation:"قال تعالى: (فَكَفَّارَتُهُ إِطْعَامُ عَشَرَةِ مَسَاكِينَ مِنْ أَوْسَطِ مَا تُطْعِمُونَ أَهْلِيكُمْ أَوْ كِسْوَتُهُمْ أَوْ تَحْرِيرُ رَقَبَةٍ ۖ فَمَن لَّمْ يَجِدْ فَصِيَامُ ثَلَاثَةِ أَيَّامٍ). فالحانث مخير بين الإطعام أو الكسوة أو العتق، فإن لم يستطع أيًا منها، صام ثلاثة أيام.",reference:"القرآن الكريم، سورة المائدة: 89."},{id:9007,question:"ما حكم لبس الذهب والحرير للرجال؟",options:["جائز","مكروه","حرام","جائز في المناسبات"],correctAnswer:"حرام",shortExplanation:"يحرم على الرجال لبس الذهب ولبس الحرير الخالص، وهما حلال للنساء.",detailedExplanation:"لقول النبي صلى الله عليه وسلم، وقد أخذ حريرًا فجعله في يمينه، وذهبًا فجعله في شماله، ثم قال: 'إن هذين حرام على ذكور أمتي، حل لإناثهم'. ويستثنى من ذلك ما كان للضرورة كالحكة، أو اليسير جدًا كالزر أو الخيط.",reference:"سنن أبي داود."},{id:9008,question:"ما هو 'النذر' وما حكم الوفاء به؟",options:["دعاء، ويستحب فعله","عهد، والوفاء به مكروه","إلزام النفس بطاعة لم تكن واجبة، والوفاء به واجب","وعد، والوفاء به سنة"],correctAnswer:"إلزام النفس بطاعة لم تكن واجبة، والوفاء به واجب",shortExplanation:"النذر هو أن يلزم المكلف نفسه بقربة (طاعة) غير واجبة عليه. والوفاء بنذر الطاعة واجب.",detailedExplanation:"مدح الله الموفين بالنذر فقال: (يُوفُونَ بِالنَّذْرِ وَيَخَافُونَ يَوْمًا كَانَ شَرُّهُ مُسْتَطِيرًا). فإذا نذر شخص طاعة كصيام أو صدقة، وجب عليه الوفاء بها. أما نذر المعصية فيحرم الوفاء به. ويبدأ الإنسان بالنذر مكروه، لأنه إلزام للنفس بما لم يلزمها الله به.",reference:"القرآن الكريم، سورة الإنسان: 7."},{id:9009,question:"ما هي آداب الطعام في الإسلام؟",options:["الأكل باليسار","الأكل من وسط الطبق","التسمية في أوله والأكل باليمين والأكل مما يلي الإنسان","الكلام أثناء الأكل"],correctAnswer:"التسمية في أوله والأكل باليمين والأكل مما يلي الإنسان",shortExplanation:"من أهم آداب الطعام التسمية، والأكل باليد اليمنى، والأكل من الجزء الذي أمامك من الطبق.",detailedExplanation:"لقول النبي صلى الله عليه وسلم لعمر بن أبي سلمة: 'يا غلام، سم الله، وكل بيمينك، وكل مما يليك'. ومن الآداب أيضًا: تصغير اللقمة، وإجادة المضغ، وعدم عيب الطعام، وحمد الله بعد الفراغ منه.",reference:"صحيح البخاري ومسلم."},{id:9010,question:"ما حكم حلق اللحية للرجل؟",options:["جائز","مكروه","سنة","محرم"],correctAnswer:"محرم",shortExplanation:"حلق اللحية محرم عند جمهور العلماء، ويجب إعفاؤها وتوفيرها.",detailedExplanation:"لقول النبي صلى الله عليه وسلم: 'خالفوا المشركين: وفروا اللحى، وأحفوا الشوارب'. والأمر هنا للوجوب، فيكون الحلق محرمًا. وهذا هو مذهب الأئمة الأربعة.",reference:"صحيح البخاري ومسلم."}]},{id:"inheritance",title:"الميراث",color:"slate",icon:"📊",questions:[{id:10001,question:"ما هي أول خطوة يجب القيام بها من تركة المتوفى؟",options:["تقسيم الميراث","تنفيذ الوصية","تجهيز الميت ودفنه","سداد الديون"],correctAnswer:"تجهيز الميت ودفنه",shortExplanation:"الحقوق المتعلقة بالتركة تبدأ بتكاليف تجهيز الميت ودفنه بالمعروف، ثم سداد ديونه، ثم تنفيذ وصاياه، ثم تقسيم الباقي على الورثة.",detailedExplanation:"أجمع الفقهاء على أن الحقوق المتعلقة بالتركة لها ترتيب. أولاً: مؤن التجهيز والدفن. ثانيًا: قضاء ديون المتوفى. ثالثًا: تنفيذ وصاياه في حدود ثلث ما تبقى. رابعًا: توزيع بقية التركة على الورثة حسب أنصبتهم الشرعية.",reference:"الإجماع الفقهي، كتب علم الفرائض."},{id:10002,question:"أي مما يلي يعتبر من موانع الإرث؟",options:["الفقر","صغر السن","القتل","العيش في بلد آخر"],correctAnswer:"القتل",shortExplanation:"من موانع الإرث المتفق عليها القتل، فلا يرث القاتل من المقتول.",detailedExplanation:"موانع الإرث هي أوصاف تمنع الشخص من الميراث. وأهمها ثلاثة: 1. القتل: لقول النبي صلى الله عليه وسلم 'القاتل لا يرث'. 2. اختلاف الدين: فلا يرث المسلم من الكافر ولا الكافر من المسلم. 3. الرق (في السياق التاريخي).",reference:"سنن الترمذي، حديث 'القاتل لا يرث'."},{id:10003,question:"توفي رجل عن زوجة وابن، ما نصيب الزوجة؟",options:["النصف (1/2)","الربع (1/4)","الثمن (1/8)","السدس (1/6)"],correctAnswer:"الثمن (1/8)",shortExplanation:"نصيب الزوجة هو الثمن في حال وجود فرع وارث (ابن أو بنت) للزوج.",detailedExplanation:"قال تعالى في سورة النساء: (فَإِن كَانَ لَكُمْ وَلَدٌ فَلَهُنَّ الثُّمُنُ مِمَّا تَرَكْتُم). والولد هنا يشمل الابن والبنت وابن الابن وبنت الابن وإن نزلوا. والباقي يأخذه الابن تعصيبًا.",reference:"القرآن الكريم، سورة النساء: 12."},{id:10004,question:"من هم 'العصبة بالنفس'؟",options:["الورثة الإناث فقط","الورثة الذين لهم فرض مقدر","كل ذكر لا تدخل في نسبته إلى الميت أنثى","الأخوال والأعمام"],correctAnswer:"كل ذكر لا تدخل في نسبته إلى الميت أنثى",shortExplanation:"العصبة بالنفس هم ورثة ذكور يرثون ما تبقى بعد أصحاب الفروض، أو كل التركة عند عدم وجودهم. أقواهم الابن ثم الأب.",detailedExplanation:"العصبة بالنفس لهم جهات مرتبة: 1. البنوة (الابن وابن الابن). 2. الأبوة (الأب والجد). 3. الأخوة (الأخ الشقيق ثم لأب وأبناؤهم). 4. العمومة (العم الشقيق ثم لأب وأبناؤهم). ويقدم الأقرب جهة، ثم الأقرب درجة، ثم الأقوى قرابة.",reference:"حديث: 'ألحقوا الفرائض بأهلها، فما بقي فهو لأولى رجل ذكر' (صحيح البخاري)."},{id:10005,question:"توفيت امرأة عن زوج وبنت، ما نصيب الزوج؟",options:["النصف (1/2)","الربع (1/4)","الثمن (1/8)","السدس (1/6)"],correctAnswer:"الربع (1/4)",shortExplanation:"نصيب الزوج هو الربع في حال وجود فرع وارث للزوجة.",detailedExplanation:"قال تعالى في سورة النساء: (وَلَكُمْ نِصْفُ مَا تَرَكَ أَزْوَاجُكُمْ إِن لَّمْ يَكُن لَّهُنَّ وَلَدٌ ۚ فَإِن كَانَ لَهُنَّ وَلَدٌ فَلَكُمُ الرُّبُعُ مِمَّا تَرَكْنَ). في هذه المسألة تأخذ البنت النصف فرضًا، والزوج الربع فرضًا، والباقي يرد عليهما.",reference:"القرآن الكريم، سورة النساء: 12."},{id:10006,question:"توفي رجل عن بنتين وأم وأب، ما نصيب البنتين؟",options:["النصف (1/2)","الثلثان (2/3)","الثلث (1/3)","لهما الباقي"],correctAnswer:"الثلثان (2/3)",shortExplanation:"نصيب البنتين فأكثر هو الثلثان، بشرط عدم وجود ابن (معصب).",detailedExplanation:"لقوله تعالى: (فَإِن كُنَّ نِسَاءً فَوْقَ اثْنَتَيْنِ فَلَهُنَّ ثُلُثَا مَا تَرَكَ). وفي هذه المسألة: للبنتين الثلثان، وللأم السدس لوجود الفرع الوارث، وللأب السدس فرضًا والباقي تعصيبًا.",reference:"القرآن الكريم، سورة النساء: 11."},{id:10007,question:"ما هو 'الحجب' في الميراث؟",options:["إخفاء جزء من التركة","منع وارث من الإرث لوجود من هو أقرب منه","كتابة وصية لأحد الورثة","تأخير قسمة التركة"],correctAnswer:"منع وارث من الإرث لوجود من هو أقرب منه",shortExplanation:"الحجب هو منع شخص معين من الميراث إما كليًا (حجب حرمان) أو جزئيًا (حجب نقصان) بسبب وجود وارث آخر أقرب منه درجة.",detailedExplanation:"مثال حجب الحرمان: الابن يحجب الأخ من الميراث تمامًا. مثال حجب النقصان: الابن يحجب الأم من الثلث إلى السدس، ويحجب الزوج من النصف إلى الربع. وهناك ورثة لا يحجبون حجب حرمان أبدًا وهم: الابن، والبنت، والأب، والأم، والزوج، والزوجة.",reference:"متن الرحبية في علم الفرائض."},{id:10008,question:"ما مقدار الوصية الجائزة شرعًا؟",options:["النصف","الربع","الثلث فأقل","أي مقدار يراه الموصي"],correctAnswer:"الثلث فأقل",shortExplanation:"تصح الوصية لغير وارث في حدود ثلث التركة، وما زاد عن الثلث يتوقف على إجازة الورثة.",detailedExplanation:"لقول النبي صلى الله عليه وسلم لسعد بن أبي وقاص حين أراد أن يوصي بأكثر من الثلث: 'الثلث، والثلث كثير أو كبير'. ولا تجوز الوصية لوارث إلا إذا أجازها بقية الورثة، لقوله صلى الله عليه وسلم: 'إن الله قد أعطى كل ذي حق حقه، فلا وصية لوارث'.",reference:"صحيح البخاري، وسنن أبي داود."},{id:10009,question:"توفي رجل عن أم وأب فقط، كيف تقسم التركة؟",options:["للأم الثلث والباقي للأب","للأم السدس والباقي للأب","مناصفة بينهما","للأب كل التركة"],correctAnswer:"للأم الثلث والباقي للأب",shortExplanation:"في هذه الحالة، تأخذ الأم ثلث التركة فرضًا، ويأخذ الأب الباقي (الثلثين) تعصيبًا.",detailedExplanation:"هذه المسألة هي إحدى المسألتين العمريتين (الغراوين). تأخذ الأم الثلث لقوله تعالى: (فَإِن لَّمْ يَكُن لَّهُ وَلَدٌ وَوَرِثَهُ أَبَوَاهُ فَلِأُمِّهِ الثُّلُثُ). والأب يأخذ الباقي لأنه أولى رجل ذكر. فتكون القسمة بنسبة 1 للأم و 2 للأب.",reference:"القرآن الكريم، سورة النساء: 11."},{id:10010,question:"ما هو 'الرد' في الميراث؟",options:["رد التركة إلى بيت المال","رد جزء من الميراث للدولة","إعادة توزيع ما بقي من التركة على أصحاب الفروض","رفض الورثة قبول نصيبهم"],correctAnswer:"إعادة توزيع ما بقي من التركة على أصحاب الفروض",shortExplanation:"الرد هو عكس العول، وهو أن يزيد في أنصبة أصحاب الفروض بنسبة فروضهم إذا بقي شيء من التركة ولم يوجد عاصب.",detailedExplanation:"مثال: توفيت امرأة عن أم (لها السدس) وبنت (لها النصف). مجموع الفروض (1/6 + 1/2 = 4/6 = 2/3). يبقى ثلث التركة لا يوجد عاصب ليأخذه. فيرد هذا الثلث الباقي على الأم والبنت بنسبة فرضيهما. ولا يرد على الزوجين.",reference:"مذاهب الأئمة الأربعة."},{id:10011,question:"ما نصيب الأخوة لأم (إخوة الميت من أمه فقط)؟",options:["لا يرثون أبدًا","للواحد السدس، وللاثنين فأكثر الثلث","يرثون الباقي دائمًا","يرثون مثل نصيب الأخ الشقيق"],correctAnswer:"للواحد السدس، وللاثنين فأكثر الثلث",shortExplanation:"الإخوة لأم يرثون بالفرض، فيأخذ الواحد منهم السدس، وإن كانوا اثنين فأكثر فإنهم يشتركون في الثلث بالتساوي بين ذكورهم وإناثهم.",detailedExplanation:"يرث الإخوة لأم بشرطين: 1. عدم وجود فرع وارث (ابن أو بنت). 2. عدم وجود أصل ذكر وارث (أب أو جد). وهم حالة فريدة حيث يتساوى ذكرهم وأنثاهم في الميراث. قال تعالى: (وَإِن كَانَ رَجُلٌ يُورَثُ كَلَالَةً أَوِ امْرَأَةٌ وَلَهُ أَخٌ أَوْ أُخْتٌ فَلِكُلِّ وَاحِدٍ مِّنْهُمَا السُّدُسُ ۚ فَإِن كَانُوا أَكْثَرَ مِن ذَٰلِكَ فَهُمْ شُرَكَاءُ فِي الثُّلُثِ).",reference:"القرآن الكريم، سورة النساء: 12."},{id:10012,question:"من الذي يرث بالتعصيب مع الغير؟",options:["الأب مع الابن","الأخت الشقيقة مع البنت","الزوج مع الابن","العم مع الأخ"],correctAnswer:"الأخت الشقيقة مع البنت",shortExplanation:"الأخوات الشقائق أو لأب يصبحن عصبة مع البنات أو بنات الابن، فيأخذن ما تبقى بعد فروضهن.",detailedExplanation:"هذه قاعدة في الميراث تسمى 'اجعلوا الأخوات مع البنات عصبة'. فإذا وجد في المسألة بنت (أو بنات) وأخت (أو أخوات)، تأخذ البنت (أو البنات) فرضها، ثم تأخذ الأخت (أو الأخوات) الباقي تعصيبًا، وتسمى هذه الحالة 'عصبة مع الغير'.",reference:"قضاء ابن مسعود الذي أقره النبي، وهو مذهب الجمهور."},{id:10013,question:"ما هو 'العول' في مسائل الميراث؟",options:["زيادة في أنصبة الورثة عن أصل المسألة (مجموع السهام أكبر من المقام)","نقص في أنصبة الورثة","وجود وارث مفقود","وجود حمل في بطن الأم"],correctAnswer:"زيادة في أنصبة الورثة عن أصل المسألة (مجموع السهام أكبر من المقام)",shortExplanation:"العول هو أن يكون مجموع فروض الورثة أكبر من الواحد الصحيح، فيدخل النقص على كل الورثة بنسبة فرض كل واحد منهم.",detailedExplanation:"مثال: توفيت امرأة عن زوج (له النصف 1/2) وأختين شقيقتين (لهما الثلثان 2/3). مجموع الفروض هنا (1/2 + 2/3 = 3/6 + 4/6 = 7/6)، وهو أكبر من التركة. في هذه الحالة، يعال أصل المسألة من 6 إلى 7، فيأخذ الزوج 3/7 بدل 3/6، وتأخذ الأختان 4/7 بدل 4/6، وبهذا يوزع النقص على الجميع.",reference:"قضاء عمر بن الخطاب الذي أجمع عليه الصحابة."},{id:10014,question:"هل يرث ابن الابن مع وجود الابن؟",options:["نعم، يرث معه","لا يرث، لأنه محجوب بالابن","يرث السدس","يرث مثل نصيب البنت"],correctAnswer:"لا يرث، لأنه محجوب بالابن",shortExplanation:"ابن الابن لا يرث إذا وجد ابن مباشر للمتوفى، لأن الابن أقرب درجة فيحجبه حجب حرمان.",detailedExplanation:"قاعدة الحجب في الميراث هي 'الأقرب يحجب الأبعد'. فالابن هو أقرب عصبة للميت، وابن الابن أبعد منه درجة، لذلك فإن وجود الابن يمنع ابن الابن من الميراث تمامًا. أما إذا لم يوجد ابن، فإن ابن الابن يقوم مقامه.",reference:"الإجماع الفقهي."},{id:10015,question:"ما هو ميراث الجد الصحيح (أبو الأب)؟",options:["لا يرث أبدًا","يرث السدس دائمًا","يقوم مقام الأب عند عدم وجوده","يرث مثل الأخ"],correctAnswer:"يقوم مقام الأب عند عدم وجوده",shortExplanation:"الجد الصحيح (أبو الأب وإن علا) يرث ميراث الأب في جميع أحواله بشرط عدم وجود الأب.",detailedExplanation:"إذا لم يوجد الأب، فإن الجد يأخذ نصيبه. فيأخذ السدس مع الفرع الوارث المذكر، ويأخذ السدس + الباقي تعصيبًا مع الفرع الوارث المؤنث، ويأخذ كل المال تعصيبًا عند عدم وجود فرع وارث. لكنه يختلف عن الأب في مسألة واحدة وهي أنه لا يحجب الإخوة حجب حرمان بل يقاسمهم على القول الراجح.",reference:"مذاهب الأئمة الأربعة."}]}],cy={blue:{bg:"bg-blue-500",text:"text-blue-500",ring:"ring-blue-500",bgHover:"hover:bg-blue-600",lightBg:"bg-blue-500/10",lightText:"text-blue-600 dark:text-blue-400"},green:{bg:"bg-green-500",text:"text-green-500",ring:"ring-green-500",bgHover:"hover:bg-green-600",lightBg:"bg-green-500/10",lightText:"text-green-600 dark:text-green-400"},amber:{bg:"bg-amber-500",text:"text-amber-500",ring:"ring-amber-500",bgHover:"hover:bg-amber-600",lightBg:"bg-amber-500/10",lightText:"text-amber-600 dark:text-amber-400"},sky:{bg:"bg-sky-500",text:"text-sky-500",ring:"ring-sky-500",bgHover:"hover:bg-sky-600",lightBg:"bg-sky-500/10",lightText:"text-sky-600 dark:text-sky-400"},slate:{bg:"bg-slate-500",text:"text-slate-500",ring:"ring-slate-500",bgHover:"hover:bg-slate-600",lightBg:"bg-slate-500/10",lightText:"text-slate-600 dark:text-slate-400"}},Rf=({questions:e,progress:t,updateProgress:n,title:i,themeColor:a})=>{const[o,s]=b.useState(null),[u,d]=b.useState(null),[f,m]=b.useState(!1),[p,h]=b.useState(!1),g=cy[a];b.useEffect(()=>{if(f)return;const N=e.filter(x=>!t.answeredQuestionIds.includes(x.id));N.length>0?s(N[Math.floor(Math.random()*N.length)]):s(null)},[e,t.answeredQuestionIds,f]);const v=()=>{if(!u||!o)return;m(!0);const N=u===o.correctAnswer;n(N,o.id)},E=()=>{d(null),m(!1),h(!1)};return o?l.jsxs("div",{className:"bg-card p-6 rounded-xl shadow-xl",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h3",{className:`text-lg font-bold ${g.lightText}`,children:i}),l.jsxs("div",{className:"text-sm font-mono bg-background px-3 py-1 rounded-md",children:[l.jsx("span",{className:`font-bold ${g.text}`,children:t.correctAnswers})," إجابات صحيحة"]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("p",{className:"text-sm text-text-secondary mb-2",children:"سؤال جديد"}),l.jsx("h2",{className:"text-xl font-semibold text-text-primary leading-relaxed",children:o.question})]}),l.jsx("div",{className:"space-y-3 mb-6",children:o.options.map((N,x)=>{const y=N===o.correctAnswer,S=N===u;let T="bg-background hover:bg-border-color";return f?y?T="bg-green-500/20 text-green-700 dark:text-green-400 border-2 border-green-500":S&&(T="bg-red-500/20 text-red-700 dark:text-red-400 border-2 border-red-500"):S&&(T=`${g.lightBg} ring-2 ${g.ring}`),l.jsx("button",{onClick:()=>!f&&d(N),disabled:f,className:`w-full text-right p-4 rounded-lg text-text-primary transition-all duration-200 ${T}`,children:N},x)})}),f&&l.jsxs("div",{className:"bg-background p-4 rounded-lg mb-6 animate-fade-in",children:[l.jsx("p",{className:"text-sm font-semibold text-primary mb-1",children:"توضيح:"}),l.jsx("p",{className:"text-text-secondary whitespace-pre-wrap leading-relaxed",children:p?o.detailedExplanation:o.shortExplanation}),l.jsx("div",{className:"text-left mt-2",children:l.jsx("button",{onClick:()=>h(!p),className:"text-xs font-semibold text-primary hover:underline",children:p?"عرض الشرح المختصر":"عرض الشرح المفصل"})}),l.jsxs("p",{className:"text-xs text-text-secondary mt-3 pt-2 border-t border-border-color",children:[l.jsx("span",{className:"font-semibold",children:"المصدر:"})," ",o.reference]})]}),l.jsx("div",{className:"text-center",children:f?l.jsx("button",{onClick:E,className:`w-full text-white font-bold py-3 px-4 rounded-md ${g.bg} ${g.bgHover}`,children:"السؤال التالي"}):l.jsx("button",{onClick:v,disabled:!u,className:`w-full text-white font-bold py-3 px-4 rounded-md ${g.bg} ${g.bgHover} disabled:opacity-50`,children:"تأكيد الإجابة"})})]}):l.jsxs("div",{className:"bg-card p-8 rounded-lg shadow-xl text-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"مبارك!"}),l.jsx("p",{className:"text-text-primary text-lg mb-2",children:"لقد أتممت جميع الأسئلة في هذا القسم."})]})},r1=()=>{const[e,t]=b.useState("home"),[n,i]=b.useState(null),[a,o]=b.useState(()=>{const h=typeof window<"u"?localStorage.getItem("generalQuizProgress"):null;return h?JSON.parse(h):{correctAnswers:0,answeredQuestionIds:[]}}),[s,u]=b.useState(()=>{const h=typeof window<"u"?localStorage.getItem("fiqhQuizProgress"):null;return h?JSON.parse(h):{}});b.useEffect(()=>{localStorage.setItem("generalQuizProgress",JSON.stringify(a))},[a]),b.useEffect(()=>{localStorage.setItem("fiqhQuizProgress",JSON.stringify(s))},[s]);const d=b.useCallback((h,g)=>{o(v=>({correctAnswers:v.correctAnswers+(h?1:0),answeredQuestionIds:[...v.answeredQuestionIds,g]}))},[]),f=b.useCallback((h,g)=>{if(!n)return;const v=n.id;u(E=>{const N=E[v]||{correctAnswers:0,answeredQuestionIds:[]};return{...E,[v]:{correctAnswers:N.correctAnswers+(h?1:0),answeredQuestionIds:[...N.answeredQuestionIds,g]}}})},[n]),m=b.useMemo(()=>{const h=Fo.reduce((N,x)=>N+x.questions.length,0),g=Object.values(s).reduce((N,x)=>N+x.correctAnswers,0),v=Fo.filter(N=>{var x;return((x=s[N.id])==null?void 0:x.answeredQuestionIds.length)===N.questions.length}).length;return{overallProgress:h>0?Math.round(g/h*100):0,completedSections:v}},[s]),p=()=>{switch(e){case"general":return l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>t("home"),className:"flex items-center gap-2 text-text-secondary hover:text-text-primary mb-4",children:[l.jsx(Ee,{className:"w-5 h-5"}),l.jsx("span",{children:"العودة"})]}),l.jsx(Rf,{questions:l1,progress:a,updateProgress:d,title:"أسئلة إسلامية عامة",themeColor:"blue"})]});case"fiqh_topics":return l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>t("home"),className:"flex items-center gap-2 text-text-secondary hover:text-text-primary mb-4",children:[l.jsx(Ee,{className:"w-5 h-5"}),l.jsx("span",{children:"العودة"})]}),l.jsxs("div",{className:"bg-card p-4 rounded-lg shadow-md mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-3 text-center",children:"تقدمك في الفقه"}),l.jsxs("div",{className:"flex justify-around items-center",children:[l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-2xl font-bold text-primary",children:[m.overallProgress,"%"]}),l.jsx("p",{className:"text-sm text-text-secondary",children:"التقدم الإجمالي"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-2xl font-bold text-primary",children:[m.completedSections," ",l.jsxs("span",{className:"text-base",children:["/ ",Fo.length]})]}),l.jsx("p",{className:"text-sm text-text-secondary",children:"قسم مكتمل"})]})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Fo.map(h=>{const g=s[h.id]||{correctAnswers:0,answeredQuestionIds:[]},v=Math.floor(g.correctAnswers/20),E=Mf[Math.min(v,Mf.length-1)],N=g.answeredQuestionIds.length===h.questions.length,x=cy[h.color];return l.jsxs("div",{onClick:()=>{i(h),t("fiqh_quiz")},className:"bg-card p-4 rounded-lg shadow-md cursor-pointer hover:shadow-lg transition-shadow",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-12 h-12 rounded-md flex items-center justify-center text-2xl ${x.lightBg}`,children:h.icon}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-text-primary",children:h.title}),l.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${x.lightBg} ${x.lightText}`,children:E})]})]}),N&&l.jsx(oi,{className:"w-6 h-6 text-green-500"})]}),l.jsxs("div",{className:"mt-4",children:[l.jsxs("div",{className:"flex justify-between text-xs text-text-secondary mb-1",children:[l.jsxs("span",{children:["مستوى ",v+1]}),l.jsxs("span",{children:[g.correctAnswers," إجابة صحيحة"]})]}),l.jsx("div",{className:"w-full bg-border-color rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full ${x.bg}`,style:{width:`${g.correctAnswers%20/20*100}%`}})})]})]},h.id)})})]});case"fiqh_quiz":return n&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>t("fiqh_topics"),className:"flex items-center gap-2 text-text-secondary hover:text-text-primary mb-4",children:[l.jsx(Ee,{className:"w-5 h-5"}),l.jsx("span",{children:"أقسام الفقه"})]}),l.jsx(Rf,{questions:n.questions,progress:s[n.id]||{correctAnswers:0,answeredQuestionIds:[]},updateProgress:f,title:n.title,themeColor:n.color})]});case"home":default:return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{onClick:()=>t("general"),className:"bg-card p-6 rounded-lg shadow-md cursor-pointer hover:bg-border-color transition-colors",children:[l.jsx("h3",{className:"text-xl font-bold text-text-primary mb-2",children:"أسئلة إسلامية عامة"}),l.jsx("p",{className:"text-text-secondary",children:"اختبر معلوماتك في مختلف جوانب الدين الإسلامي في رحلة معرفية لا تنتهي."}),l.jsxs("div",{className:"mt-4 text-sm font-mono bg-background px-3 py-1 rounded-md inline-block",children:[l.jsx("span",{className:"font-bold text-primary",children:a.correctAnswers})," إجابة صحيحة"]})]}),l.jsxs("div",{onClick:()=>t("fiqh_topics"),className:"bg-card p-6 rounded-lg shadow-md cursor-pointer hover:bg-border-color transition-colors",children:[l.jsx("h3",{className:"text-xl font-bold text-text-primary mb-2",children:"أسئلة فقهية متخصصة"}),l.jsx("p",{className:"text-text-secondary",children:"تعمق في أبواب الفقه، وتابع تقدمك في كل قسم على حدة، وارتقِ في مستويات العلم."}),l.jsxs("div",{className:"mt-4 text-sm font-mono bg-background px-3 py-1 rounded-md inline-block",children:[l.jsxs("span",{className:"font-bold text-primary",children:[m.overallProgress,"%"]})," تقدم إجمالي"]})]})]})}};return l.jsx("div",{className:"max-w-2xl mx-auto p-4 sm:p-6 animate-fade-in",children:p()})},u1=[{surahId:1,surahName:"سورة الفاتحة",stories:[{ayahRange:"1-7",shortSummary:"سورة الفاتحة ليس لها سبب نزول محدد متعلق بحادثة، بل نزلت ابتداءً لبيان مقاصد القرآن الأساسية وهي أساس الصلاة.",detailedVersion:`**التفسير المفصل:**
سورة الفاتحة هي أول سورة كاملة نزلت من القرآن، وهي ركن أساسي في الصلاة لا تصح إلا بها. لم يذكر العلماء سبب نزول خاص بها مرتبط بحادثة معينة، لأنها نزلت كبيان أساسي لمنهج الإسلام، وتتضمن أصول الدين من التوحيد، والعبادة، والاستعانة بالله، وطلب الهداية، وبيان طريق المؤمنين وطريق المغضوب عليهم والضالين. لذا، فهي بمثابة مقدمة شاملة للقرآن الكريم كله.

**تفسير ابن كثير:**
يقول ابن كثير: 'يقال لها الفاتحة، أي فاتحة الكتاب خطًا، وبها تفتح القراءة في الصلوات... وهي مكية. قال ابن عباس وغيره: هي أم القرآن، وأم الكتاب، والسبع المثاني، والقرآن العظيم'. ويستدل بحديث: 'لا صلاة لمن لم يقرأ بفاتحة الكتاب'.`,source:"أسباب النزول للواحدي، لباب النقول للسيوطي"}]},{surahId:2,surahName:"سورة البقرة",stories:[{ayahRange:"104",shortSummary:"نزلت لنهي المؤمنين عن استخدام كلمة 'راعنا' التي كان اليهود يستخدمونها بمعنى سيء.",detailedVersion:`**التفسير المفصل:**
كان المسلمون يقولون للنبي صلى الله عليه وسلم: 'راعنا'، أي انتظرنا وأمهلنا لنفهم، وكانت هذه الكلمة عند اليهود سبًا قبيحًا (من الرعونة). فكانوا يستخدمونها لمخاطبة النبي وهم يقصدون السب. فأنزل الله تعالى: (يَا أَيُّهَا الَّذِينَ آمَنُوا لَا تَقُولُوا رَاعِنَا وَقُولُوا انظُرْنَا وَاسْمَعُوا)، وعلّم المؤمنين كلمة بديلة وهي 'انظرنا' التي تؤدي نفس المعنى الطيب، سدًا لهذا الباب.

**تفسير ابن كثير:**
نهى الله تعالى عباده المؤمنين أن يتشبهوا بالكافرين في مقالهم وفعالهم، وذلك أن اليهود كانوا يعلنون من الكلام ما فيه تورية لما يقصدونه من التنقيص، فكانوا يقولون: 'راعنا' ويقصدون الرعونة.`,source:"أسباب النزول للواحدي"},{ayahRange:"144",shortSummary:"نزلت هذه الآية استجابةً لرغبة النبي صلى الله عليه وسلم في تغيير القبلة من بيت المقدس إلى الكعبة المشرفة في مكة.",detailedVersion:`**التفسير المفصل:**
كان رسول الله صلى الله عليه وسلم في بداية الإسلام يصلي متجهاً إلى بيت المقدس في فلسطين امتثالاً لأمر الله، ولكنه كان يحب ويتمنى أن تكون قبلته الكعبة، قبلة أبيه إبراهيم عليه السلام. فكان كثيرًا ما يقلب وجهه في السماء، منتظرًا الوحي من ربه بشأن هذا الأمر. فأنزل الله تعالى هذه الآية: (قَدْ نَرَىٰ تَقَلُّبَ وَجْهِكَ فِي السَّمَاءِ ۖ فَلَنُوَلِّيَنَّكَ قِبْلَةً تَرْضَاهَا ۚ فَوَلِّ وَجْهَكَ شَطْرَ الْمَسْجِدِ الْحَرَامِ)، محققًا له رغبته ومُكرّمًا له، ومُعيدًا القبلة إلى البيت الحرام.

**تفسير ابن كثير:**
قال علي بن أبي طلحة، عن ابن عباس: كان أول ما نسخ من القرآن القبلة، وذلك أن رسول الله صلى الله عليه وسلم لما هاجر إلى المدينة، وكان أكثر أهلها اليهود، أمره الله أن يستقبل بيت المقدس، ففرحت اليهود. فاستقبلها رسول الله صلى الله عليه وسلم بضعة عشر شهرا، وكان يحب قبلة إبراهيم، فكان يدعو إلى الله وينظر إلى السماء، فأنزل الله: (قد نرى تقلب وجهك في السماء).`,source:"أسباب النزول للواحدي"},{ayahRange:"185",shortSummary:"نزلت آية (وَمَن كَانَ مَرِيضًا أَوْ عَلَىٰ سَفَرٍ فَعِدَّةٌ مِّنْ أَيَّامٍ أُخَرَ) تيسيرًا على المسلمين في الصيام.",detailedVersion:`**التفسير المفصل:**
روى معاذ بن جبل: لما فرض الصيام، كان من شاء صام ومن شاء أفطر وأطعم مسكيناً. ثم أنزل الله (شَهْرُ رَمَضَانَ الَّذِي أُنزِلَ فِيهِ الْقُرْآنُ...) فأوجب الصيام على المقيم الصحيح، ورخص للمريض والمسافر في الإفطار والقضاء.

**تفسير ابن كثير:**
هذا إيجاب حتم على من شهد استهلال الشهر، أي كان مقيماً في البلد حين دخل شهر رمضان وهو صحيح في بدنه أن يصوم لا محالة. وقوله (ومن كان مريضاً أو على سفر) هذا رخصة له في أن يفطر، فإذا أفطر فعليه عدة ما أفطر في أيام أخر.`,source:"لباب النقول للسيوطي"},{ayahRange:"219",shortSummary:"نزلت الآية ردًا على سؤال بعض الصحابة عن حكم الخمر والميسر (القمار).",detailedVersion:`**التفسير المفصل:**
سأل عمر بن الخطاب ومعاذ بن جبل ونفر من الأنصار رسول الله صلى الله عليه وسلم عن الخمر والميسر، فأنزل الله تعالى: (يَسْأَلُونَكَ عَنِ الْخَمْرِ وَالْمَيْسِرِ ۖ قُلْ فِيهِمَا إِثْمٌ كَبِيرٌ وَمَنَافِعُ لِلنَّاسِ وَإِثْمُهُمَا أَكْبَرُ مِن نَّفْعِهِمَا). كانت هذه الآية تمهيدًا للتحريم النهائي، حيث بينت أن ضررهما أكبر من نفعهما، مما جعل بعض الصحابة يتركونهما فورًا.

**تفسير ابن كثير:**
قال ابن عمر وغيره: لما نزلت هذه الآية، قال عمر: 'اللهم بيّن لنا في الخمر بياناً شافياً'. فنزلت الآية التي في النساء: (يا أيها الذين آمنوا لا تقربوا الصلاة وأنتم سكارى). ثم قال عمر: 'اللهم بيّن لنا في الخمر بياناً شافياً'. فنزلت الآية التي في المائدة (إنما الخمر والميسر...) إلى آخرها، وفيها التحريم القاطع.`,source:"أسباب النزول للواحدي"},{ayahRange:"255",shortSummary:"نزلت آية الكرسي لبيان عظمة الله وجلاله وصفاته الكاملة، وهي أعظم آية في كتاب الله.",detailedVersion:`**التفسير المفصل:**
سأل أُبيّ بن كعب النبي صلى الله عليه وسلم: أي آية في كتاب الله أعظم؟ قال: 'الله ورسوله أعلم'. فرددها مرارًا، ثم قال أُبيّ: آية الكرسي. فقال النبي: 'ليهنك العلم أبا المنذر'. لم يرد سبب نزول خاص متعلق بحادثة معينة لهذه الآية، بل نزلت ابتداءً لتعليم الأمة عظمة الخالق سبحانه وتعالى، وتوحيده، وكماله في ذاته وأسمائه وصفاته وأفعاله. فهي تشتمل على عشر جمل مستقلة كلها تدور حول التوحيد وبيان عظمة الله.

**تفسير ابن كثير:**
هذه آية الكرسي، ولها شأن عظيم، قد صح الحديث عن رسول الله صلى الله عليه وسلم بأنها أفضل آية في كتاب الله. وفيها اسم الله الأعظم (الحي القيوم). وهي تشتمل على توحيد الألوهية والربوبية والأسماء والصفات.`,source:"لباب النقول للسيوطي، وتفسير ابن كثير"}]},{surahId:3,surahName:"سورة آل عمران",stories:[{ayahRange:"61",shortSummary:"نزلت آية المباهلة بعد مجادلة وفد نصارى نجران للنبي صلى الله عليه وسلم في شأن عيسى عليه السلام.",detailedVersion:`**التفسير المفصل:**
قدم وفد من نصارى نجران إلى المدينة المنورة وجادلوا النبي صلى الله عليه وسلم في شأن عيسى عليه السلام، زاعمين ألوهيته. وبعد أن أقام عليهم النبي الحجة بالقرآن، وأصروا على كفرهم، دعاهم إلى المباهلة. والمباهلة هي أن يجتمع الطرفان ويدعو كل منهما الله أن ينزل لعنته على الكاذب. فأنزل الله تعالى: (فَمَنْ حَاجَّكَ فِيهِ مِن بَعْدِ مَا جَاءَكَ مِنَ الْعِلْمِ فَقُلْ تَعَالَوْا نَدْعُ أَبْنَاءَنَا وَأَبْنَاءَكُمْ...) الآية. فلما رأى الوفد جدية الأمر، خافوا وامتنعوا عن المباهلة وصالحوا النبي على الجزية.

**تفسير ابن كثير:**
كان سبب نزولها وما قبلها في وفد نجران، حين قدموا فجعلوا يحاجون في عيسى ويزعمون ما يزعمون من البنوة والإلهية. فأنزل الله صدر هذه السورة بياناً لذلك، ودعاهم النبي صلى الله عليه وسلم للمباهلة بعد إصرارهم على الكفر، فلما رأوا ذلك قال بعضهم لبعض: 'والله لئن باهلتم هذا النبي لا يبقى منكم عين تطرف'، فصالحوه على الجزية.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"},{ayahRange:"121-122",shortSummary:"نزلت هذه الآيات تذكيرًا بأحداث غزوة أحد، وما حدث فيها من ابتلاء للمؤمنين.",detailedVersion:`**التفسير المفصل:**
تتحدث الآيات عن خروج النبي صلى الله عليه وسلم لترتيب صفوف المسلمين في غزوة أحد، وتشير إلى الطائفتين من الأنصار (بني سلمة وبني حارثة) اللتين فكرتا في الانسحاب والتراجع عن القتال بسبب الخوف والاضطراب بعد انسحاب عبد الله بن أبي بن سلول بثلث الجيش، ولكن الله ثبتهما وحفظهما. قال تعالى: (إِذْ هَمَّت طَّائِفَتَانِ مِنكُمْ أَن تَفْشَلَا وَاللَّهُ وَلِيُّهُمَا ۗ وَعَلَى اللَّهِ فَلْيَتَوَكَّلِ الْمُؤْمِنُونَ).

**تفسير ابن كثير:**
قال جابر بن عبد الله: فينا نزلت (إذ همت طائفتان منكم أن تفشلا والله وليهما)، قال: نحن الطائفتان بنو حارثة وبنو سلمة، وما نحب أنها لم تنزل لقول الله (والله وليهما).`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:4,surahName:"سورة النساء",stories:[{ayahRange:"11",shortSummary:"نزلت آيات المواريث في هذه السورة لتحديد الأنصبة الشرعية للورثة، وكان سبب نزولها متعلقًا ببنات الصحابي سعد بن الربيع.",detailedVersion:`**التفسير المفصل:**
جاءت امرأة سعد بن الربيع إلى رسول الله صلى الله عليه وسلم بابنتيها من سعد، وقالت: يا رسول الله، هاتان ابنتا سعد بن الربيع، قُتل أبوهما معك يوم أحد شهيداً، وإن عمهما أخذ مالهما فلم يدع لهما مالاً. فقال رسول الله: 'يقضي الله في ذلك'. فنزلت آية المواريث، فأرسل رسول الله إلى عمهما فقال: 'أعطِ ابنتي سعد الثلثين، وأعطِ أمهما الثمن، وما بقي فهو لك'.

**تفسير ابن كثير:**
سبب نزول هذه الآية الكريمة حديث جابر، حيث قال: 'عادتني رسول الله صلى الله عليه وسلم وأبو بكر في بني سلمة ماشيين، فوجدني النبي صلى الله عليه وسلم لا أعقل، فدعا بماء فتوضأ ثم رش علي فأفقت، فقلت: ما تأمرني أن أصنع في مالي يا رسول الله؟ فنزلت: (يوصيكم الله في أولادكم للذكر مثل حظ الأنثيين)'.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"},{ayahRange:"59",shortSummary:"نزلت الآية في عبد الله بن حذافة السهمي حينما أرسله النبي أميرًا على سرية وأمرهم بالطاعة، ثم أمرهم أمرًا فيه معصية لاختبارهم.",detailedVersion:`**التفسير المفصل:**
بعث النبي صلى الله عليه وسلم سرية وأمّر عليهم عبد الله بن حذافة السهمي، فأوقد نارًا وقال لأصحابه: 'ادخلوها'. فأراد بعضهم الدخول، ومنعهم آخرون وقالوا: 'إنما فررنا إلى رسول الله من النار'. فلما ذكروا ذلك للنبي قال: 'لو دخلوها ما خرجوا منها أبدًا، إنما الطاعة في المعروف'. فنزلت الآية: (يَا أَيُّهَا الَّذِينَ آمَنُوا أَطِيعُوا اللَّهَ وَأَطِيعُوا الرَّسُولَ وَأُولِي الْأَمْرِ مِنكُمْ)، مبينة أن طاعة أولي الأمر مقيدة بطاعة الله ورسوله.

**تفسير ابن كثير:**
روى البخاري عن ابن عباس: (أطيعوا الله وأطيعوا الرسول وأولي الأمر منكم) قال: نزلت في عبد الله بن حذافة بن قيس بن عدي، إذ بعثه النبي صلى الله عليه وسلم في سرية.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:5,surahName:"سورة المائدة",stories:[{ayahRange:"3",shortSummary:"نزل هذا الجزء من الآية (الْيَوْمَ أَكْمَلْتُ لَكُمْ دِينَكُمْ...) في حجة الوداع يوم عرفة، معلنًا اكتمال الدين وتمام النعمة.",detailedVersion:`**التفسير المفصل:**
بينما كان النبي صلى الله عليه وسلم واقفًا بعرفة في حجة الوداع يوم الجمعة، نزلت عليه هذه الآية: (الْيَوْمَ أَكْمَلْتُ لَكُمْ دِينَكُمْ وَأَتْمَمْتُ عَلَيْكُمْ نِعْمَتِي وَرَضِيتُ لَكُمُ الْإِسْلَامَ دِينًا). فلما سمعها عمر بن الخطاب بكى، فقيل له: ما يبكيك؟ قال: 'إنه ليس بعد الكمال إلا النقصان'، مشيرًا إلى قرب وفاة النبي صلى الله عليه وسلم. وتعتبر هذه الآية من أواخر ما نزل من القرآن الكريم.

**تفسير ابن كثير:**
هذه أكبر نعم الله تعالى على هذه الأمة، حيث أكمل تعالى لهم دينهم، فلا يحتاجون إلى دين غيره، ولا إلى نبي غير نبيهم صلوات الله وسلامه عليه. ولهذا جعله الله خاتم الأنبياء، وبعثه إلى الإنس والجن، فلا حلال إلا ما أحله، ولا حرام إلا ما حرمه، ولا دين إلا ما شرعه.`,source:"لباب النقول للسيوطي، تفسير ابن كثير"}]},{surahId:6,surahName:"سورة الأنعام",stories:[{ayahRange:"52",shortSummary:"نزلت في شأن فقراء المسلمين كابن مسعود وبلال وصهيب، عندما طلب كبراء قريش من النبي أن يطردهم من مجلسه ليجلسوا هم.",detailedVersion:`**التفسير المفصل:**
جاء بعض زعماء قريش إلى النبي صلى الله عليه وسلم وعرضوا عليه أن يؤمنوا به بشرط أن يطرد من مجلسه ضعفاء وفقراء الصحابة، استكبارًا منهم أن يجلسوا معهم في مكان واحد. فهمّ النبي بذلك طمعًا في إسلامهم، فأنزل الله تعالى: (وَلَا تَطْرُدِ الَّذِينَ يَدْعُونَ رَبَّهُم بِالْغَدَاةِ وَالْعَشِيِّ يُرِيدُونَ وَجْهَهُ)، ينهى نبيه عن طردهم ويبين أن مكانتهم عند الله عظيمة بإخلاصهم.

**تفسير ابن كثير:**
روى الإمام مسلم في صحيحه عن سعد بن أبي وقاص قال: كنا مع النبي صلى الله عليه وسلم في ستة نفر، فقال المشركون للنبي: اطرد هؤلاء لا يجترئون علينا. وكنت أنا وابن مسعود ورجل من هذيل وبلال ورجلان لست أسميهما. فوقع في نفس رسول الله صلى الله عليه وسلم ما شاء الله أن يقع، فحدث نفسه، فأنزل الله عز وجل: (ولا تطرد الذين يدعون ربهم بالغداة والعشي).`,source:"لباب النقول للسيوطي، تفسير ابن كثير"}]},{surahId:7,surahName:"سورة الأعراف",stories:[{ayahRange:"204",shortSummary:"نزلت الآية لتأمر المسلمين بالإنصات والاستماع عند قراءة القرآن، خاصة في الصلاة.",detailedVersion:`**التفسير المفصل:**
كان المسلمون في بداية الإسلام يتكلمون في الصلاة للحاجة، ويرد أحدهم السلام. فنزلت هذه الآية: (وَإِذَا قُرِئَ الْقُرْآنُ فَاسْتَمِعُوا لَهُ وَأَنصِتُوا لَعَلَّكُمْ تُرْحَمُونَ)، فأمروا بالسكوت التام والإنصات للإمام في الصلاة الجهرية، وشمل الأمر الإنصات عند تلاوة القرآن خارج الصلاة أيضًا تعظيمًا لكلام الله.

**تفسير ابن كثير:**
بعد أن ذكر تعالى أن القرآن بصائر للناس وهدى ورحمة، أمر تعالى بالإنصات عند تلاوته إعظامًا له واحترامًا، لا كما كان يعتمده كفار قريش المشركون في قولهم: (لا تسمعوا لهذا القرآن والغوا فيه). وقال ابن مسعود: كنا يسلم بعضنا على بعض في الصلاة، فجاء قوله تعالى: (وإذا قرئ القرآن فاستمعوا له وأنصتوا).`,source:"لباب النقول للسيوطي"}]},{surahId:8,surahName:"سورة الأنفال",stories:[{ayahRange:"1",shortSummary:"نزلت هذه الآية بعد غزوة بدر، حين اختلف الصحابة في كيفية تقسيم الغنائم.",detailedVersion:`**التفسير المفصل:**
بعد انتصار المسلمين في غزوة بدر، اختلفوا في شأن الغنائم. حيث قالت طائفة ممن جمعوها: هي لنا. وقالت طائفة ممن كانوا يطاردون العدو: لولا نحن ما أصبتموها. وقالت طائفة ممن كانوا يحرسون النبي صلى الله عليه وسلم: نحن أحق بها. فسألوا النبي عن ذلك، فأنزل الله تعالى: (يَسْأَلُونَكَ عَنِ الْأَنفَالِ ۖ قُلِ الْأَنفَالُ لِلَّهِ وَالرَّسُولِ ۖ فَاتَّقُوا اللَّهَ وَأَصْلِحُوا ذَاتَ بَيْنِكُمْ)، فجعل الله أمرها إليه ورسوله، فقسمها النبي بينهم بالسوية.

**تفسير ابن كثير:**
قال ابن عباس: لما كان يوم بدر، قال رسول الله صلى الله عليه وسلم: 'من صنع كذا وكذا فله كذا وكذا'. فتسارع فيه شبان القوم، وبقي الشيوخ تحت الرايات، فلما فتح الله عليهم، جاء الشبان يطلبون ما جعل لهم، فقال الشيوخ: لا تستأثروا علينا، فإنا كنا ردءاً لكم. فأنزل الله هذه الآية.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:9,surahName:"سورة التوبة",stories:[{ayahRange:"40",shortSummary:"نزلت الآية في شأن هجرة النبي صلى الله عليه وسلم وأبي بكر الصديق، حين كانا في غار ثور والمشركون يطاردونهم.",detailedVersion:`**التفسير المفصل:**
عندما هاجر النبي صلى الله عليه وسلم من مكة إلى المدينة، رافقه أبو بكر الصديق. واختبآ في غار ثور لمدة ثلاثة أيام. وصل المشركون الذين كانوا يتبعونهم إلى باب الغار، حتى قال أبو بكر: يا رسول الله، لو نظر أحدهم تحت قدميه لرآنا. فطمأنه النبي قائلاً: 'يا أبا بكر، ما ظنك باثنين الله ثالثهما؟'. فأنزل الله تعالى هذه الآية تصف هذا الموقف: (إِلَّا تَنصُرُوهُ فَقَدْ نَصَرَهُ اللَّهُ إِذْ أَخْرَجَهُ الَّذِينَ كَفَرُوا ثَانِيَ اثْنَيْنِ إِذْ هُمَا فِي الْغَارِ إِذْ يَقُولُ لِصَاحِبِهِ لَا تَحْزَنْ إِنَّ اللَّهَ مَعَنَا).

**تفسير ابن كثير:**
يقول تعالى (إلا تنصروه) أي تنصروا رسوله، فإن الله ناصره ومؤيده وكافيه وحافظه. وذكر قصة الغار، حيث قال أنس بن مالك: حدثني أبو بكر، قال: نظرت إلى أقدام المشركين على رؤوسنا ونحن في الغار، فقلت: يا رسول الله، لو أن أحدهم نظر إلى قدميه أبصرنا تحت قدميه. فقال: 'يا أبا بكر ما ظنك باثنين الله ثالثهما'.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"},{ayahRange:"118",shortSummary:"نزلت في شأن الثلاثة الذين تخلفوا عن غزوة تبوك بغير عذر، وهم: كعب بن مالك، ومرارة بن الربيع، وهلال بن أمية.",detailedVersion:`**التفسير المفصل:**
عندما تجهز النبي صلى الله عليه وسلم لغزوة تبوك، تخلف هؤلاء الثلاثة من الصحابة بغير عذر. وبعد عودة الجيش، أمر النبي بمقاطعتهم وعدم تكليمهم. فضاقت عليهم الأرض بما رحبت وضاقت عليهم أنفسهم، فبقوا على ذلك خمسين ليلة، حتى تاب الله عليهم وأنزل فيهم هذه الآية التي تعلن قبول توبتهم وفرح بها المسلمون.

**تفسير ابن كثير:**
هذا الحديث لقصة توبة كعب بن مالك وصاحبيه ثابت في الصحيحين، وهو من أعظم القصص التي تظهر صدق التوبة واللجوء إلى الله. فبعد أن صدقوا الله ورسوله ولم يعتذروا بالأعذار الكاذبة كالمنافقين، أنزل الله توبتهم في قرآن يتلى إلى يوم القيامة.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:10,surahName:"سورة يونس",stories:[{ayahRange:"99",shortSummary:"نزلت لبيان أن الإيمان قضاء من الله، ولو شاء لجعل الناس كلهم مؤمنين، فلا يكره النبي نفسه على عدم إيمان قومه.",detailedVersion:`**التفسير المفصل:**
كان النبي صلى الله عليه وسلم شديد الحرص على إيمان قومه، وكان يحزن حزنًا شديدًا لإعراضهم وكفرهم. فأنزل الله تعالى هذه الآية تسلية له وتوضيحًا لحقيقة المشيئة الإلهية: (وَلَوْ شَاءَ رَبُّكَ لَآمَنَ مَن فِي الْأَرْضِ كُلُّهُمْ جَمِيعًا ۚ أَفَأَنتَ تُكْرِهُ النَّاسَ حَتَّىٰ يَكُونُوا مُؤْمِنِينَ). والمعنى أنه لا قدرة لك يا محمد على هدايتهم، فالهداية بيد الله وحده يهدي من يشاء ويضل من يشاء.

**تفسير ابن كثير:**
يقول تعالى: (ولو شاء ربك) يا محمد لآذن لمن في الأرض كلهم في الإيمان بما جئتهم به فآمنوا كلهم، ولكن له حكمة فيما يفعله تعالى. (أفأنت تكره الناس حتى يكونوا مؤمنين) أي: ليس ذلك عليك ولا إليك، إنما عليك البلاغ، وليس عليك هداهم.`,source:"لباب النقول للسيوطي"}]},{surahId:11,surahName:"سورة هود",stories:[{ayahRange:"114",shortSummary:"نزلت في رجل من الصحابة أصاب ذنبًا (قبلة من امرأة لا تحل له)، فسأل النبي عن كفارتها.",detailedVersion:`**التفسير المفصل:**
أتى رجل إلى النبي صلى الله عليه وسلم فقال: يا رسول الله، إني عالجت امرأة في أقصى المدينة، وإني أصبت منها ما دون أن أمسها (أي قبلة ونحوها)، فأنا هذا فاقض فيّ ما شئت. فقال له عمر: لقد سترك الله لو سترت نفسك. فلم يرد النبي شيئًا. فقام الرجل فانطلق، فأتبعه النبي رجلاً دعاه وتلا عليه هذه الآية: (وَأَقِمِ الصَّلَاةَ طَرَفَيِ النَّهَارِ وَزُلَفًا مِّنَ اللَّيْلِ ۚ إِنَّ الْحَسَنَاتِ يُذْهِبْنَ السَّيِّئَاتِ). فقال رجل: يا رسول الله، أله خاصة؟ قال: 'بل للناس كافة'.

**تفسير ابن كثير:**
روى الإمام أحمد عن ابن عباس، أن رجلاً أتى النبي صلى الله عليه وسلم، فقال... فذكر القصة. ففي هذا الحديث دلالة على أن الصلاة من أعظم الحسنات التي تكفر صغائر الذنوب.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:12,surahName:"سورة يوسف",stories:[{ayahRange:"1-111",shortSummary:"نزلت السورة تسلية للنبي صلى الله عليه وسلم بعد عام الحزن، بعد أن سأل اليهود قريشًا أن يسألوه عن قصة انتقال آل يعقوب إلى مصر.",detailedVersion:`**التفسير المفصل:**
قالت اليهود لقريش: سلوا محمدًا: لم انتقل آل يعقوب من الشام إلى مصر؟ وعن قصة يوسف. فأنزل الله تعالى سورة يوسف كاملة، وفيها من التفاصيل ما لم يكن يعلمه إلا نبي، فكانت دليلاً على صدق نبوته صلى الله عليه وسلم. كما نزلت في وقت كان النبي فيه حزينًا على وفاة عمه أبي طالب وزوجته خديجة، فكانت قصة يوسف وصبره على أذى إخوته ثم تمكينه في الأرض، تسلية وتثبيتًا عظيمًا لقلب النبي صلى الله عليه وسلم.

**تفسير ابن كثير:**
ذكر محمد بن إسحاق عن بعض أهل العلم أن سبب نزولها هو سؤال اليهود. والسورة كلها تحكي قصة يوسف عليه السلام مع إخوته، وما لاقاه من أنواع المحن والشدائد، وكيف أن الله تعالى أنجاه منها ومكن له في الأرض، وفي ذلك عبرة عظيمة.`,source:"لباب النقول للسيوطي"}]},{surahId:13,surahName:"سورة الرعد",stories:[{ayahRange:"11",shortSummary:"نزلت لبيان سنة الله في تغيير حال الأقوام، وأن التغيير يبدأ من أنفسهم، وليس لها سبب نزول مرتبط بحادثة معينة.",detailedVersion:`**التفسير المفصل:**
هذه الآية الكريمة (إِنَّ اللَّهَ لَا يُغَيِّرُ مَا بِقَوْمٍ حَتَّىٰ يُغَيِّرُوا مَا بِأَنفُسِهِمْ) هي قاعدة وسنة إلهية عظيمة. لم يرد لها سبب نزول خاص بحادثة، بل هي تقرير لحقيقة كونية واجتماعية. معناها أن الله تعالى لا يغير نعمة أنعمها على قوم فيسلبها منهم، إلا إذا غيروا حالهم من الطاعة إلى المعصية. وكذلك لا يغير ما بقوم من شقاء وبلاء إلى سعادة ورخاء، حتى يغيروا ما بأنفسهم من الكفر والإعراض إلى الإيمان والطاعة. فالتغيير يبدأ من داخل الإنسان.

**تفسير ابن كثير:**
يخبر تعالى عن تمام عدله وحكمته في حكمه، بأنه تعالى لا يغير نعمة أنعمها على أحد إلا بسبب ذنب ارتكبه، كما قال في الآية الأخرى: (ذلك بأن الله لم يك مغيرا نعمة أنعمها على قوم حتى يغيروا ما بأنفسهم).`,source:"عامة كتب التفسير"}]},{surahId:14,surahName:"سورة إبراهيم",stories:[{ayahRange:"24-27",shortSummary:"نزلت الآيات لضرب مثل لكلمة التوحيد (لا إله إلا الله) وكلمة الكفر، وبيان ثبات المؤمن وخذلان الكافر.",detailedVersion:`**التفسير المفصل:**
روي أن هذه الآية (أَلَمْ تَرَ كَيْفَ ضَرَبَ اللَّهُ مَثَلًا كَلِمَةً طَيِّبَةً كَشَجَرَةٍ طَيِّبَةٍ) نزلت في المؤمن وكلامه الطيب وعمله الصالح، حيث شبهه الله بالنخلة الثابتة التي تؤتي ثمارها دائمًا. أما الكلمة الخبيثة (كلمة الكفر)، فشبهها بالشجرة الخبيثة (الحنظل) التي ليس لها أصل ثابت وتُقتلع بسهولة. وهذا مثل لبيان الفرق بين الإيمان والكفر.

**تفسير ابن كثير:**
قال علي بن أبي طلحة عن ابن عباس في قوله: (كلمة طيبة) شهادة أن لا إله إلا الله، (كشجرة طيبة) وهو المؤمن، (أصلها ثابت) يقول: لا إله إلا الله ثابتة في قلب المؤمن، (وفرعها في السماء) يقول: يرفع بها عمل المؤمن إلى السماء. وأما (كلمة خبيثة) فهي الشرك، (كشجرة خبيثة) وهو الكافر.`,source:"أسباب النزول للسيوطي، تفسير ابن كثير"}]},{surahId:15,surahName:"سورة الحجر",stories:[{ayahRange:"94",shortSummary:"نزلت الآية لتأمر النبي صلى الله عليه وسلم بالجهر بالدعوة بعد ثلاث سنوات من الدعوة السرية.",detailedVersion:`**التفسير المفصل:**
في بداية البعثة، كانت دعوة النبي صلى الله عليه وسلم سرية لمدة ثلاث سنوات، يبلغ فيها من يثق به فقط. فلما تكونت جماعة من المؤمنين، أمره الله تعالى أن يجهر بالدعوة ويعلنها للناس كافة، وأن يعرض عن أذى المشركين واستهزائهم. فأنزل الله: (فَاصْدَعْ بِمَا تُؤْمَرُ وَأَعْرِضْ عَنِ الْمُشْرِكِينَ). فصعد النبي على الصفا ونادى في قريش ودعاهم للإسلام علانية.

**تفسير ابن كثير:**
يأمر الله تعالى رسوله صلوات الله وسلامه عليه بإبلاغ ما أرسله به وبإنفاذه والصدع به، وهو مواجهة المشركين به. كما قال ابن عباس: (فاصدع بما تؤمر) أي: أمضه.`,source:"لباب النقول للسيوطي، تفسير ابن كثير"}]},{surahId:16,surahName:"سورة النحل",stories:[{ayahRange:"126",shortSummary:"نزلت يوم أحد بعد أن قُتل حمزة ومُثّل به، فأقسم النبي على أن يُمثل بسبعين منهم، فنهاه الله عن ذلك.",detailedVersion:`**التفسير المفصل:**
في غزوة أحد، بعد استشهاد حمزة بن عبد المطلب رضي الله عنه، والتمثيل بجسده، حزن النبي صلى الله عليه وسلم حزنًا شديدًا وقال: 'لئن أظهرني الله عليهم لأمثلن بثلاثين رجلاً منهم'. وفي رواية أخرى، 'بسبعين'. فأنزل الله تعالى: (وَإِنْ عَاقَبْتُمْ فَعَاقِبُوا بِمِثْلِ مَا عُوقِبْتُم بِهِ ۖ وَلَئِن صَبَرْتُمْ لَهُوَ خَيْرٌ لِّلصَّابِرِينَ)، فخيره الله بين المعاقبة بالمثل وبين الصبر، ورغّبه في الصبر. فقال النبي: 'بل نصبر'، وكفر عن يمينه.

**تفسير ابن كثير:**
قال أُبي بن كعب: لما كان يوم أحد أصيب من الأنصار أربعة وستون رجلاً، ومن المهاجرين ستة، منهم حمزة، فمثلوا بهم، فقالت الأنصار: لئن أصبنا منهم يوماً مثل هذا لنربين عليهم. فلما كان يوم فتح مكة، أنزل الله هذه الآية. فقال رسول الله صلى الله عليه وسلم: 'نصبر ولا نعاقب'.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:17,surahName:"سورة الإسراء",stories:[{ayahRange:"85",shortSummary:"نزلت الآية ردًا على سؤال اليهود للنبي صلى الله عليه وسلم عن حقيقة الروح.",detailedVersion:`**التفسير المفصل:**
سأل اليهود في المدينة النبي صلى الله عليه وسلم عن الروح لاختباره، فمكث النبي فترة لا يجيبهم منتظرًا الوحي، ثم أنزل الله تعالى قوله: (وَيَسْأَلُونَكَ عَنِ الرُّوحِ ۖ قُلِ الرُّوحُ مِنْ أَمْرِ رَبِّي وَمَا أُوتِيتُم مِّنَ الْعِلْمِ إِلَّا قَلِيلًا). وفي هذا جواب قاطع بأن حقيقة الروح من علم الله الذي استأثر به، وأن علم البشر محدود جدًا مقارنة بعلم الله.

**تفسير ابن كثير:**
روى البخاري عن عبد الله بن مسعود قال: بينا أنا أمشي مع النبي صلى الله عليه وسلم في خرب المدينة، وهو يتوكأ على عسيب معه، فمر بنفر من اليهود، فقال بعضهم لبعض: سلوه عن الروح. فسألوه، فقام النبي صلى الله عليه وسلم ساعة ورفع رأسه، فعرفت أنه يوحى إليه، حتى صعد الوحي، ثم قال: (ويسألونك عن الروح قل الروح من أمر ربي).`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:18,surahName:"سورة الكهف",stories:[{ayahRange:"9-26",shortSummary:"نزلت قصة أهل الكهف ردًا على سؤال المشركين للنبي صلى الله عليه وسلم، الذي تعلموه من أحبار اليهود لاختبار نبوته.",detailedVersion:`**التفسير المفصل:**
أرسلت قريش رجلين إلى أحبار اليهود في المدينة يسألونهم عن علامات النبي الصادق، فقال الأحبار: 'اسألوه عن ثلاث: عن فتية ذهبوا في الدهر الأول ما كان من أمرهم، وعن رجل طواف بلغ مشارق الأرض ومغاربها، وعن الروح'. فلما سألوا النبي، قال لهم: 'أخبركم غدًا' ولم يقل 'إن شاء الله'، فتأخر الوحي أيامًا حتى شق ذلك عليه، ثم نزلت سورة الكهف تحمل الجواب عن الفتية (أهل الكهف) والرجل الطواف (ذي القرنين)، ونزلت آية الروح في سورة الإسراء.

**تفسير ابن كثير:**
ذكر محمد بن إسحاق وغيره في السيرة أن قريشًا بعثوا إلى أحبار يهود بالمدينة أن يبعثوا إليهم بمسائل يمتحنون بها رسول الله صلى الله عليه وسلم، فكانت هذه الأسئلة الثلاثة منها. فكان نزول هذه السورة بيانًا شافيًا لصدق نبوته.`,source:"لباب النقول للسيوطي، تفسير ابن كثير"}]},{surahId:19,surahName:"سورة مريم",stories:[{ayahRange:"64",shortSummary:"نزلت الآية عندما تأخر جبريل عليه السلام عن النزول على النبي صلى الله عليه وسلم لفترة، فشق ذلك على النبي.",detailedVersion:`**التفسير المفصل:**
احتبس جبريل عليه السلام عن النبي صلى الله عليه وسلم فترة، فاشتاق النبي لمجيئه وحزن، فلما جاءه قال له: 'ما منعك أن تزورنا أكثر مما تزورنا؟'، فأنزل الله تعالى على لسان جبريل: (وَمَا نَتَنَزَّلُ إِلَّا بِأَمْرِ رَبِّكَ ۖ لَهُ مَا بَيْنَ أَيْدِينَا وَمَا خَلْفَنَا وَمَا بَيْنَ ذَٰلِكَ ۚ وَمَا كَانَ رَبُّكَ نَسِيًّا)، لبيان أن الملائكة لا تتصرف من تلقاء نفسها، بل بأمر الله وإذنه.

**تفسير ابن كثير:**
روى البخاري عن ابن عباس قال: قال رسول الله صلى الله عليه وسلم لجبريل: 'ألا تزورنا أكثر مما تزورنا؟' قال: فنزلت: (وما نتنزل إلا بأمر ربك).`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:20,surahName:"سورة طه",stories:[{ayahRange:"1-2",shortSummary:"نزلت الآيات الأولى لتسلية النبي صلى الله عليه وسلم وتخفيف العبء عنه، بعد أن قال المشركون إنه يشقى بسبب هذا القرآن.",detailedVersion:`**التفسير المفصل:**
كان النبي صلى الله عليه وسلم يطيل القيام في صلاة الليل حتى تتورم قدماه، وكان يجتهد في دعوة قومه ويحزن لإعراضهم حزنًا شديدًا. فقال المشركون: ما أُنزل هذا القرآن على محمد إلا ليشقى به. فأنزل الله تعالى: (طه * مَا أَنزَلْنَا عَلَيْكَ الْقُرْآنَ لِتَشْقَىٰ)، أي لم ننزله عليك لتتعب هذا التعب الشديد وتحمل نفسك ما لا تطيق، بل نزل رحمة وهداية وتذكرة.

**تفسير ابن كثير:**
قال مقاتل بن حيان: قال أبو جهل والنضر بن الحارث للنبي صلى الله عليه وسلم: إنك لشقي بتركك دين آبائك، فأنزل الله تعالى هذه الآية. وهي تخفيف من الله تعالى على نبيه لما كان يعانيه من مشقة القيام وأعباء الدعوة.`,source:"لباب النقول للسيوطي"}]},{surahId:21,surahName:"سورة الأنبياء",stories:[{ayahRange:"98",shortSummary:"نزلت ردًا على جدال المشركين حول الآية التي تخبر أن كل ما يُعبد من دون الله سيكون في النار، فسألوا عن مصير الأنبياء والصالحين الذين عُبدوا.",detailedVersion:`**التفسير المفصل:**
لما نزل قوله تعالى: (إِنَّكُمْ وَمَا تَعْبُدُونَ مِن دُونِ اللَّهِ حَصَبُ جَهَنَّمَ أَنتُمْ لَهَا وَارِدُونَ)، فرح المشركون وقالوا: 'قد خصمنا محمدًا'، وقالوا: 'أليست الملائكة تُعبد؟ وعيسى يُعبد؟ وعزير يُعبد؟ فهؤلاء في النار؟' فأنزل الله الآية التي تليها: (إِنَّ الَّذِينَ سَبَقَتْ لَهُم مِّنَّا الْحُسْنَىٰ أُولَٰئِكَ عَنْهَا مُبْعَدُونَ)، مبيناً أن الحكم على من رضي بالعبادة من دون الله كالأصنام والشياطين، أما الأنبياء والصالحون فهم مكرمون في الجنة.

**تفسير ابن كثير:**
روى ابن أبي حاتم عن ابن عباس، أن رسول الله صلى الله عليه وسلم دخل المسجد وقريش في الحجر جلوس، فلما رأوه قالوا: يا محمد، مازلت تذكر آلهتنا وتسبها؟ فقال: 'ما تقولون؟' قالوا: نقول إنها آلهة آبائنا. فقال: (إنكم وما تعبدون من دون الله حصب جهنم)، فغضب عبد الله بن الزبعرى وقال: أخاصة لنا ولآلهتنا أم لجميع الأمم؟ فقال: 'لكم ولهم'. فقال: 'غلبتك ورب الكعبة'. أليست النصارى تعبد المسيح واليهود تعبد عزيراً؟ فأنزل الله (إن الذين سبقت لهم منا الحسنى).`,source:"أسباب النزول للسيوطي، تفسير ابن كثير"}]},{surahId:22,surahName:"سورة الحج",stories:[{ayahRange:"39",shortSummary:"هي أول آية نزلت في الإذن بالقتال للمسلمين بعد أن كانوا منهيين عنه في مكة.",detailedVersion:`**التفسير المفصل:**
كان المسلمون في مكة يتعرضون لأذى المشركين الشديد، وكانوا يأتون إلى النبي صلى الله عليه وسلم مضروبين ومجروحين ويشكون إليه، فكان يقول لهم: 'اصبروا فإني لم أومر بالقتال'. فلما هاجر النبي إلى المدينة وصارت للمسلمين دولة وقوة، أنزل الله تعالى هذه الآية: (أُذِنَ لِلَّذِينَ يُقَاتَلُونَ بِأَنَّهُمْ ظُلِمُوا ۚ وَإِنَّ اللَّهَ عَلَىٰ نَصْرِهِمْ لَقَدِيرٌ)، فكانت هذه أول آية تسمح للمسلمين برد العدوان والدفاع عن أنفسهم.

**تفسير ابن كثير:**
قال ابن عباس: هذه أول آية نزلت في القتال. وقال الإمام أحمد: إنها أول آية نزلت في القتال بالمدينة. وقد كان المسلمون منهيين عن القتال في الفترة المكية لصبرهم على الأذى، فلما قامت لهم شوكة بالمدينة أذن لهم بالجهاد.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:23,surahName:"سورة المؤمنون",stories:[{ayahRange:"1-11",shortSummary:"نزلت هذه الآيات في بداية السورة لبيان صفات المؤمنين الذين يرثون الفردوس، ولم يذكر لها سبب نزول خاص.",detailedVersion:`**التفسير المفصل:**
بدأت السورة بإعلان فلاح المؤمنين، ثم فصلت صفاتهم التي استحقوا بها هذا الفلاح: الخشوع في الصلاة، الإعراض عن اللغو، إيتاء الزكاة، حفظ الفروج، رعاية الأمانات والعهود، والمحافظة على الصلوات. لم يرد سبب نزول محدد لهذه الآيات، بل نزلت ابتداءً لتربية المؤمنين على هذه الأخلاق العظيمة وبيان جزائهم وهو الفردوس الأعلى.

**تفسير ابن كثير:**
روى الإمام أحمد عن عمر بن الخطاب قال: كان إذا نزل على رسول الله صلى الله عليه وسلم الوحي، يسمع عند وجهه كدوي النحل. فأنزل عليه يومًا، فمكثنا ساعة، فسري عنه فاستقبل القبلة ورفع يديه وقال: 'اللهم زدنا ولا تنقصنا، وأكرمنا ولا تهنا...' ثم قال: 'لقد أنزلت علي عشر آيات، من أقامهن دخل الجنة'، ثم قرأ: (قد أفلح المؤمنون) حتى ختم عشر آيات.`,source:"لباب النقول للسيوطي، تفسير ابن كثير"}]},{surahId:24,surahName:"سورة النور",stories:[{ayahRange:"11-20",shortSummary:"نزلت هذه الآيات لتبرئة السيدة عائشة رضي الله عنها من حديث الإفك، وهو اتهام باطل رماه به المنافقون.",detailedVersion:`**التفسير المفصل:**
في طريق العودة من غزوة بني المصطلق، تخلفت السيدة عائشة عن الجيش لتبحث عن عقد لها، وعندما عادت كان الجيش قد رحل. فمكثت مكانها حتى مر بها الصحابي صفوان بن المعطل السلمي فحملها على بعيره وأوصلها. استغل المنافقون هذا الموقف ولفقوا شائعة تمس شرف أم المؤمنين. تألم النبي والمسلمون ألمًا شديدًا، وانقطع الوحي شهرًا، ثم أنزل الله هذه الآيات من سورة النور، معلنًا براءتها من فوق سبع سماوات، وتوعد الذين يرمون المحصنات بالعذاب الشديد.

**تفسير ابن كثير:**
هذه الآيات العشر كلها نزلت في شأن عائشة أم المؤمنين، رضي الله عنها، حين رماها أهل الإفك والبهتان من المنافقين بما قالوه من الكذب البحت، فغار الله لها ولنبيه، فأنزل براءتها صيانة لعرض الرسول صلى الله عليه وسلم.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:25,surahName:"سورة الفرقان",stories:[{ayahRange:"32",shortSummary:"نزلت ردًا على شبهة المشركين الذين تساءلوا لماذا لم ينزل القرآن جملة واحدة كالتوراة والإنجيل.",detailedVersion:`**التفسير المفصل:**
قال الكفار: هلا نُزل هذا القرآن على محمد جملة واحدة كما أُنزلت التوراة على موسى والإنجيل على عيسى؟ فأنزل الله تعالى قوله: (وَقَالَ الَّذِينَ كَفَرُوا لَوْلَا نُزِّلَ عَلَيْهِ الْقُرْآنُ جُمْلَةً وَاحِدَةً ۚ كَذَٰلِكَ لِنُثَبِّتَ بِهِ فُؤَادَكَ ۖ وَرَتَّلْنَاهُ تَرْتِيلًا). فبين الله الحكمة من تنزيله منجمًا (مفرقًا) على مدى 23 عامًا، وهي تثبيت قلب النبي صلى الله عليه وسلم، وتيسير حفظه وفهمه، ومواكبته للأحداث والوقائع.

**تفسير ابن كثير:**
هذا إخبار من الله تعالى عن كثرة اعتراض الكفار وعنادهم، حيث قالوا هذا القول. فأجابهم الله بأن هذا إنما كان لينزل على رسوله حسب الوقائع والحوادث، وليثبت به فؤاده، وهو الأنسب لحفظه وفهمه والعمل بمقتضاه.`,source:"لباب النقول للسيوطي، تفسير ابن كثير"}]},{surahId:26,surahName:"سورة الشعراء",stories:[{ayahRange:"214",shortSummary:"نزلت لتأمر النبي صلى الله عليه وسلم ببدء دعوة عشيرته الأقربين إلى الإسلام.",detailedVersion:`**التفسير المفصل:**
بعد ثلاث سنوات من الدعوة السرية، أمر الله نبيه أن يخص عشيرته الأقربين بالدعوة قبل غيرهم، فأنزل: (وَأَنذِرْ عَشِيرَتَكَ الْأَقْرَبِينَ). فجمع النبي صلى الله عليه وسلم بني هاشم ودعاهم إلى الإسلام، فكان أول من استجاب له علي بن أبي طالب، بينما عارضه عمه أبو لهب بشدة. وهذه الآية كانت بداية المرحلة الجهرية من الدعوة.

**تفسير ابن كثير:**
روى الإمام أحمد عن ابن عباس قال: لما نزلت هذه الآية، صعد النبي صلى الله عليه وسلم على الصفا، فقال: 'يا بني فهر، يا بني عدي' لبطون قريش، حتى اجتمعوا. فقال: 'أرأيتكم لو أخبرتكم أن خيلاً بالوادي تريد أن تغير عليكم، أكنتم مصدقي؟' قالوا: 'نعم، ما جربنا عليك إلا صدقاً'. قال: 'فإني نذير لكم بين يدي عذاب شديد'. فقال أبو لهب: 'تباً لك سائر اليوم، ألهذا جمعتنا؟' فنزلت سورة المسد.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:27,surahName:"سورة النمل",stories:[{ayahRange:"1-93",shortSummary:"السورة مكية، وليس لها سبب نزول محدد. تتناول قصص الأنبياء كداود وسليمان وصالح ولوط عليهم السلام لبيان عاقبة الشكر والكفر.",detailedVersion:`**التفسير المفصل:**
سورة النمل، كغيرها من السور المكية، تركز على أصول العقيدة والتوحيد والنبوة والبعث. لم يرد سبب نزول خاص بها مرتبط بحادثة معينة. السورة تعرض نماذج من قصص الأنبياء السابقين، خاصة قصة سليمان عليه السلام مع ملكة سبأ، وقصة صالح مع ثمود، ولوط مع قومه، لتكون عبرة وعظة لقريش، ولتبين أن منهج الأنبياء واحد، وعاقبة المكذبين هي الهلاك، وعاقبة المؤمنين هي النجاة والفلاح.

**تفسير ابن كثير:**
يذكر ابن كثير في تفسيره لهذه السورة القصص بالتفصيل ويستخرج منها العبر، كبيان ما أنعم الله به على داود وسليمان من العلم والنبوة والملك، وكيف قابلا ذلك بالشكر. وفي المقابل، يذكر عاقبة قوم صالح وقوم لوط الذين كذبوا وكفروا فكان مصيرهم الدمار.`,source:"عامة كتب التفسير"}]},{surahId:28,surahName:"سورة القصص",stories:[{ayahRange:"85",shortSummary:"نزلت الآية على النبي صلى الله عليه وسلم وهو في طريقه مهاجرًا من مكة إلى المدينة، تبشره بالعودة إلى مكة فاتحًا.",detailedVersion:`**التفسير المفصل:**
عندما خرج النبي صلى الله عليه وسلم من مكة مهاجرًا، ووصل إلى مكان يسمى 'الجحفة'، اشتاق إلى بلده مكة وحزن لفراقها، فنزل عليه جبريل عليه السلام بهذه الآية: (إِنَّ الَّذِي فَرَضَ عَلَيْكَ الْقُرْآنَ لَرَادُّكَ إِلَىٰ مَعَادٍ)، أي أن الذي كلفك بتبليغ القرآن، سيردك إلى مكة ظافرًا منتصرًا. فكانت هذه الآية بشارة عظيمة ووعدًا صادقًا تحقق يوم فتح مكة.

**تفسير ابن كثير:**
قال ابن عباس: (لرادك إلى معاد) أي: إلى مكة. وهذا من أعظم دلائل النبوة، حيث أخبره الله بخروجه من مكة وعودته إليها وهو في بداية هجرته مطاردًا، وقد تحقق هذا الوعد كما أخبر.`,source:"أسباب النزول للسيوطي، تفسير ابن كثير"}]},{surahId:29,surahName:"سورة العنكبوت",stories:[{ayahRange:"1-3",shortSummary:"نزلت في بعض المسلمين الذين أسلموا في مكة، فلما تعرضوا للأذى والفتنة من المشركين، ظنوا أن هذا سيستمر، فنزلت الآية لتصبرهم.",detailedVersion:`**التفسير المفصل:**
لما أسلم بعض الناس في مكة، تعرضوا لابتلاءات وفتن شديدة من المشركين ليصدوهم عن دينهم. فكان بعضهم يتألم ويظن أن الإيمان لا يتطلب هذا العناء. فأنزل الله تعالى: (أَحَسِبَ النَّاسُ أَن يُتْرَكُوا أَن يَقُولُوا آمَنَّا وَهُمْ لَا يُفْتَنُونَ)، لبيان أن الابتلاء سنة إلهية لتمحيص المؤمنين وتمييز الصادق من الكاذب، وأن الإيمان ليس مجرد كلمة تقال باللسان.

**تفسير ابن كثير:**
قوله تعالى: (أحسب الناس أن يتركوا...) استفهام إنكار، ومعناه: أن الله سبحانه وتعالى لا بد أن يبتلي عباده المؤمنين بحسب ما عندهم من الإيمان، كما جاء في الحديث الصحيح: 'أشد الناس بلاء الأنبياء ثم الصالحون، ثم الأمثل فالأمثل، يبتلى الرجل على حسب دينه، فإن كان في دينه صلابة زيد في بلائه'.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:30,surahName:"سورة الروم",stories:[{ayahRange:"1-4",shortSummary:"نزلت الآيات بعد هزيمة الروم (أهل كتاب) من الفرس (مجوس)، فحزن المسلمون وفرح المشركون، فبشر القرآن بانتصار الروم خلال بضع سنين.",detailedVersion:`**التفسير المفصل:**
كانت هناك حرب بين الروم والفرس، وكان الروم أهل كتاب (نصارى) والفرس مجوس (يعبدون النار). انتصر الفرس انتصارًا ساحقًا، ففرح مشركو مكة وقالوا للمسلمين: 'أنتم والنصارى أهل كتاب، ونحن والفرس أميون، وقد ظهر إخواننا على إخوانكم، ولنظهرن نحن عليكم'. فحزن المسلمون لذلك، فأنزل الله هذه الآيات التي تبشر بانتصار الروم في المستقبل القريب (في بضع سنين)، وقد تحقق هذا الوعد الإلهي المعجز.

**تفسير ابن كثير:**
كان المشركون يحبون أن تظهر فارس على الروم لأنهم أهل أوثان مثلهم، وكان المسلمون يحبون أن تظهر الروم على فارس لأنهم أهل كتاب. فراهن أبو بكر الصديق المشركين على أن الروم ستنتصر، وتحقق ذلك كما أخبر القرآن، فكان من دلائل صدقه.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:31,surahName:"سورة لقمان",stories:[{ayahRange:"6",shortSummary:"نزلت في النضر بن الحارث الذي كان يشتري كتب الأعاجم وقصصهم ليصد الناس عن سماع القرآن.",detailedVersion:`**التفسير المفصل:**
كان النضر بن الحارث من أشد أعداء الإسلام في مكة. سافر إلى بلاد فارس وتعلم أخبار ملوكهم وقصصهم، ثم عاد إلى مكة. فكان إذا جلس النبي صلى الله عليه وسلم مجلسًا يدعو فيه إلى الله ويتلو القرآن، يقوم النضر بعده ويقول: 'أنا والله يا معشر قريش أحسن حديثًا منه، هلموا فأنا أحدثكم أحسن من حديثه'، ثم يحدثهم عن ملوك فارس. فأنزل الله فيه: (وَمِنَ النَّاسِ مَن يَشْتَرِي لَهْوَ الْحَدِيثِ لِيُضِلَّ عَن سَبِيلِ اللَّهِ بِغَيْرِ عِلْمٍ).

**تفسير ابن كثير:**
قال ابن عباس: (لهو الحديث) هو الغناء وأشباهه. وقال مجاهد: هو الغناء أو كل لهو. والآية نزلت في النضر بن الحارث، كان يشتري كتبًا فيها أخبار العجم ويحدث بها قريشًا ليصدهم عن سماع القرآن.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:32,surahName:"سورة السجدة",stories:[{ayahRange:"16",shortSummary:"نزلت في فضل قيام الليل، في أناس من الصحابة كانوا يصلون ما بين المغرب والعشاء.",detailedVersion:`**التفسير المفصل:**
نزلت هذه الآية: (تَتَجَافَىٰ جُنُوبُهُمْ عَنِ الْمَضَاجِعِ يَدْعُونَ رَبَّهُمْ خَوْفًا وَطَمَعًا) في مدح الذين يقومون من فرشهم في الليل للصلاة والدعاء، تاركين لذة النوم لمناجاة ربهم. قال أنس بن مالك: نزلت في انتظار الصلاة التي تدعى العتمة (صلاة العشاء). وقال آخرون: نزلت في صلاة التطوع بين المغرب والعشاء، وفي قيام الليل بشكل عام.

**تفسير ابن كثير:**
يعني بذلك قيام الليل وترك النوم والاضطجاع على الفرش الوطيئة. قال أنس: كانوا يتنفلون ما بين المغرب والعشاء. وهذا يدل على فضل التهجد وقيام الليل، وهو من أعظم صفات المؤمنين المتقين.`,source:"لباب النقول للسيوطي"}]},{surahId:33,surahName:"سورة الأحزاب",stories:[{ayahRange:"37",shortSummary:"نزلت هذه الآية في قصة زواج النبي صلى الله عليه وسلم من زينب بنت جحش بعد طلاقها من زيد بن حارثة، لإبطال عادة التبني.",detailedVersion:`**التفسير المفصل:**
كان زيد بن حارثة متبنى للنبي صلى الله عليه وسلم قبل الإسلام وكان يُدعى زيد بن محمد. زوّجه النبي من ابنة عمته زينب بنت جحش. حدثت مشاكل بينهما أدت إلى طلاقها. فأمر الله نبيه بالزواج منها لإبطال عادة التبني وآثارها، حيث كان العرب يحرمون زواج الرجل من مطلقة ابنه بالتبني. وكان النبي يخشى قول الناس 'تزوج محمد امرأة ابنه'، فأنزل الله الآية تعاتبه عتابًا لطيفًا وتعلن أن قضاء الله نافذ.

**تفسير ابن كثير:**
كان رسول الله صلى الله عليه وسلم قد تبنى زيد بن حارثة قبل النبوة، فكان يقال له: زيد بن محمد. فأراد الله تعالى أن يقطع هذا التحريم وهذا الإلحاق، بقوله (وما جعل أدعياءكم أبناءكم). ثم لما طلقها زيد، أمره الله أن يتزوجها، وكان يخشى من قالة الناس، فأنزل الله هذه الآية.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:34,surahName:"سورة سبأ",stories:[{ayahRange:"3",shortSummary:"نزلت ردًا على إنكار المشركين ليوم القيامة والبعث.",detailedVersion:`**التفسير المفصل:**
كان كفار قريش ينكرون قيام الساعة والبعث بعد الموت، ويقولون استهزاءً: (لَا تَأْتِينَا السَّاعَةُ). فأنزل الله تعالى هذه الآية وأمر نبيه أن يقسم بربه على أن الساعة آتية لا ريب فيها، وأن علم الله محيط بكل شيء، صغير أو كبير، في السماوات والأرض، وأن كل ذلك مسجل في كتاب مبين.

**تفسير ابن كثير:**
هذا إخبار عن الكفار في استبعادهم وقوع الساعة. فأمر الله تعالى رسوله صلى الله عليه وسلم أن يقسم بربه على وقوعها وحصولها، فقال: (قل بلى وربي لتأتينكم)، وهو الله الذي لا يخفى عليه شيء، بل يعلم كل ما في السماوات والأرض.`,source:"عامة كتب التفسير"}]},{surahId:35,surahName:"سورة فاطر",stories:[{ayahRange:"1-45",shortSummary:"سورة فاطر مكية، تركز على دلائل قدرة الله في الخلق، ووظيفة الملائكة، وعاقبة الكافرين، وليس لها سبب نزول معين.",detailedVersion:`**التفسير المفصل:**
لم يرد سبب نزول خاص بسورة فاطر. السورة تتناول موضوعات العقيدة الأساسية. تبدأ ببيان عظمة خلق الله للسماوات والأرض، وخلقه للملائكة كرسل أولي أجنحة، مما يدل على قدرته. وتذكر الناس بفقرهم إلى الله وغناه عنهم، وتؤكد على صدق وعد الله بالبعث، وتحذر من فتنة الدنيا والشيطان. كما تضرب الأمثال لبيان الفرق بين المؤمن والكافر، وتختم ببيان حلم الله وصبره على عباده.

**تفسير ابن كثير:**
يقول ابن كثير عند تفسير مطلع السورة: يمدح تبارك وتعالى نفسه الكريمة على خلقه السماوات والأرض، وأنه جاعل الملائكة رسلاً إلى الأنبياء أو في تنفيذ أوامره الكونية. ويشرح معنى (أولي أجنحة مثنى وثلاث ورباع) بأن منهم من له جناحان ومنهم ثلاثة ومنهم أربعة، ومنهم أكثر من ذلك كما جاء في الحديث أن جبريل له ستمائة جناح.`,source:"عامة كتب التفسير"}]},{surahId:36,surahName:"سورة يس",stories:[{ayahRange:"78-79",shortSummary:"نزلت في أُبيّ بن خلف الذي جاء إلى النبي بعظم بالٍ وفتته، وسأله مستهزئًا: من يحيي العظام وهي رميم؟",detailedVersion:`**التفسير المفصل:**
جاء المشرك أُبيّ بن خلف إلى رسول الله صلى الله عليه وسلم وفي يده عظم قد بلي وتفتت، ففته في وجه النبي وقال: 'يا محمد، أتزعم أن الله يبعث هذا بعدما أرم؟'. فقال النبي صلى الله عليه وسلم: 'نعم، يبعثه الله ويميتك ثم يدخلك النار'. فأنزل الله تعالى: (وَضَرَبَ لَنَا مَثَلًا وَنَسِيَ خَلْقَهُ ۖ قَالَ مَن يُحْيِي الْعِظَامَ وَهِيَ رَمِيمٌ * قُلْ يُحْيِيهَا الَّذِي أَنشَأَهَا أَوَّلَ مَرَّةٍ ۖ وَهُوَ بِكُلِّ خَلْقٍ عَلِيمٌ).

**تفسير ابن كثير:**
روي عن ابن عباس وغيره أن أبي بن خلف جاء إلى رسول الله صلى الله عليه وسلم بعظم رميم، ففته بين يديه، وقال... فنزلت هذه الآيات. والجواب هو أن الذي خلق الإنسان من العدم قادر على إعادته بعد أن يصبح عظامًا بالية، فالإعادة أهون من الابتداء.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:37,surahName:"سورة الصافات",stories:[{ayahRange:"1-182",shortSummary:"سورة مكية، تركز على وحدانية الله، والبعث، وقصص الأنبياء، وليس لها سبب نزول خاص.",detailedVersion:`**التفسير المفصل:**
لم يرد سبب نزول محدد لسورة الصافات. السورة تبدأ بالقسم بالملائكة على أن الله واحد، ثم تنتقل إلى مشاهد يوم القيامة وعاقبة الكافرين ونعيم المؤمنين. وتحكي بالتفصيل أجزاء من قصص نوح وإبراهيم وموسى وهارون وإلياس ولوط ويونس عليهم السلام، لتثبيت المؤمنين وإنذار المشركين. وتختم بتنزيه الله تعالى عما يصفه به الكافرون، والسلام على المرسلين، والحمد لله رب العالمين.

**تفسير ابن كثير:**
يذكر ابن كثير الأقوال في تفسير القسم في أول السورة، ويرجح أنها الملائكة. ثم يشرح أحوال أهل النار وحوارهم مع من أضلوهم، وأحوال أهل الجنة ونعيمهم، ويستعرض قصص الأنبياء المذكورين في السورة بالتفصيل، مبينًا العبر المستفادة من كل قصة.`,source:"عامة كتب التفسير"}]},{surahId:38,surahName:"سورة ص",stories:[{ayahRange:"1-8",shortSummary:"نزلت في وفد من زعماء قريش جاءوا إلى أبي طالب في مرضه، يطلبون منه أن يكف ابن أخيه عن سب آلهتهم، فتعجبوا من دعوته لتوحيد الله.",detailedVersion:`**التفسير المفصل:**
لما مرض أبو طالب، دخل عليه أشراف قريش، وقالوا: يا أبا طالب، إنك منا حيث قد علمت، وقد حضرك ما ترى، وإن ابن أخيك هذا يسب آلهتنا، فادعه ومره أن يكف عنا. فدعاه النبي صلى الله عليه وسلم، وعرض عليه أبو طالب ما قالوا. فقال النبي: 'أرأيتم إن أعطيتكم كلمة واحدة ملكتم بها العرب ودانت لكم بها العجم؟' فقال أبو جهل: نعم وأبيك وعشر كلمات. قال: 'تقولون لا إله إلا الله'. فقاموا فزعين وهم يقولون: (أَجَعَلَ الْآلِهَةَ إِلَٰهًا وَاحِدًا ۖ إِنَّ هَٰذَا لَشَيْءٌ عُجَابٌ). فنزلت الآيات فيهم.

**تفسير ابن كثير:**
روى الإمام أحمد عن ابن عباس، قال: لما مرض أبو طالب دخل عليه رهط من قريش... فذكر القصة. فكان نزول هذه الآيات تعقيبًا على هذا الموقف الذي أظهر عنادهم واستكبارهم عن قبول الحق.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:39,surahName:"سورة الزمر",stories:[{ayahRange:"53",shortSummary:"نزلت في أناس من المشركين قتلوا وزنوا كثيرًا، ثم أتوا النبي يسألون هل لهم من توبة، فنزلت الآية تبشر بسعة رحمة الله.",detailedVersion:`**التفسير المفصل:**
روى ابن عباس أن ناسًا من أهل الشرك كانوا قد قتلوا فأكثروا، وزنوا فأكثروا، فأتوا محمدًا صلى الله عليه وسلم فقالوا: إن الذي تقول وتدعو إليه لحسن، لو تخبرنا أن لما عملنا كفارة. فنزلت هذه الآية: (قُلْ يَا عِبَادِيَ الَّذِينَ أَسْرَفُوا عَلَىٰ أَنفُسِهِمْ لَا تَقْنَطُوا مِن رَّحْمَةِ اللَّهِ ۚ إِنَّ اللَّهَ يَغْفِرُ الذُّنُوبَ جَمِيعًا ۚ إِنَّهُ هُوَ الْغَفُورُ الرَّحِيمُ). وهي أرجى آية في القرآن، تفتح باب الأمل والتوبة لكل عاصٍ مهما بلغت ذنوبه.

**تفسير ابن كثير:**
هذه الآية الكريمة دعوة لجميع العصاة من الكفرة وغيرهم إلى التوبة والإنابة، وإخبار بأن الله تبارك وتعالى يغفر الذنوب جميعًا لمن تاب منها ورجع عنها، وإن كانت مهما كانت، وإن كثرت وكانت مثل زبد البحر.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:40,surahName:"سورة غافر",stories:[{ayahRange:"28",shortSummary:"نزلت في قصة مؤمن آل فرعون الذي كان يكتم إيمانه ويدافع عن موسى عليه السلام.",detailedVersion:`**التفسير المفصل:**
عندما دعا موسى عليه السلام فرعون وقومه إلى توحيد الله، كذبوه وأرادوا قتله. فقام رجل من آل فرعون كان قد آمن بموسى سرًا، يدافع عنه ويحذر قومه من عاقبة قتل الأنبياء. فقال لهم: (أَتَقْتُلُونَ رَجُلًا أَن يَقُولَ رَبِّيَ اللَّهُ وَقَدْ جَاءَكُم بِالْبَيِّنَاتِ مِن رَّبِّكُمْ). لم يرد سبب نزول خاص لهذه الآية، بل هي جزء من قصة موسى التي قصها القرآن للعبرة وتثبيت المؤمنين.

**تفسير ابن كثير:**
هذا الرجل هو مؤمن آل فرعون، كان قبطيًا، وكان يكتم إيمانه عن قومه خوفًا منهم. فلما عزم فرعون على قتل موسى، لم يجد الرجل بدًا من إظهار إيمانه والدفاع عن نبي الله. قال ابن عباس: لم يؤمن من آل فرعون إلا هذا الرجل وامرأة فرعون.`,source:"عامة كتب التفسير"}]},{surahId:41,surahName:"سورة فصلت",stories:[{ayahRange:"30",shortSummary:"نزلت تبشر المؤمنين الذين استقاموا على التوحيد بأن الملائكة تتنزل عليهم عند الموت وفي القبر ويوم القيامة لتثبيتهم وتبشيرهم بالجنة.",detailedVersion:`**التفسير المفصل:**
ليس لهذه الآية سبب نزول محدد بحادثة، بل هي بيان لحال المؤمنين المستقيمين على طاعة الله وجزائهم. معنى قوله تعالى: (إِنَّ الَّذِينَ قَالُوا رَبُّنَا اللَّهُ ثُمَّ اسْتَقَامُوا) أي أخلصوا العمل لله وعملوا بطاعته على ما شرع لهم. (تَتَنَزَّلُ عَلَيْهِمُ الْمَلَائِكَةُ) أي عند الموت، يقولون لهم: (أَلَّا تَخَافُوا) مما تقدمون عليه من أمر الآخرة، (وَلَا تَحْزَنُوا) على ما خلفتموه من أمر الدنيا من ولد وأهل ومال، (وَأَبْشِرُوا بِالْجَنَّةِ الَّتِي كُنتُمْ تُوعَدُونَ).

**تفسير ابن كثير:**
يقول تعالى: إن الذين وحدوا الله واستقاموا على أمره، تتنزل عليهم الملائكة عند الاحتضار لتبشرهم وتؤمنهم من الخوف والفزع، وتعدهم بالجنة، وتخبرهم بأنهم كانوا أولياءهم في الدنيا وسيكونون معهم في الآخرة.`,source:"عامة كتب التفسير"}]},{surahId:42,surahName:"سورة الشورى",stories:[{ayahRange:"23",shortSummary:"نزلت ردًا على سؤال بعض الصحابة عن كيفية مكافأة النبي على هدايته لهم، فأمرهم الله بمودة أقاربه.",detailedVersion:`**التفسير المفصل:**
قال الصحابة: يا رسول الله، لو كان هذا الذي جئتنا به تريد به مالاً جمعنا لك من أموالنا. فأنزل الله تعالى: (قُل لَّا أَسْأَلُكُمْ عَلَيْهِ أَجْرًا إِلَّا الْمَوَدَّةَ فِي الْقُرْبَىٰ). اختلف المفسرون في معنى (القربى)، والقول الأرجح عن ابن عباس هو: إلا أن تصلوا قرابتي منكم، أي لا تؤذوني لقرابتي بكم يا معشر قريش. وقيل المعنى: أن تودوا قرابتي وعترتي وتحفظوني فيهم.

**تفسير ابن كثير:**
روى البخاري عن ابن عباس أنه سئل عن هذه الآية، فقال سعيد بن جبير: قربى آل محمد صلى الله عليه وسلم. فقال ابن عباس: عجلت، إن النبي صلى الله عليه وسلم لم يكن بطن من قريش إلا كان له فيهم قرابة، فقال: إلا أن تصلوا ما بيني وبينكم من القرابة. وهذا هو القول الراجح.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:43,surahName:"سورة الزخرف",stories:[{ayahRange:"31",shortSummary:"نزلت الآية حكاية لقول كفار مكة الذين اعترضوا على نبوة محمد صلى الله عليه وسلم، واقترحوا أن ينزل القرآن على رجل عظيم من مكة أو الطائف.",detailedVersion:`**التفسير المفصل:**
اعترض زعماء قريش على اختيار الله لمحمد صلى الله عليه وسلم ليكون نبيًا، لأنه كان يتيمًا وفقيرًا في نظرهم. فقالوا: (لَوْلَا نُزِّلَ هَٰذَا الْقُرْآنُ عَلَىٰ رَجُلٍ مِّنَ الْقَرْيَتَيْنِ عَظِيمٍ)، أي هلا نزل على رجل غني وذي جاه من مكة (كالوليد بن المغيرة) أو من الطائف (كعروة بن مسعود الثقفي). فنزلت الآية تحكي قولهم وترد عليهم في الآية التي تليها: (أَهُمْ يَقْسِمُونَ رَحْمَتَ رَبِّكَ).

**تفسير ابن كثير:**
يخبر تعالى عن المشركين في قولهم هذا، اعتراضًا على من أنزل عليه الكتاب. يعنون بالرجل العظيم من القريتين الوليد بن المغيرة من مكة، أو عروة بن مسعود الثقفي من الطائف. فرد الله عليهم بأن هذا الأمر ليس إليهم، بل الله أعلم حيث يجعل رسالته.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:44,surahName:"سورة الدخان",stories:[{ayahRange:"10-16",shortSummary:"نزلت الآيات في شأن الجوع الشديد والقحط الذي أصاب قريشًا بدعوة النبي صلى الله عليه وسلم عليهم.",detailedVersion:`**التفسير المفصل:**
لما استعصت قريش على النبي صلى الله عليه وسلم، دعا عليهم قائلاً: 'اللهم أعني عليهم بسبع كسبع يوسف'. فأصابهم قحط وجوع شديد حتى أكلوا الجيف والعظام، وكان الرجل يرى ما بينه وبين السماء كهيئة الدخان من شدة الجهد. فأتوا النبي صلى الله عليه وسلم وطلبوا منه أن يدعو الله ليكشف عنهم العذاب، ووعدوا بالإيمان. فدعا لهم، فلما كشف عنهم عادوا إلى كفرهم. فتوعدهم الله بالبطشة الكبرى يوم بدر.

**تفسير ابن كثير:**
روى البخاري عن ابن مسعود قال: إن قريشًا لما استعصوا على النبي، دعا عليهم بسنين كسني يوسف، فأصابهم قحط وجهد حتى أكلوا العظام، فجعل الرجل ينظر إلى السماء فيرى ما بينه وبينها كهيئة الدخان من الجهد. فأنزل الله (فارتقب يوم تأتي السماء بدخان مبين).`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:45,surahName:"سورة الجاثية",stories:[{ayahRange:"23",shortSummary:"نزلت فيمن يعبد هواه ويتبع ما يشتهيه دون هدى من الله، وقيل نزلت في شخص معين من المشركين.",detailedVersion:`**التفسير المفصل:**
نزلت هذه الآية: (أَفَرَأَيْتَ مَنِ اتَّخَذَ إِلَٰهَهُ هَوَاهُ) في كل من يقدم هواه ورغباته على طاعة الله. فكلما استحسن شيئًا وهواه، فعله غير مكترث أيرضي الله أم يسخطه. وقيل إنها نزلت في الحارث بن قيس، أحد المستهزئين، الذي كان يعبد ما يستحسنه، فإذا رأى حجرًا أفضل من الذي يعبده، رمى الأول وعبد الثاني.

**تفسير ابن كثير:**
أي: إنما يأتمر بهواه، فمهما رآه حسنا فعله، ومهما رآه قبيحا تركه، وهذا هو معنى اتخاذ الهوى إلهًا. ولهذا قال تعالى: (وأضله الله على علم)، أي مع علمه بأنه لا يستحق الهداية.`,source:"لباب النقول للسيوطي"}]},{surahId:46,surahName:"سورة الأحقاف",stories:[{ayahRange:"29",shortSummary:"نزلت الآية في قصة نفر من الجن استمعوا إلى القرآن من النبي صلى الله عليه وسلم وهو يصلي ببطن نخلة، فآمنوا به وعادوا إلى قومهم منذرين.",detailedVersion:`**التفسير المفصل:**
عندما كان النبي صلى الله عليه وسلم عائدًا من الطائف حزينًا بعد أن صده أهلها، نزل بمكان يسمى 'بطن نخلة' وقام يصلي في جوف الليل. فصرف الله إليه سبعة نفر من جن 'نصيبين'، فاستمعوا لقراءته وأعجبوا بالقرآن. فلما انتهى من صلاته، آمنوا به وعادوا إلى قومهم دعاة إلى الإسلام. فنزلت هذه الآيات تحكي قصتهم.

**تفسير ابن كثير:**
روى البخاري عن ابن عباس قال: انطلق رسول الله صلى الله عليه وسلم في طائفة من أصحابه عامدين إلى سوق عكاظ، وقد حيل بين الشياطين وبين خبر السماء. فرجعت الشياطين إلى قومهم، فقالوا: ما لكم؟ فقالوا: حيل بيننا وبين خبر السماء. قالوا: ما حال بينكم إلا شيء حدث، فاضربوا مشارق الأرض ومغاربها. فمر النفر الذين توجهوا نحو تهامة بالنبي صلى الله عليه وسلم وهو بنخلة يصلي بأصحابه صلاة الفجر، فلما سمعوا القرآن استمعوا له، فقالوا: هذا الذي حال بينكم وبين خبر السماء. فرجعوا إلى قومهم فقالوا: (يا قومنا إنا سمعنا قرآنا عجبا).`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:47,surahName:"سورة محمد",stories:[{ayahRange:"1-47",shortSummary:"سورة مدنية، تعرف بسورة القتال، تركز على أحكام الجهاد والفرق بين المؤمنين والكافرين، وليس لها سبب نزول واحد.",detailedVersion:`**التفسير المفصل:**
سورة محمد نزلت في المدينة بعد الهجرة، وموضوعها الرئيسي هو القتال في سبيل الله. لم يرد لها سبب نزول شامل، بل نزلت آياتها متفرقة تعالج شؤون الدولة الإسلامية الناشئة وعلاقتها بأعدائها. تبدأ السورة بمقارنة مصير الكفار الذين صدوا عن سبيل الله، ومصير المؤمنين الذين آمنوا وعملوا الصالحات. وتتضمن أحكامًا واضحة حول التعامل مع الأسرى في الحرب، وتحث على الإنفاق في سبيل الله، وتحذر من النفاق والتردد في الجهاد.

**تفسير ابن كثير:**
يذكر ابن كثير أن هذه السورة تبين حال الكافرين الذين كفروا وصدوا عن سبيل الله، وكيف أن الله أبطل أعمالهم. وفي المقابل، المؤمنون الذين آمنوا بما نزل على محمد، كفر الله عنهم سيئاتهم وأصلح بالهم. ثم تتوالى الآيات في الحث على قتال الكفار والإثخان فيهم.`,source:"عامة كتب التفسير"}]},{surahId:48,surahName:"سورة الفتح",stories:[{ayahRange:"1-3",shortSummary:"نزلت السورة على النبي صلى الله عليه وسلم بعد عودته من صلح الحديبية، تبشره بأن هذا الصلح هو فتح مبين.",detailedVersion:`**التفسير المفصل:**
في السنة السادسة للهجرة، خرج النبي صلى الله عليه وسلم مع 1400 من أصحابه متجهين إلى مكة لأداء العمرة. منعتهم قريش من الدخول، وجرت مفاوضات انتهت بـ'صلح الحديبية'. كانت بعض شروط الصلح تبدو في ظاهرها مجحفة للمسلمين، فحزنوا لذلك حزنًا شديدًا. وفي طريق العودة إلى المدينة، أنزل الله تعالى هذه السورة: (إِنَّا فَتَحْنَا لَكَ فَتْحًا مُّبِينًا)، معتبرًا هذا الصلح فتحًا عظيمًا، لما ترتب عليه من اعتراف قريش بالمسلمين، وتفرغهم للدعوة، ودخول الناس في دين الله أفواجًا.

**تفسير ابن كثير:**
روى الإمام أحمد عن أنس بن مالك، قال: نزلت على النبي صلى الله عليه وسلم (إنا فتحنا لك فتحا مبينا) مرجعه من الحديبية. فقال أصحابه: هنيئًا مريئًا، فما لنا؟ فأنزل الله (ليدخل المؤمنين والمؤمنات جنات).`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:49,surahName:"سورة الحجرات",stories:[{ayahRange:"1-2",shortSummary:"نزلت الآيات لتعليم الصحابة أدب الحديث مع النبي صلى الله عليه وسلم، بعد أن رفع أبو بكر وعمر أصواتهما عنده.",detailedVersion:`**التفسير المفصل:**
قدم وفد من بني تميم على النبي صلى الله عليه وسلم، فأشار أبو بكر بتأمير القعقاع بن معبد، وأشار عمر بتأمير الأقرع بن حابس. فتجادلا حتى ارتفعت أصواتهما في حضرة النبي. فأنزل الله تعالى: (يَا أَيُّهَا الَّذِينَ آمَنُوا لَا تُقَدِّمُوا بَيْنَ يَدَيِ اللَّهِ وَرَسُولِهِ) و (يَا أَيُّهَا الَّذِينَ آمَنُوا لَا تَرْفَعُوا أَصْوَاتَكُمْ فَوْقَ صَوْتِ النَّبِيِّ...). فكان أبو بكر بعد ذلك يكلم النبي كأخي السرار، وكان عمر لا يُسمع النبي كلامه حتى يستفهمه.

**تفسير ابن كثير:**
قال البخاري: كاد الخيّران أن يهلكا، أبو بكر وعمر، رفعا أصواتهما عند النبي صلى الله عليه وسلم حين قدم عليه ركب بني تميم... فأنزل الله (يا أيها الذين آمنوا لا ترفعوا أصواتكم).`,source:"أسباب النزول للواحدي، تفسير ابن كثير"},{ayahRange:"6",shortSummary:"نزلت في الوليد بن عقبة حين أرسله النبي لجمع الزكاة من بني المصطلق، فرجع وأخبر أنهم ارتدوا ومنعوا الزكاة، وكان خبره غير صحيح.",detailedVersion:`**التفسير المفصل:**
بعث النبي الوليد بن عقبة إلى بني المصطلق ليأخذ منهم الصدقات، فلما سمعوا به خرجوا لاستقباله، فخاف منهم وظن أنهم يريدون قتله، فرجع إلى النبي وأخبره أنهم منعوا الصدقة وأرادوا قتله. فغضب النبي وهمّ أن يرسل إليهم جيشًا. فبينما هو كذلك، قدم وفدهم على النبي وقالوا: 'يا رسول الله، سمعنا برسولك فخرجنا نكرمه ونؤدي إليه ما قبلنا من حق الله، فرجع'. فأنزل الله الآية تعلم المسلمين وجوب التثبت من الأخبار قبل الحكم عليها.

**تفسير ابن كثير:**
ذكر كثير من المفسرين أن هذه الآية نزلت في الوليد بن عقبة بن أبي معيط، حين بعثه رسول الله صلى الله عليه وسلم على صدقات بني المصطلق.`,source:"لباب النقول للسيوطي، تفسير ابن كثير"}]},{surahId:50,surahName:"سورة ق",stories:[{ayahRange:"1-45",shortSummary:"سورة مكية، تتناول قضية البعث والنشور بشكل رئيسي، وكان النبي يقرأ بها في الخطب والأعياد لأهميتها.",detailedVersion:`**التفسير المفصل:**
لم يرد سبب نزول خاص لسورة 'ق'. هي من السور المكية التي تركز بقوة على إثبات عقيدة البعث بعد الموت، والرد على منكريها. تبدأ بالقسم بالقرآن المجيد، وتذكر تعجب الكفار من إرسال نبي ومن البعث. ثم تستعرض دلائل القدرة الإلهية في الكون كخلق السماء والأرض والجبال والنبات، كدليل على أن من خلق هذا كله قادر على إعادة الخلق. وتصف أهوال الموت وسكراته، ومشاهد يوم القيامة. كان النبي صلى الله عليه وسلم يكثر من قراءتها في المحافل الكبرى كالجمع والأعياد لتذكير الناس بهذا اليوم العظيم.

**تفسير ابن كثير:**
روى الإمام مسلم عن أم هشام بنت حارثة، قالت: ما أخذت (ق والقرآن المجيد) إلا عن لسان رسول الله صلى الله عليه وسلم، يقرؤها كل يوم جمعة على المنبر إذا خطب الناس. وهذا يدل على أهمية هذه السورة في التذكير بأصول الإيمان.`,source:"عامة كتب التفسير، تفسير ابن كثير"}]},{surahId:51,surahName:"سورة الذاريات",stories:[{ayahRange:"1-60",shortSummary:"سورة مكية، محورها الأساسي هو صدق خبر البعث والجزاء، وليس لها سبب نزول معين.",detailedVersion:`**التفسير المفصل:**
لم يرد سبب نزول محدد لسورة الذاريات. تبدأ السورة بالقسم بأنواع من الرياح والملائكة على أن وعد الله بالبعث والحساب حق وواقع لا محالة. ثم تصف حال المتقين في الجنة، وفي المقابل تذكر قصص بعض الأمم المكذبة كقوم إبراهيم ولوط وعاد وثمود وقوم فرعون، لبيان أن سنة الله في إهلاك المكذبين وإنجاء المؤمنين ماضية. وتختم السورة بالتأكيد على أن الهدف من خلق الجن والإنس هو العبادة.

**تفسير ابن كثير:**
يذكر ابن كثير الأقوال المختلفة في تفسير المقسم به في أول السورة (الذاريات، فالحاملات، فالجاريات، فالمقسمات)، ويرجح أنها الرياح والسحاب والسفن والملائكة. ويبين أن جواب القسم هو قوله تعالى (إنما توعدون لصادق وإن الدين لواقع).`,source:"عامة كتب التفسير"}]},{surahId:52,surahName:"سورة الطور",stories:[{ayahRange:"1-49",shortSummary:"سورة مكية، تتناول دلائل التوحيد وصدق الرسالة والبعث، وقد أسلم جبير بن مطعم عند سماعها من النبي.",detailedVersion:`**التفسير المفصل:**
ليس للسورة سبب نزول مباشر، ولكن يروى أن جبير بن مطعم قدم إلى المدينة ليفاوض في أسرى بدر وهو لا يزال مشركًا، فسمع النبي صلى الله عليه وسلم يقرأ سورة الطور في صلاة المغرب، فلما بلغ قوله تعالى: (أَمْ خُلِقُوا مِنْ غَيْرِ شَيْءٍ أَمْ هُمُ الْخَالِقُونَ * أَمْ خَلَقُوا السَّمَاوَاتِ وَالْأَرْضَ ۚ بَل لَّا يُوقِنُونَ)، قال جبير: 'كاد قلبي أن يطير'. فكان ذلك أول ما وقر الإيمان في قلبه. والسورة تقيم الحجج القوية على المشركين وتصف عذابهم ونعيم المؤمنين.

**تفسير ابن كثير:**
روى البخاري عن جبير بن مطعم قال: سمعت النبي صلى الله عليه وسلم يقرأ في المغرب بالطور، فلما بلغ هذه الآية: (أم خلقوا من غير شيء...) إلى آخرها، كاد قلبي أن يطير. وهذا يدل على قوة تأثير القرآن وبلاغته في إقامة الحجة.`,source:"لباب النقول للسيوطي، تفسير ابن كثير"}]},{surahId:53,surahName:"سورة النجم",stories:[{ayahRange:"1-18",shortSummary:"نزلت الآيات لتأكيد صدق الوحي الذي ينزل على النبي، وتبرئته مما اتهمه به المشركون من أنه يقول الشعر أو يتلقى من الشياطين.",detailedVersion:`**التفسير المفصل:**
لما اتهم المشركون النبي صلى الله عليه وسلم بأن ما يأتيه من القرآن ليس وحيًا من الله، بل هو شعر أو كهانة أو من إلقاء الشياطين، أنزل الله تعالى هذه السورة التي تبدأ بقسم عظيم (وَالنَّجْمِ إِذَا هَوَىٰ) على أن النبي ما ضل وما غوى، وما ينطق عن هوى نفسه، بل كل ما يقوله هو وحي يوحى إليه. ثم تصف الآيات رؤية النبي لجبريل عليه السلام على صورته الحقيقية، تأكيدًا على مصدر الوحي الإلهي.

**تفسير ابن كثير:**
يقسم تعالى بالنجم عند هويه أي سقوطه، على صحة ما جاء به الرسول من الوحي الإلهي. قال تعالى: (ما ضل صاحبكم) وهو محمد صلى الله عليه وسلم، (وما غوى) أي ليس غاويًا، بل هو راشد على استقامة. (وما ينطق عن الهوى) أي ليس قوله صادرًا عن هوى نفس ورغبة. (إن هو إلا وحي يوحى).`,source:"عامة كتب التفسير، تفسير ابن كثير"}]},{surahId:54,surahName:"سورة القمر",stories:[{ayahRange:"1",shortSummary:"نزلت الآية بعد أن طلب أهل مكة من النبي آية تدل على صدقه، فأراهم انشقاق القمر بأمر الله.",detailedVersion:`**التفسير المفصل:**
اجتمع المشركون في مكة وطلبوا من النبي صلى الله عليه وسلم أن يريهم آية خارقة تثبت نبوته. فسأل ربه، فأشار إلى القمر فانشق فلقتين، فلقة فوق الجبل وفلقة دونه، حتى رأوا جبل حراء بينهما. فقالوا: 'سحرنا محمد'. وقال بعضهم: 'اسألوا المسافرين القادمين، فإن كان السحر لا يؤثر عليهم'. فسألوهم، فأخبروهم أنهم رأوا نفس الشيء. فأنزل الله تعالى: (اقْتَرَبَتِ السَّاعَةُ وَانشَقَّ الْقَمَرُ * وَإِن يَرَوْا آيَةً يُعْرِضُوا وَيَقُولُوا سِحْرٌ مُّسْتَمِرٌّ).

**تفسير ابن كثير:**
هذا قد كان في زمان رسول الله صلى الله عليه وسلم، كما ورد ذلك في الأحاديث المتواترة بالأسانيد الصحيحة. روى البخاري عن أنس بن مالك أن أهل مكة سألوا رسول الله صلى الله عليه وسلم أن يريهم آية، فأراهم القمر شقتين، حتى رأوا حراء بينهما.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:55,surahName:"سورة الرحمن",stories:[{ayahRange:"1-78",shortSummary:"سورة مكية، تعرف بـ'عروس القرآن'، تتحدث عن آلاء الله ونعمه على الخلق في الدنيا والآخرة، وليس لها سبب نزول خاص.",detailedVersion:`**التفسير المفصل:**
لم يرد سبب نزول خاص لسورة الرحمن. هي سورة فريدة في أسلوبها، حيث تتكرر فيها آية (فَبِأَيِّ آلَاءِ رَبِّكُمَا تُكَذِّبَانِ) 31 مرة، في خطاب موجه للإنس والجن. السورة تستعرض نعم الله العظيمة بداية من تعليم القرآن وخلق الإنسان، إلى خلق الشمس والقمر والأرض وما فيها من فاكهة ونخل وحب. ثم تنتقل لوصف مشاهد يوم القيامة، وجزاء المجرمين، ونعيم المؤمنين في جنتين عظيمتين، ثم جنتين دونهما، مع وصف تفصيلي لما فيهما من النعيم.

**تفسير ابن كثير:**
يخبر تعالى عن فضله ورحمته بخلقه أن أنزل على عباده القرآن، ويسر حفظه وفهمه لمن رحمه. وفي الحديث أن النبي صلى الله عليه وسلم قرأها على الجن فكانوا أحسن ردًا من الإنس، كلما قرأ (فبأي آلاء ربكما تكذبان) قالوا: 'ولا بشيء من نعمك ربنا نكذب، فلك الحمد'.`,source:"عامة كتب التفسير، تفسير ابن كثير"}]},{surahId:56,surahName:"سورة الواقعة",stories:[{ayahRange:"1-96",shortSummary:"سورة مكية، تتناول أهوال يوم القيامة وأصناف الناس فيه: السابقون، وأصحاب اليمين، وأصحاب الشمال.",detailedVersion:`**التفسير المفصل:**
ليس للسورة سبب نزول محدد. موضوعها الرئيسي هو يوم القيامة (الواقعة). تصف السورة أحداثه العظيمة، وكيف أنه يقسم الناس إلى ثلاثة أصناف: السابقون المقربون، وأصحاب الميمنة (أهل الجنة)، وأصحاب المشأمة (أهل النار). ثم تفصل في وصف نعيم كل فريق من أهل الجنة، وعذاب أهل النار. وبعد ذلك، تقيم الحجج على إمكانية البعث من خلال لفت النظر إلى خلق الإنسان، وإنزال المطر، وإنبات الزرع، وإيقاد النار، كدليل على قدرة الله.

**تفسير ابن كثير:**
الواقعة من أسماء يوم القيامة، سميت بذلك لتحقق كونها ووقوعها. السورة تفصل أحوال الناس يوم القيامة، وتبدأ بوصف أهوال هذا اليوم. قال ابن عباس: كان عمر بن الخطاب لا يصلي صلاة إلا قرأ فيها بالواقعة ونحوها.`,source:"عامة كتب التفسير"}]},{surahId:57,surahName:"سورة الحديد",stories:[{ayahRange:"16",shortSummary:"نزلت الآية عتابًا للمؤمنين على شيء من الفتور والجفاء الذي أصاب قلوبهم بعد فترة من نزول القرآن.",detailedVersion:`**التفسير المفصل:**
روى عبد الله بن مسعود رضي الله عنه قال: 'ما كان بين إسلامنا وبين أن عاتبنا الله بهذه الآية (أَلَمْ يَأْنِ لِلَّذِينَ آمَنُوا أَن تَخْشَعَ قُلُوبُهُمْ لِذِكْرِ اللَّهِ) إلا أربع سنين'. فالآية نزلت تعاتب الصحابة وتحثهم على تجديد إيمانهم وزيادة خشوع قلوبهم عند سماع القرآن، وتحذرهم من أن يطول عليهم الأمد فتقسو قلوبهم كما قست قلوب أهل الكتاب من قبلهم.

**تفسير ابن كثير:**
يعاتب الله تعالى المؤمنين على عدم الخشوع عند سماع القرآن، وينهاهم أن يتشبهوا باليهود والنصارى في قسوة قلوبهم. وهذا يدل على أهمية المداومة على ذكر الله وتلاوة القرآن لتبقى القلوب لينة خاشعة.`,source:"لباب النقول للسيوطي، تفسير ابن كثير"}]},{surahId:58,surahName:"سورة المجادلة",stories:[{ayahRange:"1-4",shortSummary:"نزلت هذه الآيات في خولة بنت ثعلبة التي جاءت تشتكي زوجها أوس بن الصامت إلى النبي صلى الله عليه وسلم بعد أن ظاهر منها.",detailedVersion:`**التفسير المفصل:**
الظهار هو أن يقول الرجل لزوجته: 'أنتِ عليَّ كظهر أمي'، وكان طلاقًا في الجاهلية. ظاهر أوس بن الصامت من زوجته خولة، فجاءت إلى النبي صلى الله عليه وسلم تجادله وتشتكي إلى الله حالها وحال صغارها. قالت السيدة عائشة: 'تبارك الذي وسع سمعه كل شيء، إني لأسمع كلام خولة بنت ثعلبة ويخفى علي بعضه، وهي تشتكي زوجها إلى رسول الله'. فأنزل الله تعالى: (قَدْ سَمِعَ اللَّهُ قَوْلَ الَّتِي تُجَادِلُكَ فِي زَوْجِهَا وَتَشْتَكِي إِلَى اللَّهِ)، وشرع كفارة الظهار.

**تفسير ابن كثير:**
سبب نزول هذه الآيات قصة المرأة التي ظاهر منها زوجها. قال الإمام أحمد عن عائشة، قالت: الحمد لله الذي وسع سمعه الأصوات، لقد جاءت المجادلة إلى النبي صلى الله عليه وسلم تكلمه وأنا في ناحية البيت ما أسمع ما تقول، فأنزل الله عز وجل: (قد سمع الله قول التي تجادلك في زوجها).`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:59,surahName:"سورة الحشر",stories:[{ayahRange:"1-24",shortSummary:"نزلت السورة بأكملها في غزوة بني النضير، وهم قبيلة من اليهود نقضوا عهدهم مع النبي وحاولوا قتله، فأجلاهم عن المدينة.",detailedVersion:`**التفسير المفصل:**
كان بنو النضير قبيلة يهودية تسكن حول المدينة، وكان بينهم وبين المسلمين عهد. لكنهم نقضوا العهد وتآمروا على قتل النبي صلى الله عليه وسلم. فحاصرهم النبي والمسلمون، وقذف الله في قلوبهم الرعب، فطلبوا الصلح على أن يخرجوا من ديارهم ويأخذوا ما تحمله إبلهم من الأمتعة إلا السلاح. فكانوا يخربون بيوتهم بأيديهم ليأخذوا الأخشاب والأبواب. فأنزل الله السورة تحكي تفاصيل هذه الغزوة، وتبين حكم 'الفيء' (الغنائم التي تؤخذ دون قتال).

**تفسير ابن كثير:**
قال ابن عباس: كانت هذه السورة تسمى سورة بني النضير. روى البخاري عن سعيد بن جبير قال: قلت لابن عباس: سورة الحشر؟ قال: قل سورة النضير. وهذا يدل على أن السورة نزلت خصيصًا في هذه الواقعة.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:60,surahName:"سورة الممتحنة",stories:[{ayahRange:"1",shortSummary:"نزلت في الصحابي حاطب بن أبي بلتعة الذي أرسل رسالة سرية إلى قريش يخبرهم بتجهز النبي لفتح مكة.",detailedVersion:`**التفسير المفصل:**
عندما كان النبي صلى الله عليه وسلم يتجهز سرًا لفتح مكة، كتب الصحابي حاطب بن أبي بلتعة رسالة إلى قريش يحذرهم فيها، وأرسلها مع امرأة. فأخبر الوحي النبي بذلك، فأرسل عليًا والزبير والمقداد فأدركوا المرأة وأخذوا منها الكتاب. استدعى النبي حاطبًا وسأله، فاعتذر بأنه لم يفعل ذلك كفرًا أو ردة، بل أراد أن تكون له يد عند قريش يحمون بها أهله وماله هناك. فصدقه النبي وعفا عنه، ونزلت الآية: (يَا أَيُّهَا الَّذِينَ آمَنُوا لَا تَتَّخِذُوا عَدُوِّي وَعَدُوَّكُمْ أَوْلِيَاءَ).

**تفسير ابن كثير:**
ثبت في الصحيحين أن سبب نزول هذه الآية في قصة حاطب بن أبي بلتعة. وفيها درس عظيم في النهي عن موالاة الكفار، وفي نفس الوقت بيان لسعة عفو النبي وقبوله لأعذار الصادقين.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:61,surahName:"سورة الصف",stories:[{ayahRange:"2-3",shortSummary:"نزلت في بعض المؤمنين الذين كانوا يقولون 'سنفعل كذا وكذا' في الجهاد، ثم لا يفعلون، فعاتبهم الله على مخالفة القول للفعل.",detailedVersion:`**التفسير المفصل:**
اختلف في سبب نزولها. قيل إنها نزلت في قوم من المؤمنين قالوا: لو نعلم أي الأعمال أحب إلى الله لعملناها. فلما فرض الجهاد، كرهه بعضهم وتثاقلوا عنه. وقيل نزلت في قول بعضهم في غزوة أحد: 'سنقاتل حتى الموت'، فلما بدأت المعركة انكشف بعضهم. فأنزل الله تعالى: (يَا أَيُّهَا الَّذِينَ آمَنُوا لِمَ تَقُولُونَ مَا لَا تَفْعَلُونَ * كَبُرَ مَقْتًا عِندَ اللَّهِ أَن تَقُولُوا مَا لَا تَفْعَلُونَ)، وفيها توبيخ شديد لمن يخالف قوله فعله.

**تفسير ابن كثير:**
قال ابن عباس: كان أناس من المؤمنين قبل أن يفرض الجهاد يقولون: لوددنا أن الله عز وجل دلنا على أحب الأعمال إليه فنعمل به. فأخبر الله نبيه أن أحب الأعمال إيمان به وجهاد أهل معصيته. فلما نزل الجهاد، كره ذلك أناس من المؤمنين وشق عليهم. فأنزل الله هذه الآية.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:62,surahName:"سورة الجمعة",stories:[{ayahRange:"9-11",shortSummary:"نزلت الآيات في حادثة انفضاض بعض المسلمين عن خطبة الجمعة وتركهم النبي قائمًا، عندما جاءت قافلة تجارية إلى المدينة.",detailedVersion:`**التفسير المفصل:**
بينما كان النبي صلى الله عليه وسلم يخطب يوم الجمعة، قدمت قافلة تجارية (عير) لدحية الكلبي من الشام، وكان أهل المدينة في حالة غلاء وجوع، فضربوا بالدفوف إعلانًا بقدومها. فخرج كثير من المصلين من المسجد وهرعوا نحو القافلة، ولم يبق مع النبي إلا اثنا عشر رجلاً. فأنزل الله تعالى معاتبًا: (وَإِذَا رَأَوْا تِجَارَةً أَوْ لَهْوًا انفَضُّوا إِلَيْهَا وَتَرَكُوكَ قَائِمًا ۚ قُلْ مَا عِندَ اللَّهِ خَيْرٌ مِّنَ اللَّهْوِ وَمِنَ التِّجَارَةِ).

**تفسير ابن كثير:**
روى الإمام أحمد عن جابر بن عبد الله، قال: أقبلت عير ونحن نصلي مع رسول الله صلى الله عليه وسلم الجمعة، فانفض الناس إليها، فما بقي غير اثني عشر رجلاً، فنزلت هذه الآية.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:63,surahName:"سورة المنافقون",stories:[{ayahRange:"1-8",shortSummary:"نزلت السورة لتفضح زعيم المنافقين عبد الله بن أبي بن سلول بعد قوله في غزوة بني المصطلق: 'لئن رجعنا إلى المدينة ليخرجن الأعز منها الأذل'.",detailedVersion:`**التفسير المفصل:**
في غزوة بني المصطلق، حدثت مناوشة بين رجل من المهاجرين ورجل من الأنصار. فغضب عبد الله بن أبي بن سلول وقال لمن معه من قومه: 'أوقد فعلوها؟ والله لئن رجعنا إلى المدينة ليخرجن الأعز -يقصد نفسه- منها الأذل -يقصد النبي صلى الله عليه وسلم-'. فسمع ذلك الصحابي الشاب زيد بن أرقم وأخبر النبي. فأنكر ابن سلول قوله وحلف بالله ما قال. فأنزل الله سورة المنافقون كاملة، تصدق زيدًا وتكذب ابن سلول وتفضح ما في قلوب المنافقين.

**تفسير ابن كثير:**
روى البخاري عن زيد بن أرقم قال: كنت مع عمي فسمعت عبد الله بن أبي بن سلول يقول: لا تنفقوا على من عند رسول الله حتى ينفضوا. وقال: لئن رجعنا إلى المدينة ليخرجن الأعز منها الأذل. فذكرت ذلك لعمي فذكره للنبي صلى الله عليه وسلم، فدعاني فحدثته، فأنزل الله تصديقي.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:64,surahName:"سورة التغابن",stories:[{ayahRange:"14",shortSummary:"نزلت في قوم من أهل مكة أسلموا وأرادوا الهجرة، فمنعهم أزواجهم وأولادهم، فلما هاجروا لاحقًا وجدوا من سبقهم قد فقه في الدين، فهموا أن يعاقبوا أهليهم.",detailedVersion:`**التفسير المفصل:**
أسلم رجال بمكة وأرادوا أن يهاجروا إلى المدينة، فثبطهم ومنعهم زوجاتهم وأولادهم وقالوا: 'أتذهبون وتتركوننا؟'. فرقوا لهم وجلسوا. فلما هاجروا بعد فترة، وجدوا أن من سبقهم قد تعلموا الكثير من أمور الدين. فأرادوا أن يعاقبوا زوجاتهم وأولادهم الذين كانوا سبب تأخرهم، فأنزل الله تعالى: (يَا أَيُّهَا الَّذِينَ آمَنُوا إِنَّ مِنْ أَزْوَاجِكُمْ وَأَوْلَادِكُمْ عَدُوًّا لَّكُمْ فَاحْذَرُوهُمْ ۚ وَإِن تَعْفُوا وَتَصْفَحُوا وَتَغْفِرُوا فَإِنَّ اللَّهَ غَفُورٌ رَّحِيمٌ)، يحثهم على العفو والصفح.

**تفسير ابن كثير:**
قال ابن عباس: هؤلاء رجال أسلموا من أهل مكة، فأبى أزواجهم وأولادهم أن يدعوهم يأتوا المدينة. فلما أتوا المدينة ورأوا الناس قد فقهوا في الدين، هموا أن يعاقبوهم، فأنزل الله هذه الآية.`,source:"أسباب النزول للسيوطي، تفسير ابن كثير"}]},{surahId:65,surahName:"سورة الطلاق",stories:[{ayahRange:"1",shortSummary:"نزلت في عبد الله بن عمر رضي الله عنهما حين طلق امرأته وهي حائض، فأمره النبي أن يراجعها.",detailedVersion:`**التفسير المفصل:**
طلق عبد الله بن عمر زوجته وهي في فترة حيضها، فذكر عمر بن الخطاب ذلك للنبي صلى الله عليه وسلم، فتغيظ رسول الله وقال: 'مره فليراجعها، ثم ليمسكها حتى تطهر، ثم تحيض فتطهر، ثم إن شاء أمسك بعد وإن شاء طلق قبل أن يمس، فتلك العدة التي أمر الله أن تطلق لها النساء'. وقرأ النبي: (يَا أَيُّهَا النَّبِيُّ إِذَا طَلَّقْتُمُ النِّسَاءَ فَطَلِّقُوهُنَّ لِعِدَّتِهِنَّ).

**تفسير ابن كثير:**
ثبت في الصحيحين أن عبد الله بن عمر طلق امرأته وهي حائض، فسأل عمر عن ذلك، فأمره النبي صلى الله عليه وسلم بمراجعتها. وفي هذا بيان للطريقة الشرعية للطلاق، وهو أن يكون في طهر لم يجامعها فيه.`,source:"لباب النقول للسيوطي، تفسير ابن كثير"}]},{surahId:66,surahName:"سورة التحريم",stories:[{ayahRange:"1",shortSummary:"نزلت الآية عتابًا للنبي صلى الله عليه وسلم عندما حرم على نفسه شيئًا أحله الله له إرضاءً لبعض زوجاته.",detailedVersion:`**التفسير المفصل:**
الرواية الأشهر أن النبي صلى الله عليه وسلم كان يشرب عسلاً عند زوجته زينب بنت جحش، فتواطأت عائشة وحفصة أن تقولا له إذا دخل عليهما: 'إنا نجد منك ريح مغافير' (وهو صمغ كريه الرائحة). فظن النبي أن العسل هو السبب، فأقسم ألا يشربه مرة أخرى، إرضاءً لهما. فأنزل الله تعالى: (يَا أَيُّهَا النَّبِيُّ لِمَ تُحَرِّمُ مَا أَحَلَّ اللَّهُ لَكَ ۖ تَبْتَغِي مَرْضَاتَ أَزْوَاجِكَ ۚ وَاللَّهُ غَفُورٌ رَّحِيمٌ).

**تفسير ابن كثير:**
اختلف في سبب نزول صدر هذه السورة، فقيل في قصة مارية، وقيل في شرب العسل. والصحيح ما رواه البخاري عن عائشة أن النبي صلى الله عليه وسلم كان يمكث عند زينب بنت جحش فيشرب عندها عسلاً، فتواصيت أنا وحفصة أن أيّتنا دخل عليها النبي صلى الله عليه وسلم فلتقل: إني أجد منك ريح مغافير. ففعلت، فحرمه على نفسه، فنزلت الآية.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:67,surahName:"سورة الملك",stories:[{ayahRange:"1-30",shortSummary:"سورة مكية، تتحدث عن كمال ملك الله وقدرته، وهي المانعة من عذاب القبر، وليس لها سبب نزول خاص.",detailedVersion:`**التفسير المفصل:**
لم يرد سبب نزول خاص لسورة الملك. هي سورة عظيمة تبدأ بتمجيد الله الذي بيده الملك وهو على كل شيء قدير، والذي خلق الموت والحياة ليبتلي الناس أيهم أحسن عملاً. وتدعو السورة إلى التفكر في إتقان خلق السماء والكون كدليل على عظمة الخالق. وتحذر الكافرين من عذاب جهنم، وتذكرهم بنعم الله كجعل الأرض سهلة للمشي فيها والأكل من رزقها. وقد ورد في فضلها أحاديث كثيرة، منها أنها تشفع لصاحبها وتنجيه من عذاب القبر.

**تفسير ابن كثير:**
يذكر ابن كثير الأحاديث الواردة في فضل هذه السورة، منها حديث: 'إن سورة من القرآن ثلاثون آية شفعت لرجل حتى غفر له، وهي سورة تبارك الذي بيده الملك'. ويشرح الآيات التي تدل على قدرة الله وعظمته.`,source:"عامة كتب التفسير، تفسير ابن كثير"}]},{surahId:68,surahName:"سورة القلم",stories:[{ayahRange:"1-4",shortSummary:"نزلت في بداية البعثة ردًا على المشركين الذين اتهموا النبي صلى الله عليه وسلم بالجنون.",detailedVersion:`**التفسير المفصل:**
لما جهر النبي صلى الله عليه وسلم بالدعوة، قال كفار قريش عنه: 'إنه مجنون'. فأنزل الله تعالى هذه السورة التي تبدأ بالقسم بالقلم وما يسطره الكُتّاب، لتبرئة النبي من هذه التهمة. فقال تعالى: (ن ۚ وَالْقَلَمِ وَمَا يَسْطُرُونَ * مَا أَنتَ بِنِعْمَةِ رَبِّكَ بِمَجْنُونٍ). ثم أثنى الله على خلقه العظيم فقال: (وَإِنَّكَ لَعَلَىٰ خُلُقٍ عَظِيمٍ).

**تفسير ابن كثير:**
هذا قسم من الله تعالى بالقلم وما يسطر به من الكتابة، على براءة رسوله مما نسبه إليه المشركون من الجنون، ونفي لهذه التهمة الباطلة. وقوله (وإنك لعلى خلق عظيم) هو شهادة من الله لنبيه بكمال أخلاقه.`,source:"أسباب النزول للواحدي"}]},{surahId:69,surahName:"سورة الحاقة",stories:[{ayahRange:"1-52",shortSummary:"سورة مكية، تتناول أهوال يوم القيامة (الحاقة)، ومصير الأمم المكذبة، وتؤكد أن القرآن كلام الله وليس قول شاعر أو كاهن.",detailedVersion:`**التفسير المفصل:**
لم يرد سبب نزول معين للسورة. موضوعها الرئيسي هو القيامة، التي سميت هنا 'الحاقة' لأنها تحق فيها الأمور وتظهر الحقائق. تذكر السورة بإهلاك الأمم السابقة كثمود وعاد وفرعون وقوم لوط، ثم تصف مشاهد القيامة وانقسام الناس إلى من يأخذ كتابه بيمينه ومن يأخذ كتابه بشماله. وفي آخرها، تؤكد السورة بقوة على أن القرآن الكريم هو وحي من الله، وليس قول شاعر كما زعم المشركون، ولا قول كاهن، وتتوعد من يفتري على الله الكذب.

**تفسير ابن كثير:**
الحاقة من أسماء يوم القيامة، لأن فيها يتحقق الوعد والوعيد. يشرح ابن كثير كيف أهلك الله الأمم الطاغية، ثم يصف حال السعداء والأشقياء يوم القيامة، ويؤكد على صدق الرسالة المحمدية في ختام السورة.`,source:"عامة كتب التفسير"}]},{surahId:70,surahName:"سورة المعارج",stories:[{ayahRange:"1",shortSummary:"نزلت الآية ردًا على النضر بن الحارث الذي استعجل العذاب استهزاءً بدعوة النبي.",detailedVersion:`**التفسير المفصل:**
لما بلغ المشركين قول النبي صلى الله عليه وسلم في علي بن أبي طالب يوم غدير خم: 'من كنت مولاه فعلي مولاه'، قال النضر بن الحارث: 'اللهم إن كان هذا هو الحق من عندك فأمطر علينا حجارة من السماء أو ائتنا بعذاب أليم'. فما لبث أن سقط عليه حجر من السماء فقتله. فأنزل الله تعالى: (سَأَلَ سَائِلٌ بِعَذَابٍ وَاقِعٍ).

**تفسير ابن كثير:**
يذكر ابن كثير أن الآية تشير إلى من استعجل عذاب الله. ويقول إن العذاب سيقع حتمًا على الكافرين يوم القيامة، وليس له دافع يدفعه. السورة تصف هذا العذاب وأهواله، ثم تصف صفات المؤمنين الذين ينجون منه.`,source:"أسباب النزول للواحدي"}]},{surahId:71,surahName:"سورة نوح",stories:[{ayahRange:"1-28",shortSummary:"سورة مكية، تحكي قصة دعوة نوح عليه السلام لقومه وصبره الطويل عليهم وإصرارهم على الكفر، تسلية للنبي صلى الله عليه وسلم.",detailedVersion:`**التفسير المفصل:**
لم يرد للسورة سبب نزول خاص، بل نزلت لتحكي قصة أول رسول أُرسل إلى أهل الأرض بعد أن عبدوا الأصنام. تعرض السورة تفاصيل دعوة نوح لقومه ليلاً ونهارًا، سرًا وجهارًا، وكيف استخدم معهم كل أساليب الترغيب والترهيب. لكنهم أصروا على الكفر والعناد. وفي ذلك تسلية للنبي محمد صلى الله عليه وسلم على ما يلقاه من أذى قومه، وبيان أن سنة الله في إهلاك المكذبين وإنجاء المؤمنين واحدة.

**تفسير ابن كثير:**
هذه السورة الكريمة تتضمن قصة نوح عليه السلام من أولها إلى آخرها، وكيف صبر على قومه مدة ألف سنة إلا خمسين عامًا، وكيف أنذروهم من عذاب الله، وفي النهاية كيف أغرقهم الله بالطوفان ونجى نوحًا ومن معه من المؤمنين.`,source:"عامة كتب التفسير"}]},{surahId:72,surahName:"سورة الجن",stories:[{ayahRange:"1",shortSummary:"نزلت السورة لتخبر النبي صلى الله عليه وسلم عن استماع نفر من الجن للقرآن وإيمانهم به.",detailedVersion:`**التفسير المفصل:**
لم يكن النبي صلى الله عليه وسلم يعلم باستماع الجن للقرآن في المرة الأولى. فبينما كان يصلي بأصحابه الفجر في 'بطن نخلة'، استمع إليه نفر من الجن، فلما سمعوا القرآن، قالوا: هذا الذي حال بيننا وبين خبر السماء. فرجعوا إلى قومهم دعاة للإسلام. فأنزل الله تعالى هذه السورة: (قُلْ أُوحِيَ إِلَيَّ أَنَّهُ اسْتَمَعَ نَفَرٌ مِّنَ الْجِنِّ فَقَالُوا إِنَّا سَمِعْنَا قُرْآنًا عَجَبًا)، مخبرًا نبيه بما حدث.

**تفسير ابن كثير:**
روى البخاري ومسلم عن ابن عباس أن النبي صلى الله عليه وسلم انطلق في طائفة من أصحابه إلى سوق عكاظ، وقد حيل بين الشياطين وخبر السماء. فلما استمعوا للقرآن، عرفوا أن هذا هو سبب منعهم، فآمنوا ورجعوا إلى قومهم. فأنزل الله على نبيه خبرهم.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:73,surahName:"سورة المزمل",stories:[{ayahRange:"1-4",shortSummary:"نزلت في بداية البعثة، تأمر النبي صلى الله عليه وسلم بقيام الليل استعدادًا لتحمل أعباء الرسالة.",detailedVersion:`**التفسير المفصل:**
في بداية نزول الوحي، جاء النبي صلى الله عليه وسلم إلى بيته خائفًا يرتجف بعد لقائه الأول بجبريل في غار حراء، وقال لزوجته خديجة: 'زملوني، زملوني' (غطوني). فأنزل الله تعالى: (يَا أَيُّهَا الْمُزَّمِّلُ * قُمِ اللَّيْلَ إِلَّا قَلِيلًا)، يأمره بالقيام للصلاة في الليل، لأنها من أعظم وسائل التثبيت والقوة الروحية التي تعينه على تحمل القول الثقيل (القرآن والدعوة).

**تفسير ابن كثير:**
يأمر الله تعالى رسوله صلى الله عليه وسلم أن يترك التزمل وهو التغطي في الليل، وينهض إلى قيام الليل لمناجاة ربه، كما قال تعالى: (تتجافى جنوبهم عن المضاجع). وهكذا كان رسول الله صلى الله عليه وسلم ممتثلاً لما أمره الله به من قيام الليل.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:74,surahName:"سورة المدثر",stories:[{ayahRange:"1-3",shortSummary:"نزلت بعد فترة انقطاع الوحي (فترة الوحي)، لتأمر النبي بالقيام بالدعوة وإنذار الناس.",detailedVersion:`**التفسير المفصل:**
بعد نزول أول آيات من سورة العلق، انقطع الوحي عن النبي صلى الله عليه وسلم فترة، فحزن لذلك. ثم بينما هو يمشي، رأى جبريل عليه السلام مرة أخرى، فرجع إلى بيته خائفًا وقال: 'دثروني، دثروني' (غطوني). فأنزل الله تعالى: (يَا أَيُّهَا الْمُدَّثِّرُ * قُمْ فَأَنذِرْ * وَرَبَّكَ فَكَبِّرْ). وبهذه الآيات بدأت رسالته صلى الله عليه وسلم للناس كافة، حيث أُمر بالإنذار والدعوة إلى الله.

**تفسير ابن كثير:**
ثبت في الصحيحين عن جابر بن عبد الله أنه سمع رسول الله صلى الله عليه وسلم يحدث عن فترة الوحي، فقال في حديثه: 'فبينا أنا أمشي إذ سمعت صوتا من السماء... فإذا الملك الذي جاءني بحراء... فرجعت فقلت: دثروني'، فأنزل الله تعالى: (يا أيها المدثر * قم فأنذر).`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:75,surahName:"سورة القيامة",stories:[{ayahRange:"16-19",shortSummary:"نزلت الآيات لتعليم النبي صلى الله عليه وسلم كيفية تلقي الوحي، بعد أن كان يحرك شفتيه ولسانه بالقرآن استعجالاً لحفظه.",detailedVersion:`**التفسير المفصل:**
كان النبي صلى الله عليه وسلم إذا نزل عليه جبريل بالوحي، يعالج من تنزيله شدة، وكان يحرك شفتيه ولسانه بالقرآن بسرعة قبل أن ينتهي جبريل، خوفًا من أن ينساه. فأنزل الله تعالى هذه الآيات لتعليمه وتطمينه: (لَا تُحَرِّكْ بِهِ لِسَانَكَ لِتَعْجَلَ بِهِ * إِنَّ عَلَيْنَا جَمْعَهُ وَقُرْآنَهُ)، فوعده الله بأن يجمعه في صدره وييسر له قراءته. فكان بعد ذلك إذا أتاه جبريل، أطرق واستمع، فإذا ذهب قرأه كما وعده الله.

**تفسير ابن كثير:**
هذا تعليم من الله عز وجل لرسوله صلى الله عليه وسلم في كيفية تلقيه الوحي من الملك. روى البخاري عن ابن عباس في قوله: (لا تحرك به لسانك لتعجل به) قال: كان رسول الله صلى الله عليه وسلم يعالج من التنزيل شدة، فكان يحرك شفتيه، فقال لي ابن عباس: فأنا أحركهما لك كما كان رسول الله صلى الله عليه وسلم يحركهما. فأنزل الله هذه الآية.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:76,surahName:"سورة الإنسان",stories:[{ayahRange:"8",shortSummary:"نزلت الآية في مدح علي بن أبي طالب وفاطمة وفضة جاريتهما، حين آثروا بطعامهم مسكينًا ويتيمًا وأسيرًا لمدة ثلاثة أيام متتالية.",detailedVersion:`**التفسير المفصل:**
مرض الحسن والحسين، فنذر علي وفاطمة وفضة صيام ثلاثة أيام إن شفاهما الله. فلما شفاهما الله، صاموا. في اليوم الأول، عند الإفطار، جاءهم مسكين يسأل الطعام، فآثروه بطعامهم وباتوا جائعين. وفي اليوم الثاني، جاءهم يتيم، ففعلوا نفس الشيء. وفي اليوم الثالث، جاءهم أسير، ففعلوا نفس الشيء. فأنزل الله تعالى هذه الآيات تمجيدًا لفعلهم وإخلاصهم: (وَيُطْعِمُونَ الطَّعَامَ عَلَىٰ حُبِّهِ مِسْكِينًا وَيَتِيمًا وَأَسِيرًا).

**تفسير ابن كثير:**
يذكر ابن كثير أن هذه الآية تتحدث عن الأبرار وصفاتهم، ومنها إطعام الطعام مع حبه والحاجة إليه، للفئات الضعيفة في المجتمع. ويذكر أنهم يفعلون ذلك لوجه الله وحده، لا يطلبون جزاءً ولا شكورًا.`,source:"أسباب النزول للواحدي"}]},{surahId:77,surahName:"سورة المرسلات",stories:[{ayahRange:"1-50",shortSummary:"سورة مكية، تتناول إثبات البعث والجزاء، وتكرر آية (ويل يومئذ للمكذبين) عشر مرات لتهديد المنكرين.",detailedVersion:`**التفسير المفصل:**
لم يرد سبب نزول خاص للسورة. تبدأ بالقسم بالرياح والملائكة على وقوع يوم القيامة. ثم تستعرض أدلة القدرة الإلهية على البعث (خلق الإنسان من ماء مهين، جعل الأرض مستقرًا للأحياء والأموات، خلق الجبال الشامخة). وتصف أهوال يوم الفصل وعاقبة المكذبين. وتتكرر فيها آية (وَيْلٌ يَوْمَئِذٍ لِّلْمُكَذِّبِينَ) عشر مرات، لزيادة التهديد والوعيد لمن يكذب بهذا اليوم.

**تفسير ابن كثير:**
روى البخاري عن ابن مسعود قال: بينا نحن مع النبي صلى الله عليه وسلم في غار بمنى، إذ نزلت عليه (والمرسلات)، وإنه ليتلوها وإني لأتلقاها من فيه، وإن فاه لرطب بها، إذ وثبت علينا حية، فقال النبي: 'اقتلوها'. فابتدرناها فذهبت. فقال: 'وقيت شركم كما وقيتم شرها'.`,source:"عامة كتب التفسير، تفسير ابن كثير"}]},{surahId:78,surahName:"سورة النبأ",stories:[{ayahRange:"1-3",shortSummary:"نزلت الآيات ردًا على تساؤل المشركين فيما بينهم عن حقيقة البعث الذي أخبر به النبي صلى الله عليه وسلم.",detailedVersion:`**التفسير المفصل:**
لما بُعث النبي صلى الله عليه وسلم وأخبرهم عن التوحيد والبعث بعد الموت، جعل المشركون يتساءلون فيما بينهم عن هذا الخبر العظيم (النبأ العظيم)، فمنهم المصدق ومنهم المكذب والمستهزئ. فأنزل الله تعالى: (عَمَّ يَتَسَاءَلُونَ * عَنِ النَّبَإِ الْعَظِيمِ * الَّذِي هُمْ فِيهِ مُخْتَلِفُونَ)، ثم هددهم بقوله: (كَلَّا سَيَعْلَمُونَ).

**تفسير ابن كثير:**
يقول تعالى منكرًا على المشركين في تساؤلهم عن يوم القيامة إنكارًا لوقوعها. والنبأ العظيم هو خبر يوم القيامة. ثم ينتقل القرآن لعرض دلائل القدرة الإلهية في الكون لإثبات إمكانية البعث.`,source:"لباب النقول للسيوطي"}]},{surahId:79,surahName:"سورة النازعات",stories:[{ayahRange:"1-46",shortSummary:"سورة مكية، تؤكد حتمية وقوع القيامة، وتذكر قصة موسى مع فرعون كعبرة للمكذبين.",detailedVersion:`**التفسير المفصل:**
لم يرد سبب نزول خاص للسورة. تبدأ بالقسم بالملائكة التي تنزع أرواح الكفار بشدة، والتي تقبض أرواح المؤمنين برفق، على أن القيامة ستقع. وتصف أهوالها ورجفة القلوب يومئذ. ثم تسوق قصة موسى عليه السلام مع فرعون الطاغية، لتكون إنذارًا لمشركي مكة بأن عاقبة التكذيب هي الهلاك. ثم تعود للفت أنظارهم إلى عظمة خلق السماء والأرض كدليل على قدرة الله على البعث، وتختم ببيان أن علم الساعة عند الله وحده.

**تفسير ابن كثير:**
يقسم تعالى بالملائكة حين تنزع أرواح بني آدم. فالنازعات غرقًا هي الملائكة التي تنزع أرواح الكفار بعنف، والناشطات نشطًا هي التي تقبض أرواح المؤمنين بسهولة ويسر. وجواب القسم محذوف تقديره: لتبعثن.`,source:"عامة كتب التفسير"}]},{surahId:80,surahName:"سورة عبس",stories:[{ayahRange:"1-10",shortSummary:"نزلت هذه الآيات عتابًا لطيفًا للنبي صلى الله عليه وسلم عندما أعرض عن الصحابي الأعمى عبد الله بن أم مكتوم، لانشغاله بدعوة كبار قريش.",detailedVersion:`**التفسير المفصل:**
كان النبي صلى الله عليه وسلم منشغلًا بدعوة بعض وجهاء قريش وسادتها، طمعًا في إسلامهم. وفي هذه الأثناء، جاءه الصحابي الأعمى عبد الله بن أم مكتوم رضي الله عنه يسأله ويريد أن يتعلم من القرآن، وألح في سؤاله. فعبس النبي في وجهه وأعرض عنه. فأنزل الله تعالى هذه الآيات: (عَبَسَ وَتَوَلَّىٰ * أَن جَاءَهُ الْأَعْمَىٰ...)، معاتبًا نبيه وموجهًا إياه إلى أن الأعمى الفقير الحريص على الهداية خير وأولى بالاهتمام من الغني المستكبر. فكان النبي بعد ذلك يكرم ابن أم مكتوم ويقول له: 'أهلاً بمن عاتبني فيه ربي'.

**تفسير ابن كثير:**
ذكر غير واحد من المفسرين أن رسول الله صلى الله عليه وسلم كان يومًا يخاطب بعض عظماء قريش، وقد طمع في إسلامه، فبينما هو في ذلك أقبل ابن أم مكتوم، وكان ممن أسلم قديمًا، فجعل يسأل رسول الله صلى الله عليه وسلم عن شيء ويلح عليه، فكره رسول الله صلى الله عليه وسلم ذلك وعبس في وجهه، فأنزل الله هذه الآيات.`,source:"لباب النقول للسيوطي، تفسير ابن كثير"}]},{surahId:81,surahName:"سورة التكوير",stories:[{ayahRange:"1-29",shortSummary:"سورة مكية، تصف الأهوال العظيمة التي تحدث للكون يوم القيامة، وتؤكد صدق الوحي.",detailedVersion:`**التفسير المفصل:**
لم يرد سبب نزول خاص للسورة. هي من السور التي تصور مشاهد يوم القيامة بأسلوب مؤثر. تبدأ بوصف التغيرات الكونية الهائلة: تكوير الشمس، انكدار النجوم، تسيير الجبال، تعطيل الإبل، حشر الوحوش، تسجير البحار. ثم تنتقل إلى أحوال الناس، حيث تُسأل الموءودة بأي ذنب قتلت، وتُنشر الصحف، وتُكشف الحقائق. وقد قال النبي صلى الله عليه وسلم: 'من سره أن ينظر إلى يوم القيامة كأنه رأي عين فليقرأ (إذا الشمس كورت) و (إذا السماء انفطرت) و (إذا السماء انشقت)'.

**تفسير ابن كثير:**
روى الإمام أحمد عن ابن عمر قال: قال رسول الله صلى الله عليه وسلم: 'من سره أن ينظر إلى يوم القيامة...' الحديث. و(كورت) أي جمع بعضها إلى بعض ثم لفت فرمي بها، وإذا فعل بها ذلك ذهب ضوؤها.`,source:"عامة كتب التفسير، تفسير ابن كثير"}]},{surahId:82,surahName:"سورة الإنفطار",stories:[{ayahRange:"1-19",shortSummary:"سورة مكية، تصف أهوال القيامة وتخاطب الإنسان الغافل الذي غره كرم ربه.",detailedVersion:`**التفسير المفصل:**
كسابقتها، لم يرد سبب نزول خاص للسورة. هي جزء من مجموعة السور التي تصف القيامة بأسلوب يهز القلوب. تبدأ بوصف انفطار السماء وانتثار الكواكب وتفجير البحار وبعثرة القبور. ثم توجه خطابًا مباشرًا للإنسان: (يَا أَيُّهَا الْإِنسَانُ مَا غَرَّكَ بِرَبِّكَ الْكَرِيمِ)، توبيخًا له على غفلته وتقصيره في حق من خلقه وسواه وعدله. وتؤكد السورة على وجود ملائكة كرام كاتبين يسجلون كل الأعمال، وأن مصير الناس إما إلى نعيم أو إلى جحيم.

**تفسير ابن كثير:**
يقول تعالى: (إذا السماء انفطرت) أي انشقت، (وإذا الكواكب انتثرت) أي تساقطت، (وإذا البحار فجرت) أي فتح بعضها في بعض فصارت بحرًا واحدًا. وقوله (يا أيها الإنسان ما غرك بربك الكريم) هذا تهديد، لا كما يتوهمه بعض الناس من أنه تلقين للحجة، بل المعنى: ما الذي غرك في مقابلة ربك الكريم بالمعاصي والتقصير؟`,source:"عامة كتب التفسير"}]},{surahId:83,surahName:"سورة المطففين",stories:[{ayahRange:"1-3",shortSummary:"نزلت في أهل المدينة عند قدوم النبي صلى الله عليه وسلم، حيث كانوا من أخبث الناس كيلاً، فنزلت السورة لتهديد من يطفف في الميزان.",detailedVersion:`**التفسير المفصل:**
قال ابن عباس: لما قدم النبي صلى الله عليه وسلم المدينة، كانوا من أخبث الناس كيلاً، فأنزل الله تعالى: (وَيْلٌ لِّلْمُطَفِّفِينَ). فصاروا بعد ذلك من أوفى الناس كيلاً. والتطفيف هو البخس في المكيال والميزان، بأن يأخذ حقه وافيًا عند الشراء، وينقص حق غيره عند البيع. فتوعدهم الله بالويل، وهو واد في جهنم أو الهلاك الشديد، وذكرهم بالوقوف بين يدي الله يوم القيامة.

**تفسير ابن كثير:**
المراد بالتطفيف هنا البخس في المكيال والميزان، إما بالازدياد إن اقتضى من الناس، وإما بالنقصان إن قضاهم. ولهذا بين تعالى أن المطففين هم الذين إذا اكتالوا على الناس يستوفون، أي يأخذون حقهم بالوافي والزائد، وإذا كالوهم أو وزنوهم يخسرون، أي ينقصون.`,source:"أسباب النزول للسيوطي، تفسير ابن كثير"}]},{surahId:84,surahName:"سورة الإنشقاق",stories:[{ayahRange:"1-25",shortSummary:"سورة مكية، تصف انشقاق السماء يوم القيامة، وانقسام الناس إلى فريقين حسب كتاب أعمالهم.",detailedVersion:`**التفسير المفصل:**
ليس للسورة سبب نزول محدد، وهي تواصل الحديث عن أهوال يوم القيامة. تبدأ بوصف انشقاق السماء ومد الأرض، وإلقائها ما في بطنها من الأموات والكنوز. ثم تبين حال الإنسان ومصيره المحتوم لملاقاة ربه، وكيف ينقسم الناس إلى فريقين: من يؤتى كتابه بيمينه فيحاسب حسابًا يسيرًا ويعود لأهله مسرورًا، ومن يؤتى كتابه وراء ظهره فيدعو بالهلاك ويصلى سعيرًا.

**تفسير ابن كثير:**
يقول تعالى (إذا السماء انشقت) أي يوم القيامة، (وأذنت لربها وحقت) أي استمعت لأمر ربها وأطاعت، وحق لها أن تطيع أمره. وقوله (يا أيها الإنسان إنك كادح إلى ربك كدحا فملاقيه) أي ساع إلى ربك سعيا وعامل عملا، ثم ستلاقي ما عملت من خير أو شر.`,source:"عامة كتب التفسير"}]},{surahId:85,surahName:"سورة البروج",stories:[{ayahRange:"1-10",shortSummary:"نزلت السورة تحكي قصة أصحاب الأخدود، وهم قوم مؤمنون أحرقهم ملك كافر في خنادق من النار لثباتهم على دينهم، تسلية للمسلمين في مكة.",detailedVersion:`**التفسير المفصل:**
كان المسلمون في مكة يعانون من اضطهاد شديد من قريش. فأنزل الله هذه السورة تسلية لهم وتثبيتًا، حيث قص عليهم قصة أصحاب الأخدود. وهم قوم آمنوا بالله في زمن ملك كافر، فأمر الملك بحفر خنادق (أخاديد) وإضرام النار فيها، ثم ألقى فيها كل من رفض الرجوع عن دينه. فصبروا وثبتوا حتى الموت. وفي هذا بيان أن الابتلاء سنة في طريق الإيمان، وتهديد للكفار بأن عذاب الله أشد.

**تفسير ابن كثير:**
(قتل أصحاب الأخدود) أي لعن أصحاب الأخدود. ويذكر الحديث الطويل في قصة الغلام المؤمن والملك الساحر، وكيف آمن الناس بسبب كرامات الغلام، فأمر الملك بحفر الأخدود وإحراق من آمن.`,source:"لباب النقول للسيوطي، تفسير ابن كثير"}]},{surahId:86,surahName:"سورة الطارق",stories:[{ayahRange:"1-17",shortSummary:"سورة مكية، تؤكد أن كل نفس عليها حافظ من الملائكة، وتقيم الدليل على البعث من خلال خلق الإنسان.",detailedVersion:`**التفسير المفصل:**
لم يرد سبب نزول خاص للسورة. تبدأ بالقسم بالسماء وبالنجم الثاقب (الطارق) على أن كل نفس عليها حافظ يسجل أعمالها. ثم تلفت نظر الإنسان إلى أصل خلقته (من ماء دافق يخرج من بين الصلب والترائب) كدليل على أن الذي خلقه أول مرة قادر على إعادته يوم القيامة، يوم تُكشف السرائر. وتختم السورة بالتأكيد على أن القرآن قول فصل وليس بالهزل، وتأمر النبي بإمهال الكافرين لوقت قصير حتى يأتيهم عذاب الله.

**تفسير ابن كثير:**
يقسم تعالى بالسماء وما جعل فيها من الكواكب النيرة، ولهذا قال (والسماء والطارق). ثم فسره بقوله (النجم الثاقب). وقوله (إن كل نفس لما عليها حافظ) أي كل إنسان موكل به من يحفظه ويحرسه من الآفات ويكتب عمله.`,source:"عامة كتب التفسير"}]},{surahId:87,surahName:"سورة الأعلى",stories:[{ayahRange:"1-19",shortSummary:"سورة مكية، كان النبي يحبها ويقرأ بها في الجمعة والعيدين والوتر، وليس لها سبب نزول معين.",detailedVersion:`**التفسير المفصل:**
لم يرد سبب نزول خاص للسورة. هي سورة يحبها النبي صلى الله عليه وسلم ويحث على قراءتها. تبدأ بأمر بتسبيح الله الأعلى، ثم تذكر بعض صفاته وأفعاله: الخلق والتسوية، والتقدير والهداية، وإنبات المرعى. ثم تطمئن النبي بأن الله سيقرئه القرآن فلا ينسى إلا ما شاء الله. وتختم السورة ببيان أن الفلاح لمن تزكى وذكر اسم ربه فصلى، وأن هذا المبدأ موجود في الصحف الأولى، صحف إبراهيم وموسى.

**تفسير ابن كثير:**
ثبت في الصحيحين أن رسول الله صلى الله عليه وسلم كان يقرأ في صلاة العيدين والجمعة بسورة الأعلى والغاشية. وهي تبدأ بتنزيه الله عن النقائص، وتثبت له صفات الكمال.`,source:"عامة كتب التفسير، تفسير ابن كثير"}]},{surahId:88,surahName:"سورة الغاشية",stories:[{ayahRange:"1-26",shortSummary:"سورة مكية، تصف أهوال يوم القيامة (الغاشية) وأحوال أهل النار وأهل الجنة.",detailedVersion:`**التفسير المفصل:**
لا يوجد سبب نزول خاص بالسورة. هي تتحدث عن القيامة التي تغشى الناس بأهوالها. تصف حال أهل النار ووجوههم الخاشعة الذليلة، وعذابهم من طعام الضريع والماء الحميم. ثم تنتقل لوصف حال أهل الجنة ووجوههم الناعمة الراضية، ونعيمهم في الجنة العالية التي لا يُسمع فيها لغو. ثم توجه الخطاب إلى النبي ليلفت نظر الناس إلى دلائل القدرة في خلق الإبل والسماء والجبال والأرض، وتؤكد أن مهمة النبي هي التذكير فقط، وأن حساب الناس على الله.

**تفسير ابن كثير:**
الغاشية من أسماء يوم القيامة. قال ابن عباس: تغشى الناس. السورة تصف هذا اليوم بالتفصيل، وقد كان النبي يقرأ بها مع سورة الأعلى في صلاة العيدين والجمعة.`,source:"عامة كتب التفسير"}]},{surahId:89,surahName:"سورة الفجر",stories:[{ayahRange:"1-30",shortSummary:"سورة مكية، تقسم بأوقات مباركة على أن الله يراقب أعمال العباد، وتذكر بمصير الأمم الطاغية.",detailedVersion:`**التفسير المفصل:**
لم يرد سبب نزول خاص للسورة. تبدأ بالقسم بأوقات عظيمة كالفجر والليالي العشر (قيل هي العشر من ذي الحجة) على أن الله لبالمرصاد، أي يراقب أعمال العباد ويجازيهم عليها. ثم تذكر بقصص أمم قوية أهلكها الله بسبب طغيانها كعاد وثمود وقوم فرعون. ثم تذم طبيعة الإنسان في حبه الشديد للمال وعدم إكرامه لليتيم. وتختم بوصف أهوال يوم القيامة، وندم الإنسان على تفريطه، ثم تبشر النفس المطمئنة بالعودة إلى ربها راضية مرضية ودخولها في جنته.

**تفسير ابن كثير:**
يذكر ابن كثير الأقوال في تفسير المقسم به، ويرجح أن الليالي العشر هي عشر ذي الحجة. وقوله (إن ربك لبالمرصاد) أي يراقب خلقه فيما يعملون ويجازي كلا بسعيه في الدنيا والآخرة.`,source:"عامة كتب التفسير"}]},{surahId:90,surahName:"سورة البلد",stories:[{ayahRange:"1-20",shortSummary:"سورة مكية، تقسم بمكة على أن الإنسان خلق في تعب ومشقة، وتحثه على اقتحام العقبات الصعبة بفعل الخير.",detailedVersion:`**التفسير المفصل:**
لا يوجد سبب نزول خاص للسورة. تبدأ بقسم بمكة المكرمة (هذا البلد) على حقيقة أن حياة الإنسان مليئة بالكبد والمشقة منذ ولادته حتى موته. ثم توبخ الإنسان الذي يغتر بقوته وماله. ثم تبين له طريق الخير (اقتحام العقبة)، وتفسر هذه العقبة بأنها فك رقبة (تحرير عبد) أو إطعام في يوم مجاعة ليتيم أو مسكين. وتصف من يفعل ذلك بأنهم أصحاب الميمنة، ومن يكفر بآيات الله بأنهم أصحاب المشأمة.

**تفسير ابن كثير:**
(لا أقسم بهذا البلد) يعني مكة. (وأنت حل بهذا البلد) أي وأنت يا محمد مقيم به. (لقد خلقنا الإنسان في كبد) أي في مشقة ونصب. ثم تحثه الآيات على إنفاق ماله في طاعة الله.`,source:"عامة كتب التفسير"}]},{surahId:91,surahName:"سورة الشمس",stories:[{ayahRange:"1-15",shortSummary:"سورة مكية، تقسم بآيات كونية عظيمة على أن فلاح الإنسان في تزكية نفسه وخيبته في تدنيسها، وتذكر قصة ثمود كنموذج.",detailedVersion:`**التفسير المفصل:**
لم يرد سبب نزول خاص للسورة. تبدأ السورة بأطول قسم في القرآن، حيث يقسم الله بسبعة أشياء من مخلوقاته العظيمة (الشمس، القمر، النهار، الليل، السماء، الأرض، النفس البشرية) على قضية واحدة محورية، وهي: (قَدْ أَفْلَحَ مَن زَكَّاهَا * وَقَدْ خَابَ مَن دَسَّاهَا). أي أن الفلاح والنجاح لمن يطهر نفسه بالطاعة، والخسارة والخيبة لمن يدنسها بالمعصية. ثم تضرب السورة مثلاً على ذلك بقوم ثمود الذين طغوا وكذبوا نبيهم صالحًا وعقروا الناقة، فكانت عاقبتهم الهلاك الشامل.

**تفسير ابن كثير:**
هذا قسم من الله تعالى بمخلوقاته الدالة على قدرته العظيمة، على أن من زكى نفسه بطاعة الله فقد أفلح، ومن دساها في المعاصي فقد خاب وخسر.`,source:"عامة كتب التفسير"}]},{surahId:92,surahName:"سورة الليل",stories:[{ayahRange:"1-21",shortSummary:"نزلت الآيات الأولى في أبي بكر الصديق الذي كان يشتري العبيد الضعفاء ويعتقهم، وفي أمية بن خلف الذي كان بخيلاً.",detailedVersion:`**التفسير المفصل:**
نزلت الآيات الأولى من السورة للثناء على من ينفق ماله في سبيل الله ابتغاء وجهه، وذم من يبخل به. قال المفسرون إن قوله تعالى: (فَأَمَّا مَنْ أَعْطَىٰ وَاتَّقَىٰ) إلى قوله (فَسَنُيَسِّرُهُ لِلْيُسْرَىٰ) نزلت في أبي بكر الصديق الذي أنفق ماله في شراء العبيد المؤمنين كبلال بن رباح وأعتقهم. أما قوله تعالى: (وَأَمَّا مَن بَخِلَ وَاسْتَغْنَىٰ) إلى قوله (فَسَنُيَسِّرُهُ لِلْعُسْرَىٰ) فنزلت في أمية بن خلف وغيره من بخلاء المشركين.

**تفسير ابن كثير:**
يقسم تعالى بالليل والنهار وخلقه للذكر والأنثى، على أن سعي الناس مختلف. فمنهم من يسعى في الخير ومنهم من يسعى في الشر. ثم يفصل جزاء كل فريق. وذكر كثير من المفسرين أن الآيات المتعلقة بالإنفاق نزلت في أبي بكر وأمية بن خلف.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:93,surahName:"سورة الضحى",stories:[{ayahRange:"1-3",shortSummary:"نزلت السورة بعد فترة من انقطاع الوحي عن النبي، وبعد أن قالت قريش إن ربه قد تركه وكرهه.",detailedVersion:`**التفسير المفصل:**
احتبس الوحي (جبريل) عن النزول على النبي صلى الله عليه وسلم فترة، فشق ذلك عليه وحزن. فقال المشركون، وقيل امرأة أبي لهب: 'ما أرى صاحبك إلا قد قلاك' (أي أبغضك وتركك). فأنزل الله تعالى سورة الضحى كاملة، يقسم فيها بالضحى والليل على أنه ما تركه وما أبغضه: (مَا وَدَّعَكَ رَبُّكَ وَمَا قَلَىٰ). ثم بشره بأن الآخرة خير له من الدنيا، وأنه سيعطيه حتى يرضى، وذكره بنعمه عليه في يتمه وضلاله وفقره.

**تفسير ابن كثير:**
روى البخاري ومسلم عن جندب بن سفيان قال: اشتكى رسول الله صلى الله عليه وسلم فلم يقم ليلتين أو ثلاثًا، فجاءت امرأة فقالت: يا محمد، إني لأرجو أن يكون شيطانك قد تركك. فأنزل الله عز وجل: (والضحى * والليل إذا سجى * ما ودعك ربك وما قلى).`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:94,surahName:"سورة الشرح",stories:[{ayahRange:"1-8",shortSummary:"سورة مكية، نزلت لتسلية النبي صلى الله عليه وسلم وتذكيره بنعم الله عليه، وتأكيد أن مع العسر يسرًا.",detailedVersion:`**التفسير المفصل:**
لم يرد سبب نزول خاص بالسورة، ويعتقد كثير من المفسرين أنها نزلت بعد سورة الضحى مباشرة استكمالاً لتسلية النبي صلى الله عليه وسلم وتطييب خاطره. السورة تعدد نعم الله على نبيه: شرح الصدر، ووضع الوزر (تخفيف أعباء الرسالة)، ورفع الذكر (حيث يذكر اسمه مع اسم الله في الشهادتين والأذان). ثم تبشره بقاعدة عظيمة وهي أن كل عسر يتبعه يسر، وتكررها للتأكيد. وتختم بتوجيهه إلى الاجتهاد في العبادة بعد الفراغ من أمور الدعوة، وإلى الرغبة فيما عند الله وحده.

**تفسير ابن كثير:**
يقول تعالى: (ألم نشرح لك صدرك) أي أما شرحنا لك صدرك، يعني نورناه وجعلناه فسيحًا رحيبًا واسعًا. (ووضعنا عنك وزرك) أي غفرنا لك ما تقدم من ذنبك وما تأخر. (ورفعنا لك ذكرك) قال مجاهد: لا أُذكر إلا ذُكرت معي: أشهد أن لا إله إلا الله، وأشهد أن محمدًا رسول الله.`,source:"عامة كتب التفسير"}]},{surahId:95,surahName:"سورة التين",stories:[{ayahRange:"1-8",shortSummary:"سورة مكية، تقسم بأماكن مقدسة على أن الله خلق الإنسان في أحسن صورة، ثم يرد إلى أسفل سافلين إلا المؤمنين.",detailedVersion:`**التفسير المفصل:**
لا يوجد سبب نزول خاص للسورة. تبدأ بالقسم بالتين والزيتون (قيل هما الثمرتان، وقيل إشارة إلى أرض الشام حيث بعث عيسى)، وبطور سينين (الجبل الذي كلم الله عليه موسى)، وبهذا البلد الأمين (مكة المكرمة حيث بعث محمد). وجواب القسم هو: (لَقَدْ خَلَقْنَا الْإِنسَانَ فِي أَحْسَنِ تَقْوِيمٍ)، أي في أجمل صورة وشكل. ثم يرد إلى أرذل العمر أو إلى النار إن لم يؤمن، ويستثني من ذلك الذين آمنوا وعملوا الصالحات فلهم أجر غير مقطوع. وتختم بسؤال تقريري: (أَلَيْسَ اللَّهُ بِأَحْكَمِ الْحَاكِمِينَ؟).

**تفسير ابن كثير:**
قال بعض الأئمة: هذه محال ثلاثة، بعث الله في كل واحد منها نبيًا مرسلاً من أولي العزم أصحاب الشرائع الكبار. فالأول: محلة التين والزيتون، وهي بيت المقدس التي بعث الله فيها عيسى ابن مريم. والثاني: طور سينين، وهو طور سيناء الذي كلم الله عليه موسى. والثالث: مكة، وهو البلد الأمين الذي من دخله كان آمنًا، وهو الذي أرسل فيه محمدًا صلى الله عليه وسلم.`,source:"عامة كتب التفسير، تفسير ابن كثير"}]},{surahId:96,surahName:"سورة العلق",stories:[{ayahRange:"1-5",shortSummary:"هذه الآيات هي أول ما نزل من القرآن الكريم على الإطلاق، نزلت على النبي وهو يتعبد في غار حراء.",detailedVersion:`**التفسير المفصل:**
كان النبي صلى الله عليه وسلم يخلو بنفسه في غار حراء يتعبد ويتفكر. فجاءه الملك جبريل عليه السلام وقال له: 'اقرأ'. قال النبي: 'ما أنا بقارئ'. فأخذه جبريل فضمه ضمة شديدة ثم أرسله وقال: 'اقرأ'. قال: 'ما أنا بقارئ'. فضمه الثانية ثم الثالثة ثم قال: (اقْرَأْ بِاسْمِ رَبِّكَ الَّذِي خَلَقَ * خَلَقَ الْإِنسَانَ مِنْ عَلَقٍ * اقْرَأْ وَرَبُّكَ الْأَكْرَمُ * الَّذِي عَلَّمَ بِالْقَلَمِ * عَلَّمَ الْإِنسَانَ مَا لَمْ يَعْلَمْ). فرجع بها النبي إلى زوجته خديجة يرتجف فؤاده، فكانت هذه بداية نبوته ورسالته.

**تفسير ابن كثير:**
أول شيء نزل من القرآن هذه الآيات الكريمات المباركات، وهن أول رحمة رحم الله بها العباد، وأول نعمة أنعم الله بها عليهم. وفيها التنبيه على ابتداء خلق الإنسان من علقة، وأن من كرمه تعالى أن علم الإنسان ما لم يكن يعلم.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:97,surahName:"سورة القدر",stories:[{ayahRange:"1-5",shortSummary:"نزلت السورة لبيان فضل ليلة القدر، وأنها خير من ألف شهر، وأن القرآن نزل فيها.",detailedVersion:`**التفسير المفصل:**
اختلف في سبب نزولها. قيل إن النبي صلى الله عليه وسلم ذكر رجلاً من بني إسرائيل لبس السلاح في سبيل الله ألف شهر، فتعجب المسلمون من ذلك، فأنزل الله: (إِنَّا أَنزَلْنَاهُ فِي لَيْلَةِ الْقَدْرِ * وَمَا أَدْرَاكَ مَا لَيْلَةُ الْقَدْرِ * لَيْلَةُ الْقَدْرِ خَيْرٌ مِّنْ أَلْفِ شَهْرٍ)، أي أن العمل في هذه الليلة الواحدة أفضل من عبادة ألف شهر ليس فيها ليلة القدر. وقيل نزلت ابتداءً لبيان عظمة هذه الليلة التي بدأ فيها نزول القرآن.

**تفسير ابن كثير:**
يخبر تعالى أنه أنزل القرآن ليلة القدر، وهي ليلة مباركة. وفضلها عظيم، فالعبادة فيها خير من عبادة ألف شهر. وتتنزل الملائكة فيها بكثرة، وهي سلام حتى مطلع الفجر.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:98,surahName:"سورة البينة",stories:[{ayahRange:"1-8",shortSummary:"سورة مدنية، تتحدث عن موقف أهل الكتاب والمشركين من بعثة النبي، وبيان جزاء كل فريق.",detailedVersion:`**التفسير المفصل:**
لم يرد سبب نزول خاص بالسورة. هي تتحدث عن حال أهل الكتاب (اليهود والنصارى) والمشركين قبل بعثة النبي، وأنهم كانوا ينتظرون نبيًا، لكن لما جاءهم محمد صلى الله عليه وسلم بالبينة الواضحة (القرآن)، تفرقوا واختلفوا، فمنهم من آمن ومنهم من كفر. ثم تبين السورة أن جوهر دعوة جميع الأنبياء هو إخلاص العبادة لله وإقامة الصلاة وإيتاء الزكاة. وتختم ببيان مصير الفريقين: الكفار في نار جهنم وهم شر الخليقة، والمؤمنون في جنات عدن وهم خير الخليقة.

**تفسير ابن كثير:**
يخبر تعالى عن الكفار من أهل الكتاب والمشركين أنهم كانوا على ضلالهم حتى جاءهم الرسول محمد صلى الله عليه وسلم يتلو صحفًا مطهرة، وهي القرآن العظيم. ثم يبين جزاء كل فريق في الآخرة.`,source:"عامة كتب التفسير"}]},{surahId:99,surahName:"سورة الزلزلة",stories:[{ayahRange:"1-8",shortSummary:"سورة مدنية، تصف زلزال يوم القيامة العظيم، وتؤكد أن كل إنسان سيرى عمله مهما كان صغيرًا.",detailedVersion:`**التفسير المفصل:**
لا يوجد سبب نزول خاص بالسورة. هي تصف أحد أهوال يوم القيامة الكبرى، وهو زلزال الأرض العنيف الذي تخرج به ما في بطنها من أموات وكنوز. ويتساءل الإنسان في ذهول: ما لها؟ في ذلك اليوم، تخبر الأرض بكل ما عُمل عليها من خير وشر. ثم يصدر الناس من قبورهم ليروا أعمالهم. وتختم السورة بقاعدة الجزاء الدقيقة: (فَمَن يَعْمَلْ مِثْقَالَ ذَرَّةٍ خَيْرًا يَرَهُ * وَمَن يَعْمَلْ مِثْقَالَ ذَرَّةٍ شَرًّا يَرَهُ). قيل إنها نزلت لأن الصحابة كانوا يتساهلون في القليل من الخير أو الشر، فنزلت لتبين أن كل شيء مسجل.

**تفسير ابن كثير:**
روى الإمام أحمد أن هذه السورة تعدل نصف القرآن. وقوله (فمن يعمل مثقال ذرة خيرا يره ومن يعمل مثقال ذرة شرا يره) قال ابن عباس: ليس من مؤمن ولا كافر عمل خيرًا أو شرًا في الدنيا إلا يراه يوم القيامة.`,source:"عامة كتب التفسير، تفسير ابن كثير"}]},{surahId:100,surahName:"سورة العاديات",stories:[{ayahRange:"1-11",shortSummary:"سورة مكية، تقسم بالخيل المجاهدة على أن الإنسان كنود (جاحد) لربه، وحريص على المال، وتذكره بالبعث والحساب.",detailedVersion:`**التفسير المفصل:**
لا يوجد سبب نزول خاص. السورة تبدأ بقسم مثير بصوت أنفاس الخيل وحوافرها وهي تعدو في ساحة المعركة، إشارة إلى شرف الجهاد. وجواب القسم هو: (إِنَّ الْإِنسَانَ لِرَبِّهِ لَكَنُودٌ)، أي لجحود لنعم ربه. والدليل على ذلك حبه الشديد للمال (الخير). ثم تذكره السورة باليوم الذي تُبعثر فيه القبور وتُكشف فيه أسرار الصدور، ليجازي الله كل نفس بما كسبت.

**تفسير ابن كثير:**
يقسم تعالى بالخيل إذا أجريت في سبيله فعدت وضبحت، وهو الصوت الذي يسمع من الفرس حين تعدو. (إن الإنسان لربه لكنود) قال ابن عباس: أي لكفور. (وإنه لحب الخير لشديد) أي وإنه لحب المال لشديد.`,source:"عامة كتب التفسير"}]},{surahId:101,surahName:"سورة القارعة",stories:[{ayahRange:"1-11",shortSummary:"سورة مكية، تصف أهوال يوم القيامة (القارعة) وكيف توزن أعمال الناس.",detailedVersion:`**التفسير المفصل:**
لا يوجد سبب نزول خاص. القارعة اسم من أسماء يوم القيامة، لأنها تقرع القلوب بأهوالها. تبدأ السورة بسؤال للتهويل والتعظيم. ثم تصف حال الناس في ذلك اليوم بأنهم كالفراش المنتشر، وحال الجبال بأنها كالصوف المتطاير. ثم تبين أساس النجاة أو الهلاك، وهو ميزان الأعمال. فمن ثقلت موازينه بالحسنات فهو في عيشة راضية في الجنة، ومن خفت موازينه فطريقه إلى الهاوية (النار).

**تفسير ابن كثير:**
القارعة من أسماء يوم القيامة، كالحاقة والطامة والصاخة والغاشية وغير ذلك. ثم فسر ذلك بقوله (يوم يكون الناس كالفراش المبثوث) أي في انتشارهم وتفرقهم وذهابهم ومجيئهم من حيرتهم مما هم فيه كأنهم فراش منتشر.`,source:"عامة كتب التفسير"}]},{surahId:102,surahName:"سورة التكاثر",stories:[{ayahRange:"1-8",shortSummary:"نزلت في قبيلتين من الأنصار تفاخرتا بالكثرة في العدد والمال، حتى ذهبوا إلى المقابر ليعدوا موتاهم.",detailedVersion:`**التفسير المفصل:**
نزلت السورة في قبيلتي بني حارثة وبني الحارث من الأنصار، تفاخرتا وتكاثرتا، فقالت إحداهما: فيكم مثل فلان وفلان؟ وقالت الأخرى مثل ذلك. تفاخروا بالأحياء، ثم قالوا: انطلقوا بنا إلى القبور. فجعلت إحدى الطائفتين تقول: فيكم مثل فلان؟ تشير إلى القبر، وفعلت الأخرى مثل ذلك. فأنزل الله تعالى: (أَلْهَاكُمُ التَّكَاثُرُ * حَتَّىٰ زُرْتُمُ الْمَقَابِرَ)، تذمهم على انشغالهم بالدنيا والتفاخر بها حتى أتاهم الموت.

**تفسير ابن كثير:**
يقول تعالى: شغلكم حب الدنيا ونعيمها وزهرتها عن طلب الآخرة وابتغائها، وتمادى بكم ذلك حتى جاءكم الموت وزرتم المقابر، وصرتم من أهلها. ثم يهددهم بأنهم سيعلمون عاقبة فعلهم، وأنهم سيسألون يوم القيامة عن كل نعيم تمتعوا به.`,source:"أسباب النزول للواحدي"}]},{surahId:103,surahName:"سورة العصر",stories:[{ayahRange:"1-3",shortSummary:"سورة مكية، تقسم بالعصر على أن كل إنسان في خسران إلا من اتصف بأربع صفات: الإيمان، والعمل الصالح، والتواصي بالحق، والتواصي بالصبر.",detailedVersion:`**التفسير المفصل:**
لا يوجد سبب نزول خاص. هي من أوجز سور القرآن وأجمعها لسبل النجاة. يقسم الله تعالى بالزمن (العصر) على أن جنس الإنسان كله في خسارة وهلاك، إلا من استثناهم الله وهم الذين جمعوا أربعة أمور: 1- الإيمان بالله. 2- العمل الصالح. 3- التواصي بالحق (الدعوة إلى الله). 4- التواصي بالصبر (على الطاعة وعن المعصية وعلى أقدار الله). قال الإمام الشافعي: 'لو ما أنزل الله حجة على خلقه إلا هذه السورة لكفتهم'.

**تفسير ابن كثير:**
العصر هو الزمان الذي يقع فيه حركات بني آدم من خير وشر. والمقسم عليه هو أن الإنسان لفي خسر وهلاك. ثم استثنى من جنس الإنسان عن الخسران الذين آمنوا بقلوبهم، وعملوا الصالحات بجوارحهم، وتواصوا بالحق وهو أداء الطاعات وترك المحرمات، وتواصوا بالصبر على المصائب والأقدار وأذى من يؤذيهم.`,source:"عامة كتب التفسير"}]},{surahId:104,surahName:"سورة الهمزة",stories:[{ayahRange:"1",shortSummary:"نزلت في بعض زعماء المشركين كالأخنس بن شريق أو أمية بن خلف، الذين كانوا يغتابون النبي والمسلمين ويسخرون منهم.",detailedVersion:`**التفسير المفصل:**
نزلت السورة فيمن كان يغتاب الناس ويلمزهم ويسخر منهم. قيل إنها نزلت في الأخنس بن شريق الذي كان يهمز النبي صلى الله عليه وسلم ويلمزه في وجهه. وقيل نزلت في أمية بن خلف الذي كان يفعل ذلك. وقيل نزلت في الوليد بن المغيرة. والآية عامة في كل من اتصف بهذه الصفات الذميمة: الهمز (الغيبة في الخلف)، واللمز (الطعن في الوجه)، وجمع المال وتعديده، ظنًا منه أنه سيخلده. ثم تتوعده السورة بالنار (الحطمة).

**تفسير ابن كثير:**
(ويل لكل همزة لمزة) الهمزة بالفعل واللمزة بالقول. قال ابن عباس: همزة لمزة طعان معياب. (الذي جمع مالا وعدده) أي جمعه وكثر منه وأحصاه، وألهاه ذلك عن ذكر الله. (يحسب أن ماله أخلده) أي يظن أن جمعه للمال سيخلده في هذه الدار.`,source:"أسباب النزول للواحدي، لباب النقول للسيوطي"}]},{surahId:105,surahName:"سورة الفيل",stories:[{ayahRange:"1-5",shortSummary:"سورة مكية، تذكر قصة أصحاب الفيل (جيش أبرهة الحبشي) الذين أرادوا هدم الكعبة، وكيف أهلكهم الله بطير أبابيل.",detailedVersion:`**التفسير المفصل:**
لا يوجد سبب نزول متعلق بالنبي، بل هي تذكير بحادثة عظيمة وقعت في عام مولده صلى الله عليه وسلم، وهي من إرهاصات نبوته. أبرهة الحبشي، حاكم اليمن، بنى كنيسة عظيمة ليصرف العرب عن الحج إلى الكعبة. فلما لم يستجب له أحد، جهز جيشًا ضخمًا ومعه فيل عظيم لهدم الكعبة. فلما وصلوا إلى مشارف مكة، برك الفيل ورفض التقدم نحو الكعبة. فأرسل الله عليهم طيورًا صغيرة (أبابيل) تحمل في مناقيرها وأرجلها حجارة صغيرة من طين محروق، فرمتهم بها فأهلكتهم وجعلتهم كورق الشجر المأكول.

**تفسير ابن كثير:**
هذه من النعم التي امتن الله بها على قريش، فيما صرف عنهم من أصحاب الفيل، الذين كانوا قد عزموا على هدم الكعبة ومحو أثرها من الوجود، فأبادهم الله وأرغم آنافهم وخيب سعيهم.`,source:"عامة كتب التفسير وتفاسير السيرة النبوية"}]},{surahId:106,surahName:"سورة قريش",stories:[{ayahRange:"1-4",shortSummary:"سورة مكية، تذكر قريشًا بنعمة الله عليهم في تيسير رحلاتهم التجارية (رحلة الشتاء والصيف) وأمنهم عند البيت الحرام.",detailedVersion:`**التفسير المفصل:**
لا يوجد سبب نزول خاص. هذه السورة متصلة بسابقتها (سورة الفيل). فبعد أن ذكر الله كيف حمى البيت من أصحاب الفيل، يذكر قريشًا هنا بنعمه عليهم التي ترتبت على هذا الأمر. فبسبب مكانتهم كأهل بيت الله الحرام، كانوا آمنين في أسفارهم وتجارتهم، حيث كانت القبائل الأخرى تحترمهم ولا تتعرض لهم. فكانت لهم رحلتان تجاريتان: رحلة إلى اليمن في الشتاء، ورحلة إلى الشام في الصيف. فتدعوهم السورة إلى عبادة رب هذا البيت الذي أطعمهم من جوع وآمنهم من خوف، شكرًا له على هذه النعم.

**تفسير ابن كثير:**
هذه السورة مفصولة عن التي قبلها في المصحف. والمعنى عند الأكثرين أن اتصالها بما قبلها هو أننا أهلكنا أصحاب الفيل لتبقى قريش وأمنهم واستقرارهم في بلدهم.`,source:"عامة كتب التفسير"}]},{surahId:107,surahName:"سورة الماعون",stories:[{ayahRange:"1-7",shortSummary:"نزلت في بعض المشركين كالعاص بن وائل أو المنافقين الذين كانوا يمنعون الخير عن اليتامى والمساكين، ويصلون رياءً.",detailedVersion:`**التفسير المفصل:**
نزلت السورة فيمن يكذب بالدين ويمنع الخير. قيل نزلت في العاص بن وائل السهمي. وقيل في أبي جهل الذي كان وصيًا على يتيم، فجاءه يومًا وهو عريان يسأله من مال نفسه، فدفعه ومنعه. وقيل نزلت في المنافقين الذين يصلون مع المسلمين رياءً وهم ساهون عن صلاتهم (يؤخرونها عن وقتها أو لا يؤدونها كما ينبغي)، ويمنعون الماعون (الأشياء الصغيرة التي يستعيرها الجيران من بعضهم كالإناء والملح).

**تفسير ابن كثير:**
(أرأيت الذي يكذب بالدين) أي بالمعاد والجزاء والثواب. (فذلك الذي يدع اليتيم) أي يقهره ويظلمه حقه ولا يطعمه. (ولا يحض على طعام المسكين) أي لا يحث غيره على إطعامهم. (فويل للمصلين * الذين هم عن صلاتهم ساهون) وهم المنافقون.`,source:"أسباب النزول للواحدي، لباب النقول للسيوطي"}]},{surahId:108,surahName:"سورة الكوثر",stories:[{ayahRange:"1-3",shortSummary:"نزلت السورة ردًا على العاص بن وائل الذي قال عن النبي صلى الله عليه وسلم عندما مات ابنه القاسم، إنه 'أبتر' (مقطوع النسل).",detailedVersion:`**التفسير المفصل:**
لما توفي القاسم ابن النبي صلى الله عليه وسلم، قال العاص بن وائل السهمي: 'قد انقطع نسله، فهو أبتر'. وكان العرب يعتبرون من لا ينجب الذكور مقطوع الأثر. فشق ذلك على النبي صلى الله عليه وسلم، فأنزل الله هذه السورة تسلية له وبشارة. (إِنَّا أَعْطَيْنَاكَ الْكَوْثَرَ) وهو نهر في الجنة وخير كثير في الدنيا والآخرة. وأمره بشكر هذه النعمة بالصلاة والنحر. ثم ردت السورة على الشامت به: (إِنَّ شَانِئَكَ) أي مبغضك وعدوك (هُوَ الْأَبْتَرُ) أي هو المقطوع من كل خير وذكر حسن.

**تفسير ابن كثير:**
روي عن ابن عباس وغيره أن هذه السورة نزلت في العاص بن وائل، وذلك أنه رأى رسول الله صلى الله عليه وسلم يخرج من المسجد وهو يدخل، فالتقيا عند باب بني سهم وتحدثا، وأناس من صناديد قريش في المسجد جلوس. فلما دخل العاص قالوا له: من الذي كنت تحدث؟ قال: ذاك الأبتر. يعني النبي، وكان قد توفي قبل ذلك عبد الله ابن رسول الله صلى الله عليه وسلم. فأنزل الله هذه السورة.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:109,surahName:"سورة الكافرون",stories:[{ayahRange:"1-6",shortSummary:"نزلت ردًا على عرض قدمه زعماء قريش للنبي بأن يعبدوا إلهه سنة ويعبد آلهتهم سنة.",detailedVersion:`**التفسير المفصل:**
جاء رهط من زعماء قريش، منهم الوليد بن المغيرة والعاص بن وائل، إلى النبي صلى الله عليه وسلم وعرضوا عليه مساومة في الدين، فقالوا: 'يا محمد، هلم فلنعبد ما تعبد، وتعبد ما نعبد، فنشترك نحن وأنت في الأمر. فإن كان الذي تعبد خيرًا مما نعبد، كنا قد أخذنا بحظنا منه. وإن كان ما نعبد خيرًا مما تعبد، كنت قد أخذت بحظك منه'. فأنزل الله تعالى هذه السورة القاطعة: (قُلْ يَا أَيُّهَا الْكَافِرُونَ * لَا أَعْبُدُ مَا تَعْبُدُونَ...) إلى آخرها، وفيها براءة تامة من دين المشركين، وتأكيد على استحالة الخلط بين التوحيد والشرك.

**تفسير ابن كثير:**
هذه السورة سورة البراءة من عمل المشركين، وهي آمرة بالإخلاص فيه. فقوله: (لا أعبد ما تعبدون) يعني من الأصنام والأنداد. وقوله: (لكم دينكم ولي دين) أي لكم شرككم ولي توحيدي.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:110,surahName:"سورة النصر",stories:[{ayahRange:"1-3",shortSummary:"نزلت السورة بعد فتح مكة، وهي آخر سورة نزلت كاملة، وفيها إشارة إلى قرب وفاة النبي صلى الله عليه وسلم.",detailedVersion:`**التفسير المفصل:**
هذه السورة من أواخر ما نزل من القرآن، وقيل هي آخر سورة نزلت بتمامها. نزلت في أوسط أيام التشريق في حجة الوداع. تبشر النبي بنصر الله وفتح مكة، ودخول الناس في دين الله أفواجًا، وتأمره بالتسبيح والحمد والاستغفار شكرًا لله على هذه النعمة. وفهم كبار الصحابة كابن عباس وعمر بن الخطاب من هذه السورة أنها نعي لرسول الله وإشارة إلى اكتمال رسالته وقرب أجله، فبكوا عندما سمعوها.

**تفسير ابن كثير:**
روى البخاري عن ابن عباس قال: كان عمر يدخلني مع أشياخ بدر، فكأن بعضهم وجد في نفسه، فقال: لم يدخل هذا معنا ولنا أبناء مثله؟ فقال عمر: إنه من حيث علمتم. فدعاهم ذات يوم فأدخلني معهم، فسألهم عن قوله تعالى: (إذا جاء نصر الله والفتح). فقال بعضهم: أمرنا أن نحمد الله ونستغفره إذا نصرنا وفتح علينا. وسكت بعضهم. فقال لي: أكذلك تقول يا ابن عباس؟ فقلت: لا. قال: فما تقول؟ قلت: هو أجل رسول الله صلى الله عليه وسلم أعلمه له. قال: (فسبح بحمد ربك واستغفره). فقال عمر: ما أعلم منها إلا ما تقول.`,source:"لباب النقول للسيوطي، تفسير ابن كثير"}]},{surahId:111,surahName:"سورة المسد",stories:[{ayahRange:"1-5",shortSummary:"نزلت هذه السورة في أبي لهب، عم النبي صلى الله عليه وسلم، وزوجته، بعد أن آذيا النبي ورفضا دعوته.",detailedVersion:`**التفسير المفصل:**
لما نزل قوله تعالى (وَأَنذِرْ عَشِيرَتَكَ الْأَقْرَبِينَ)، صعد النبي صلى الله عليه وسلم على الصفا، وجعل ينادي: 'يا بني فهر، يا بني عدي' - لبطون قريش - حتى اجتمعوا. فقال: 'أرأيتكم لو أخبرتكم أن خيلاً بالوادي تريد أن تغير عليكم، أكنتم مصدقي؟' قالوا: 'نعم، ما جربنا عليك إلا صدقاً'. قال: 'فإني نذير لكم بين يدي عذاب شديد'. فقال أبو لهب: 'تباً لك سائر اليوم، ألهذا جمعتنا؟' فأنزل الله تعالى: (تَبَّتْ يَدَا أَبِي لَهَبٍ وَتَبَّ).

**تفسير ابن كثير:**
روى البخاري عن ابن عباس أن النبي صلى الله عليه وسلم خرج إلى البطحاء فصعد الجبل فنادى: 'يا صباحاه'. فاجتمعت إليه قريش. فقال: 'أرأيتم إن حدثتكم أن العدو مصبحكم أو ممسيكم، أكنتم تصدقوني؟' قالوا: 'نعم'. قال: 'فإني نذير لكم بين يدي عذاب شديد'. فقال أبو لهب: 'تبًا لك، ألهذا جمعتنا؟' فأنزل الله: (تبت يدا أبي لهب وتب).`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:112,surahName:"سورة الإخلاص",stories:[{ayahRange:"1-4",shortSummary:"نزلت ردًا على المشركين واليهود الذين سألوا النبي صلى الله عليه وسلم أن يصف لهم ربه.",detailedVersion:`**التفسير المفصل:**
جاء المشركون إلى النبي صلى الله عليه وسلم وقالوا: 'يا محمد، انسب لنا ربك، صف لنا ربك، أمن ذهب هو أم من فضة؟' فأنزل الله تعالى سورة الإخلاص: (قُلْ هُوَ اللَّهُ أَحَدٌ)، وهي سورة تصف الله تعالى بصفات الوحدانية والكمال، وتنفي عنه كل نقص، كالوالد والولد والمثيل والنظير. وهي تعدل ثلث القرآن لما تضمنته من معاني التوحيد الخالص.

**تفسير ابن كثير:**
قال الإمام أحمد عن أبي بن كعب أن المشركين قالوا للنبي صلى الله عليه وسلم: يا محمد، انسب لنا ربك. فأنزل الله تعالى: (قل هو الله أحد الله الصمد لم يلد ولم يولد ولم يكن له كفوا أحد).`,source:"لباب النقول للسيوطي، تفسير ابن كثير"}]},{surahId:113,surahName:"سورة الفلق",stories:[{ayahRange:"1-5",shortSummary:"نزلت سورة الفلق وسورة الناس (المعوذتان) بعد أن تعرض النبي صلى الله عليه وسلم للسحر من قبل رجل يهودي يدعى لبيد بن الأعصم.",detailedVersion:`**التفسير المفصل:**
سحر لبيد بن الأعصم اليهودي النبي صلى الله عليه وسلم، فكان يُخيل إليه أنه يفعل الشيء وهو لا يفعله. فدعا النبي ربه، فأتاه ملكان في المنام وأخبراه بمكان السحر (في بئر ذروان). فأرسل النبي من يستخرجه، فوجدوا مشطًا ومشاطة وأسنان مشط في جف طلعة ذكر، معقودًا فيه أحد عشر عقدة. فأنزل الله المعوذتين، فجعل كلما يقرأ آية تنحل عقدة، حتى انحلت العقد كلها، فقام النبي كأنما نشط من عقال. وهما أعظم ما يتعوذ به المسلم.

**تفسير ابن كثير:**
ثبت في الصحيحين عن عائشة أن رسول الله صلى الله عليه وسلم سُحر، حتى كان يرى أنه يأتي النساء ولا يأتيهن. وفي رواية: كان يخيل إليه أنه فعل الشيء ولم يفعله. ثم بعد دعائه، أتاه ملكان وأخبراه بمكان السحر، فاستخرجه، وأنزل الله هاتين السورتين.`,source:"لباب النقول للسيوطي، تفسير ابن كثير"}]},{surahId:114,surahName:"سورة الناس",stories:[{ayahRange:"1-6",shortSummary:"نزلت سورة الناس مع سورة الفلق (المعوذتان) كرقية للنبي صلى الله عليه وسلم من السحر الذي أصابه.",detailedVersion:`**التفسير المفصل:**
بعد أن تعرض النبي صلى الله عليه وسلم لسحر لبيد بن الأعصم اليهودي، أنزل الله تعالى المعوذتين (الفلق والناس) شفاء ورقية له. وتختص سورة الناس بالاستعاذة بالله من شر أعظم عدو للإنسان، وهو الشيطان الذي يوسوس في صدور الناس بالشر والمعصية، سواء كان هذا الشيطان من الجن أو من الإنس. فهي حصن للمسلم من الوساوس والأفكار الخبيثة.

**تفسير ابن كثير:**
هذه السورة هي إحدى المعوذتين. قال الإمام أحمد عن عقبة بن عامر، قال: بينا أنا أقود برسول الله صلى الله عليه وسلم راحلته في غزاة، إذ قال: 'يا عقبة، قل'. فقلت: ماذا أقول؟ فسكت عني، ثم قال: 'قل'. قلت: ماذا أقول يا رسول الله؟ فسكت عني، ثم قال: 'قل'. قلت: ماذا أقول؟ قال: '(قل أعوذ برب الفلق)' فقرأتها حتى أتيت على آخرها. ثم قال: '(قل أعوذ برب الناس)' فقرأتها حتى أتيت على آخرها. ثم قال رسول الله صلى الله عليه وسلم عند ذلك: 'ما سأل سائل بمثلهما، ولا استعاذ مستعيذ بمثلهما'.`,source:"لباب النقول للسيوطي، تفسير ابن كثير"}]}],c1=({story:e})=>{const[t,n]=b.useState(!1);return l.jsxs("div",{className:"bg-card p-4 rounded-lg shadow-md",children:[l.jsxs("h4",{className:"text-lg font-semibold text-primary mb-2",children:["سبب نزول الآية: ",e.ayahRange]}),l.jsx("p",{className:"text-text-secondary mb-3 whitespace-pre-wrap leading-relaxed",children:t?e.detailedVersion:e.shortSummary}),l.jsxs("div",{className:"flex justify-between items-center mt-3 pt-2 border-t border-border-color",children:[l.jsxs("p",{className:"text-xs text-text-secondary",children:[l.jsx("span",{className:"font-semibold",children:"المصدر:"})," ",e.source]}),l.jsx("button",{onClick:()=>n(!t),className:"text-xs font-semibold text-primary hover:underline",children:t?"عرض الملخص":"عرض التفصيل"})]})]})},d1=()=>{const[e,t]=b.useState(null);return e?l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pt-6 pb-8 animate-fade-in",children:[l.jsxs("button",{onClick:()=>t(null),className:"flex items-center gap-2 text-text-secondary hover:text-text-primary mb-4",children:[l.jsx(Ee,{className:"w-5 h-5"}),l.jsx("span",{children:"كل السور"})]}),l.jsx("h2",{className:"text-3xl font-bold font-amiri-quran text-text-primary mb-6",children:e.surahName}),l.jsx("div",{className:"space-y-4",children:e.stories.map((n,i)=>l.jsx(c1,{story:n},i))})]}):l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pt-4 pb-8 animate-fade-in",children:[l.jsx("h2",{className:"text-xl font-bold text-text-primary mb-4",children:"اختر سورة لتدبر أسباب نزولها"}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:u1.map(n=>l.jsx("div",{onClick:()=>t(n),className:"p-4 rounded-lg shadow-md bg-card hover:bg-border-color transition-all duration-200 flex items-center justify-between cursor-pointer",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"w-10 h-10 flex items-center justify-center rounded-full text-sm font-medium ml-4 bg-background text-text-secondary",children:n.surahId}),l.jsx("p",{className:"font-semibold font-amiri-quran text-xl text-text-primary",children:n.surahName})]})},n.surahId))})]})},f1=[{id:1,title:"قصة الفيل",content:`في قديم الزمان, كان هناك رجل شرير اسمه أبرهة. بنى أبرهة بيتاً كبيراً وأراد أن يذهب الناس إليه بدلاً من الكعبة.

عندما لم يستمع له أحد, غضب أبرهة وقرر أن يهدم الكعبة. أحضر جيشاً كبيراً ومعه فيل ضخم جداً.

عندما اقترب الجيش من مكة, توقف الفيل ولم يتحرك. حاولوا دفعه لكنه رفض. فجأة, أرسل الله طيوراً صغيرة تحمل حجارة صغيرة, ورمت الحجارة على جيش أبرهة فهلكوا جميعاً وحمى الله الكعبة.`,moral:"الله قوي ويحمي بيته, وهو أقوى من أي شيء.",question:{text:"ماذا أرسل الله ليحمي الكعبة؟",options:["جيشاً كبيراً","طيوراً صغيرة","فيلاً آخر"],correctAnswer:"طيوراً صغيرة"},ageGroup:"3-5",illustration:"🐘"},{id:2,title:"قصة يونس في بطن الحوت",content:`كان هناك نبي اسمه يونس عليه السلام. أرسله الله إلى قومه ليدعوهم إلى عبادة الله وحده, لكنهم لم يستمعوا له.

غضب يونس وتركهم وركب سفينة. في البحر, هبت عاصفة قوية, وقرر الناس في السفينة أن يلقوا رجلاً منهم في البحر لتخف السفينة. وقع الاختيار على يونس, فألقوه في البحر.

ابتلع حوت ضخم يونس, وفي بطن الحوت المظلم, دعا يونس ربه وقال: "لا إله إلا أنت سبحانك إني كنت من الظالمين". فاستجاب الله له وأمر الحوت أن يخرجه إلى الشاطئ سالمًا.`,moral:"يجب أن نصبر وندعو الله دائمًا, خاصة عندما نكون في شدة.",question:{text:"ماذا فعل النبي يونس في بطن الحوت؟",options:["نام","دعا ربه","أكل"],correctAnswer:"دعا ربه"},ageGroup:"3-5",illustration:"🐳"},{id:3,title:"قصة نوح و السفينة",content:`كان نبي الله نوح عليه السلام يدعو قومه لعبادة الله وحده, لكنهم كانوا يسخرون منه ويعبدون الأصنام.

أمر الله نوحًا أن يصنع سفينة كبيرة جدًا. كان الناس يضحكون عليه وهو يبنيها في الصحراء. عندما اكتملت السفينة, أمره الله أن يأخذ معه المؤمنين وزوجين من كل حيوان وطائر.

ثم أمطرت السماء بغزارة, وخرج الماء من الأرض, وغرق كل الكافرين. ونجا نوح ومن معه في السفينة بفضل الله.`,moral:"طاعة الله تنجينا دائمًا من كل سوء.",question:{text:"لماذا بنى نوح عليه السلام السفينة؟",options:["ليسافر","لينجو من الطوفان","ليصطاد السمك"],correctAnswer:"لينجو من الطوفان"},ageGroup:"3-5",illustration:"🚢"},{id:4,title:"قصة إبراهيم و الأصنام",content:`في قديم الزمان, كان الناس يعبدون تماثيل يصنعونها بأيديهم تسمى الأصنام. كان نبي الله إبراهيم عليه السلام شابًا ذكيًا, وعرف أن هذه الأصنام لا تسمع ولا ترى ولا تنفع.

في يوم من الأيام, ذهب كل الناس للاحتفال خارج المدينة. دخل إبراهيم إلى المعبد وكسر كل الأصنام بفأس, إلا الصنم الأكبر, فقد علق الفأس في رقبته.

عندما عاد الناس ورأوا أصنامهم محطمة, غضبوا وعرفوا أن إبراهيم هو الفاعل. سألوه: "أأنت فعلت هذا؟". قال إبراهيم: "بل فعله كبيرهم هذا, فاسألوهم إن كانوا ينطقون!". لم تستطع الأصنام أن تتكلم, فعرف الناس أنهم كانوا على خطأ.`,moral:"يجب أن نعبد الله وحده, فهو الخالق القادر على كل شيء.",question:{text:"ماذا ترك إبراهيم عليه السلام سليمًا؟",options:["كل الأصنام","صنمًا صغيرًا","الصنم الأكبر"],correctAnswer:"الصنم الأكبر"},ageGroup:"6-8",illustration:"🗿"},{id:5,title:"قصة موسى و البحر",content:`كان هناك ملك ظالم اسمه فرعون. كان فرعون يعذب بني إسرائيل. أرسل الله نبيه موسى عليه السلام ليأخذهم ويخرج بهم من مصر.

لحق فرعون وجيشه بموسى وقومه حتى وصلوا إلى البحر. خاف الناس وقالوا: "البحر أمامنا وفرعون خلفنا!".

أمر الله موسى أن يضرب البحر بعصاه. فانشق البحر وأصبح طريقًا يابسًا, فعبر موسى وقومه بسلام. عندما حاول فرعون وجيشه العبور, عاد البحر كما كان وغرقوا جميعًا.`,moral:"الله قادر على كل شيء, وينصر عباده المؤمنين.",question:{text:"كيف نجا موسى عليه السلام وقومه من فرعون؟",options:["بالسفن","بالطيران","انشق لهم البحر"],correctAnswer:"انشق لهم البحر"},ageGroup:"6-8",illustration:"🌊"},{id:6,title:"قصة سليمان و النملة",content:`كان نبي الله سليمان عليه السلام يفهم لغة الحيوانات. في يوم من الأيام, كان يسير بجيشه الكبير, فمروا على وادٍ مليء بالنمل.

سمع سليمان نملة تقول لبقية النمل: "يا أيها النمل ادخلوا مساكنكم لا يحطمنكم سليمان وجنوده وهم لا يشعرون".

تبسم سليمان من قولها, وشكر الله على نعمته العظيمة, وأمر جيشه أن يغيروا طريقهم حتى لا يؤذوا النمل.`,moral:"يجب أن نكون رحماء بكل مخلوقات الله, حتى الصغيرة منها.",question:{text:"لماذا تبسم سليمان عليه السلام؟",options:["لأنه رأى نملة","لأنه سمع كلام النملة","لأنه كان سعيدًا"],correctAnswer:"لأنه سمع كلام النملة"},ageGroup:"3-5",illustration:"🐜"},{id:7,title:"قصة ناقة صالح",content:`أرسل الله النبي صالح عليه السلام إلى قوم ثمود. كانوا قومًا أقوياء يسكنون في بيوت منحوتة في الجبال, لكنهم كانوا يعبدون الأصنام.

طلب قوم ثمود من صالح معجزة ليؤمنوا به. فدعا صالح ربه, فأخرج الله لهم من صخرة كبيرة ناقة (أنثى الجمل) عظيمة. قال لهم صالح: "هذه ناقة الله لكم آية, فذروها تأكل في أرض الله ولا تمسوها بسوء".

لكنهم كذبوا صالحًا وقتلوا الناقة. فجاءهم عذاب شديد من الله, فأهلكهم جميعًا ونجى صالحًا والمؤمنين معه.`,moral:"عصيان أوامر الله ورسله يأتي بالعقاب.",question:{text:"ماذا فعل قوم ثمود بالناقة؟",options:["أطعموها","قتلوها","باعوها"],correctAnswer:"قتلوها"},ageGroup:"6-8",illustration:"🐪"},{id:8,title:"الطفل موسى في النهر",content:`عندما ولد النبي موسى عليه السلام, كان فرعون يقتل كل الأطفال الذكور. خافت أم موسى عليه, فأوحى الله إليها أن تضعه في صندوق وتلقيه في النهر.

فعلت أمه ما أمرها الله به, وهي حزينة. سار الصندوق في النهر حتى وصل إلى قصر فرعون. وجدته زوجة فرعون وأحبته, وأقنعت فرعون أن يتبنياه.

وهكذا, عاد موسى إلى أمه لترضعه بأجر من فرعون, وحفظه الله من القتل ونشأ في قصر عدوه.`,moral:"ثق بالله, فخطته دائمًا هي الأفضل لحمايتنا.",question:{text:"أين وضعت أم موسى ابنها لتحميه؟",options:["في كهف","في صندوق في النهر","عند جيرانها"],correctAnswer:"في صندوق في النهر"},ageGroup:"3-5",illustration:"🧺"},{id:9,title:"داود و جالوت",content:`كان هناك ملك قوي وظالم اسمه جالوت, وكان جيشه كبيرًا جدًا, ولم يستطع أحد هزيمته. كان في جيش المؤمنين فتى شجاع اسمه داود عليه السلام.

لم يكن داود جنديًا, بل كان راعيًا. خرج داود ليقاتل جالوت, ومعه فقط مقلاعه وبعض الحجارة. سخر جالوت من داود لصغر حجمه.

لكن داود قال: "أنت تأتيني بالسيف والرمح, وأنا آتيك باسم رب الجنود". ثم وضع حجرًا في مقلاعه ورماه بقوة, فأصاب جالوت في رأسه وقتله. فهرب جيش جالوت وانتصر المؤمنون.`,moral:"القوة الحقيقية تأتي من الإيمان بالله, وليس من حجم الجسم أو السلاح.",question:{text:"بماذا قتل داود عليه السلام جالوت؟",options:["بسيف","بحجر من مقلاع","برمح"],correctAnswer:"بحجر من مقلاع"},ageGroup:"9-12",illustration:"🪨"},{id:10,title:"مريم و عيسى عليهما السلام",content:`كانت السيدة مريم امرأة صالحة جدًا, وكانت تقضي وقتها في عبادة الله. وفي يوم من الأيام, جاءها الملك جبريل وبشرها بأنها ستلد طفلاً سيكون نبيًا, واسمه عيسى, من غير أب.

تعجبت مريم ولكنها آمنت بقدرة الله. عندما ولدت عيسى, اتهمها قومها بالسوء. فأشار الله عليها ألا تتكلم وأن تشير إلى الطفل.

فتكلم عيسى وهو في المهد وقال: "إني عبد الله آتاني الكتاب وجعلني نبيًا". فكانت هذه معجزة عظيمة, وبرأ الله السيدة مريم.`,moral:"الله قادر على فعل المعجزات, ويدافع دائمًا عن عباده الصالحين.",question:{text:"ماذا كانت أول كلمات نطق بها عيسى عليه السلام؟",options:["أنا جائع","إني عبد الله","أريد أمي"],correctAnswer:"إني عبد الله"},ageGroup:"6-8",illustration:"👶"},{id:11,title:"نصيحة لقمان لابنه",content:`كان هناك رجل حكيم اسمه لقمان. أعطاه الله الحكمة. في يوم من الأيام, أراد أن يعلم ابنه درسًا مهمًا.

قال له: "يا بني لا تشرك بالله إن الشرك لظلم عظيم". وعلمه أن يكون لطيفًا مع والديه, وأن يشكر الله دائمًا.

وعلمه أيضًا ألا يكون متكبرًا, وأن يمشي على الأرض بهدوء, وأن يخفض صوته. كانت نصائح لقمان مليئة بالحب والحكمة.`,moral:"يجب أن نعبد الله وحده, ونكون طيبين مع والدينا ومتواضعين مع الناس.",question:{text:"ما هو أعظم ظلم حذر منه لقمان ابنه؟",options:["الكذب","السرقة","الشرك بالله"],correctAnswer:"الشرك بالله"},ageGroup:"9-12",illustration:"❤️"},{id:12,title:"أصحاب الجنة",content:`كان هناك رجل صالح لديه حديقة جميلة مليئة بالثمار. كان دائمًا يعطي الفقراء والمساكين من ثمار حديقته.

عندما توفي الرجل, قرر أولاده أن يكونوا بخلاء وألا يعطوا الفقراء شيئًا. واتفقوا أن يذهبوا في الصباح الباكر لقطف الثمار قبل أن يأتي الفقراء.

لكن في الليل, أرسل الله نارًا على الحديقة فأحرقتها كلها. وفي الصباح, عندما ذهبوا, وجدوا حديقتهم سوداء محترقة. فعرفوا أنهم أخطأوا وندموا على بخلهم.`,moral:"العطاء والصدقة تبارك في رزقنا, والبخل يزيله.",question:{text:"لماذا احترقت حديقة الأولاد؟",options:["لأنهم كانوا بخلاء","بسبب الشمس الحارة","لأنهم نسوا سقيها"],correctAnswer:"لأنهم كانوا بخلاء"},ageGroup:"6-8",illustration:"🔥"},{id:13,title:"لطف النبي مع الجمل",content:`في يوم من الأيام, دخل النبي محمد صلى الله عليه وسلم حديقة لرجل من الأنصار. فجأة, رأى جملاً يركض نحوه وعيناه تدمعان ويصدر صوتًا حزينًا.

اقترب النبي من الجمل ومسح على رأسه برفق حتى هدأ. ثم سأل النبي: "من صاحب هذا الجمل؟". فجاء شاب وقال: "أنا يا رسول الله".

فقال له النبي: "ألا تتقي الله في هذه البهيمة التي ملكك الله إياها؟ فإنه شكا إلي أنك تجيعه وتتعبه". فتعلم الرجل درسه ووعد بأن يعتني بالجمل جيدًا.`,moral:"الإسلام يعلمنا أن نكون رحماء بالحيوانات.",question:{text:"ماذا كان يشتكي الجمل للنبي؟",options:["أنه يريد اللعب","أن صاحبه يجيعه ويتعبه","أنه يريد العودة للصحراء"],correctAnswer:"أن صاحبه يجيعه ويتعبه"},ageGroup:"3-5",illustration:"😢"},{id:14,title:"الولد الصادق",content:`في يوم من الأيام, كان النبي محمد صلى الله عليه وسلم يسير في بستان, فرأى ولدًا صغيرًا يرمي شجرة نخيل بالحجارة ليسقط التمر ويأكله.

اقترب منه النبي برفق وسأله: "يا بني, لماذا ترمي النخلة؟". قال الولد بخوف: "كنت جائعًا".

ابتسم النبي وقال له: "لا ترمها بالحجارة, ولكن كل ما يسقط منها على الأرض". ثم مسح على رأس الولد ودعا له بالبركة. تعلم الولد أن الصدق ينجي وأن طلب الإذن أفضل من الأخذ بدون استئذان.`,moral:"الصدق هو أفضل طريق, ويجب أن نطلب الإذن قبل أن نأخذ شيئًا ليس لنا.",question:{text:"ماذا علم النبي الولد أن يفعل؟",options:["أن يرمي المزيد من الحجارة","ألا يأكل التمر","أن يأكل ما يسقط على الأرض فقط"],correctAnswer:"أن يأكل ما يسقط على الأرض فقط"},ageGroup:"6-8",illustration:"🌴"},{id:15,title:"العنكبوت و الحمامة",content:`عندما هاجر النبي محمد صلى الله عليه وسلم من مكة إلى المدينة, لحقه الكفار ليمسكوا به. اختبأ النبي وصاحبه أبو بكر في كهف يسمى غار ثور.

بأمر الله, جاء عنكبوت صغير ونسج شبكة قوية على باب الكهف. وجاءت حمامة وبنت عشها ووضعت بيضها أمامه.

عندما وصل الكفار إلى الكهف, رأوا شبكة العنكبوت وعش الحمامة, فقالوا: "مستحيل أن يكون أحد قد دخل هنا, فالشبكة سليمة والعش في مكانه". وهكذا, حمى الله نبيه بجنود صغار لا يراها الناس.`,moral:"الله قادر على حمايتنا بأبسط الأشياء, فلا تستهن بأي مخلوق.",question:{text:"ماذا فعل العنكبوت ليحمي النبي؟",options:["قاتل الكفار","نسج شبكة على باب الكهف","أصدر صوتًا عاليًا"],correctAnswer:"نسج شبكة على باب الكهف"},ageGroup:"6-8",illustration:"🕸️"},{id:16,title:"النبي يحب الأطفال",content:`كان النبي محمد صلى الله عليه وسلم يحب الأطفال كثيرًا ويلعب معهم. كان حفيداه الحسن والحسين يلعبان معه دائمًا.

في مرة من المرات, كان النبي يصلي ويسجد, فجاء الحسن وركب على ظهره الشريف. أطال النبي السجود ولم يقم حتى نزل الحسن برفق من على ظهره.

بعد الصلاة, سأله الصحابة لماذا أطال السجود, فقال: "إن ابني هذا ارتحلني (ركب على ظهري) فكرهت أن أعجله حتى يقضي حاجته". كان النبي أرحم الناس بالأطفال.`,moral:"يجب أن نكون لطفاء ورحماء مع الأطفال ونلعب معهم.",question:{text:"لماذا أطال النبي سجوده؟",options:["لأنه كان متعبًا","لأن حفيده كان يلعب على ظهره","لأنه نسي"],correctAnswer:"لأن حفيده كان يلعب على ظهره"},ageGroup:"3-5",illustration:"😊"},{id:17,title:"الراعي الصغير الصادق",illustration:"🐑",content:'كان هناك راعٍ صغير يرعى الغنم. جاءه رجل وقال: "بعني شاة". قال الراعي: "إنها ليست لي, إنها لسيدي". قال الرجل: "قل لسيدك أكلها الذئب!". فرفض الراعي الصغير وقال: "فأين الله؟". أعجب الرجل بصدق الراعي وأمانته.',moral:"الله يرانا دائمًا, لذلك يجب أن نكون صادقين وأمناء.",question:{text:"لماذا لم يبع الراعي الشاة؟",options:["لأنه خاف من الذئب","لأنها لم تكن ملكه","لأنه لم يحب الرجل"],correctAnswer:"لأنها لم تكن ملكه"},ageGroup:"6-8"}],m1=[{id:"prophets_quiz",title:"من هو النبي؟",type:"quiz",ageGroup:"6-8",questions:[{id:1,question:"من هو النبي الذي بنى الكعبة؟",options:["موسى","إبراهيم","نوح"],correctAnswer:"إبراهيم",explanation:"أحسنت! نبي الله إبراهيم وابنه إسماعيل عليهما السلام هما من بنيا الكعبة بأمر من الله. 🕋"},{id:2,question:"من هو النبي الذي كلمه الله عند جبل الطور؟",options:["عيسى","يوسف","موسى"],correctAnswer:"موسى",explanation:'صحيح! كلم الله سيدنا موسى عند جبل الطور في سيناء، لذلك يسمى "كليم الله". ⛰️'},{id:3,question:"من هو النبي الذي صنع سفينة كبيرة لينجو من الطوفان؟",options:["نوح","آدم","سليمان"],correctAnswer:"نوح",explanation:"إجابة رائعة! سيدنا نوح صنع السفينة ليحمي المؤمنين والحيوانات من الطوفان العظيم. 🚢"},{id:4,question:"من هو خاتم الأنبياء والمرسلين؟",options:["إسماعيل","محمد","يعقوب"],correctAnswer:"محمد",explanation:"ممتاز! سيدنا محمد صلى الله عليه وسلم هو آخر نبي أرسله الله لهداية الناس جميعًا. ❤️"},{id:5,question:"من هو النبي الذي ألقاه إخوته في البئر؟",options:["يونس","يوسف","إسحاق"],correctAnswer:"يوسف",explanation:"صحيح! إخوة سيدنا يوسف شعروا بالغيرة منه فألقوه في بئر، لكن الله حفظه وجعله عزيز مصر. ✨"},{id:6,question:"من هو أبو الأنبياء؟",options:["زكريا","آدم","إبراهيم"],correctAnswer:"إبراهيم",explanation:'أحسنت! سيدنا إبراهيم عليه السلام هو "أبو الأنبياء" لأن الكثير من الأنبياء جاءوا من نسله. 🙏'},{id:7,question:"من هو النبي الذي كان يفهم لغة الطير والنمل؟",options:["داود","سليمان","إدريس"],correctAnswer:"سليمان",explanation:"إجابة ممتازة! سيدنا سليمان أعطاه الله معجزة فهم لغة الحيوانات. 🐜"},{id:8,question:"من هو أول نبي؟",options:["إبراهيم","آدم","نوح"],correctAnswer:"آدم",explanation:"صحيح! سيدنا آدم عليه السلام هو أول إنسان وأول نبي خلقه الله. 👨"},{id:9,question:"من هو النبي الذي ولد من غير أب؟",options:["يحيى","عيسى","إسماعيل"],correctAnswer:"عيسى",explanation:"رائع! سيدنا عيسى عليه السلام ولد بمعجزة من أمه السيدة مريم من غير أب. 👶"},{id:10,question:"من هو النبي الذي ابتلعه الحوت؟",options:["يونس","صالح","موسى"],correctAnswer:"يونس",explanation:"إجابة صحيحة! سيدنا يونس دعا الله من بطن الحوت فنجاه. 🐳"},{id:11,question:"من هو النبي الذي كان أبوه يصنع الأصنام؟",options:["إبراهيم","يعقوب","لوط"],correctAnswer:"إبراهيم",explanation:"أحسنت! سيدنا إبراهيم كان أبوه آزر يصنع الأصنام، لكن إبراهيم كان يدعوه لعبادة الله وحده. 👍"},{id:12,question:"من هو النبي الذي أعطاه الله القدرة على تفسير الأحلام؟",options:["داود","يوسف","سليمان"],correctAnswer:"يوسف",explanation:"ممتاز! علم الله سيدنا يوسف تفسير الرؤى والأحلام، وبهذا استطاع أن ينقذ مصر من الجوع. 🌾"},{id:13,question:"من هو النبي الذي كان ملكًا أيضًا؟",options:["إدريس","شعيب","سليمان"],correctAnswer:"سليمان",explanation:"صحيح! سيدنا سليمان كان نبيًا وملكًا عظيمًا، وعلمه الله لغة الحيوانات وسخر له الجن والريح. 👑"}]},{id:"manners_quiz",title:"اختبر أخلاقك",type:"quiz",ageGroup:"3-5",questions:[{id:1,question:"ماذا نقول قبل أن نبدأ الأكل؟",options:["الحمد لله","بسم الله","شكرًا"],correctAnswer:"بسم الله",explanation:'أحسنت! نقول "بسم الله" لنبدأ طعامنا بذكر الله ليبارك لنا فيه. 😋'},{id:2,question:"بأي يد يجب أن نأكل؟",options:["اليمنى","اليسرى","لا يهم"],correctAnswer:"اليمنى",explanation:"صحيح! علمنا النبي أن نأكل بيدنا اليمنى. 👍"},{id:3,question:"إذا دخلت مكانًا, ماذا تفعل أولاً؟",options:["أجلس","آكل","أقول السلام عليكم"],correctAnswer:"أقول السلام عليكم",explanation:"ممتاز! إلقاء السلام تحية جميلة تزيد المحبة بيننا. 👋"},{id:4,question:"عندما يعطيك أحد شيئًا, ماذا تقول؟",options:["أريد المزيد","شكرًا لك","لا أريد"],correctAnswer:"شكرًا لك",explanation:'إجابة رائعة! قول "شكرًا لك" من الأدب الجميل ويجعل الآخرين سعداء. 😊'},{id:5,question:"ماذا تفعل قبل أن تنام؟",options:["ألعب","أقرأ دعاء النوم","أشاهد التلفاز"],correctAnswer:"أقرأ دعاء النوم",explanation:"أحسنت! قراءة دعاء النوم يحفظنا الله بها حتى نستيقظ. 😴"},{id:6,question:"إذا أخطأت في حق صديقك, ماذا تفعل؟",options:["أتجاهله","أقول أنا آسف","أضحك"],correctAnswer:"أقول أنا آسف",explanation:"صحيح! الاعتذار عند الخطأ من شجاعة الأخلاق ويحافظ على صداقتنا. ❤️"},{id:7,question:"كيف نتحدث مع والدينا؟",options:["بصوت عالٍ","بأدب واحترام","لا نتحدث معهم"],correctAnswer:"بأدب واحترام",explanation:"ممتاز! الله أمرنا بأن نكون طيبين مع والدينا ونتحدث معهم بأدب. 👨‍👩‍👧"},{id:8,question:"ماذا نقول عندما نعطس؟",options:["يا إلهي","الحمد لله","عفوًا"],correctAnswer:"الحمد لله",explanation:'صحيح! نقول "الحمد لله" لنشكر الله على نعمة العطاس. 🤗'},{id:9,question:"عندما تقابل صديقك في الصباح، ماذا تقول له؟",options:["تصبح على خير","مساء الخير","صباح الخير"],correctAnswer:"صباح الخير",explanation:"إلقاء التحية على أصدقائنا في الصباح يجعل يومهم ويومنا سعيدًا. 😊☀️"},{id:10,question:"إذا وجدت لعبة في ساحة اللعب ليست لك، ماذا تفعل؟",options:["آخذها لي","أبحث عن صاحبها","أتركها وأذهب"],correctAnswer:"أبحث عن صاحبها",explanation:"الأمانة خلق جميل، والله يحب الأمين الذي يعيد الأشياء لأصحابها. 👍"},{id:11,question:"عندما تريد أن تتكلم والآخرون يتحدثون، ماذا تفعل؟",options:["أرفع صوتي","أنتظر دوري بهدوء","أقاطعهم"],correctAnswer:"أنتظر دوري بهدوء",explanation:"من الأدب أن نستمع للآخرين وننتظر دورنا لنتكلم، هكذا تكون المحادثة جميلة ومنظمة. 🤫"},{id:12,question:"كيف نحافظ على نظافة مسجدنا أو بيتنا؟",options:["نرمي الأوراق على الأرض","نضع القمامة في سلتها","لا نهتم"],correctAnswer:"نضع القمامة في سلتها",explanation:"النظافة من الإيمان والله يحب النظيفين، والمكان النظيف يكون مريحًا وجميلاً للجميع. 🗑️✨"}]},{id:"places_quiz",title:"أماكن إسلامية",type:"quiz",ageGroup:"6-8",questions:[{id:1,question:"أين توجد الكعبة المشرفة؟",options:["المدينة المنورة","مكة المكرمة","القدس"],correctAnswer:"مكة المكرمة",explanation:"أحسنت! الكعبة هي بيت الله الحرام في مكة، وهي قبلة المسلمين في صلاتهم. 🕋"},{id:2,question:"ما هو أول مسجد بني في الإسلام؟",options:["المسجد الحرام","مسجد قباء","المسجد النبوي"],correctAnswer:"مسجد قباء",explanation:"صحيح! مسجد قباء هو أول مسجد بناه النبي محمد صلى الله عليه وسلم عندما وصل إلى المدينة. 🕌"},{id:3,question:"إلى أين هاجر النبي محمد صلى الله عليه وسلم؟",options:["الطائف","اليمن","المدينة المنورة"],correctAnswer:"المدينة المنورة",explanation:"إجابة ممتازة! هاجر النبي من مكة إلى المدينة لينشر الإسلام بسلام. ✨"},{id:4,question:"أين يقع المسجد الأقصى؟",options:["مكة","المدينة","القدس"],correctAnswer:"القدس",explanation:"صحيح! المسجد الأقصى هو أول قبلة للمسلمين ويقع في مدينة القدس الجميلة. 🇵🇸"},{id:5,question:"ما اسم الجبل الذي وقف عليه الحجاج في الحج؟",options:["جبل أحد","جبل عرفات","جبل النور"],correctAnswer:"جبل عرفات",explanation:"رائع! الوقوف بجبل عرفات هو أهم ركن في الحج. ⛰️"},{id:6,question:"في أي مدينة يوجد قبر النبي محمد صلى الله عليه وسلم؟",options:["مكة المكرمة","المدينة المنورة","القاهرة"],correctAnswer:"المدينة المنورة",explanation:"أحسنت! يوجد قبر نبينا الحبيب في مسجده الشريف في المدينة المنورة، التي نوّرها بقدومه. 💚"},{id:7,question:"ما اسم الغار الذي كان يتعبد فيه النبي قبل نزول الوحي؟",options:["غار ثور","غار حراء","كهف أهل الكهف"],correctAnswer:"غار حراء",explanation:"ممتاز! كان النبي يذهب إلى غار حراء ليتفكر في خلق الله، وهناك نزل عليه الملك جبريل لأول مرة. 🙏"},{id:8,question:"ما اسم الغار الذي اختبأ فيه النبي وأبو بكر أثناء الهجرة؟",options:["غار ثور","غار حراء","كهف الرقيم"],correctAnswer:"غار ثور",explanation:"صحيح! حمى الله النبي وصاحبه في غار ثور من الكفار بشبكة عنكبوت وعش حمامة. 🕸️🕊️"}]},{id:"quran_facts_quiz",title:"حقائق قرآنية",type:"quiz",ageGroup:"9-12",questions:[{id:1,question:"ما هي أطول سورة في القرآن؟",options:["الفاتحة","البقرة","آل عمران"],correctAnswer:"البقرة",explanation:"صحيح! سورة البقرة هي أطول سورة، وفيها آية الكرسي التي هي أعظم آية. 📖"},{id:2,question:"كم عدد سور القرآن الكريم؟",options:["100","114","120"],correctAnswer:"114",explanation:"ممتاز! يتكون القرآن الكريم من 114 سورة عظيمة. ✨"},{id:3,question:'ما هي السورة التي تسمى "قلب القرآن"؟',options:["يس","الرحمن","الملك"],correctAnswer:"يس",explanation:"أحسنت! سورة يس تسمى قلب القرآن لأهميتها ومواضيعها العظيمة. ❤️"},{id:4,question:"ما هي السورة التي لا تبدأ بالبسملة؟",options:["الأنفال","التوبة","المنافقون"],correctAnswer:"التوبة",explanation:'إجابة صحيحة! سورة التوبة هي السورة الوحيدة التي لا تبدأ بـ "بسم الله الرحمن الرحيم".'},{id:5,question:"ما هي أعظم آية في القرآن؟",options:["آخر آية من سورة البقرة","آية الكرسي","أول آية من سورة الفاتحة"],correctAnswer:"آية الكرسي",explanation:"رائع! آية الكرسي (آية 255 من سورة البقرة) هي أعظم آية لأنها تصف عظمة الله وقدرته. 👑"},{id:6,question:"كم سنة استمر نزول القرآن الكريم؟",options:["10 سنوات","23 سنة","30 سنة"],correctAnswer:"23 سنة",explanation:"أحسنت! نزل القرآن مفرقًا على مدى 23 سنة ليثبت قلوب المؤمنين ويكون سهل الحفظ والفهم. 👍"},{id:7,question:"ما هي أول سورة نزلت كاملة؟",options:["العلق","الفاتحة","البقرة"],correctAnswer:"الفاتحة",explanation:"صحيح! سورة الفاتحة هي أم القرآن وأول سورة نزلت كاملة، أما أول ما نزل من القرآن فهو أول خمس آيات من سورة العلق. 🙏"},{id:8,question:"ما هي السورة التي ذكرت فيها البسملة مرتين؟",options:["النمل","البقرة","يس"],correctAnswer:"النمل",explanation:"إجابة مميزة! سورة النمل هي السورة الوحيدة التي ذكرت فيها البسملة مرتين، مرة في أولها ومرة في رسالة سيدنا سليمان إلى ملكة سبأ. 🐜👑"},{id:9,question:'ما هي السورة التي تسمى "عروس القرآن"؟',options:["يوسف","مريم","الرحمن"],correctAnswer:"الرحمن",explanation:'رائع! تسمى سورة الرحمن عروس القرآن لجمالها وتكرار آية "فبأي آلاء ربكما تكذبان" فيها، التي تذكرنا بنعم الله الكثيرة. 💖'},{id:10,question:"في أي ليلة نزل القرآن الكريم؟",options:["ليلة الإسراء والمعراج","ليلة القدر","ليلة النصف من شعبان"],correctAnswer:"ليلة القدر",explanation:"ممتاز! بدأ نزول القرآن في ليلة القدر المباركة، وهي ليلة عظيمة في العشر الأواخر من رمضان، والعبادة فيها خير من ألف شهر. 🌙✨"}]},{id:"matching_pillars",title:"طابق أركان الإسلام",type:"matching",ageGroup:"3-5",matchingPairs:[{id:1,item1:"الشهادتان",item2:"الركن الأول"},{id:2,item1:"إقامة الصلاة",item2:"الركن الثاني"},{id:3,item1:"إيتاء الزكاة",item2:"الركن الثالث"},{id:4,item1:"صوم رمضان",item2:"الركن الرابع"},{id:5,item1:"حج البيت",item2:"الركن الخامس"}]},{id:"matching_animals_quran",title:"حيوانات ذكرت في القرآن",type:"matching",ageGroup:"6-8",matchingPairs:[{id:1,item1:"الفيل",item2:"سورة الفيل"},{id:2,item1:"النملة",item2:"قصة سيدنا سليمان"},{id:3,item1:"الهدهد",item2:"جاء بخبر ملكة سبأ"},{id:4,item1:"الناقة",item2:"معجزة سيدنا صالح"},{id:5,item1:"العنكبوت",item2:"حمى النبي في الغار"}]}],h1=[{id:"wakeup",title:"عند الاستيقاظ",dhikr:"الحمدُ للهِ الذي أحيَانَا بعدَ مَا أمَاتَنَا وإليهِ النُّشُورُ.",audio:"",benefit:"نشكر الله أنه أعطانا يومًا جديدًا.",ageGroup:"3-5"},{id:"sleep",title:"قبل النوم",dhikr:"بِاسْمِكَ رَبِّـي وَضَعْـتُ جَنْـبِي, وَبِكَ أَرْفَعُـهُ.",audio:"",benefit:"نطلب من الله أن يحفظنا ونحن نائمون.",ageGroup:"3-5"},{id:"before_eating",title:"قبل الأكل",dhikr:"بِسْمِ اللهِ.",audio:"",benefit:"نبدأ طعامنا بذكر اسم الله ليبارك فيه.",ageGroup:"3-5"},{id:"after_eating",title:"بعد الأكل",dhikr:"الحمدُ للهِ الذي أطْعَمَنِي هذا ورَزَقَنِيهِ مِنْ غَيْرِ حَوْلٍ مِنِّي ولا قُوَّة.",audio:"",benefit:"نشكر الله على نعمة الطعام اللذيذ.",ageGroup:"6-8"},{id:"enter_home",title:"عند دخول المنزل",dhikr:"بِسْمِ اللهِ وَلَجْنَا, وَبِسْمِ اللهِ خَرَجْنَا, وَعَلَى رَبِّنَا تَوَكَّلْنَا.",audio:"",benefit:"ندخل بيتنا بذكر الله ليدخل معنا الخير.",ageGroup:"6-8"},{id:"exit_home",title:"عند الخروج من المنزل",dhikr:"بِسْمِ اللهِ, تَوَكَّلْتُ عَلَى اللهِ, وَلَا حَوْلَ وَلَا قُوَّةَ إِلَّا بِاللهِ.",audio:"",benefit:"نطلب من الله أن يحفظنا ونحن في الخارج.",ageGroup:"6-8"},{id:"enter_toilet",title:"قبل دخول الحمام",dhikr:"اللَّهُمَّ إِنِّي أَعُوذُ بِكَ مِنَ الْخُبُثِ وَالْخَبَائِثِ.",audio:"",benefit:"نستعيذ بالله من الشياطين.",ageGroup:"6-8"},{id:"exit_toilet",title:"بعد الخروج من الحمام",dhikr:"غُفْرَانَكَ.",audio:"",benefit:"نطلب المغفرة من الله.",ageGroup:"3-5"},{id:"subhanallah",title:"تسبيح",dhikr:"سبحان الله",audio:"",benefit:"ننزه الله عن كل نقص.",ageGroup:"3-5"},{id:"alhamdulillah",title:"تحميد",dhikr:"الحمد لله",audio:"",benefit:"نشكر الله على كل نعمه.",ageGroup:"3-5"},{id:"allahuakbar",title:"تكبير",dhikr:"الله أكبر",audio:"",benefit:"نعظم الله ونقول إنه أكبر من كل شيء.",ageGroup:"3-5"},{id:"lailahaillallah",title:"تهليل",dhikr:"لا إله إلا الله",audio:"",benefit:"هي أفضل كلمة, ومعناها لا معبود بحق إلا الله.",ageGroup:"6-8"},{id:"salah_nabi",title:"الصلاة على النبي",dhikr:"اللَّهُمَّ صَلِّ وَسَلِّمْ عَلَى نَبِيِّنَا مُحَمَّدٍ",audio:"",benefit:"نصلي على نبينا الحبيب لننال شفاعته.",ageGroup:"9-12"}],dy=[{id:"arabic_letters",title:"الحروف العربية",ageGroup:"3-5",cards:[{id:1,front:"أ",back:"ألف"},{id:2,front:"ب",back:"باء"},{id:3,front:"ت",back:"تاء"},{id:4,front:"ث",back:"ثاء"},{id:5,front:"ج",back:"جيم"},{id:6,front:"ح",back:"حاء"},{id:7,front:"خ",back:"خاء"},{id:8,front:"د",back:"دال"},{id:9,front:"ذ",back:"ذال"},{id:10,front:"ر",back:"راء"},{id:11,front:"ز",back:"زاي"},{id:12,front:"س",back:"سين"},{id:13,front:"ش",back:"شين"},{id:14,front:"ص",back:"صاد"},{id:15,front:"ض",back:"ضاد"},{id:16,front:"ط",back:"طاء"},{id:17,front:"ظ",back:"ظاء"},{id:18,front:"ع",back:"عين"},{id:19,front:"غ",back:"غين"},{id:20,front:"ف",back:"فاء"},{id:21,front:"ق",back:"قاف"},{id:22,front:"ك",back:"كاف"},{id:23,front:"ل",back:"لام"},{id:24,front:"م",back:"ميم"},{id:25,front:"ن",back:"نون"},{id:26,front:"هـ",back:"هاء"},{id:27,front:"و",back:"واو"},{id:28,front:"ي",back:"ياء"}]},{id:"pillars_of_islam",title:"أركان الإسلام",ageGroup:"3-5",cards:[{id:1,front:"1",back:"الشهادتان"},{id:2,front:"2",back:"إقامة الصلاة"},{id:3,front:"3",back:"إيتاء الزكاة"},{id:4,front:"4",back:"صوم رمضان"},{id:5,front:"5",back:"حج البيت"}]},{id:"names_of_allah",title:"أسماء الله الحسنى",ageGroup:"9-12",cards:[{id:1,front:"الرحمن",back:"واسع الرحمة"},{id:2,front:"الرحيم",back:"كثير الرحمة بعباده"},{id:3,front:"الملك",back:"مالك كل شيء"},{id:4,front:"القدوس",back:"المنزه عن كل نقص"},{id:5,front:"السلام",back:"السالم من كل عيب"},{id:6,front:"الخالق",back:"الذي أوجد كل شيء"},{id:7,front:"الرزاق",back:"الذي يرزق مخلوقاته"},{id:8,front:"السميع",back:"الذي يسمع كل شيء"},{id:9,front:"البصير",back:"الذي يرى كل شيء"},{id:10,front:"العليم",back:"الذي يعلم كل شيء"},{id:11,front:"الغفور",back:"الذي يغفر الذنوب"}]},{id:"islamic_months",title:"الشهور الهجرية",ageGroup:"6-8",cards:[{id:1,front:"1",back:"محرّم"},{id:2,front:"2",back:"صفر"},{id:3,front:"3",back:"ربيع الأول"},{id:4,front:"4",back:"ربيع الآخر"},{id:5,front:"5",back:"جمادى الأولى"},{id:6,front:"6",back:"جمادى الآخرة"},{id:7,front:"7",back:"رجب"},{id:8,front:"8",back:"شعبان"},{id:9,front:"9",back:"رمضان"},{id:10,front:"10",back:"شوال"},{id:11,front:"11",back:"ذو القعدة"},{id:12,front:"12",back:"ذو الحجة"}]},{id:"prayer_times",title:"أوقات الصلوات",ageGroup:"6-8",cards:[{id:1,front:"الفجر",back:"صلاة الصباح الباكر"},{id:2,front:"الظهر",back:"صلاة منتصف النهار"},{id:3,front:"العصر",back:"صلاة بعد الظهر"},{id:4,front:"المغرب",back:"صلاة عند غروب الشمس"},{id:5,front:"العشاء",back:"صلاة الليل"}]}],p1=()=>l.jsx("span",{className:"text-4xl",children:"📚"}),g1=()=>l.jsx("span",{className:"text-4xl",children:"🎲"}),y1=()=>l.jsx("span",{className:"text-4xl",children:"🤲"}),x1=()=>l.jsx("span",{className:"text-4xl",children:"📇"}),wc=()=>l.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"})}),yr={"bg-sky-100":"bg-sky-100","bg-green-100":"bg-green-100","bg-yellow-100":"bg-yellow-100","bg-pink-100":"bg-pink-100"},ms=(e,t)=>{const[n,i]=b.useState(()=>{try{const a=localStorage.getItem(e);return a?JSON.parse(a):t}catch(a){return console.error(a),t}});return b.useEffect(()=>{localStorage.setItem(e,JSON.stringify(n))},[e,n]),[n,i]},v1=e=>{const t=e?`kidsProgress_${e}`:"kidsProgress_guest",[n,i]=ms(t,{storiesCompleted:[],gamesCorrectAnswers:{},dhikrCompleted:[],flashcardsCompleted:[]});return b.useEffect(()=>{e===null&&i({storiesCompleted:[],gamesCorrectAnswers:{},dhikrCompleted:[],flashcardsCompleted:[]})},[e,i]),[n,i]},Ko=(e,t)=>{const n=[];return t<=5?n.push("3-5"):t>=6&&t<=8?n.push("3-5","6-8"):t>=9&&n.push("6-8","9-12"),e.filter(i=>n.includes(i.ageGroup))},gu=e=>[...e].sort(()=>Math.random()-.5),co=e=>{if("speechSynthesis"in window){window.speechSynthesis.cancel();const t=new SpeechSynthesisUtterance(e);t.lang="ar-SA",t.rate=.9,window.speechSynthesis.speak(t)}else alert("متصفحك لا يدعم نطق النصوص.")},S1=({stories:e,progress:t,onComplete:n,onBack:i})=>{const[a,o]=b.useState(null),[s,u]=b.useState(null),[d,f]=b.useState(null),m=h=>{if(d!==null)return;u(h);const g=h===(a==null?void 0:a.question.correctAnswer);f(g),g&&n(a.id)},p=()=>{o(null),u(null),f(null)};return a?l.jsxs("div",{children:[l.jsxs("button",{onClick:p,className:"flex items-center gap-2 text-text-secondary hover:text-text-primary mb-4 font-tajawal",children:[l.jsx(Ee,{className:"w-5 h-5"}),l.jsx("span",{children:"العودة للقصص"})]}),l.jsxs("div",{className:"bg-card p-6 rounded-lg shadow-lg",children:[l.jsx("div",{className:"text-6xl text-center mb-4",children:a.illustration}),l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-2xl font-bold text-primary font-tajawal",children:a.title}),l.jsxs("button",{onClick:()=>co(a.title+". "+a.content),className:"p-2 text-primary hover:bg-primary/10 rounded-full flex items-center gap-2","aria-label":"استمع للقصة",children:[l.jsx(wc,{}),l.jsx("span",{className:"font-tajawal text-sm font-semibold hidden sm:inline",children:"استمع للقصة"})]})]}),l.jsx("p",{className:"text-text-primary whitespace-pre-line leading-relaxed font-tajawal text-lg mb-4",children:a.content}),l.jsxs("p",{className:"bg-yellow-100 text-yellow-800 p-3 rounded-lg font-semibold font-tajawal",children:["💡 الدرس المستفاد: ",a.moral]}),l.jsxs("div",{className:"mt-6 border-t border-border-color pt-4",children:[l.jsx("h4",{className:"font-bold text-text-primary font-tajawal mb-3",children:"سؤال عن القصة:"}),l.jsx("p",{className:"font-semibold text-text-primary font-tajawal mb-4",children:a.question.text}),l.jsx("div",{className:"space-y-2",children:a.question.options.map(h=>l.jsx("button",{onClick:()=>m(h),className:`w-full text-right p-3 rounded-lg font-tajawal transition-colors ${d!==null&&h===a.question.correctAnswer?"bg-green-200 ring-2 ring-green-500":d===!1&&s===h?"bg-red-200 ring-2 ring-red-500":"bg-background hover:bg-border-color"}`,children:h},h))}),d===!0&&l.jsx("p",{className:"text-green-600 font-bold text-center mt-4 font-tajawal",children:"أحسنت! إجابة صحيحة!"}),d===!1&&l.jsx("p",{className:"text-red-600 font-bold text-center mt-4 font-tajawal",children:"حاول مرة أخرى!"})]})]})]}):l.jsxs("div",{children:[l.jsxs("button",{onClick:i,className:"flex items-center gap-2 text-text-secondary hover:text-text-primary mb-4 font-tajawal",children:[l.jsx(Ee,{className:"w-5 h-5"}),l.jsx("span",{children:"العودة للقائمة"})]}),l.jsx("h2",{className:"text-2xl font-bold text-primary mb-4 font-tajawal",children:"قصص القرآن المبسطة"}),e.length>0?l.jsx("div",{className:"space-y-3",children:e.map(h=>l.jsxs("button",{onClick:()=>o(h),className:"w-full text-right bg-card p-4 rounded-lg shadow-md flex justify-between items-center hover:shadow-lg transition-shadow",children:[l.jsx("span",{className:"font-bold text-lg font-tajawal text-text-primary",children:h.title}),t.storiesCompleted.includes(h.id)&&l.jsx(oi,{className:"w-6 h-6 text-green-500"})]},h.id))}):l.jsx("p",{className:"text-center text-text-secondary font-tajawal p-8 bg-card rounded-lg",children:"لا توجد قصص مناسبة لهذا العمر حاليًا."})]})},b1=({game:e,progress:t,onComplete:n})=>{var N,x;const[i,a]=b.useState(()=>{var y;return gu(((y=e.questions)==null?void 0:y.filter(S=>!t.includes(S.id)))||[])}),[o,s]=b.useState(null),[u,d]=b.useState(!1),f=i[0],m=y=>{u||(s(y),d(!0),f&&y===f.correctAnswer&&n(f.id))},p=()=>{a(y=>y.slice(1)),s(null),d(!1)};if(!f)return l.jsx("div",{className:"bg-card p-6 rounded-lg text-center font-tajawal",children:l.jsx("h3",{className:"text-xl font-bold text-primary",children:"رائع! لقد أكملت كل الأسئلة في هذه اللعبة."})});const h=((N=e.questions)==null?void 0:N.length)||0,g=(((x=e.questions)==null?void 0:x.filter(y=>!t.includes(y.id)))||[]).length-i.length,v=t.length+g+1,E=u&&o===f.correctAnswer;return l.jsxs("div",{className:"bg-card p-6 rounded-lg shadow-lg font-tajawal",children:[l.jsxs("p",{className:"text-sm text-text-secondary mb-3",children:["سؤال ",v," / ",h]}),l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-xl font-bold text-text-primary",children:f.question}),l.jsx("button",{onClick:()=>co(f.question),className:"p-2 text-primary hover:bg-primary/10 rounded-full flex-shrink-0",children:l.jsx(wc,{})})]}),l.jsx("div",{className:"space-y-3",children:f.options.map(y=>l.jsx("button",{onClick:()=>m(y),disabled:u,className:`w-full text-right p-3 rounded-lg transition-colors ${u&&y===f.correctAnswer?"bg-green-200 ring-2 ring-green-500":u&&o===y?"bg-red-200 ring-2 ring-red-500":"bg-background hover:bg-border-color"}`,children:y},y))}),u&&l.jsxs("div",{className:"text-center mt-4 animate-fade-in",children:[l.jsxs("div",{className:"bg-yellow-100 text-yellow-800 p-3 rounded-lg font-semibold font-tajawal text-right mb-4",children:[l.jsxs("p",{className:"font-bold",children:["💡 ",E?"أحسنت! ✅":"معلومة مفيدة:"]}),l.jsx("p",{children:f.explanation})]}),l.jsx("button",{onClick:p,className:"mt-2 bg-primary text-white font-bold py-2 px-6 rounded-md",children:i.length>1?"السؤال التالي":"إنهاء اللعبة"})]})]})},E1=({game:e,progress:t,onComplete:n})=>{const i=b.useMemo(()=>e.matchingPairs||[],[e]),[a]=b.useState(()=>gu(i)),[o]=b.useState(()=>gu(i)),[s,u]=b.useState(null),[d,f]=b.useState(null),[m,p]=b.useState(t),[h,g]=b.useState(!1);if(b.useEffect(()=>{s&&d&&(s.id===d.id?(p(E=>[...E,s.id]),n(s.id)):(g(!0),setTimeout(()=>g(!1),800)),u(null),f(null))},[s,d,n]),m.length===i.length)return l.jsx("div",{className:"bg-card p-6 rounded-lg text-center font-tajawal",children:l.jsx("h3",{className:"text-xl font-bold text-primary",children:"أحسنت! لقد طابقت كل البطاقات بنجاح."})});const v=(E,N)=>{const x=m.includes(E.id),y=N&&(s==null?void 0:s.id)===E.id||!N&&(d==null?void 0:d.id)===E.id;return x?"bg-green-200 text-green-800 opacity-70":y?`ring-2 ring-primary ${h?"bg-red-200":"bg-sky-200"}`:"bg-card hover:bg-border-color"};return l.jsxs("div",{className:"bg-card p-4 rounded-lg shadow-lg font-tajawal",children:[l.jsx("h3",{className:"text-xl font-bold text-center text-primary mb-4",children:"طابق بين العمودين"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx("div",{className:"space-y-3",children:a.map(E=>l.jsx("button",{onClick:()=>!m.includes(E.id)&&u(E),disabled:m.includes(E.id),className:`w-full p-3 rounded-lg shadow transition-all ${v(E,!0)}`,children:E.item1},`1-${E.id}`))}),l.jsx("div",{className:"space-y-3",children:o.map(E=>l.jsx("button",{onClick:()=>!m.includes(E.id)&&f(E),disabled:m.includes(E.id),className:`w-full p-3 rounded-lg shadow transition-all ${v(E,!1)}`,children:E.item2},`2-${E.id}`))})]})]})},T1=({games:e,progress:t,onComplete:n,onBack:i})=>{const[a,o]=b.useState(null),s=u=>{o(u)};return a?l.jsxs("div",{children:[l.jsxs("button",{onClick:()=>o(null),className:"flex items-center gap-2 text-text-secondary hover:text-text-primary mb-4 font-tajawal",children:[l.jsx(Ee,{className:"w-5 h-5"}),l.jsx("span",{children:"العودة للألعاب"})]}),a.type==="quiz"&&l.jsx(b1,{game:a,progress:t[a.id]||[],onComplete:u=>n(a.id,u)}),a.type==="matching"&&l.jsx(E1,{game:a,progress:t[a.id]||[],onComplete:u=>n(a.id,u)})]}):l.jsxs("div",{children:[l.jsxs("button",{onClick:i,className:"flex items-center gap-2 text-text-secondary hover:text-text-primary mb-4 font-tajawal",children:[l.jsx(Ee,{className:"w-5 h-5"}),l.jsx("span",{children:"العودة للقائمة"})]}),l.jsx("h2",{className:"text-2xl font-bold text-primary mb-4 font-tajawal",children:"الألعاب التعليمية"}),e.length>0?l.jsx("div",{className:"space-y-3",children:e.map(u=>{var d,f,m,p;return l.jsxs("button",{onClick:()=>s(u),className:"w-full text-right bg-card p-4 rounded-lg shadow-md flex justify-between items-center hover:shadow-lg transition-shadow",children:[l.jsx("span",{className:"font-bold text-lg font-tajawal text-text-primary",children:u.title}),(((d=t[u.id])==null?void 0:d.length)||0)>0&&l.jsxs("span",{className:"text-xs font-mono bg-green-100 text-green-700 px-2 py-1 rounded-full",children:[(f=t[u.id])==null?void 0:f.length," / ",((m=u.questions)==null?void 0:m.length)||((p=u.matchingPairs)==null?void 0:p.length)]})]},u.id)})}):l.jsx("p",{className:"text-center text-text-secondary font-tajawal p-8 bg-card rounded-lg",children:"لا توجد ألعاب مناسبة لهذا العمر حاليًا."})]})},N1=({dhikrs:e,progress:t,onComplete:n,onBack:i})=>l.jsxs("div",{children:[l.jsxs("button",{onClick:i,className:"flex items-center gap-2 text-text-secondary hover:text-text-primary mb-4 font-tajawal",children:[l.jsx(Ee,{className:"w-5 h-5"}),l.jsx("span",{children:"العودة للقائمة"})]}),l.jsx("h2",{className:"text-2xl font-bold text-primary mb-4 font-tajawal",children:"أذكار الطفل المسلم"}),e.length>0?l.jsx("div",{className:"space-y-3",children:e.map(a=>{const o=t.includes(a.id);return l.jsxs("div",{className:"bg-card p-4 rounded-lg shadow-md",children:[l.jsx("h3",{className:"font-bold text-lg font-tajawal text-text-primary",children:a.title}),l.jsx("p",{className:"text-xl font-amiri-quran text-text-secondary my-3",children:a.dhikr}),l.jsxs("p",{className:"text-sm text-green-700 bg-green-100 p-2 rounded-md font-tajawal",children:["💡 ",a.benefit]}),l.jsxs("div",{className:"flex justify-end items-center gap-2 mt-3",children:[l.jsx("button",{onClick:()=>co(a.dhikr),className:"p-2 text-primary hover:bg-primary/10 rounded-full","aria-label":"استمع للذكر",children:l.jsx(wc,{})}),l.jsx("button",{onClick:()=>n(a.id),disabled:o,className:`px-4 py-2 text-sm font-bold rounded-md transition-colors ${o?"bg-green-200 text-green-800 cursor-not-allowed":"bg-primary/20 text-primary hover:bg-primary/30"}`,children:o?"أتممت":"أتممت الذكر"})]})]},a.id)})}):l.jsx("p",{className:"text-center text-text-secondary font-tajawal p-8 bg-card rounded-lg",children:"لا توجد أذكار مناسبة لهذا العمر حاليًا."})]}),A1=({setId:e,onBack:t,progress:n,onComplete:i})=>{const a=dy.find(h=>h.id===e),[o,s]=b.useState(0),[u,d]=b.useState(!1);if(!a)return null;const f=a.cards[o],m=()=>{d(!1),s(h=>(h+1)%a.cards.length)},p=()=>{d(!1),s(h=>(h-1+a.cards.length)%a.cards.length)};return b.useEffect(()=>{co(u?f.back:f.front)},[u,f]),l.jsxs("div",{className:"font-tajawal",children:[l.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-text-secondary hover:text-text-primary mb-4",children:[l.jsx(Ee,{className:"w-5 h-5"}),l.jsx("span",{children:"العودة للبطاقات"})]}),l.jsx("h2",{className:"text-2xl font-bold text-primary mb-4 text-center",children:a.title}),l.jsx("div",{className:"perspective-1000",children:l.jsxs("div",{onClick:()=>d(!u),className:`relative w-full h-48 sm:h-64 transition-transform duration-700 transform-style-3d cursor-pointer ${u?"rotate-y-180":""}`,children:[l.jsx("div",{className:"absolute w-full h-full backface-hidden bg-card rounded-xl shadow-lg flex items-center justify-center",children:l.jsx("p",{className:"text-6xl font-amiri-quran",children:f.front})}),l.jsx("div",{className:"absolute w-full h-full backface-hidden bg-primary text-white rounded-xl shadow-lg flex items-center justify-center rotate-y-180",children:l.jsx("p",{className:"text-4xl font-tajawal",children:f.back})})]})}),l.jsxs("div",{className:"flex justify-between items-center mt-6",children:[l.jsxs("button",{onClick:p,className:"bg-card p-3 rounded-full shadow-md",children:[" ",l.jsx(Ee,{className:"w-6 h-6"})]}),l.jsxs("span",{className:"font-mono text-text-secondary",children:[o+1," / ",a.cards.length]}),l.jsx("button",{onClick:m,className:"bg-card p-3 rounded-full shadow-md",children:l.jsx(Ee,{className:"w-6 h-6 transform rotate-180"})})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsx("button",{onClick:i,disabled:n,className:`px-6 py-3 text-lg font-bold rounded-md transition-colors ${n?"bg-green-200 text-green-800 cursor-not-allowed":"bg-primary/20 text-primary hover:bg-primary/30"}`,children:n?"أتقنت المجموعة ✓":"أتقنت هذه المجموعة"})})]})},C1=({profiles:e,onSelectProfile:t,onAddProfile:n,onDeleteProfile:i})=>{const[a,o]=b.useState(""),[s,u]=b.useState(5),[d,f]=b.useState(""),m=p=>{p.preventDefault();const h=Number(s);a.trim()&&h>=3&&h<=12?(n(a.trim(),h),o(""),u(5),f("")):f("الرجاء إدخال اسم صحيح وعمر بين 3 و 12 سنوات.")};return l.jsxs("div",{className:"max-w-md mx-auto min-h-screen flex flex-col justify-center items-center p-4 font-tajawal animate-fade-in",children:[l.jsx("h1",{className:"text-3xl font-bold text-primary mb-4",children:"عالم الطفل"}),l.jsx("p",{className:"text-text-secondary mb-8 text-center",children:"اختر ملف طفلك أو أضف ملفًا جديدًا لبدء المغامرة!"}),l.jsxs("div",{className:"w-full bg-card p-6 rounded-lg shadow-lg",children:[l.jsx("h2",{className:"text-xl font-bold mb-4",children:"ملفات الأطفال"}),l.jsx("div",{className:"space-y-3 mb-6",children:e.length>0?e.map(p=>l.jsxs("div",{className:"flex items-center justify-between bg-background p-3 rounded-md",children:[l.jsxs("button",{onClick:()=>t(p),className:"flex-grow text-right hover:text-primary",children:[l.jsx("span",{className:"font-bold",children:p.name}),l.jsxs("span",{className:"text-sm text-text-secondary mr-2",children:["(",p.age," سنوات)"]})]}),l.jsx("button",{onClick:()=>i(p.id),className:"p-1 text-red-500 hover:bg-red-500/10 rounded-full",children:l.jsx(ml,{className:"w-5 h-5"})})]},p.id)):l.jsx("p",{className:"text-center text-text-secondary p-4",children:"لا توجد ملفات. أضف ملفًا جديدًا."})}),l.jsxs("form",{onSubmit:m,className:"border-t border-border-color pt-4",children:[l.jsx("h2",{className:"text-xl font-bold mb-4",children:"إضافة طفل جديد"}),d&&l.jsx("p",{className:"text-red-500 text-sm mb-2",children:d}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("input",{type:"text",value:a,onChange:p=>o(p.target.value),placeholder:"اسم الطفل",className:"w-full p-3 bg-background border border-border-color rounded-lg text-text-primary placeholder-text-secondary focus:outline-none focus:ring-2 focus:ring-primary/50 transition"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("label",{htmlFor:"age",className:"font-semibold",children:"العمر:"}),l.jsx("input",{id:"age",type:"number",value:s,onChange:p=>u(p.target.value),min:"3",max:"12",className:"w-20 p-3 bg-background border border-border-color rounded-lg text-text-primary focus:outline-none focus:ring-2 focus:ring-primary/50 transition"}),l.jsx("span",{children:"سنوات"})]}),l.jsx("button",{type:"submit",className:"w-full bg-primary text-white font-bold py-3 px-4 rounded-lg hover:opacity-90 transition",children:"إضافة"})]})]})]}),l.jsxs("div",{className:"mt-8 p-4 bg-background border border-dashed border-border-color rounded-lg text-center text-sm",children:[l.jsx("p",{className:"font-bold text-text-primary mb-1",children:"💡 نصيحة بسيطة:"}),l.jsx("p",{className:"text-text-secondary",children:'"يُفضل أن يستخدم الطفل الهاتف أو الجهاز اللوحي دائمًا في وجود أحد الوالدين، لضمان تجربة تعليمية آمنة وممتعة."'})]})]})},w1=()=>{const[e,t]=b.useState("menu"),[n,i]=b.useState(null),[a,o]=ms("kidsProfiles",[]),[s,u]=ms("kidsActiveProfile",null),[d,f]=v1((s==null?void 0:s.id)??null),[m,p]=ms("kidsBgColor","bg-sky-100"),h=(V,D)=>{const K={id:Date.now(),name:V,age:D},k=[...a,K];o(k),u(K)},g=V=>{u(V)},v=V=>{window.confirm("هل أنت متأكد من حذف ملف هذا الطفل وكل تقدمه؟")&&(o(a.filter(D=>D.id!==V)),localStorage.removeItem(`kidsProgress_${V}`),(s==null?void 0:s.id)===V&&u(null))},E=()=>{u(null),t("menu")},N=b.useMemo(()=>s?Ko(f1,s.age):[],[s]),x=b.useMemo(()=>s?Ko(m1,s.age):[],[s]),y=b.useMemo(()=>s?Ko(h1,s.age):[],[s]),S=b.useMemo(()=>s?Ko(dy,s.age):[],[s]),T=V=>f(D=>({...D,storiesCompleted:Array.from(new Set([...D.storiesCompleted,V]))})),A=(V,D)=>{f(K=>{const k=K.gamesCorrectAnswers[V]||[];return{...K,gamesCorrectAnswers:{...K.gamesCorrectAnswers,[V]:Array.from(new Set([...k,D]))}}})},_=V=>f(D=>({...D,dhikrCompleted:Array.from(new Set([...D.dhikrCompleted,V]))})),w=V=>f(D=>({...D,flashcardsCompleted:Array.from(new Set([...D.flashcardsCompleted,V]))})),U=N.length+x.reduce((V,D)=>{var K,k;return V+(((K=D.questions)==null?void 0:K.length)||((k=D.matchingPairs)==null?void 0:k.length)||0)},0)+y.length+S.length,I=d.storiesCompleted.length+Object.values(d.gamesCorrectAnswers).reduce((V,D)=>V+D.length,0)+d.dhikrCompleted.length+d.flashcardsCompleted.length,q=U>0?Math.round(I/U*100):0;if(!s)return l.jsx("div",{className:`transition-colors duration-300 ${yr[m]}`,children:l.jsx(C1,{profiles:a,onSelectProfile:g,onAddProfile:h,onDeleteProfile:v})});const O=()=>l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-card p-4 rounded-xl shadow-lg mb-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold font-tajawal text-primary",children:["أهلاً بك, ",s.name,"!"]}),l.jsx("p",{className:"text-text-secondary font-tajawal mt-1",children:"مغامرات قرآنية وتعاليم إسلامية شيقة"})]}),l.jsx("button",{onClick:E,className:"text-sm font-semibold bg-border-color text-text-primary px-3 py-2 rounded-md hover:bg-primary/20",children:"تغيير الطفل"})]}),l.jsxs("div",{className:"mt-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-2 text-center font-tajawal",children:"شريط التقدم"}),l.jsx("div",{className:"w-full bg-border-color rounded-full h-4",children:l.jsx("div",{className:"bg-primary h-4 rounded-full text-white text-xs flex items-center justify-center transition-all duration-500",style:{width:`${q}%`},children:q>10?`${q}%`:""})})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("button",{onClick:()=>t("stories"),className:"p-4 bg-card rounded-lg shadow-md flex flex-col items-center justify-center aspect-square hover:shadow-lg transition-shadow",children:[l.jsx(p1,{}),l.jsx("span",{className:"font-bold mt-2 font-tajawal",children:"قصص القرآن"})]}),l.jsxs("button",{onClick:()=>t("games"),className:"p-4 bg-card rounded-lg shadow-md flex flex-col items-center justify-center aspect-square hover:shadow-lg transition-shadow",children:[l.jsx(g1,{}),l.jsx("span",{className:"font-bold mt-2 font-tajawal",children:"ألعاب تعليمية"})]}),l.jsxs("button",{onClick:()=>t("dhikr"),className:"p-4 bg-card rounded-lg shadow-md flex flex-col items-center justify-center aspect-square hover:shadow-lg transition-shadow",children:[l.jsx(y1,{}),l.jsx("span",{className:"font-bold mt-2 font-tajawal",children:"أذكار الطفل"})]}),l.jsxs("button",{onClick:()=>t("flashcards"),className:"p-4 bg-card rounded-lg shadow-md flex flex-col items-center justify-center aspect-square hover:shadow-lg transition-shadow",children:[l.jsx(x1,{}),l.jsx("span",{className:"font-bold mt-2 font-tajawal",children:"بطاقات تعليمية"})]})]}),l.jsxs("div",{className:"mt-6 text-center",children:[l.jsx("label",{className:"text-sm text-text-secondary font-tajawal",children:"اختر لون الخلفية:"}),l.jsx("div",{className:"flex justify-center gap-3 mt-2",children:Object.keys(yr).map(V=>l.jsx("button",{onClick:()=>p(V),className:`w-8 h-8 rounded-full ${V} border-2 ${m===V?"ring-2 ring-primary ring-offset-2":"border-border-color"}`},V))})]})]}),j=()=>{switch(e){case"stories":return l.jsx(S1,{stories:N,progress:d,onComplete:T,onBack:()=>t("menu")});case"games":return l.jsx(T1,{games:x,progress:d.gamesCorrectAnswers,onComplete:A,onBack:()=>t("menu")});case"dhikr":return l.jsx(N1,{dhikrs:y,progress:d.dhikrCompleted,onComplete:_,onBack:()=>t("menu")});case"flashcards":return l.jsxs("div",{children:[l.jsxs("button",{onClick:()=>t("menu"),className:"flex items-center gap-2 text-text-secondary hover:text-text-primary mb-4 font-tajawal",children:[l.jsx(Ee,{className:"w-5 h-5"}),l.jsx("span",{children:"العودة للقائمة"})]}),l.jsx("h2",{className:"text-2xl font-bold text-primary mb-4 font-tajawal",children:"البطاقات التعليمية"}),S.length>0?l.jsx("div",{className:"space-y-3",children:S.map(V=>l.jsxs("button",{onClick:()=>{i(V.id),t("flashcard_set")},className:"w-full text-right bg-card p-4 rounded-lg shadow-md flex justify-between items-center hover:shadow-lg transition-shadow",children:[l.jsx("span",{className:"font-bold text-lg font-tajawal text-text-primary",children:V.title}),d.flashcardsCompleted.includes(V.id)&&l.jsx(oi,{className:"w-6 h-6 text-green-500"})]},V.id))}):l.jsx("p",{className:"text-center text-text-secondary font-tajawal p-8 bg-card rounded-lg",children:"لا توجد بطاقات مناسبة لهذا العمر حاليًا."})]});case"flashcard_set":return n&&l.jsx(A1,{setId:n,onBack:()=>t("flashcards"),progress:d.flashcardsCompleted.includes(n),onComplete:()=>w(n)});default:return O()}};return l.jsxs("div",{className:`transition-colors duration-300 ${yr[m]}`,children:[l.jsx("style",{children:`
            .perspective-1000 { perspective: 1000px; }
            .transform-style-3d { transform-style: preserve-3d; }
            .rotate-y-180 { transform: rotateY(180deg); }
            .backface-hidden { backface-visibility: hidden; -webkit-backface-visibility: hidden; }
        `}),l.jsx("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 min-h-screen animate-fade-in pb-8",children:j()})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let _1,M1;function R1(){return{geminiUrl:_1,vertexUrl:M1}}function I1(e,t,n,i){var a,o;if(!(e!=null&&e.baseUrl)){const s=R1();return t?(a=s.vertexUrl)!==null&&a!==void 0?a:n:(o=s.geminiUrl)!==null&&o!==void 0?o:i}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fi{}function G(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(i,a)=>{if(Object.prototype.hasOwnProperty.call(t,a)){const o=t[a];return o!=null?String(o):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function c(e,t,n){for(let o=0;o<t.length-1;o++){const s=t[o];if(s.endsWith("[]")){const u=s.slice(0,-2);if(!(u in e))if(Array.isArray(n))e[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(e[u])){const d=e[u];if(Array.isArray(n))for(let f=0;f<d.length;f++){const m=d[f];c(m,t.slice(o+1),n[f])}else for(const f of d)c(f,t.slice(o+1),n)}return}else if(s.endsWith("[0]")){const u=s.slice(0,-3);u in e||(e[u]=[{}]);const d=e[u];c(d[0],t.slice(o+1),n);return}(!e[s]||typeof e[s]!="object")&&(e[s]={}),e=e[s]}const i=t[t.length-1],a=e[i];if(a!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===a)return;if(typeof a=="object"&&typeof n=="object"&&a!==null&&n!==null)Object.assign(a,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[i]=n}function r(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let i=0;i<t.length;i++){if(typeof e!="object"||e===null)return n;const a=t[i];if(a.endsWith("[]")){const o=a.slice(0,-2);if(o in e){const s=e[o];return Array.isArray(s)?s.map(u=>r(u,t.slice(i+1),n)):n}else return n}else e=e[a]}return e}catch(i){if(i instanceof TypeError)return n;throw i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _c(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function k1(e){const t={},n=r(e,["operationName"]);n!=null&&c(t,["operationName"],n);const i=r(e,["resourceName"]);return i!=null&&c(t,["_url","resourceName"],i),t}function D1(e){const t={},n=r(e,["name"]);n!=null&&c(t,["name"],n);const i=r(e,["metadata"]);i!=null&&c(t,["metadata"],i);const a=r(e,["done"]);a!=null&&c(t,["done"],a);const o=r(e,["error"]);o!=null&&c(t,["error"],o);const s=r(e,["response","generateVideoResponse"]);return s!=null&&c(t,["response"],U1(s)),t}function q1(e){const t={},n=r(e,["name"]);n!=null&&c(t,["name"],n);const i=r(e,["metadata"]);i!=null&&c(t,["metadata"],i);const a=r(e,["done"]);a!=null&&c(t,["done"],a);const o=r(e,["error"]);o!=null&&c(t,["error"],o);const s=r(e,["response"]);return s!=null&&c(t,["response"],L1(s)),t}function U1(e){const t={},n=r(e,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>j1(s))),c(t,["generatedVideos"],o)}const i=r(e,["raiMediaFilteredCount"]);i!=null&&c(t,["raiMediaFilteredCount"],i);const a=r(e,["raiMediaFilteredReasons"]);return a!=null&&c(t,["raiMediaFilteredReasons"],a),t}function L1(e){const t={},n=r(e,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>V1(s))),c(t,["generatedVideos"],o)}const i=r(e,["raiMediaFilteredCount"]);i!=null&&c(t,["raiMediaFilteredCount"],i);const a=r(e,["raiMediaFilteredReasons"]);return a!=null&&c(t,["raiMediaFilteredReasons"],a),t}function j1(e){const t={},n=r(e,["_self"]);return n!=null&&c(t,["video"],z1(n)),t}function V1(e){const t={},n=r(e,["_self"]);return n!=null&&c(t,["video"],H1(n)),t}function G1(e){const t={},n=r(e,["operationName"]);return n!=null&&c(t,["_url","operationName"],n),t}function P1(e){const t={},n=r(e,["operationName"]);return n!=null&&c(t,["_url","operationName"],n),t}function z1(e){const t={},n=r(e,["video","uri"]);n!=null&&c(t,["uri"],n);const i=r(e,["video","encodedVideo"]);i!=null&&c(t,["videoBytes"],_c(i));const a=r(e,["encoding"]);return a!=null&&c(t,["mimeType"],a),t}function H1(e){const t={},n=r(e,["gcsUri"]);n!=null&&c(t,["uri"],n);const i=r(e,["bytesBase64Encoded"]);i!=null&&c(t,["videoBytes"],_c(i));const a=r(e,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var If;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(If||(If={}));var kf;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(kf||(kf={}));var B;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(B||(B={}));var Df;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Df||(Df={}));var qf;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(qf||(qf={}));var Uf;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(Uf||(Uf={}));var Lf;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Lf||(Lf={}));var jf;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(jf||(jf={}));var Vf;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Vf||(Vf={}));var Gf;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Gf||(Gf={}));var Pf;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE"})(Pf||(Pf={}));var zf;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(zf||(zf={}));var Hf;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Hf||(Hf={}));var Bf;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY"})(Bf||(Bf={}));var Of;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Of||(Of={}));var Os;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Os||(Os={}));var Jf;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Jf||(Jf={}));var yu;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(yu||(yu={}));var Yf;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Yf||(Yf={}));var Ff;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Ff||(Ff={}));var Kf;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V"})(Kf||(Kf={}));var Qf;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(Qf||(Qf={}));var Xf;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(Xf||(Xf={}));var $f;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})($f||($f={}));var Zf;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Zf||(Zf={}));var Wf;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(Wf||(Wf={}));var em;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(em||(em={}));var tm;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(tm||(tm={}));var nm;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(nm||(nm={}));var im;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(im||(im={}));var am;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(am||(am={}));var om;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(om||(om={}));var sm;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(sm||(sm={}));var lm;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(lm||(lm={}));var rm;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(rm||(rm={}));var um;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(um||(um={}));var cm;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(cm||(cm={}));var dm;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(dm||(dm={}));var fm;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(fm||(fm={}));var mm;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(mm||(mm={}));var hm;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(hm||(hm={}));var pm;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(pm||(pm={}));var gm;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(gm||(gm={}));var ym;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(ym||(ym={}));var xm;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(xm||(xm={}));var vm;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(vm||(vm={}));var Sm;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Sm||(Sm={}));var bm;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(bm||(bm={}));var Ui;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Ui||(Ui={}));class xu{constructor(t){const n={};for(const i of t.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class wa{get text(){var t,n,i,a,o,s,u,d;if(((a=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",m=!1;const p=[];for(const h of(d=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[g,v]of Object.entries(h))g!=="text"&&g!=="thought"&&(v!==null||v!==void 0)&&p.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;m=!0,f+=h.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),m?f:void 0}get data(){var t,n,i,a,o,s,u,d;if(((a=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const m=[];for(const p of(d=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[h,g]of Object.entries(p))h!=="inlineData"&&(g!==null||g!==void 0)&&m.push(h);p.inlineData&&typeof p.inlineData.data=="string"&&(f+=atob(p.inlineData.data))}return m.length>0&&console.warn(`there are non-data parts ${m} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var t,n,i,a,o,s,u,d;if(((a=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(d=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(m=>m.functionCall).map(m=>m.functionCall).filter(m=>m!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var t,n,i,a,o,s,u,d,f;if(((a=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const m=(d=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((m==null?void 0:m.length)!==0)return(f=m==null?void 0:m[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var t,n,i,a,o,s,u,d,f;if(((a=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const m=(d=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((m==null?void 0:m.length)!==0)return(f=m==null?void 0:m[0])===null||f===void 0?void 0:f.output}}class Em{}class Tm{}class B1{}class O1{}class J1{}class Y1{}class Nm{}class Am{}class Cm{}class F1{}class Js{_fromAPIResponse({apiResponse:t,isVertexAI:n}){const i=new Js;let a;const o=t;return n?a=q1(o):a=D1(o),Object.assign(i,a),i}}class wm{}class _m{}class Mm{}class K1{}class Q1{}class X1{}class Rm{}class $1{get text(){var t,n,i;let a="",o=!1;const s=[];for(const u of(i=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[d,f]of Object.entries(u))d!=="text"&&d!=="thought"&&f!==null&&s.push(d);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,a+=u.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?a:void 0}get data(){var t,n,i;let a="";const o=[];for(const s of(i=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[u,d]of Object.entries(s))u!=="inlineData"&&d!==null&&o.push(u);s.inlineData&&typeof s.inlineData.data=="string"&&(a+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class Z1{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function le(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function fy(e,t){const n=le(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function my(e){return Array.isArray(e)?e.map(t=>Ys(t)):[Ys(e)]}function Ys(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function hy(e){const t=Ys(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function py(e){const t=Ys(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Im(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function gy(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>Im(t)):[Im(e)]}function vu(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function km(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function Dm(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function Fe(e){if(e==null)throw new Error("ContentUnion is required");return vu(e)?e:{role:"user",parts:gy(e)}}function Mc(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const i=Fe(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(e.isVertexAI()){const n=Fe(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>Fe(n)):[Fe(t)]}function wt(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(km(e)||Dm(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Fe(e)]}const t=[],n=[],i=vu(e[0]);for(const a of e){const o=vu(a);if(o!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)t.push(a);else{if(km(a)||Dm(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(a)}}return i||t.push({role:"user",parts:gy(n)}),t}function W1(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(i=>i!=="null");if(n.length===1)t.type=Object.values(B).includes(n[0].toUpperCase())?n[0].toUpperCase():B.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const i of n)t.anyOf.push({type:Object.values(B).includes(i.toUpperCase())?i.toUpperCase():B.TYPE_UNSPECIFIED})}}function Oi(e){const t={},n=["items"],i=["anyOf"],a=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=e.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(t.nullable=!0,e=o[1]):o[1].type==="null"&&(t.nullable=!0,e=o[0])),e.type instanceof Array&&W1(e.type,t);for(const[s,u]of Object.entries(e))if(u!=null)if(s=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;t.type=Object.values(B).includes(u.toUpperCase())?u.toUpperCase():B.TYPE_UNSPECIFIED}else if(n.includes(s))t[s]=Oi(u);else if(i.includes(s)){const d=[];for(const f of u){if(f.type=="null"){t.nullable=!0;continue}d.push(Oi(f))}t[s]=d}else if(a.includes(s)){const d={};for(const[f,m]of Object.entries(u))d[f]=Oi(m);t[s]=d}else{if(s==="additionalProperties")continue;t[s]=u}return t}function Rc(e){return Oi(e)}function Ic(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function kc(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function fa(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Oi(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Oi(t.response));return e}function ma(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function eb(e,t,n,i=1){const a=!t.startsWith(`${n}/`)&&t.split("/").length===i;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:a?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:a?`${n}/${t}`:t}function rn(e,t){if(typeof t!="string")throw new Error("name must be a string");return eb(e,t,"cachedContents")}function yy(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Pn(e){return _c(e)}function tb(e){return e!=null&&typeof e=="object"&&"name"in e}function nb(e){return e!=null&&typeof e=="object"&&"video"in e}function ib(e){return e!=null&&typeof e=="object"&&"uri"in e}function xy(e){var t;let n;if(tb(e)&&(n=e.name),!(ib(e)&&(n=e.uri,n===void 0))&&!(nb(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const a=n.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${n}`);n=a[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function vy(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function Sy(e){for(const t of["models","tunedModels","publisherModels"])if(ab(e,t))return e[t];return[]}function ab(e,t){return e!==null&&typeof e=="object"&&t in e}function ob(e,t={}){const n=e,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(i.responseJsonSchema=n.outputSchema),t.behavior&&(i.behavior=t.behavior),{functionDeclarations:[i]}}function sb(e,t={}){const n=[],i=new Set;for(const a of e){const o=a.name;if(i.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);i.add(o);const s=ob(a,t);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function by(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const i=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,a=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(a>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function lb(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function Ey(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const a=n.inlinedResponses;if(!Array.isArray(a)||a.length===0)return e;let o=!1;for(const s of a){if(typeof s!="object"||s===null)continue;const d=s.response;if(typeof d!="object"||d===null)continue;if(d.embedding!==void 0){o=!0;break}}return o&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function ha(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Ty(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rb(e){const t={},n=r(e,["responsesFile"]);n!=null&&c(t,["fileName"],n);const i=r(e,["inlinedResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>jb(s))),c(t,["inlinedResponses"],o)}const a=r(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(s=>s)),c(t,["inlinedEmbedContentResponses"],o)}return t}function ub(e){const t={},n=r(e,["predictionsFormat"]);n!=null&&c(t,["format"],n);const i=r(e,["gcsDestination","outputUriPrefix"]);i!=null&&c(t,["gcsUri"],i);const a=r(e,["bigqueryDestination","outputUri"]);return a!=null&&c(t,["bigqueryUri"],a),t}function cb(e){const t={},n=r(e,["format"]);n!=null&&c(t,["predictionsFormat"],n);const i=r(e,["gcsUri"]);i!=null&&c(t,["gcsDestination","outputUriPrefix"],i);const a=r(e,["bigqueryUri"]);if(a!=null&&c(t,["bigqueryDestination","outputUri"],a),r(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(r(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function qa(e){const t={},n=r(e,["name"]);n!=null&&c(t,["name"],n);const i=r(e,["metadata","displayName"]);i!=null&&c(t,["displayName"],i);const a=r(e,["metadata","state"]);a!=null&&c(t,["state"],Ty(a));const o=r(e,["metadata","createTime"]);o!=null&&c(t,["createTime"],o);const s=r(e,["metadata","endTime"]);s!=null&&c(t,["endTime"],s);const u=r(e,["metadata","updateTime"]);u!=null&&c(t,["updateTime"],u);const d=r(e,["metadata","model"]);d!=null&&c(t,["model"],d);const f=r(e,["metadata","output"]);return f!=null&&c(t,["dest"],rb(Ey(f))),t}function Su(e){const t={},n=r(e,["name"]);n!=null&&c(t,["name"],n);const i=r(e,["displayName"]);i!=null&&c(t,["displayName"],i);const a=r(e,["state"]);a!=null&&c(t,["state"],Ty(a));const o=r(e,["error"]);o!=null&&c(t,["error"],o);const s=r(e,["createTime"]);s!=null&&c(t,["createTime"],s);const u=r(e,["startTime"]);u!=null&&c(t,["startTime"],u);const d=r(e,["endTime"]);d!=null&&c(t,["endTime"],d);const f=r(e,["updateTime"]);f!=null&&c(t,["updateTime"],f);const m=r(e,["model"]);m!=null&&c(t,["model"],m);const p=r(e,["inputConfig"]);p!=null&&c(t,["src"],db(p));const h=r(e,["outputConfig"]);return h!=null&&c(t,["dest"],ub(Ey(h))),t}function db(e){const t={},n=r(e,["instancesFormat"]);n!=null&&c(t,["format"],n);const i=r(e,["gcsSource","uris"]);i!=null&&c(t,["gcsUri"],i);const a=r(e,["bigquerySource","inputUri"]);return a!=null&&c(t,["bigqueryUri"],a),t}function fb(e,t){const n={};if(r(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(r(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=r(t,["fileName"]);i!=null&&c(n,["fileName"],i);const a=r(t,["inlinedRequests"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(s=>Lb(e,s))),c(n,["requests","requests"],o)}return n}function mb(e){const t={},n=r(e,["format"]);n!=null&&c(t,["instancesFormat"],n);const i=r(e,["gcsUri"]);i!=null&&c(t,["gcsSource","uris"],i);const a=r(e,["bigqueryUri"]);if(a!=null&&c(t,["bigquerySource","inputUri"],a),r(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function hb(e){const t={};if(r(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=r(e,["data"]);n!=null&&c(t,["data"],n);const i=r(e,["mimeType"]);return i!=null&&c(t,["mimeType"],i),t}function pb(e,t){const n={},i=r(t,["name"]);return i!=null&&c(n,["_url","name"],ha(e,i)),n}function gb(e,t){const n={},i=r(t,["name"]);return i!=null&&c(n,["_url","name"],ha(e,i)),n}function yb(e){const t={},n=r(e,["content"]);n!=null&&c(t,["content"],n);const i=r(e,["citationMetadata"]);i!=null&&c(t,["citationMetadata"],xb(i));const a=r(e,["tokenCount"]);a!=null&&c(t,["tokenCount"],a);const o=r(e,["finishReason"]);o!=null&&c(t,["finishReason"],o);const s=r(e,["urlContextMetadata"]);s!=null&&c(t,["urlContextMetadata"],s);const u=r(e,["avgLogprobs"]);u!=null&&c(t,["avgLogprobs"],u);const d=r(e,["groundingMetadata"]);d!=null&&c(t,["groundingMetadata"],d);const f=r(e,["index"]);f!=null&&c(t,["index"],f);const m=r(e,["logprobsResult"]);m!=null&&c(t,["logprobsResult"],m);const p=r(e,["safetyRatings"]);if(p!=null){let h=p;Array.isArray(h)&&(h=h.map(g=>g)),c(t,["safetyRatings"],h)}return t}function xb(e){const t={},n=r(e,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>a)),c(t,["citations"],i)}return t}function Ny(e){const t={},n=r(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>Ob(o))),c(t,["parts"],a)}const i=r(e,["role"]);return i!=null&&c(t,["role"],i),t}function vb(e,t){const n={},i=r(e,["displayName"]);if(t!==void 0&&i!=null&&c(t,["batch","displayName"],i),r(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Sb(e,t){const n={},i=r(e,["displayName"]);t!==void 0&&i!=null&&c(t,["displayName"],i);const a=r(e,["dest"]);return t!==void 0&&a!=null&&c(t,["outputConfig"],cb(lb(a))),n}function qm(e,t){const n={},i=r(t,["model"]);i!=null&&c(n,["_url","model"],le(e,i));const a=r(t,["src"]);a!=null&&c(n,["batch","inputConfig"],fb(e,by(e,a)));const o=r(t,["config"]);return o!=null&&vb(o,n),n}function bb(e,t){const n={},i=r(t,["model"]);i!=null&&c(n,["model"],le(e,i));const a=r(t,["src"]);a!=null&&c(n,["inputConfig"],mb(by(e,a)));const o=r(t,["config"]);return o!=null&&Sb(o,n),n}function Eb(e,t){const n={},i=r(e,["displayName"]);return t!==void 0&&i!=null&&c(t,["batch","displayName"],i),n}function xr(e,t){const n={},i=r(t,["model"]);i!=null&&c(n,["_url","model"],le(e,i));const a=r(t,["src"]);a!=null&&c(n,["batch","inputConfig"],Mb(e,a));const o=r(t,["config"]);return o!=null&&Eb(o,n),n}function Tb(e,t){const n={},i=r(t,["name"]);return i!=null&&c(n,["_url","name"],ha(e,i)),n}function Nb(e,t){const n={},i=r(t,["name"]);return i!=null&&c(n,["_url","name"],ha(e,i)),n}function Ab(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=r(e,["name"]);i!=null&&c(t,["name"],i);const a=r(e,["done"]);a!=null&&c(t,["done"],a);const o=r(e,["error"]);return o!=null&&c(t,["error"],o),t}function Cb(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=r(e,["name"]);i!=null&&c(t,["name"],i);const a=r(e,["done"]);a!=null&&c(t,["done"],a);const o=r(e,["error"]);return o!=null&&c(t,["error"],o),t}function wb(e,t){const n={},i=r(t,["contents"]);if(i!=null){let o=Mc(e,i);Array.isArray(o)&&(o=o.map(s=>s)),c(n,["requests[]","request","content"],o)}const a=r(t,["config"]);return a!=null&&c(n,["_self"],_b(a,n)),n}function _b(e,t){const n={},i=r(e,["taskType"]);t!==void 0&&i!=null&&c(t,["requests[]","taskType"],i);const a=r(e,["title"]);t!==void 0&&a!=null&&c(t,["requests[]","title"],a);const o=r(e,["outputDimensionality"]);if(t!==void 0&&o!=null&&c(t,["requests[]","outputDimensionality"],o),r(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(r(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Mb(e,t){const n={},i=r(t,["fileName"]);i!=null&&c(n,["file_name"],i);const a=r(t,["inlinedRequests"]);return a!=null&&c(n,["requests"],wb(e,a)),n}function Rb(e){const t={};if(r(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=r(e,["fileUri"]);n!=null&&c(t,["fileUri"],n);const i=r(e,["mimeType"]);return i!=null&&c(t,["mimeType"],i),t}function Ib(e,t,n){const i={},a=r(t,["systemInstruction"]);n!==void 0&&a!=null&&c(n,["systemInstruction"],Ny(Fe(a)));const o=r(t,["temperature"]);o!=null&&c(i,["temperature"],o);const s=r(t,["topP"]);s!=null&&c(i,["topP"],s);const u=r(t,["topK"]);u!=null&&c(i,["topK"],u);const d=r(t,["candidateCount"]);d!=null&&c(i,["candidateCount"],d);const f=r(t,["maxOutputTokens"]);f!=null&&c(i,["maxOutputTokens"],f);const m=r(t,["stopSequences"]);m!=null&&c(i,["stopSequences"],m);const p=r(t,["responseLogprobs"]);p!=null&&c(i,["responseLogprobs"],p);const h=r(t,["logprobs"]);h!=null&&c(i,["logprobs"],h);const g=r(t,["presencePenalty"]);g!=null&&c(i,["presencePenalty"],g);const v=r(t,["frequencyPenalty"]);v!=null&&c(i,["frequencyPenalty"],v);const E=r(t,["seed"]);E!=null&&c(i,["seed"],E);const N=r(t,["responseMimeType"]);N!=null&&c(i,["responseMimeType"],N);const x=r(t,["responseSchema"]);x!=null&&c(i,["responseSchema"],Rc(x));const y=r(t,["responseJsonSchema"]);if(y!=null&&c(i,["responseJsonSchema"],y),r(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=r(t,["safetySettings"]);if(n!==void 0&&S!=null){let j=S;Array.isArray(j)&&(j=j.map(V=>Jb(V))),c(n,["safetySettings"],j)}const T=r(t,["tools"]);if(n!==void 0&&T!=null){let j=ma(T);Array.isArray(j)&&(j=j.map(V=>Yb(fa(V)))),c(n,["tools"],j)}const A=r(t,["toolConfig"]);if(n!==void 0&&A!=null&&c(n,["toolConfig"],A),r(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const _=r(t,["cachedContent"]);n!==void 0&&_!=null&&c(n,["cachedContent"],rn(e,_));const w=r(t,["responseModalities"]);w!=null&&c(i,["responseModalities"],w);const U=r(t,["mediaResolution"]);U!=null&&c(i,["mediaResolution"],U);const I=r(t,["speechConfig"]);if(I!=null&&c(i,["speechConfig"],Ic(I)),r(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const q=r(t,["thinkingConfig"]);q!=null&&c(i,["thinkingConfig"],q);const O=r(t,["imageConfig"]);return O!=null&&c(i,["imageConfig"],O),i}function kb(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=r(e,["candidates"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(f=>yb(f))),c(t,["candidates"],d)}const a=r(e,["modelVersion"]);a!=null&&c(t,["modelVersion"],a);const o=r(e,["promptFeedback"]);o!=null&&c(t,["promptFeedback"],o);const s=r(e,["responseId"]);s!=null&&c(t,["responseId"],s);const u=r(e,["usageMetadata"]);return u!=null&&c(t,["usageMetadata"],u),t}function Db(e,t){const n={},i=r(t,["name"]);return i!=null&&c(n,["_url","name"],ha(e,i)),n}function qb(e,t){const n={},i=r(t,["name"]);return i!=null&&c(n,["_url","name"],ha(e,i)),n}function Ub(e){const t={},n=r(e,["timeRangeFilter"]);if(n!=null&&c(t,["timeRangeFilter"],n),r(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function Lb(e,t){const n={},i=r(t,["model"]);i!=null&&c(n,["request","model"],le(e,i));const a=r(t,["contents"]);if(a!=null){let s=wt(a);Array.isArray(s)&&(s=s.map(u=>Ny(u))),c(n,["request","contents"],s)}const o=r(t,["config"]);return o!=null&&c(n,["request","generationConfig"],Ib(e,o,r(n,["request"],{}))),n}function jb(e){const t={},n=r(e,["response"]);n!=null&&c(t,["response"],kb(n));const i=r(e,["error"]);return i!=null&&c(t,["error"],i),t}function Vb(e,t){const n={},i=r(e,["pageSize"]);t!==void 0&&i!=null&&c(t,["_query","pageSize"],i);const a=r(e,["pageToken"]);if(t!==void 0&&a!=null&&c(t,["_query","pageToken"],a),r(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Gb(e,t){const n={},i=r(e,["pageSize"]);t!==void 0&&i!=null&&c(t,["_query","pageSize"],i);const a=r(e,["pageToken"]);t!==void 0&&a!=null&&c(t,["_query","pageToken"],a);const o=r(e,["filter"]);return t!==void 0&&o!=null&&c(t,["_query","filter"],o),n}function Pb(e){const t={},n=r(e,["config"]);return n!=null&&Vb(n,t),t}function zb(e){const t={},n=r(e,["config"]);return n!=null&&Gb(n,t),t}function Hb(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=r(e,["nextPageToken"]);i!=null&&c(t,["nextPageToken"],i);const a=r(e,["operations"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(s=>qa(s))),c(t,["batchJobs"],o)}return t}function Bb(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=r(e,["nextPageToken"]);i!=null&&c(t,["nextPageToken"],i);const a=r(e,["batchPredictionJobs"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(s=>Su(s))),c(t,["batchJobs"],o)}return t}function Ob(e){const t={},n=r(e,["videoMetadata"]);n!=null&&c(t,["videoMetadata"],n);const i=r(e,["thought"]);i!=null&&c(t,["thought"],i);const a=r(e,["inlineData"]);a!=null&&c(t,["inlineData"],hb(a));const o=r(e,["fileData"]);o!=null&&c(t,["fileData"],Rb(o));const s=r(e,["thoughtSignature"]);s!=null&&c(t,["thoughtSignature"],s);const u=r(e,["functionCall"]);u!=null&&c(t,["functionCall"],u);const d=r(e,["codeExecutionResult"]);d!=null&&c(t,["codeExecutionResult"],d);const f=r(e,["executableCode"]);f!=null&&c(t,["executableCode"],f);const m=r(e,["functionResponse"]);m!=null&&c(t,["functionResponse"],m);const p=r(e,["text"]);return p!=null&&c(t,["text"],p),t}function Jb(e){const t={};if(r(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=r(e,["category"]);n!=null&&c(t,["category"],n);const i=r(e,["threshold"]);return i!=null&&c(t,["threshold"],i),t}function Yb(e){const t={},n=r(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),c(t,["functionDeclarations"],d)}if(r(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=r(e,["googleSearch"]);i!=null&&c(t,["googleSearch"],Ub(i));const a=r(e,["googleSearchRetrieval"]);if(a!=null&&c(t,["googleSearchRetrieval"],a),r(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(r(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const o=r(e,["urlContext"]);o!=null&&c(t,["urlContext"],o);const s=r(e,["computerUse"]);s!=null&&c(t,["computerUse"],s);const u=r(e,["codeExecution"]);return u!=null&&c(t,["codeExecution"],u),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var si;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(si||(si={}));class No{constructor(t,n,i,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,i,a)}init(t,n,i){var a,o;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!i||Object.keys(i).length===0?s={config:{}}:typeof i=="object"?s=Object.assign({},i):s=i,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(a=s.config)===null||a===void 0?void 0:a.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fb extends fi{constructor(t){super(),this.apiClient=t,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{var i,a;if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");if(!(n.src.inlinedRequests!==void 0))return this.createEmbeddingsInternal(n);const u=this.createInlinedEmbedContentRequest(n),d=u.path,f=u.body,m=xr(this.apiClient,n)._query||{};return this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=n.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()).then(h=>qa(h))},this.list=async(n={})=>new No(si.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n)}createInlinedGenerateContentRequest(t){const n=qm(this.apiClient,t),i=n._url,a=G("{model}:batchGenerateContent",i),u=n.batch.inputConfig.requests,d=u.requests,f=[];for(const m of d){const p=Object.assign({},m);if(p.systemInstruction){const h=p.systemInstruction;delete p.systemInstruction;const g=p.request;g.systemInstruction=h,p.request=g}f.push(p)}return u.requests=f,delete n.config,delete n._url,delete n._query,{path:a,body:n}}createInlinedEmbedContentRequest(t){const n=xr(this.apiClient,t),i=n._url,a=G("{model}:asyncBatchEmbedContent",i),u=n.batch.inputConfig.requests,d=u.requests,f=[];delete u.config;for(const m of d){const p=Object.assign({},m),h=p.request;for(const g in p)g!=="request"&&(h[g]=p[g],delete p[g]);f.push(p)}return u.requests=f,delete n.config,delete n._url,delete n._query,{path:a,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const i=n?Object.assign({},n):{},a=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${a}`),i.dest===void 0){const o=this.getGcsUri(t),s=this.getBigqueryUri(t);if(o)o.endsWith(".jsonl")?i.dest=`${o.slice(0,-6)}/dest`:i.dest=`${o}_dest_${a}`;else if(s)i.dest=`${s}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(t){var n,i,a,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=bb(this.apiClient,t);return u=G("batchPredictionJobs",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),s.then(m=>Su(m))}else{const f=qm(this.apiClient,t);return u=G("{model}:batchGenerateContent",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),s.then(m=>qa(m))}}async createEmbeddingsInternal(t){var n,i;let a,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=xr(this.apiClient,t);return o=G("{model}:asyncBatchEmbedContent",u._url),s=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>qa(d))}}async get(t){var n,i,a,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=qb(this.apiClient,t);return u=G("batchPredictionJobs/{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),s.then(m=>Su(m))}else{const f=Db(this.apiClient,t);return u=G("batches/{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),s.then(m=>qa(m))}}async cancel(t){var n,i,a,o;let s="",u={};if(this.apiClient.isVertexAI()){const d=gb(this.apiClient,t);s=G("batchPredictionJobs/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}else{const d=pb(this.apiClient,t);s=G("batches/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,i,a,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=zb(t);return u=G("batchPredictionJobs",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),s.then(m=>{const p=Bb(m),h=new Rm;return Object.assign(h,p),h})}else{const f=Pb(t);return u=G("batches",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),s.then(m=>{const p=Hb(m),h=new Rm;return Object.assign(h,p),h})}}async delete(t){var n,i,a,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=Nb(this.apiClient,t);return u=G("batchPredictionJobs/{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),s.then(m=>Cb(m))}else{const f=Tb(this.apiClient,t);return u=G("batches/{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),s.then(m=>Ab(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kb(e){const t={};if(r(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=r(e,["data"]);n!=null&&c(t,["data"],n);const i=r(e,["mimeType"]);return i!=null&&c(t,["mimeType"],i),t}function Um(e){const t={},n=r(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>hE(o))),c(t,["parts"],a)}const i=r(e,["role"]);return i!=null&&c(t,["role"],i),t}function Qb(e,t){const n={},i=r(e,["ttl"]);t!==void 0&&i!=null&&c(t,["ttl"],i);const a=r(e,["expireTime"]);t!==void 0&&a!=null&&c(t,["expireTime"],a);const o=r(e,["displayName"]);t!==void 0&&o!=null&&c(t,["displayName"],o);const s=r(e,["contents"]);if(t!==void 0&&s!=null){let m=wt(s);Array.isArray(m)&&(m=m.map(p=>Um(p))),c(t,["contents"],m)}const u=r(e,["systemInstruction"]);t!==void 0&&u!=null&&c(t,["systemInstruction"],Um(Fe(u)));const d=r(e,["tools"]);if(t!==void 0&&d!=null){let m=d;Array.isArray(m)&&(m=m.map(p=>pE(p))),c(t,["tools"],m)}const f=r(e,["toolConfig"]);if(t!==void 0&&f!=null&&c(t,["toolConfig"],f),r(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Xb(e,t){const n={},i=r(e,["ttl"]);t!==void 0&&i!=null&&c(t,["ttl"],i);const a=r(e,["expireTime"]);t!==void 0&&a!=null&&c(t,["expireTime"],a);const o=r(e,["displayName"]);t!==void 0&&o!=null&&c(t,["displayName"],o);const s=r(e,["contents"]);if(t!==void 0&&s!=null){let p=wt(s);Array.isArray(p)&&(p=p.map(h=>h)),c(t,["contents"],p)}const u=r(e,["systemInstruction"]);t!==void 0&&u!=null&&c(t,["systemInstruction"],Fe(u));const d=r(e,["tools"]);if(t!==void 0&&d!=null){let p=d;Array.isArray(p)&&(p=p.map(h=>gE(h))),c(t,["tools"],p)}const f=r(e,["toolConfig"]);t!==void 0&&f!=null&&c(t,["toolConfig"],f);const m=r(e,["kmsKeyName"]);return t!==void 0&&m!=null&&c(t,["encryption_spec","kmsKeyName"],m),n}function $b(e,t){const n={},i=r(t,["model"]);i!=null&&c(n,["model"],fy(e,i));const a=r(t,["config"]);return a!=null&&Qb(a,n),n}function Zb(e,t){const n={},i=r(t,["model"]);i!=null&&c(n,["model"],fy(e,i));const a=r(t,["config"]);return a!=null&&Xb(a,n),n}function Wb(e,t){const n={},i=r(t,["name"]);return i!=null&&c(n,["_url","name"],rn(e,i)),n}function eE(e,t){const n={},i=r(t,["name"]);return i!=null&&c(n,["_url","name"],rn(e,i)),n}function tE(e){const t={},n=r(e,["sdkHttpResponse"]);return n!=null&&c(t,["sdkHttpResponse"],n),t}function nE(e){const t={},n=r(e,["sdkHttpResponse"]);return n!=null&&c(t,["sdkHttpResponse"],n),t}function iE(e){const t={};if(r(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=r(e,["fileUri"]);n!=null&&c(t,["fileUri"],n);const i=r(e,["mimeType"]);return i!=null&&c(t,["mimeType"],i),t}function aE(e){const t={};if(r(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=r(e,["description"]);n!=null&&c(t,["description"],n);const i=r(e,["name"]);i!=null&&c(t,["name"],i);const a=r(e,["parameters"]);a!=null&&c(t,["parameters"],a);const o=r(e,["parametersJsonSchema"]);o!=null&&c(t,["parametersJsonSchema"],o);const s=r(e,["response"]);s!=null&&c(t,["response"],s);const u=r(e,["responseJsonSchema"]);return u!=null&&c(t,["responseJsonSchema"],u),t}function oE(e,t){const n={},i=r(t,["name"]);return i!=null&&c(n,["_url","name"],rn(e,i)),n}function sE(e,t){const n={},i=r(t,["name"]);return i!=null&&c(n,["_url","name"],rn(e,i)),n}function lE(e){const t={},n=r(e,["timeRangeFilter"]);if(n!=null&&c(t,["timeRangeFilter"],n),r(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function rE(e,t){const n={},i=r(e,["pageSize"]);t!==void 0&&i!=null&&c(t,["_query","pageSize"],i);const a=r(e,["pageToken"]);return t!==void 0&&a!=null&&c(t,["_query","pageToken"],a),n}function uE(e,t){const n={},i=r(e,["pageSize"]);t!==void 0&&i!=null&&c(t,["_query","pageSize"],i);const a=r(e,["pageToken"]);return t!==void 0&&a!=null&&c(t,["_query","pageToken"],a),n}function cE(e){const t={},n=r(e,["config"]);return n!=null&&rE(n,t),t}function dE(e){const t={},n=r(e,["config"]);return n!=null&&uE(n,t),t}function fE(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=r(e,["nextPageToken"]);i!=null&&c(t,["nextPageToken"],i);const a=r(e,["cachedContents"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(s=>s)),c(t,["cachedContents"],o)}return t}function mE(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=r(e,["nextPageToken"]);i!=null&&c(t,["nextPageToken"],i);const a=r(e,["cachedContents"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(s=>s)),c(t,["cachedContents"],o)}return t}function hE(e){const t={},n=r(e,["videoMetadata"]);n!=null&&c(t,["videoMetadata"],n);const i=r(e,["thought"]);i!=null&&c(t,["thought"],i);const a=r(e,["inlineData"]);a!=null&&c(t,["inlineData"],Kb(a));const o=r(e,["fileData"]);o!=null&&c(t,["fileData"],iE(o));const s=r(e,["thoughtSignature"]);s!=null&&c(t,["thoughtSignature"],s);const u=r(e,["functionCall"]);u!=null&&c(t,["functionCall"],u);const d=r(e,["codeExecutionResult"]);d!=null&&c(t,["codeExecutionResult"],d);const f=r(e,["executableCode"]);f!=null&&c(t,["executableCode"],f);const m=r(e,["functionResponse"]);m!=null&&c(t,["functionResponse"],m);const p=r(e,["text"]);return p!=null&&c(t,["text"],p),t}function pE(e){const t={},n=r(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),c(t,["functionDeclarations"],d)}if(r(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=r(e,["googleSearch"]);i!=null&&c(t,["googleSearch"],lE(i));const a=r(e,["googleSearchRetrieval"]);if(a!=null&&c(t,["googleSearchRetrieval"],a),r(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(r(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const o=r(e,["urlContext"]);o!=null&&c(t,["urlContext"],o);const s=r(e,["computerUse"]);s!=null&&c(t,["computerUse"],s);const u=r(e,["codeExecution"]);return u!=null&&c(t,["codeExecution"],u),t}function gE(e){const t={},n=r(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>aE(h))),c(t,["functionDeclarations"],p)}const i=r(e,["retrieval"]);i!=null&&c(t,["retrieval"],i);const a=r(e,["googleSearch"]);a!=null&&c(t,["googleSearch"],a);const o=r(e,["googleSearchRetrieval"]);o!=null&&c(t,["googleSearchRetrieval"],o);const s=r(e,["enterpriseWebSearch"]);s!=null&&c(t,["enterpriseWebSearch"],s);const u=r(e,["googleMaps"]);u!=null&&c(t,["googleMaps"],u);const d=r(e,["urlContext"]);d!=null&&c(t,["urlContext"],d);const f=r(e,["computerUse"]);f!=null&&c(t,["computerUse"],f);const m=r(e,["codeExecution"]);return m!=null&&c(t,["codeExecution"],m),t}function yE(e,t){const n={},i=r(e,["ttl"]);t!==void 0&&i!=null&&c(t,["ttl"],i);const a=r(e,["expireTime"]);return t!==void 0&&a!=null&&c(t,["expireTime"],a),n}function xE(e,t){const n={},i=r(e,["ttl"]);t!==void 0&&i!=null&&c(t,["ttl"],i);const a=r(e,["expireTime"]);return t!==void 0&&a!=null&&c(t,["expireTime"],a),n}function vE(e,t){const n={},i=r(t,["name"]);i!=null&&c(n,["_url","name"],rn(e,i));const a=r(t,["config"]);return a!=null&&yE(a,n),n}function SE(e,t){const n={},i=r(t,["name"]);i!=null&&c(n,["_url","name"],rn(e,i));const a=r(t,["config"]);return a!=null&&xE(a,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bE extends fi{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new No(si.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(t){var n,i,a,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=Zb(this.apiClient,t);return u=G("cachedContents",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),s.then(m=>m)}else{const f=$b(this.apiClient,t);return u=G("cachedContents",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),s.then(m=>m)}}async get(t){var n,i,a,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=sE(this.apiClient,t);return u=G("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),s.then(m=>m)}else{const f=oE(this.apiClient,t);return u=G("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),s.then(m=>m)}}async delete(t){var n,i,a,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=eE(this.apiClient,t);return u=G("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),s.then(m=>{const p=nE(m),h=new _m;return Object.assign(h,p),h})}else{const f=Wb(this.apiClient,t);return u=G("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),s.then(m=>{const p=tE(m),h=new _m;return Object.assign(h,p),h})}}async update(t){var n,i,a,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=SE(this.apiClient,t);return u=G("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),s.then(m=>m)}else{const f=vE(this.apiClient,t);return u=G("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),s.then(m=>m)}}async listInternal(t){var n,i,a,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=dE(t);return u=G("cachedContents",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),s.then(m=>{const p=mE(m),h=new Mm;return Object.assign(h,p),h})}else{const f=cE(t);return u=G("cachedContents",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),s.then(m=>{const p=fE(m),h=new Mm;return Object.assign(h,p),h})}}}function Lm(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ve(e){return this instanceof ve?(this.v=e,this):new ve(e)}function Ji(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),a,o=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),a[Symbol.asyncIterator]=function(){return this},a;function s(g){return function(v){return Promise.resolve(v).then(g,p)}}function u(g,v){i[g]&&(a[g]=function(E){return new Promise(function(N,x){o.push([g,E,N,x])>1||d(g,E)})},v&&(a[g]=v(a[g])))}function d(g,v){try{f(i[g](v))}catch(E){h(o[0][3],E)}}function f(g){g.value instanceof ve?Promise.resolve(g.value.v).then(m,p):h(o[0][2],g)}function m(g){d("next",g)}function p(g){d("throw",g)}function h(g,v){g(v),o.shift(),o.length&&d(o[0][0],o[0][1])}}function Qa(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Lm=="function"?Lm(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=e[o]&&function(s){return new Promise(function(u,d){s=e[o](s),a(u,d,s.done,s.value)})}}function a(o,s,u,d){Promise.resolve(d).then(function(f){o({value:f,done:u})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EE(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:Ay(n)}function Ay(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function TE(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function jm(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let i=0;for(;i<n;)if(e[i].role==="user")t.push(e[i]),i++;else{const a=[];let o=!0;for(;i<n&&e[i].role==="model";)a.push(e[i]),o&&!Ay(e[i])&&(o=!1),i++;o?t.push(...a):t.pop()}return t}class NE{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new AE(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class AE{constructor(t,n,i,a={},o=[]){this.apiClient=t,this.modelsModule=n,this.model=i,this.config=a,this.history=o,this.sendPromise=Promise.resolve(),TE(o)}async sendMessage(t){var n;await this.sendPromise;const i=Fe(t.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s,u;const d=await a,f=(s=(o=d.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,m=d.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let h=[];m!=null&&(h=(u=m.slice(p))!==null&&u!==void 0?u:[]);const g=f?[f]:[];this.recordHistory(i,g,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(t){var n;await this.sendPromise;const i=Fe(t.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const o=await a;return this.processStreamResponse(o,i)}getHistory(t=!1){const n=t?jm(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){var i,a;return Ji(this,arguments,function*(){var s,u,d,f;const m=[];try{for(var p=!0,h=Qa(t),g;g=yield ve(h.next()),s=g.done,!s;p=!0){f=g.value,p=!1;const v=f;if(EE(v)){const E=(a=(i=v.candidates)===null||i===void 0?void 0:i[0])===null||a===void 0?void 0:a.content;E!==void 0&&m.push(E)}yield yield ve(v)}}catch(v){u={error:v}}finally{try{!p&&!s&&(d=h.return)&&(yield ve(d.call(h)))}finally{if(u)throw u.error}}this.recordHistory(n,m)})}recordHistory(t,n,i){let a=[];n.length>0&&n.every(o=>o.role!==void 0)?a=n:a.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...jm(i)):this.history.push(t),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hl extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,hl.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CE(e){const t={},n=r(e,["file"]);return n!=null&&c(t,["file"],n),t}function wE(e){const t={},n=r(e,["sdkHttpResponse"]);return n!=null&&c(t,["sdkHttpResponse"],n),t}function _E(e){const t={},n=r(e,["name"]);return n!=null&&c(t,["_url","file"],xy(n)),t}function ME(e){const t={},n=r(e,["sdkHttpResponse"]);return n!=null&&c(t,["sdkHttpResponse"],n),t}function RE(e){const t={},n=r(e,["name"]);return n!=null&&c(t,["_url","file"],xy(n)),t}function IE(e,t){const n={},i=r(e,["pageSize"]);t!==void 0&&i!=null&&c(t,["_query","pageSize"],i);const a=r(e,["pageToken"]);return t!==void 0&&a!=null&&c(t,["_query","pageToken"],a),n}function kE(e){const t={},n=r(e,["config"]);return n!=null&&IE(n,t),t}function DE(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=r(e,["nextPageToken"]);i!=null&&c(t,["nextPageToken"],i);const a=r(e,["files"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(s=>s)),c(t,["files"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qE extends fi{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new No(si.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,i;let a,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=kE(t);return o=G("files",u._url),s=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:d.headers},m})),a.then(d=>{const f=DE(d),m=new K1;return Object.assign(m,f),m})}}async createInternal(t){var n,i;let a,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=CE(t);return o=G("upload/v1beta/files",u._url),s=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>{const f=wE(d),m=new Q1;return Object.assign(m,f),m})}}async get(t){var n,i;let a,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=RE(t);return o=G("files/{file}",u._url),s=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async delete(t){var n,i;let a,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=_E(t);return o=G("files/{file}",u._url),s=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:d.headers},m})),a.then(d=>{const f=ME(d),m=new X1;return Object.assign(m,f),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hs(e){const t={};if(r(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=r(e,["data"]);n!=null&&c(t,["data"],n);const i=r(e,["mimeType"]);return i!=null&&c(t,["mimeType"],i),t}function UE(e){const t={},n=r(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>QE(o))),c(t,["parts"],a)}const i=r(e,["role"]);return i!=null&&c(t,["role"],i),t}function LE(e){const t={};if(r(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=r(e,["fileUri"]);n!=null&&c(t,["fileUri"],n);const i=r(e,["mimeType"]);return i!=null&&c(t,["mimeType"],i),t}function jE(e){const t={};if(r(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=r(e,["description"]);n!=null&&c(t,["description"],n);const i=r(e,["name"]);i!=null&&c(t,["name"],i);const a=r(e,["parameters"]);a!=null&&c(t,["parameters"],a);const o=r(e,["parametersJsonSchema"]);o!=null&&c(t,["parametersJsonSchema"],o);const s=r(e,["response"]);s!=null&&c(t,["response"],s);const u=r(e,["responseJsonSchema"]);return u!=null&&c(t,["responseJsonSchema"],u),t}function VE(e){const t={},n=r(e,["modelSelectionConfig"]);n!=null&&c(t,["modelConfig"],n);const i=r(e,["audioTimestamp"]);i!=null&&c(t,["audioTimestamp"],i);const a=r(e,["candidateCount"]);a!=null&&c(t,["candidateCount"],a);const o=r(e,["enableAffectiveDialog"]);o!=null&&c(t,["enableAffectiveDialog"],o);const s=r(e,["frequencyPenalty"]);s!=null&&c(t,["frequencyPenalty"],s);const u=r(e,["logprobs"]);u!=null&&c(t,["logprobs"],u);const d=r(e,["maxOutputTokens"]);d!=null&&c(t,["maxOutputTokens"],d);const f=r(e,["mediaResolution"]);f!=null&&c(t,["mediaResolution"],f);const m=r(e,["presencePenalty"]);m!=null&&c(t,["presencePenalty"],m);const p=r(e,["responseJsonSchema"]);p!=null&&c(t,["responseJsonSchema"],p);const h=r(e,["responseLogprobs"]);h!=null&&c(t,["responseLogprobs"],h);const g=r(e,["responseMimeType"]);g!=null&&c(t,["responseMimeType"],g);const v=r(e,["responseModalities"]);v!=null&&c(t,["responseModalities"],v);const E=r(e,["responseSchema"]);E!=null&&c(t,["responseSchema"],E);const N=r(e,["routingConfig"]);N!=null&&c(t,["routingConfig"],N);const x=r(e,["seed"]);x!=null&&c(t,["seed"],x);const y=r(e,["speechConfig"]);y!=null&&c(t,["speechConfig"],Cy(y));const S=r(e,["stopSequences"]);S!=null&&c(t,["stopSequences"],S);const T=r(e,["temperature"]);T!=null&&c(t,["temperature"],T);const A=r(e,["thinkingConfig"]);A!=null&&c(t,["thinkingConfig"],A);const _=r(e,["topK"]);_!=null&&c(t,["topK"],_);const w=r(e,["topP"]);return w!=null&&c(t,["topP"],w),t}function GE(e){const t={},n=r(e,["timeRangeFilter"]);if(n!=null&&c(t,["timeRangeFilter"],n),r(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function PE(e,t){const n={},i=r(e,["generationConfig"]);t!==void 0&&i!=null&&c(t,["setup","generationConfig"],i);const a=r(e,["responseModalities"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig","responseModalities"],a);const o=r(e,["temperature"]);t!==void 0&&o!=null&&c(t,["setup","generationConfig","temperature"],o);const s=r(e,["topP"]);t!==void 0&&s!=null&&c(t,["setup","generationConfig","topP"],s);const u=r(e,["topK"]);t!==void 0&&u!=null&&c(t,["setup","generationConfig","topK"],u);const d=r(e,["maxOutputTokens"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","maxOutputTokens"],d);const f=r(e,["mediaResolution"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","mediaResolution"],f);const m=r(e,["seed"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","seed"],m);const p=r(e,["speechConfig"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","speechConfig"],kc(p));const h=r(e,["thinkingConfig"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","thinkingConfig"],h);const g=r(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],g);const v=r(e,["systemInstruction"]);t!==void 0&&v!=null&&c(t,["setup","systemInstruction"],UE(Fe(v)));const E=r(e,["tools"]);if(t!==void 0&&E!=null){let _=ma(E);Array.isArray(_)&&(_=_.map(w=>$E(fa(w)))),c(t,["setup","tools"],_)}const N=r(e,["sessionResumption"]);t!==void 0&&N!=null&&c(t,["setup","sessionResumption"],XE(N));const x=r(e,["inputAudioTranscription"]);t!==void 0&&x!=null&&c(t,["setup","inputAudioTranscription"],x);const y=r(e,["outputAudioTranscription"]);t!==void 0&&y!=null&&c(t,["setup","outputAudioTranscription"],y);const S=r(e,["realtimeInputConfig"]);t!==void 0&&S!=null&&c(t,["setup","realtimeInputConfig"],S);const T=r(e,["contextWindowCompression"]);t!==void 0&&T!=null&&c(t,["setup","contextWindowCompression"],T);const A=r(e,["proactivity"]);return t!==void 0&&A!=null&&c(t,["setup","proactivity"],A),n}function zE(e,t){const n={},i=r(e,["generationConfig"]);t!==void 0&&i!=null&&c(t,["setup","generationConfig"],VE(i));const a=r(e,["responseModalities"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig","responseModalities"],a);const o=r(e,["temperature"]);t!==void 0&&o!=null&&c(t,["setup","generationConfig","temperature"],o);const s=r(e,["topP"]);t!==void 0&&s!=null&&c(t,["setup","generationConfig","topP"],s);const u=r(e,["topK"]);t!==void 0&&u!=null&&c(t,["setup","generationConfig","topK"],u);const d=r(e,["maxOutputTokens"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","maxOutputTokens"],d);const f=r(e,["mediaResolution"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","mediaResolution"],f);const m=r(e,["seed"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","seed"],m);const p=r(e,["speechConfig"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","speechConfig"],Cy(kc(p)));const h=r(e,["thinkingConfig"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","thinkingConfig"],h);const g=r(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],g);const v=r(e,["systemInstruction"]);t!==void 0&&v!=null&&c(t,["setup","systemInstruction"],Fe(v));const E=r(e,["tools"]);if(t!==void 0&&E!=null){let _=ma(E);Array.isArray(_)&&(_=_.map(w=>ZE(fa(w)))),c(t,["setup","tools"],_)}const N=r(e,["sessionResumption"]);t!==void 0&&N!=null&&c(t,["setup","sessionResumption"],N);const x=r(e,["inputAudioTranscription"]);t!==void 0&&x!=null&&c(t,["setup","inputAudioTranscription"],x);const y=r(e,["outputAudioTranscription"]);t!==void 0&&y!=null&&c(t,["setup","outputAudioTranscription"],y);const S=r(e,["realtimeInputConfig"]);t!==void 0&&S!=null&&c(t,["setup","realtimeInputConfig"],S);const T=r(e,["contextWindowCompression"]);t!==void 0&&T!=null&&c(t,["setup","contextWindowCompression"],T);const A=r(e,["proactivity"]);return t!==void 0&&A!=null&&c(t,["setup","proactivity"],A),n}function HE(e,t){const n={},i=r(t,["model"]);i!=null&&c(n,["setup","model"],le(e,i));const a=r(t,["config"]);return a!=null&&c(n,["config"],PE(a,n)),n}function BE(e,t){const n={},i=r(t,["model"]);i!=null&&c(n,["setup","model"],le(e,i));const a=r(t,["config"]);return a!=null&&c(n,["config"],zE(a,n)),n}function OE(e){const t={},n=r(e,["musicGenerationConfig"]);return n!=null&&c(t,["musicGenerationConfig"],n),t}function JE(e){const t={},n=r(e,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>a)),c(t,["weightedPrompts"],i)}return t}function YE(e){const t={},n=r(e,["media"]);if(n!=null){let f=my(n);Array.isArray(f)&&(f=f.map(m=>hs(m))),c(t,["mediaChunks"],f)}const i=r(e,["audio"]);i!=null&&c(t,["audio"],hs(py(i)));const a=r(e,["audioStreamEnd"]);a!=null&&c(t,["audioStreamEnd"],a);const o=r(e,["video"]);o!=null&&c(t,["video"],hs(hy(o)));const s=r(e,["text"]);s!=null&&c(t,["text"],s);const u=r(e,["activityStart"]);u!=null&&c(t,["activityStart"],u);const d=r(e,["activityEnd"]);return d!=null&&c(t,["activityEnd"],d),t}function FE(e){const t={},n=r(e,["media"]);if(n!=null){let f=my(n);Array.isArray(f)&&(f=f.map(m=>m)),c(t,["mediaChunks"],f)}const i=r(e,["audio"]);i!=null&&c(t,["audio"],py(i));const a=r(e,["audioStreamEnd"]);a!=null&&c(t,["audioStreamEnd"],a);const o=r(e,["video"]);o!=null&&c(t,["video"],hy(o));const s=r(e,["text"]);s!=null&&c(t,["text"],s);const u=r(e,["activityStart"]);u!=null&&c(t,["activityStart"],u);const d=r(e,["activityEnd"]);return d!=null&&c(t,["activityEnd"],d),t}function KE(e){const t={},n=r(e,["setupComplete"]);n!=null&&c(t,["setupComplete"],n);const i=r(e,["serverContent"]);i!=null&&c(t,["serverContent"],i);const a=r(e,["toolCall"]);a!=null&&c(t,["toolCall"],a);const o=r(e,["toolCallCancellation"]);o!=null&&c(t,["toolCallCancellation"],o);const s=r(e,["usageMetadata"]);s!=null&&c(t,["usageMetadata"],WE(s));const u=r(e,["goAway"]);u!=null&&c(t,["goAway"],u);const d=r(e,["sessionResumptionUpdate"]);return d!=null&&c(t,["sessionResumptionUpdate"],d),t}function QE(e){const t={},n=r(e,["videoMetadata"]);n!=null&&c(t,["videoMetadata"],n);const i=r(e,["thought"]);i!=null&&c(t,["thought"],i);const a=r(e,["inlineData"]);a!=null&&c(t,["inlineData"],hs(a));const o=r(e,["fileData"]);o!=null&&c(t,["fileData"],LE(o));const s=r(e,["thoughtSignature"]);s!=null&&c(t,["thoughtSignature"],s);const u=r(e,["functionCall"]);u!=null&&c(t,["functionCall"],u);const d=r(e,["codeExecutionResult"]);d!=null&&c(t,["codeExecutionResult"],d);const f=r(e,["executableCode"]);f!=null&&c(t,["executableCode"],f);const m=r(e,["functionResponse"]);m!=null&&c(t,["functionResponse"],m);const p=r(e,["text"]);return p!=null&&c(t,["text"],p),t}function XE(e){const t={},n=r(e,["handle"]);if(n!=null&&c(t,["handle"],n),r(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Cy(e){const t={},n=r(e,["voiceConfig"]);if(n!=null&&c(t,["voiceConfig"],n),r(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=r(e,["languageCode"]);return i!=null&&c(t,["languageCode"],i),t}function $E(e){const t={},n=r(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),c(t,["functionDeclarations"],d)}if(r(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=r(e,["googleSearch"]);i!=null&&c(t,["googleSearch"],GE(i));const a=r(e,["googleSearchRetrieval"]);if(a!=null&&c(t,["googleSearchRetrieval"],a),r(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(r(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const o=r(e,["urlContext"]);o!=null&&c(t,["urlContext"],o);const s=r(e,["computerUse"]);s!=null&&c(t,["computerUse"],s);const u=r(e,["codeExecution"]);return u!=null&&c(t,["codeExecution"],u),t}function ZE(e){const t={},n=r(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>jE(h))),c(t,["functionDeclarations"],p)}const i=r(e,["retrieval"]);i!=null&&c(t,["retrieval"],i);const a=r(e,["googleSearch"]);a!=null&&c(t,["googleSearch"],a);const o=r(e,["googleSearchRetrieval"]);o!=null&&c(t,["googleSearchRetrieval"],o);const s=r(e,["enterpriseWebSearch"]);s!=null&&c(t,["enterpriseWebSearch"],s);const u=r(e,["googleMaps"]);u!=null&&c(t,["googleMaps"],u);const d=r(e,["urlContext"]);d!=null&&c(t,["urlContext"],d);const f=r(e,["computerUse"]);f!=null&&c(t,["computerUse"],f);const m=r(e,["codeExecution"]);return m!=null&&c(t,["codeExecution"],m),t}function WE(e){const t={},n=r(e,["promptTokenCount"]);n!=null&&c(t,["promptTokenCount"],n);const i=r(e,["cachedContentTokenCount"]);i!=null&&c(t,["cachedContentTokenCount"],i);const a=r(e,["candidatesTokenCount"]);a!=null&&c(t,["responseTokenCount"],a);const o=r(e,["toolUsePromptTokenCount"]);o!=null&&c(t,["toolUsePromptTokenCount"],o);const s=r(e,["thoughtsTokenCount"]);s!=null&&c(t,["thoughtsTokenCount"],s);const u=r(e,["totalTokenCount"]);u!=null&&c(t,["totalTokenCount"],u);const d=r(e,["promptTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>v)),c(t,["promptTokensDetails"],g)}const f=r(e,["cacheTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(v=>v)),c(t,["cacheTokensDetails"],g)}const m=r(e,["candidatesTokensDetails"]);if(m!=null){let g=m;Array.isArray(g)&&(g=g.map(v=>v)),c(t,["responseTokensDetails"],g)}const p=r(e,["toolUsePromptTokensDetails"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(v=>v)),c(t,["toolUsePromptTokensDetails"],g)}const h=r(e,["trafficType"]);return h!=null&&c(t,["trafficType"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function e2(e){const t={};if(r(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=r(e,["data"]);n!=null&&c(t,["data"],n);const i=r(e,["mimeType"]);return i!=null&&c(t,["mimeType"],i),t}function t2(e){const t={},n=r(e,["content"]);n!=null&&c(t,["content"],n);const i=r(e,["citationMetadata"]);i!=null&&c(t,["citationMetadata"],n2(i));const a=r(e,["tokenCount"]);a!=null&&c(t,["tokenCount"],a);const o=r(e,["finishReason"]);o!=null&&c(t,["finishReason"],o);const s=r(e,["urlContextMetadata"]);s!=null&&c(t,["urlContextMetadata"],s);const u=r(e,["avgLogprobs"]);u!=null&&c(t,["avgLogprobs"],u);const d=r(e,["groundingMetadata"]);d!=null&&c(t,["groundingMetadata"],d);const f=r(e,["index"]);f!=null&&c(t,["index"],f);const m=r(e,["logprobsResult"]);m!=null&&c(t,["logprobsResult"],m);const p=r(e,["safetyRatings"]);if(p!=null){let h=p;Array.isArray(h)&&(h=h.map(g=>g)),c(t,["safetyRatings"],h)}return t}function n2(e){const t={},n=r(e,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>a)),c(t,["citations"],i)}return t}function i2(e,t){const n={},i=r(t,["model"]);i!=null&&c(n,["_url","model"],le(e,i));const a=r(t,["contents"]);if(a!=null){let o=wt(a);Array.isArray(o)&&(o=o.map(s=>s)),c(n,["contents"],o)}return n}function a2(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=r(e,["tokensInfo"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),c(t,["tokensInfo"],a)}return t}function o2(e){const t={},n=r(e,["values"]);n!=null&&c(t,["values"],n);const i=r(e,["statistics"]);return i!=null&&c(t,["statistics"],s2(i)),t}function s2(e){const t={},n=r(e,["truncated"]);n!=null&&c(t,["truncated"],n);const i=r(e,["token_count"]);return i!=null&&c(t,["tokenCount"],i),t}function pl(e){const t={},n=r(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>cT(o))),c(t,["parts"],a)}const i=r(e,["role"]);return i!=null&&c(t,["role"],i),t}function l2(e){const t={},n=r(e,["controlType"]);n!=null&&c(t,["controlType"],n);const i=r(e,["enableControlImageComputation"]);return i!=null&&c(t,["computeControl"],i),t}function r2(e){const t={};if(r(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(r(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(r(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function u2(e,t){const n={},i=r(e,["systemInstruction"]);t!==void 0&&i!=null&&c(t,["systemInstruction"],Fe(i));const a=r(e,["tools"]);if(t!==void 0&&a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>Iy(u))),c(t,["tools"],s)}const o=r(e,["generationConfig"]);return t!==void 0&&o!=null&&c(t,["generationConfig"],Z2(o)),n}function c2(e,t){const n={},i=r(t,["model"]);i!=null&&c(n,["_url","model"],le(e,i));const a=r(t,["contents"]);if(a!=null){let s=wt(a);Array.isArray(s)&&(s=s.map(u=>pl(u))),c(n,["contents"],s)}const o=r(t,["config"]);return o!=null&&r2(o),n}function d2(e,t){const n={},i=r(t,["model"]);i!=null&&c(n,["_url","model"],le(e,i));const a=r(t,["contents"]);if(a!=null){let s=wt(a);Array.isArray(s)&&(s=s.map(u=>u)),c(n,["contents"],s)}const o=r(t,["config"]);return o!=null&&u2(o,n),n}function f2(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=r(e,["totalTokens"]);i!=null&&c(t,["totalTokens"],i);const a=r(e,["cachedContentTokenCount"]);return a!=null&&c(t,["cachedContentTokenCount"],a),t}function m2(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=r(e,["totalTokens"]);return i!=null&&c(t,["totalTokens"],i),t}function h2(e,t){const n={},i=r(t,["model"]);return i!=null&&c(n,["_url","name"],le(e,i)),n}function p2(e,t){const n={},i=r(t,["model"]);return i!=null&&c(n,["_url","name"],le(e,i)),n}function g2(e){const t={},n=r(e,["sdkHttpResponse"]);return n!=null&&c(t,["sdkHttpResponse"],n),t}function y2(e){const t={},n=r(e,["sdkHttpResponse"]);return n!=null&&c(t,["sdkHttpResponse"],n),t}function x2(e,t){const n={},i=r(e,["outputGcsUri"]);t!==void 0&&i!=null&&c(t,["parameters","storageUri"],i);const a=r(e,["negativePrompt"]);t!==void 0&&a!=null&&c(t,["parameters","negativePrompt"],a);const o=r(e,["numberOfImages"]);t!==void 0&&o!=null&&c(t,["parameters","sampleCount"],o);const s=r(e,["aspectRatio"]);t!==void 0&&s!=null&&c(t,["parameters","aspectRatio"],s);const u=r(e,["guidanceScale"]);t!==void 0&&u!=null&&c(t,["parameters","guidanceScale"],u);const d=r(e,["seed"]);t!==void 0&&d!=null&&c(t,["parameters","seed"],d);const f=r(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&c(t,["parameters","safetySetting"],f);const m=r(e,["personGeneration"]);t!==void 0&&m!=null&&c(t,["parameters","personGeneration"],m);const p=r(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&c(t,["parameters","includeSafetyAttributes"],p);const h=r(e,["includeRaiReason"]);t!==void 0&&h!=null&&c(t,["parameters","includeRaiReason"],h);const g=r(e,["language"]);t!==void 0&&g!=null&&c(t,["parameters","language"],g);const v=r(e,["outputMimeType"]);t!==void 0&&v!=null&&c(t,["parameters","outputOptions","mimeType"],v);const E=r(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&c(t,["parameters","outputOptions","compressionQuality"],E);const N=r(e,["addWatermark"]);t!==void 0&&N!=null&&c(t,["parameters","addWatermark"],N);const x=r(e,["labels"]);t!==void 0&&x!=null&&c(t,["labels"],x);const y=r(e,["editMode"]);t!==void 0&&y!=null&&c(t,["parameters","editMode"],y);const S=r(e,["baseSteps"]);return t!==void 0&&S!=null&&c(t,["parameters","editConfig","baseSteps"],S),n}function v2(e,t){const n={},i=r(t,["model"]);i!=null&&c(n,["_url","model"],le(e,i));const a=r(t,["prompt"]);a!=null&&c(n,["instances[0]","prompt"],a);const o=r(t,["referenceImages"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>gT(d))),c(n,["instances[0]","referenceImages"],u)}const s=r(t,["config"]);return s!=null&&x2(s,n),n}function S2(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=r(e,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>gl(o))),c(t,["generatedImages"],a)}return t}function b2(e,t){const n={},i=r(e,["taskType"]);t!==void 0&&i!=null&&c(t,["requests[]","taskType"],i);const a=r(e,["title"]);t!==void 0&&a!=null&&c(t,["requests[]","title"],a);const o=r(e,["outputDimensionality"]);if(t!==void 0&&o!=null&&c(t,["requests[]","outputDimensionality"],o),r(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(r(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function E2(e,t){const n={},i=r(e,["taskType"]);t!==void 0&&i!=null&&c(t,["instances[]","task_type"],i);const a=r(e,["title"]);t!==void 0&&a!=null&&c(t,["instances[]","title"],a);const o=r(e,["outputDimensionality"]);t!==void 0&&o!=null&&c(t,["parameters","outputDimensionality"],o);const s=r(e,["mimeType"]);t!==void 0&&s!=null&&c(t,["instances[]","mimeType"],s);const u=r(e,["autoTruncate"]);return t!==void 0&&u!=null&&c(t,["parameters","autoTruncate"],u),n}function T2(e,t){const n={},i=r(t,["model"]);i!=null&&c(n,["_url","model"],le(e,i));const a=r(t,["contents"]);if(a!=null){let u=Mc(e,a);Array.isArray(u)&&(u=u.map(d=>d)),c(n,["requests[]","content"],u)}const o=r(t,["config"]);o!=null&&b2(o,n);const s=r(t,["model"]);return s!==void 0&&c(n,["requests[]","model"],le(e,s)),n}function N2(e,t){const n={},i=r(t,["model"]);i!=null&&c(n,["_url","model"],le(e,i));const a=r(t,["contents"]);if(a!=null){let s=Mc(e,a);Array.isArray(s)&&(s=s.map(u=>u)),c(n,["instances[]","content"],s)}const o=r(t,["config"]);return o!=null&&E2(o,n),n}function A2(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=r(e,["embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),c(t,["embeddings"],o)}const a=r(e,["metadata"]);return a!=null&&c(t,["metadata"],a),t}function C2(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=r(e,["predictions[]","embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>o2(s))),c(t,["embeddings"],o)}const a=r(e,["metadata"]);return a!=null&&c(t,["metadata"],a),t}function w2(e){const t={},n=r(e,["endpoint"]);n!=null&&c(t,["name"],n);const i=r(e,["deployedModelId"]);return i!=null&&c(t,["deployedModelId"],i),t}function _2(e){const t={};if(r(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=r(e,["fileUri"]);n!=null&&c(t,["fileUri"],n);const i=r(e,["mimeType"]);return i!=null&&c(t,["mimeType"],i),t}function M2(e){const t={};if(r(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=r(e,["description"]);n!=null&&c(t,["description"],n);const i=r(e,["name"]);i!=null&&c(t,["name"],i);const a=r(e,["parameters"]);a!=null&&c(t,["parameters"],a);const o=r(e,["parametersJsonSchema"]);o!=null&&c(t,["parametersJsonSchema"],o);const s=r(e,["response"]);s!=null&&c(t,["response"],s);const u=r(e,["responseJsonSchema"]);return u!=null&&c(t,["responseJsonSchema"],u),t}function R2(e,t,n){const i={},a=r(t,["systemInstruction"]);n!==void 0&&a!=null&&c(n,["systemInstruction"],pl(Fe(a)));const o=r(t,["temperature"]);o!=null&&c(i,["temperature"],o);const s=r(t,["topP"]);s!=null&&c(i,["topP"],s);const u=r(t,["topK"]);u!=null&&c(i,["topK"],u);const d=r(t,["candidateCount"]);d!=null&&c(i,["candidateCount"],d);const f=r(t,["maxOutputTokens"]);f!=null&&c(i,["maxOutputTokens"],f);const m=r(t,["stopSequences"]);m!=null&&c(i,["stopSequences"],m);const p=r(t,["responseLogprobs"]);p!=null&&c(i,["responseLogprobs"],p);const h=r(t,["logprobs"]);h!=null&&c(i,["logprobs"],h);const g=r(t,["presencePenalty"]);g!=null&&c(i,["presencePenalty"],g);const v=r(t,["frequencyPenalty"]);v!=null&&c(i,["frequencyPenalty"],v);const E=r(t,["seed"]);E!=null&&c(i,["seed"],E);const N=r(t,["responseMimeType"]);N!=null&&c(i,["responseMimeType"],N);const x=r(t,["responseSchema"]);x!=null&&c(i,["responseSchema"],Rc(x));const y=r(t,["responseJsonSchema"]);if(y!=null&&c(i,["responseJsonSchema"],y),r(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=r(t,["safetySettings"]);if(n!==void 0&&S!=null){let j=S;Array.isArray(j)&&(j=j.map(V=>yT(V))),c(n,["safetySettings"],j)}const T=r(t,["tools"]);if(n!==void 0&&T!=null){let j=ma(T);Array.isArray(j)&&(j=j.map(V=>TT(fa(V)))),c(n,["tools"],j)}const A=r(t,["toolConfig"]);if(n!==void 0&&A!=null&&c(n,["toolConfig"],A),r(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const _=r(t,["cachedContent"]);n!==void 0&&_!=null&&c(n,["cachedContent"],rn(e,_));const w=r(t,["responseModalities"]);w!=null&&c(i,["responseModalities"],w);const U=r(t,["mediaResolution"]);U!=null&&c(i,["mediaResolution"],U);const I=r(t,["speechConfig"]);if(I!=null&&c(i,["speechConfig"],Ic(I)),r(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const q=r(t,["thinkingConfig"]);q!=null&&c(i,["thinkingConfig"],q);const O=r(t,["imageConfig"]);return O!=null&&c(i,["imageConfig"],O),i}function I2(e,t,n){const i={},a=r(t,["systemInstruction"]);n!==void 0&&a!=null&&c(n,["systemInstruction"],Fe(a));const o=r(t,["temperature"]);o!=null&&c(i,["temperature"],o);const s=r(t,["topP"]);s!=null&&c(i,["topP"],s);const u=r(t,["topK"]);u!=null&&c(i,["topK"],u);const d=r(t,["candidateCount"]);d!=null&&c(i,["candidateCount"],d);const f=r(t,["maxOutputTokens"]);f!=null&&c(i,["maxOutputTokens"],f);const m=r(t,["stopSequences"]);m!=null&&c(i,["stopSequences"],m);const p=r(t,["responseLogprobs"]);p!=null&&c(i,["responseLogprobs"],p);const h=r(t,["logprobs"]);h!=null&&c(i,["logprobs"],h);const g=r(t,["presencePenalty"]);g!=null&&c(i,["presencePenalty"],g);const v=r(t,["frequencyPenalty"]);v!=null&&c(i,["frequencyPenalty"],v);const E=r(t,["seed"]);E!=null&&c(i,["seed"],E);const N=r(t,["responseMimeType"]);N!=null&&c(i,["responseMimeType"],N);const x=r(t,["responseSchema"]);x!=null&&c(i,["responseSchema"],Rc(x));const y=r(t,["responseJsonSchema"]);y!=null&&c(i,["responseJsonSchema"],y);const S=r(t,["routingConfig"]);S!=null&&c(i,["routingConfig"],S);const T=r(t,["modelSelectionConfig"]);T!=null&&c(i,["modelConfig"],T);const A=r(t,["safetySettings"]);if(n!==void 0&&A!=null){let k=A;Array.isArray(k)&&(k=k.map(Q=>Q)),c(n,["safetySettings"],k)}const _=r(t,["tools"]);if(n!==void 0&&_!=null){let k=ma(_);Array.isArray(k)&&(k=k.map(Q=>Iy(fa(Q)))),c(n,["tools"],k)}const w=r(t,["toolConfig"]);n!==void 0&&w!=null&&c(n,["toolConfig"],w);const U=r(t,["labels"]);n!==void 0&&U!=null&&c(n,["labels"],U);const I=r(t,["cachedContent"]);n!==void 0&&I!=null&&c(n,["cachedContent"],rn(e,I));const q=r(t,["responseModalities"]);q!=null&&c(i,["responseModalities"],q);const O=r(t,["mediaResolution"]);O!=null&&c(i,["mediaResolution"],O);const j=r(t,["speechConfig"]);j!=null&&c(i,["speechConfig"],Ry(Ic(j)));const V=r(t,["audioTimestamp"]);V!=null&&c(i,["audioTimestamp"],V);const D=r(t,["thinkingConfig"]);D!=null&&c(i,["thinkingConfig"],D);const K=r(t,["imageConfig"]);return K!=null&&c(i,["imageConfig"],K),i}function Vm(e,t){const n={},i=r(t,["model"]);i!=null&&c(n,["_url","model"],le(e,i));const a=r(t,["contents"]);if(a!=null){let s=wt(a);Array.isArray(s)&&(s=s.map(u=>pl(u))),c(n,["contents"],s)}const o=r(t,["config"]);return o!=null&&c(n,["generationConfig"],R2(e,o,n)),n}function Gm(e,t){const n={},i=r(t,["model"]);i!=null&&c(n,["_url","model"],le(e,i));const a=r(t,["contents"]);if(a!=null){let s=wt(a);Array.isArray(s)&&(s=s.map(u=>u)),c(n,["contents"],s)}const o=r(t,["config"]);return o!=null&&c(n,["generationConfig"],I2(e,o,n)),n}function Pm(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=r(e,["candidates"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(f=>t2(f))),c(t,["candidates"],d)}const a=r(e,["modelVersion"]);a!=null&&c(t,["modelVersion"],a);const o=r(e,["promptFeedback"]);o!=null&&c(t,["promptFeedback"],o);const s=r(e,["responseId"]);s!=null&&c(t,["responseId"],s);const u=r(e,["usageMetadata"]);return u!=null&&c(t,["usageMetadata"],u),t}function zm(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=r(e,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(m=>m)),c(t,["candidates"],f)}const a=r(e,["createTime"]);a!=null&&c(t,["createTime"],a);const o=r(e,["modelVersion"]);o!=null&&c(t,["modelVersion"],o);const s=r(e,["promptFeedback"]);s!=null&&c(t,["promptFeedback"],s);const u=r(e,["responseId"]);u!=null&&c(t,["responseId"],u);const d=r(e,["usageMetadata"]);return d!=null&&c(t,["usageMetadata"],d),t}function k2(e,t){const n={};if(r(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=r(e,["numberOfImages"]);t!==void 0&&i!=null&&c(t,["parameters","sampleCount"],i);const a=r(e,["aspectRatio"]);t!==void 0&&a!=null&&c(t,["parameters","aspectRatio"],a);const o=r(e,["guidanceScale"]);if(t!==void 0&&o!=null&&c(t,["parameters","guidanceScale"],o),r(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=r(e,["safetyFilterLevel"]);t!==void 0&&s!=null&&c(t,["parameters","safetySetting"],s);const u=r(e,["personGeneration"]);t!==void 0&&u!=null&&c(t,["parameters","personGeneration"],u);const d=r(e,["includeSafetyAttributes"]);t!==void 0&&d!=null&&c(t,["parameters","includeSafetyAttributes"],d);const f=r(e,["includeRaiReason"]);t!==void 0&&f!=null&&c(t,["parameters","includeRaiReason"],f);const m=r(e,["language"]);t!==void 0&&m!=null&&c(t,["parameters","language"],m);const p=r(e,["outputMimeType"]);t!==void 0&&p!=null&&c(t,["parameters","outputOptions","mimeType"],p);const h=r(e,["outputCompressionQuality"]);if(t!==void 0&&h!=null&&c(t,["parameters","outputOptions","compressionQuality"],h),r(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(r(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=r(e,["imageSize"]);if(t!==void 0&&g!=null&&c(t,["parameters","sampleImageSize"],g),r(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function D2(e,t){const n={},i=r(e,["outputGcsUri"]);t!==void 0&&i!=null&&c(t,["parameters","storageUri"],i);const a=r(e,["negativePrompt"]);t!==void 0&&a!=null&&c(t,["parameters","negativePrompt"],a);const o=r(e,["numberOfImages"]);t!==void 0&&o!=null&&c(t,["parameters","sampleCount"],o);const s=r(e,["aspectRatio"]);t!==void 0&&s!=null&&c(t,["parameters","aspectRatio"],s);const u=r(e,["guidanceScale"]);t!==void 0&&u!=null&&c(t,["parameters","guidanceScale"],u);const d=r(e,["seed"]);t!==void 0&&d!=null&&c(t,["parameters","seed"],d);const f=r(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&c(t,["parameters","safetySetting"],f);const m=r(e,["personGeneration"]);t!==void 0&&m!=null&&c(t,["parameters","personGeneration"],m);const p=r(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&c(t,["parameters","includeSafetyAttributes"],p);const h=r(e,["includeRaiReason"]);t!==void 0&&h!=null&&c(t,["parameters","includeRaiReason"],h);const g=r(e,["language"]);t!==void 0&&g!=null&&c(t,["parameters","language"],g);const v=r(e,["outputMimeType"]);t!==void 0&&v!=null&&c(t,["parameters","outputOptions","mimeType"],v);const E=r(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&c(t,["parameters","outputOptions","compressionQuality"],E);const N=r(e,["addWatermark"]);t!==void 0&&N!=null&&c(t,["parameters","addWatermark"],N);const x=r(e,["labels"]);t!==void 0&&x!=null&&c(t,["labels"],x);const y=r(e,["imageSize"]);t!==void 0&&y!=null&&c(t,["parameters","sampleImageSize"],y);const S=r(e,["enhancePrompt"]);return t!==void 0&&S!=null&&c(t,["parameters","enhancePrompt"],S),n}function q2(e,t){const n={},i=r(t,["model"]);i!=null&&c(n,["_url","model"],le(e,i));const a=r(t,["prompt"]);a!=null&&c(n,["instances[0]","prompt"],a);const o=r(t,["config"]);return o!=null&&k2(o,n),n}function U2(e,t){const n={},i=r(t,["model"]);i!=null&&c(n,["_url","model"],le(e,i));const a=r(t,["prompt"]);a!=null&&c(n,["instances[0]","prompt"],a);const o=r(t,["config"]);return o!=null&&D2(o,n),n}function L2(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=r(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>K2(s))),c(t,["generatedImages"],o)}const a=r(e,["positivePromptSafetyAttributes"]);return a!=null&&c(t,["positivePromptSafetyAttributes"],_y(a)),t}function j2(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=r(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>gl(s))),c(t,["generatedImages"],o)}const a=r(e,["positivePromptSafetyAttributes"]);return a!=null&&c(t,["positivePromptSafetyAttributes"],My(a)),t}function V2(e,t){const n={},i=r(e,["numberOfVideos"]);if(t!==void 0&&i!=null&&c(t,["parameters","sampleCount"],i),r(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=r(e,["durationSeconds"]);if(t!==void 0&&a!=null&&c(t,["parameters","durationSeconds"],a),r(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=r(e,["aspectRatio"]);t!==void 0&&o!=null&&c(t,["parameters","aspectRatio"],o);const s=r(e,["resolution"]);t!==void 0&&s!=null&&c(t,["parameters","resolution"],s);const u=r(e,["personGeneration"]);if(t!==void 0&&u!=null&&c(t,["parameters","personGeneration"],u),r(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=r(e,["negativePrompt"]);t!==void 0&&d!=null&&c(t,["parameters","negativePrompt"],d);const f=r(e,["enhancePrompt"]);if(t!==void 0&&f!=null&&c(t,["parameters","enhancePrompt"],f),r(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const m=r(e,["lastFrame"]);t!==void 0&&m!=null&&c(t,["instances[0]","lastFrame"],yl(m));const p=r(e,["referenceImages"]);if(t!==void 0&&p!=null){let h=p;Array.isArray(h)&&(h=h.map(g=>LT(g))),c(t,["instances[0]","referenceImages"],h)}if(r(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(r(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function G2(e,t){const n={},i=r(e,["numberOfVideos"]);t!==void 0&&i!=null&&c(t,["parameters","sampleCount"],i);const a=r(e,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const o=r(e,["fps"]);t!==void 0&&o!=null&&c(t,["parameters","fps"],o);const s=r(e,["durationSeconds"]);t!==void 0&&s!=null&&c(t,["parameters","durationSeconds"],s);const u=r(e,["seed"]);t!==void 0&&u!=null&&c(t,["parameters","seed"],u);const d=r(e,["aspectRatio"]);t!==void 0&&d!=null&&c(t,["parameters","aspectRatio"],d);const f=r(e,["resolution"]);t!==void 0&&f!=null&&c(t,["parameters","resolution"],f);const m=r(e,["personGeneration"]);t!==void 0&&m!=null&&c(t,["parameters","personGeneration"],m);const p=r(e,["pubsubTopic"]);t!==void 0&&p!=null&&c(t,["parameters","pubsubTopic"],p);const h=r(e,["negativePrompt"]);t!==void 0&&h!=null&&c(t,["parameters","negativePrompt"],h);const g=r(e,["enhancePrompt"]);t!==void 0&&g!=null&&c(t,["parameters","enhancePrompt"],g);const v=r(e,["generateAudio"]);t!==void 0&&v!=null&&c(t,["parameters","generateAudio"],v);const E=r(e,["lastFrame"]);t!==void 0&&E!=null&&c(t,["instances[0]","lastFrame"],kt(E));const N=r(e,["referenceImages"]);if(t!==void 0&&N!=null){let S=N;Array.isArray(S)&&(S=S.map(T=>jT(T))),c(t,["instances[0]","referenceImages"],S)}const x=r(e,["mask"]);t!==void 0&&x!=null&&c(t,["instances[0]","mask"],UT(x));const y=r(e,["compressionQuality"]);return t!==void 0&&y!=null&&c(t,["parameters","compressionQuality"],y),n}function P2(e){const t={},n=r(e,["name"]);n!=null&&c(t,["name"],n);const i=r(e,["metadata"]);i!=null&&c(t,["metadata"],i);const a=r(e,["done"]);a!=null&&c(t,["done"],a);const o=r(e,["error"]);o!=null&&c(t,["error"],o);const s=r(e,["response","generateVideoResponse"]);return s!=null&&c(t,["response"],O2(s)),t}function z2(e){const t={},n=r(e,["name"]);n!=null&&c(t,["name"],n);const i=r(e,["metadata"]);i!=null&&c(t,["metadata"],i);const a=r(e,["done"]);a!=null&&c(t,["done"],a);const o=r(e,["error"]);o!=null&&c(t,["error"],o);const s=r(e,["response"]);return s!=null&&c(t,["response"],J2(s)),t}function H2(e,t){const n={},i=r(t,["model"]);i!=null&&c(n,["_url","model"],le(e,i));const a=r(t,["prompt"]);a!=null&&c(n,["instances[0]","prompt"],a);const o=r(t,["image"]);o!=null&&c(n,["instances[0]","image"],yl(o));const s=r(t,["video"]);s!=null&&c(n,["instances[0]","video"],ky(s));const u=r(t,["source"]);u!=null&&Y2(u,n);const d=r(t,["config"]);return d!=null&&V2(d,n),n}function B2(e,t){const n={},i=r(t,["model"]);i!=null&&c(n,["_url","model"],le(e,i));const a=r(t,["prompt"]);a!=null&&c(n,["instances[0]","prompt"],a);const o=r(t,["image"]);o!=null&&c(n,["instances[0]","image"],kt(o));const s=r(t,["video"]);s!=null&&c(n,["instances[0]","video"],Dy(s));const u=r(t,["source"]);u!=null&&F2(u,n);const d=r(t,["config"]);return d!=null&&G2(d,n),n}function O2(e){const t={},n=r(e,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>X2(s))),c(t,["generatedVideos"],o)}const i=r(e,["raiMediaFilteredCount"]);i!=null&&c(t,["raiMediaFilteredCount"],i);const a=r(e,["raiMediaFilteredReasons"]);return a!=null&&c(t,["raiMediaFilteredReasons"],a),t}function J2(e){const t={},n=r(e,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>$2(s))),c(t,["generatedVideos"],o)}const i=r(e,["raiMediaFilteredCount"]);i!=null&&c(t,["raiMediaFilteredCount"],i);const a=r(e,["raiMediaFilteredReasons"]);return a!=null&&c(t,["raiMediaFilteredReasons"],a),t}function Y2(e,t){const n={},i=r(e,["prompt"]);t!==void 0&&i!=null&&c(t,["instances[0]","prompt"],i);const a=r(e,["image"]);t!==void 0&&a!=null&&c(t,["instances[0]","image"],yl(a));const o=r(e,["video"]);return t!==void 0&&o!=null&&c(t,["instances[0]","video"],ky(o)),n}function F2(e,t){const n={},i=r(e,["prompt"]);t!==void 0&&i!=null&&c(t,["instances[0]","prompt"],i);const a=r(e,["image"]);t!==void 0&&a!=null&&c(t,["instances[0]","image"],kt(a));const o=r(e,["video"]);return t!==void 0&&o!=null&&c(t,["instances[0]","video"],Dy(o)),n}function K2(e){const t={},n=r(e,["_self"]);n!=null&&c(t,["image"],nT(n));const i=r(e,["raiFilteredReason"]);i!=null&&c(t,["raiFilteredReason"],i);const a=r(e,["_self"]);return a!=null&&c(t,["safetyAttributes"],_y(a)),t}function gl(e){const t={},n=r(e,["_self"]);n!=null&&c(t,["image"],wy(n));const i=r(e,["raiFilteredReason"]);i!=null&&c(t,["raiFilteredReason"],i);const a=r(e,["_self"]);a!=null&&c(t,["safetyAttributes"],My(a));const o=r(e,["prompt"]);return o!=null&&c(t,["enhancedPrompt"],o),t}function Q2(e){const t={},n=r(e,["_self"]);n!=null&&c(t,["mask"],wy(n));const i=r(e,["labels"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),c(t,["labels"],a)}return t}function X2(e){const t={},n=r(e,["_self"]);return n!=null&&c(t,["video"],DT(n)),t}function $2(e){const t={},n=r(e,["_self"]);return n!=null&&c(t,["video"],qT(n)),t}function Z2(e){const t={},n=r(e,["modelSelectionConfig"]);n!=null&&c(t,["modelConfig"],n);const i=r(e,["audioTimestamp"]);i!=null&&c(t,["audioTimestamp"],i);const a=r(e,["candidateCount"]);a!=null&&c(t,["candidateCount"],a);const o=r(e,["enableAffectiveDialog"]);o!=null&&c(t,["enableAffectiveDialog"],o);const s=r(e,["frequencyPenalty"]);s!=null&&c(t,["frequencyPenalty"],s);const u=r(e,["logprobs"]);u!=null&&c(t,["logprobs"],u);const d=r(e,["maxOutputTokens"]);d!=null&&c(t,["maxOutputTokens"],d);const f=r(e,["mediaResolution"]);f!=null&&c(t,["mediaResolution"],f);const m=r(e,["presencePenalty"]);m!=null&&c(t,["presencePenalty"],m);const p=r(e,["responseJsonSchema"]);p!=null&&c(t,["responseJsonSchema"],p);const h=r(e,["responseLogprobs"]);h!=null&&c(t,["responseLogprobs"],h);const g=r(e,["responseMimeType"]);g!=null&&c(t,["responseMimeType"],g);const v=r(e,["responseModalities"]);v!=null&&c(t,["responseModalities"],v);const E=r(e,["responseSchema"]);E!=null&&c(t,["responseSchema"],E);const N=r(e,["routingConfig"]);N!=null&&c(t,["routingConfig"],N);const x=r(e,["seed"]);x!=null&&c(t,["seed"],x);const y=r(e,["speechConfig"]);y!=null&&c(t,["speechConfig"],Ry(y));const S=r(e,["stopSequences"]);S!=null&&c(t,["stopSequences"],S);const T=r(e,["temperature"]);T!=null&&c(t,["temperature"],T);const A=r(e,["thinkingConfig"]);A!=null&&c(t,["thinkingConfig"],A);const _=r(e,["topK"]);_!=null&&c(t,["topK"],_);const w=r(e,["topP"]);return w!=null&&c(t,["topP"],w),t}function W2(e,t){const n={},i=r(t,["model"]);return i!=null&&c(n,["_url","name"],le(e,i)),n}function eT(e,t){const n={},i=r(t,["model"]);return i!=null&&c(n,["_url","name"],le(e,i)),n}function tT(e){const t={},n=r(e,["timeRangeFilter"]);if(n!=null&&c(t,["timeRangeFilter"],n),r(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function nT(e){const t={},n=r(e,["bytesBase64Encoded"]);n!=null&&c(t,["imageBytes"],Pn(n));const i=r(e,["mimeType"]);return i!=null&&c(t,["mimeType"],i),t}function wy(e){const t={},n=r(e,["gcsUri"]);n!=null&&c(t,["gcsUri"],n);const i=r(e,["bytesBase64Encoded"]);i!=null&&c(t,["imageBytes"],Pn(i));const a=r(e,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function yl(e){const t={};if(r(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=r(e,["imageBytes"]);n!=null&&c(t,["bytesBase64Encoded"],Pn(n));const i=r(e,["mimeType"]);return i!=null&&c(t,["mimeType"],i),t}function kt(e){const t={},n=r(e,["gcsUri"]);n!=null&&c(t,["gcsUri"],n);const i=r(e,["imageBytes"]);i!=null&&c(t,["bytesBase64Encoded"],Pn(i));const a=r(e,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function iT(e,t,n){const i={},a=r(t,["pageSize"]);n!==void 0&&a!=null&&c(n,["_query","pageSize"],a);const o=r(t,["pageToken"]);n!==void 0&&o!=null&&c(n,["_query","pageToken"],o);const s=r(t,["filter"]);n!==void 0&&s!=null&&c(n,["_query","filter"],s);const u=r(t,["queryBase"]);return n!==void 0&&u!=null&&c(n,["_url","models_url"],vy(e,u)),i}function aT(e,t,n){const i={},a=r(t,["pageSize"]);n!==void 0&&a!=null&&c(n,["_query","pageSize"],a);const o=r(t,["pageToken"]);n!==void 0&&o!=null&&c(n,["_query","pageToken"],o);const s=r(t,["filter"]);n!==void 0&&s!=null&&c(n,["_query","filter"],s);const u=r(t,["queryBase"]);return n!==void 0&&u!=null&&c(n,["_url","models_url"],vy(e,u)),i}function oT(e,t){const n={},i=r(t,["config"]);return i!=null&&iT(e,i,n),n}function sT(e,t){const n={},i=r(t,["config"]);return i!=null&&aT(e,i,n),n}function lT(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=r(e,["nextPageToken"]);i!=null&&c(t,["nextPageToken"],i);const a=r(e,["_self"]);if(a!=null){let o=Sy(a);Array.isArray(o)&&(o=o.map(s=>bu(s))),c(t,["models"],o)}return t}function rT(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=r(e,["nextPageToken"]);i!=null&&c(t,["nextPageToken"],i);const a=r(e,["_self"]);if(a!=null){let o=Sy(a);Array.isArray(o)&&(o=o.map(s=>Eu(s))),c(t,["models"],o)}return t}function uT(e){const t={},n=r(e,["maskMode"]);n!=null&&c(t,["maskMode"],n);const i=r(e,["segmentationClasses"]);i!=null&&c(t,["maskClasses"],i);const a=r(e,["maskDilation"]);return a!=null&&c(t,["dilation"],a),t}function bu(e){const t={},n=r(e,["name"]);n!=null&&c(t,["name"],n);const i=r(e,["displayName"]);i!=null&&c(t,["displayName"],i);const a=r(e,["description"]);a!=null&&c(t,["description"],a);const o=r(e,["version"]);o!=null&&c(t,["version"],o);const s=r(e,["_self"]);s!=null&&c(t,["tunedModelInfo"],NT(s));const u=r(e,["inputTokenLimit"]);u!=null&&c(t,["inputTokenLimit"],u);const d=r(e,["outputTokenLimit"]);d!=null&&c(t,["outputTokenLimit"],d);const f=r(e,["supportedGenerationMethods"]);return f!=null&&c(t,["supportedActions"],f),t}function Eu(e){const t={},n=r(e,["name"]);n!=null&&c(t,["name"],n);const i=r(e,["displayName"]);i!=null&&c(t,["displayName"],i);const a=r(e,["description"]);a!=null&&c(t,["description"],a);const o=r(e,["versionId"]);o!=null&&c(t,["version"],o);const s=r(e,["deployedModels"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(h=>w2(h))),c(t,["endpoints"],p)}const u=r(e,["labels"]);u!=null&&c(t,["labels"],u);const d=r(e,["_self"]);d!=null&&c(t,["tunedModelInfo"],AT(d));const f=r(e,["defaultCheckpointId"]);f!=null&&c(t,["defaultCheckpointId"],f);const m=r(e,["checkpoints"]);if(m!=null){let p=m;Array.isArray(p)&&(p=p.map(h=>h)),c(t,["checkpoints"],p)}return t}function cT(e){const t={},n=r(e,["videoMetadata"]);n!=null&&c(t,["videoMetadata"],n);const i=r(e,["thought"]);i!=null&&c(t,["thought"],i);const a=r(e,["inlineData"]);a!=null&&c(t,["inlineData"],e2(a));const o=r(e,["fileData"]);o!=null&&c(t,["fileData"],_2(o));const s=r(e,["thoughtSignature"]);s!=null&&c(t,["thoughtSignature"],s);const u=r(e,["functionCall"]);u!=null&&c(t,["functionCall"],u);const d=r(e,["codeExecutionResult"]);d!=null&&c(t,["codeExecutionResult"],d);const f=r(e,["executableCode"]);f!=null&&c(t,["executableCode"],f);const m=r(e,["functionResponse"]);m!=null&&c(t,["functionResponse"],m);const p=r(e,["text"]);return p!=null&&c(t,["text"],p),t}function dT(e){const t={},n=r(e,["productImage"]);return n!=null&&c(t,["image"],kt(n)),t}function fT(e,t){const n={},i=r(e,["numberOfImages"]);t!==void 0&&i!=null&&c(t,["parameters","sampleCount"],i);const a=r(e,["baseSteps"]);t!==void 0&&a!=null&&c(t,["parameters","editConfig","baseSteps"],a);const o=r(e,["outputGcsUri"]);t!==void 0&&o!=null&&c(t,["parameters","storageUri"],o);const s=r(e,["seed"]);t!==void 0&&s!=null&&c(t,["parameters","seed"],s);const u=r(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&c(t,["parameters","safetySetting"],u);const d=r(e,["personGeneration"]);t!==void 0&&d!=null&&c(t,["parameters","personGeneration"],d);const f=r(e,["addWatermark"]);t!==void 0&&f!=null&&c(t,["parameters","addWatermark"],f);const m=r(e,["outputMimeType"]);t!==void 0&&m!=null&&c(t,["parameters","outputOptions","mimeType"],m);const p=r(e,["outputCompressionQuality"]);t!==void 0&&p!=null&&c(t,["parameters","outputOptions","compressionQuality"],p);const h=r(e,["enhancePrompt"]);t!==void 0&&h!=null&&c(t,["parameters","enhancePrompt"],h);const g=r(e,["labels"]);return t!==void 0&&g!=null&&c(t,["labels"],g),n}function mT(e,t){const n={},i=r(t,["model"]);i!=null&&c(n,["_url","model"],le(e,i));const a=r(t,["source"]);a!=null&&pT(a,n);const o=r(t,["config"]);return o!=null&&fT(o,n),n}function hT(e){const t={},n=r(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>gl(a))),c(t,["generatedImages"],i)}return t}function pT(e,t){const n={},i=r(e,["prompt"]);t!==void 0&&i!=null&&c(t,["instances[0]","prompt"],i);const a=r(e,["personImage"]);t!==void 0&&a!=null&&c(t,["instances[0]","personImage","image"],kt(a));const o=r(e,["productImages"]);if(t!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>dT(u))),c(t,["instances[0]","productImages"],s)}return n}function gT(e){const t={},n=r(e,["referenceImage"]);n!=null&&c(t,["referenceImage"],kt(n));const i=r(e,["referenceId"]);i!=null&&c(t,["referenceId"],i);const a=r(e,["referenceType"]);a!=null&&c(t,["referenceType"],a);const o=r(e,["maskImageConfig"]);o!=null&&c(t,["maskImageConfig"],uT(o));const s=r(e,["controlImageConfig"]);s!=null&&c(t,["controlImageConfig"],l2(s));const u=r(e,["styleImageConfig"]);u!=null&&c(t,["styleImageConfig"],u);const d=r(e,["subjectImageConfig"]);return d!=null&&c(t,["subjectImageConfig"],d),t}function _y(e){const t={},n=r(e,["safetyAttributes","categories"]);n!=null&&c(t,["categories"],n);const i=r(e,["safetyAttributes","scores"]);i!=null&&c(t,["scores"],i);const a=r(e,["contentType"]);return a!=null&&c(t,["contentType"],a),t}function My(e){const t={},n=r(e,["safetyAttributes","categories"]);n!=null&&c(t,["categories"],n);const i=r(e,["safetyAttributes","scores"]);i!=null&&c(t,["scores"],i);const a=r(e,["contentType"]);return a!=null&&c(t,["contentType"],a),t}function yT(e){const t={};if(r(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=r(e,["category"]);n!=null&&c(t,["category"],n);const i=r(e,["threshold"]);return i!=null&&c(t,["threshold"],i),t}function xT(e){const t={},n=r(e,["image"]);return n!=null&&c(t,["image"],kt(n)),t}function vT(e,t){const n={},i=r(e,["mode"]);t!==void 0&&i!=null&&c(t,["parameters","mode"],i);const a=r(e,["maxPredictions"]);t!==void 0&&a!=null&&c(t,["parameters","maxPredictions"],a);const o=r(e,["confidenceThreshold"]);t!==void 0&&o!=null&&c(t,["parameters","confidenceThreshold"],o);const s=r(e,["maskDilation"]);t!==void 0&&s!=null&&c(t,["parameters","maskDilation"],s);const u=r(e,["binaryColorThreshold"]);t!==void 0&&u!=null&&c(t,["parameters","binaryColorThreshold"],u);const d=r(e,["labels"]);return t!==void 0&&d!=null&&c(t,["labels"],d),n}function ST(e,t){const n={},i=r(t,["model"]);i!=null&&c(n,["_url","model"],le(e,i));const a=r(t,["source"]);a!=null&&ET(a,n);const o=r(t,["config"]);return o!=null&&vT(o,n),n}function bT(e){const t={},n=r(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Q2(a))),c(t,["generatedMasks"],i)}return t}function ET(e,t){const n={},i=r(e,["prompt"]);t!==void 0&&i!=null&&c(t,["instances[0]","prompt"],i);const a=r(e,["image"]);t!==void 0&&a!=null&&c(t,["instances[0]","image"],kt(a));const o=r(e,["scribbleImage"]);return t!==void 0&&o!=null&&c(t,["instances[0]","scribble"],xT(o)),n}function Ry(e){const t={},n=r(e,["voiceConfig"]);if(n!=null&&c(t,["voiceConfig"],n),r(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=r(e,["languageCode"]);return i!=null&&c(t,["languageCode"],i),t}function TT(e){const t={},n=r(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),c(t,["functionDeclarations"],d)}if(r(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=r(e,["googleSearch"]);i!=null&&c(t,["googleSearch"],tT(i));const a=r(e,["googleSearchRetrieval"]);if(a!=null&&c(t,["googleSearchRetrieval"],a),r(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(r(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const o=r(e,["urlContext"]);o!=null&&c(t,["urlContext"],o);const s=r(e,["computerUse"]);s!=null&&c(t,["computerUse"],s);const u=r(e,["codeExecution"]);return u!=null&&c(t,["codeExecution"],u),t}function Iy(e){const t={},n=r(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>M2(h))),c(t,["functionDeclarations"],p)}const i=r(e,["retrieval"]);i!=null&&c(t,["retrieval"],i);const a=r(e,["googleSearch"]);a!=null&&c(t,["googleSearch"],a);const o=r(e,["googleSearchRetrieval"]);o!=null&&c(t,["googleSearchRetrieval"],o);const s=r(e,["enterpriseWebSearch"]);s!=null&&c(t,["enterpriseWebSearch"],s);const u=r(e,["googleMaps"]);u!=null&&c(t,["googleMaps"],u);const d=r(e,["urlContext"]);d!=null&&c(t,["urlContext"],d);const f=r(e,["computerUse"]);f!=null&&c(t,["computerUse"],f);const m=r(e,["codeExecution"]);return m!=null&&c(t,["codeExecution"],m),t}function NT(e){const t={},n=r(e,["baseModel"]);n!=null&&c(t,["baseModel"],n);const i=r(e,["createTime"]);i!=null&&c(t,["createTime"],i);const a=r(e,["updateTime"]);return a!=null&&c(t,["updateTime"],a),t}function AT(e){const t={},n=r(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&c(t,["baseModel"],n);const i=r(e,["createTime"]);i!=null&&c(t,["createTime"],i);const a=r(e,["updateTime"]);return a!=null&&c(t,["updateTime"],a),t}function CT(e,t){const n={},i=r(e,["displayName"]);t!==void 0&&i!=null&&c(t,["displayName"],i);const a=r(e,["description"]);t!==void 0&&a!=null&&c(t,["description"],a);const o=r(e,["defaultCheckpointId"]);return t!==void 0&&o!=null&&c(t,["defaultCheckpointId"],o),n}function wT(e,t){const n={},i=r(e,["displayName"]);t!==void 0&&i!=null&&c(t,["displayName"],i);const a=r(e,["description"]);t!==void 0&&a!=null&&c(t,["description"],a);const o=r(e,["defaultCheckpointId"]);return t!==void 0&&o!=null&&c(t,["defaultCheckpointId"],o),n}function _T(e,t){const n={},i=r(t,["model"]);i!=null&&c(n,["_url","name"],le(e,i));const a=r(t,["config"]);return a!=null&&CT(a,n),n}function MT(e,t){const n={},i=r(t,["model"]);i!=null&&c(n,["_url","model"],le(e,i));const a=r(t,["config"]);return a!=null&&wT(a,n),n}function RT(e,t){const n={},i=r(e,["outputGcsUri"]);t!==void 0&&i!=null&&c(t,["parameters","storageUri"],i);const a=r(e,["includeRaiReason"]);t!==void 0&&a!=null&&c(t,["parameters","includeRaiReason"],a);const o=r(e,["outputMimeType"]);t!==void 0&&o!=null&&c(t,["parameters","outputOptions","mimeType"],o);const s=r(e,["outputCompressionQuality"]);t!==void 0&&s!=null&&c(t,["parameters","outputOptions","compressionQuality"],s);const u=r(e,["enhanceInputImage"]);t!==void 0&&u!=null&&c(t,["parameters","upscaleConfig","enhanceInputImage"],u);const d=r(e,["imagePreservationFactor"]);t!==void 0&&d!=null&&c(t,["parameters","upscaleConfig","imagePreservationFactor"],d);const f=r(e,["labels"]);t!==void 0&&f!=null&&c(t,["labels"],f);const m=r(e,["numberOfImages"]);t!==void 0&&m!=null&&c(t,["parameters","sampleCount"],m);const p=r(e,["mode"]);return t!==void 0&&p!=null&&c(t,["parameters","mode"],p),n}function IT(e,t){const n={},i=r(t,["model"]);i!=null&&c(n,["_url","model"],le(e,i));const a=r(t,["image"]);a!=null&&c(n,["instances[0]","image"],kt(a));const o=r(t,["upscaleFactor"]);o!=null&&c(n,["parameters","upscaleConfig","upscaleFactor"],o);const s=r(t,["config"]);return s!=null&&RT(s,n),n}function kT(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=r(e,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>gl(o))),c(t,["generatedImages"],a)}return t}function DT(e){const t={},n=r(e,["video","uri"]);n!=null&&c(t,["uri"],n);const i=r(e,["video","encodedVideo"]);i!=null&&c(t,["videoBytes"],Pn(i));const a=r(e,["encoding"]);return a!=null&&c(t,["mimeType"],a),t}function qT(e){const t={},n=r(e,["gcsUri"]);n!=null&&c(t,["uri"],n);const i=r(e,["bytesBase64Encoded"]);i!=null&&c(t,["videoBytes"],Pn(i));const a=r(e,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function UT(e){const t={},n=r(e,["image"]);n!=null&&c(t,["_self"],kt(n));const i=r(e,["maskMode"]);return i!=null&&c(t,["maskMode"],i),t}function LT(e){const t={},n=r(e,["image"]);n!=null&&c(t,["image"],yl(n));const i=r(e,["referenceType"]);return i!=null&&c(t,["referenceType"],i),t}function jT(e){const t={},n=r(e,["image"]);n!=null&&c(t,["image"],kt(n));const i=r(e,["referenceType"]);return i!=null&&c(t,["referenceType"],i),t}function ky(e){const t={},n=r(e,["uri"]);n!=null&&c(t,["video","uri"],n);const i=r(e,["videoBytes"]);i!=null&&c(t,["video","encodedVideo"],Pn(i));const a=r(e,["mimeType"]);return a!=null&&c(t,["encoding"],a),t}function Dy(e){const t={},n=r(e,["uri"]);n!=null&&c(t,["gcsUri"],n);const i=r(e,["videoBytes"]);i!=null&&c(t,["bytesBase64Encoded"],Pn(i));const a=r(e,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VT="Content-Type",GT="X-Server-Timeout",PT="User-Agent",Tu="x-goog-api-client",zT="1.23.0",HT=`google-genai-sdk/${zT}`,BT="v1beta1",OT="v1beta",Hm=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class JT{constructor(t){var n,i;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:BT,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:OT,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&i.push(t.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,i){const a=[this.getRequestUrlInternal(n)];return i&&a.push(this.getBaseResourcePath()),t!==""&&a.push(t),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const i=this.shouldPrependVertexProjectPath(t),a=this.constructUrl(t.path,n,i);if(t.queryParams)for(const[s,u]of Object.entries(t.queryParams))a.searchParams.append(s,String(u));let o={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=t.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,t.abortSignal),this.unaryApiCall(a,o,t.httpMethod)}patchHttpOptions(t,n){const i=JSON.parse(JSON.stringify(t));for(const[a,o]of Object.entries(n))typeof o=="object"?i[a]=Object.assign(Object.assign({},i[a]),o):o!==void 0&&(i[a]=o);return i}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const i=this.shouldPrependVertexProjectPath(t),a=this.constructUrl(t.path,n,i);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let o={};return o.body=t.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,t.abortSignal),this.streamApiCall(a,o,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,i){if(n&&n.timeout||i){const a=new AbortController,o=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const s=setTimeout(()=>a.abort(),n.timeout);s&&typeof s.unref=="function"&&s.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),t.signal=o}return n&&n.extraBody!==null&&YT(t,n.extraBody),t.headers=await this.getHeadersInternal(n),t}async unaryApiCall(t,n,i){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:i})).then(async a=>(await Bm(a),new xu(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(t,n,i){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:i})).then(async a=>(await Bm(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(t){var n;return Ji(this,arguments,function*(){const a=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let s="";for(;;){const{done:u,value:d}=yield ve(a.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=o.decode(d,{stream:!0});try{const p=JSON.parse(f);if("error"in p){const h=JSON.parse(JSON.stringify(p.error)),g=h.status,v=h.code,E=`got status: ${g}. ${JSON.stringify(p)}`;if(v>=400&&v<600)throw new hl({message:E,status:v})}}catch(p){if(p.name==="ApiError")throw p}s+=f;let m=s.match(Hm);for(;m;){const p=m[1];try{const h=new Response(p,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield ve(new xu(h)),s=s.slice(m[0].length),m=s.match(Hm)}catch(h){throw new Error(`exception parsing stream chunk ${p}. ${h}`)}}}}finally{a.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const t={},n=HT+" "+this.clientOptions.userAgentExtra;return t[PT]=n,t[Tu]=n,t[VT]="application/json",t}async getHeadersInternal(t){const n=new Headers;if(t&&t.headers){for(const[i,a]of Object.entries(t.headers))n.append(i,a);t.timeout&&t.timeout>0&&n.append(GT,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(t,n){var i;const a={};n!=null&&(a.mimeType=n.mimeType,a.name=n.name,a.displayName=n.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const o=this.clientOptions.uploader,s=await o.stat(t);a.sizeBytes=String(s.size);const u=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=u;const d=await this.fetchUploadUrl(a,n);return o.upload(t,d,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n){var i;let a={};n!=null&&n.httpOptions?a=n.httpOptions:a={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${t.mimeType}`}};const o={file:t},s=await this.request({path:G("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:a});if(!s||!(s!=null&&s.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(i=s==null?void 0:s.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function Bm(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let i;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?i=await e.json():i={error:{message:await e.text(),code:e.status,status:e.statusText}};const a=JSON.stringify(i);throw n>=400&&n<600?new hl({message:a,status:n}):new Error(a)}}function YT(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const o=JSON.parse(e.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(o,s){const u=Object.assign({},o);for(const d in s)if(Object.prototype.hasOwnProperty.call(s,d)){const f=s[d],m=u[d];f&&typeof f=="object"&&!Array.isArray(f)&&m&&typeof m=="object"&&!Array.isArray(m)?u[d]=i(m,f):(m&&f&&typeof m!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${d}". Original type: ${typeof m}, New type: ${typeof f}. Overwriting.`),u[d]=f)}return u}const a=i(n,t);e.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FT="mcp_used/unknown";let KT=!1;function qy(e){for(const t of e)if(QT(t)||typeof t=="object"&&"inputSchema"in t)return!0;return KT}function Uy(e){var t;const n=(t=e[Tu])!==null&&t!==void 0?t:"";e[Tu]=(n+` ${FT}`).trimStart()}function QT(e){return e!==null&&typeof e=="object"&&e instanceof Dc}function XT(e,t=100){return Ji(this,arguments,function*(){let i,a=0;for(;a<t;){const o=yield ve(e.listTools({cursor:i}));for(const s of o.tools)yield yield ve(s),a++;if(!o.nextCursor)break;i=o.nextCursor}})}class Dc{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new Dc(t,n)}async initialize(){var t,n,i,a;if(this.mcpTools.length>0)return;const o={},s=[];for(const m of this.mcpClients)try{for(var u=!0,d=(n=void 0,Qa(XT(m))),f;f=await d.next(),t=f.done,!t;u=!0){a=f.value,u=!1;const p=a;s.push(p);const h=p.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=m}}catch(p){n={error:p}}finally{try{!u&&!t&&(i=d.return)&&await i.call(d)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),sb(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const i of t)if(i.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[i.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await a.callTool({name:i.name,arguments:i.args},void 0,o);n.push({functionResponse:{name:i.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function $T(e,t,n){const i=new Z1;let a;n.data instanceof Blob?a=JSON.parse(await n.data.text()):a=JSON.parse(n.data),Object.assign(i,a),t(i)}class ZT{constructor(t,n,i){this.apiClient=t,this.auth=n,this.webSocketFactory=i}async connect(t){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=tN(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),d=`${a}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const m=new Promise(S=>{f=S}),p=t.callbacks,h=function(){f({})},g=this.apiClient,v={onopen:h,onmessage:S=>{$T(g,p.onmessage,S)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(S){},onclose:(i=p==null?void 0:p.onclose)!==null&&i!==void 0?i:function(S){}},E=this.webSocketFactory.create(d,eN(s),v);E.connect(),await m;const y={setup:{model:le(this.apiClient,t.model)}};return E.send(JSON.stringify(y)),new WT(E,this.apiClient)}}class WT{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=JE(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=OE(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Ui.PLAY)}pause(){this.sendPlaybackControl(Ui.PAUSE)}stop(){this.sendPlaybackControl(Ui.STOP)}resetContext(){this.sendPlaybackControl(Ui.RESET_CONTEXT)}close(){this.conn.close()}}function eN(e){const t={};return e.forEach((n,i)=>{t[i]=n}),t}function tN(e){const t=new Headers;for(const[n,i]of Object.entries(e))t.append(n,i);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nN="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function iN(e,t,n){const i=new $1;let a;n.data instanceof Blob?a=await n.data.text():n.data instanceof ArrayBuffer?a=new TextDecoder().decode(n.data):a=n.data;const o=JSON.parse(a);if(e.isVertexAI()){const s=KE(o);Object.assign(i,s)}else Object.assign(i,o);t(i)}class aN{constructor(t,n,i){this.apiClient=t,this.auth=n,this.webSocketFactory=i,this.music=new ZT(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,i,a,o,s,u;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const d=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let m;const p=this.apiClient.getHeaders();t.config&&t.config.tools&&qy(t.config.tools)&&Uy(p);const h=rN(p);if(this.apiClient.isVertexAI())m=`${d}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h);else{const I=this.apiClient.getApiKey();let q="BidiGenerateContent",O="key";I!=null&&I.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),q="BidiGenerateContentConstrained",O="access_token"),m=`${d}/ws/google.ai.generativelanguage.${f}.GenerativeService.${q}?${O}=${I}`}let g=()=>{};const v=new Promise(I=>{g=I}),E=t.callbacks,N=function(){var I;(I=E==null?void 0:E.onopen)===null||I===void 0||I.call(E),g({})},x=this.apiClient,y={onopen:N,onmessage:I=>{iN(x,E.onmessage,I)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(I){},onclose:(i=E==null?void 0:E.onclose)!==null&&i!==void 0?i:function(I){}},S=this.webSocketFactory.create(m,lN(h),y);S.connect(),await v;let T=le(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&T.startsWith("publishers/")){const I=this.apiClient.getProject(),q=this.apiClient.getLocation();T=`projects/${I}/locations/${q}/`+T}let A={};this.apiClient.isVertexAI()&&((a=t.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Os.AUDIO]}:t.config.responseModalities=[Os.AUDIO]),!((o=t.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const _=(u=(s=t.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[],w=[];for(const I of _)if(this.isCallableTool(I)){const q=I;w.push(await q.tool())}else w.push(I);w.length>0&&(t.config.tools=w);const U={model:T,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?A=BE(this.apiClient,U):A=HE(this.apiClient,U),delete A.config,S.send(JSON.stringify(A)),new sN(S,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const oN={turnComplete:!0};class sN{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=wt(n.turns),t.isVertexAI()||(i=i.map(a=>pl(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const o of i){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!t.isVertexAI()&&!("id"in o))throw new Error(nN)}return{toolResponse:{functionResponses:i}}}sendClientContent(t){t=Object.assign(Object.assign({},oN),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:FE(t)}:n={realtimeInput:YE(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function lN(e){const t={};return e.forEach((n,i)=>{t[i]=n}),t}function rN(e){const t=new Headers;for(const[n,i]of Object.entries(e))t.append(n,i);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Om=10;function Jm(e){var t,n,i;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let a=!1;for(const s of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(Yi(s)){a=!0;break}if(!a)return!0;const o=(i=e==null?void 0:e.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Yi(e){return"callTool"in e&&typeof e.callTool=="function"}function uN(e){var t,n,i;return(i=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(a=>Yi(a)))!==null&&i!==void 0?i:!1}function cN(e){var t,n,i;return(i=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(a=>!Yi(a)))!==null&&i!==void 0?i:!1}function Ym(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dN extends fi{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var i,a,o,s,u;const d=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!uN(n)||Jm(n.config))return await this.generateContentInternal(d);if(cN(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let f,m;const p=wt(d.contents),h=(o=(a=(i=d.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&o!==void 0?o:Om;let g=0;for(;g<h&&(f=await this.generateContentInternal(d),!(!f.functionCalls||f.functionCalls.length===0));){const v=f.candidates[0].content,E=[];for(const N of(u=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[])if(Yi(N)){const y=await N.callTool(f.functionCalls);E.push(...y)}g++,m={role:"user",parts:E},d.contents=wt(d.contents),d.contents.push(v),d.contents.push(m),Ym(d.config)&&(p.push(v),p.push(m))}return Ym(d.config)&&(f.automaticFunctionCallingHistory=p),f},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),Jm(n.config)){const i=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var a;let o;const s=[];if(i!=null&&i.generatedImages)for(const d of i.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((a=d==null?void 0:d.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?o=d==null?void 0:d.safetyAttributes:s.push(d);let u;return o?u={generatedImages:s,positivePromptSafetyAttributes:o,sdkHttpResponse:i.sdkHttpResponse}:u={generatedImages:s,sdkHttpResponse:i.sdkHttpResponse},u}),this.list=async n=>{var i;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((i=s.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new No(si.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(s),s)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const a={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(a)},this.generateVideos=async n=>{if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,i,a;const o=(n=t.config)===null||n===void 0?void 0:n.tools;if(!o)return t;const s=await Promise.all(o.map(async d=>Yi(d)?await d.tool():d)),u={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:s})};if(u.config.tools=s,t.config&&t.config.tools&&qy(t.config.tools)){const d=(a=(i=t.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&a!==void 0?a:{};let f=Object.assign({},d);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),Uy(f),u.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(t){var n,i,a;const o=new Map;for(const s of(i=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(Yi(s)){const u=s,d=await u.tool();for(const f of(a=d.functionDeclarations)!==null&&a!==void 0?a:[]){if(!f.name)throw new Error("Function declaration name is required.");if(o.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);o.set(f.name,u)}}return o}async processAfcStream(t){var n,i,a;const o=(a=(i=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:Om;let s=!1,u=0;const d=await this.initAfcToolsMap(t);return function(f,m,p){var h,g;return Ji(this,arguments,function*(){for(var v,E,N,x;u<o;){s&&(u++,s=!1);const A=yield ve(f.processParamsMaybeAddMcpUsage(p)),_=yield ve(f.generateContentStreamInternal(A)),w=[],U=[];try{for(var y=!0,S=(E=void 0,Qa(_)),T;T=yield ve(S.next()),v=T.done,!v;y=!0){x=T.value,y=!1;const I=x;if(yield yield ve(I),I.candidates&&(!((h=I.candidates[0])===null||h===void 0)&&h.content)){U.push(I.candidates[0].content);for(const q of(g=I.candidates[0].content.parts)!==null&&g!==void 0?g:[])if(u<o&&q.functionCall){if(!q.functionCall.name)throw new Error("Function call name was not returned by the model.");if(m.has(q.functionCall.name)){const O=yield ve(m.get(q.functionCall.name).callTool([q.functionCall]));w.push(...O)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${m.keys()}, mising tool: ${q.functionCall.name}`)}}}}catch(I){E={error:I}}finally{try{!y&&!v&&(N=S.return)&&(yield ve(N.call(S)))}finally{if(E)throw E.error}}if(w.length>0){s=!0;const I=new wa;I.candidates=[{content:{role:"user",parts:w}}],yield yield ve(I);const q=[];q.push(...U),q.push({role:"user",parts:w});const O=wt(p.contents).concat(q);p.contents=O}else break}})}(this,d,t)}async generateContentInternal(t){var n,i,a,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=Gm(this.apiClient,t);return u=G("{model}:generateContent",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),s.then(m=>{const p=zm(m),h=new wa;return Object.assign(h,p),h})}else{const f=Vm(this.apiClient,t);return u=G("{model}:generateContent",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),s.then(m=>{const p=Pm(m),h=new wa;return Object.assign(h,p),h})}}async generateContentStreamInternal(t){var n,i,a,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=Gm(this.apiClient,t);return u=G("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}),s.then(function(p){return Ji(this,arguments,function*(){var h,g,v,E;try{for(var N=!0,x=Qa(p),y;y=yield ve(x.next()),h=y.done,!h;N=!0){E=y.value,N=!1;const S=E,T=zm(yield ve(S.json()));T.sdkHttpResponse={headers:S.headers};const A=new wa;Object.assign(A,T),yield yield ve(A)}}catch(S){g={error:S}}finally{try{!N&&!h&&(v=x.return)&&(yield ve(v.call(x)))}finally{if(g)throw g.error}}})})}else{const f=Vm(this.apiClient,t);return u=G("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(p){return Ji(this,arguments,function*(){var h,g,v,E;try{for(var N=!0,x=Qa(p),y;y=yield ve(x.next()),h=y.done,!h;N=!0){E=y.value,N=!1;const S=E,T=Pm(yield ve(S.json()));T.sdkHttpResponse={headers:S.headers};const A=new wa;Object.assign(A,T),yield yield ve(A)}}catch(S){g={error:S}}finally{try{!N&&!h&&(v=x.return)&&(yield ve(v.call(x)))}finally{if(g)throw g.error}}})})}}async embedContent(t){var n,i,a,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=N2(this.apiClient,t);return u=G("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),s.then(m=>{const p=C2(m),h=new Em;return Object.assign(h,p),h})}else{const f=T2(this.apiClient,t);return u=G("{model}:batchEmbedContents",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),s.then(m=>{const p=A2(m),h=new Em;return Object.assign(h,p),h})}}async generateImagesInternal(t){var n,i,a,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=U2(this.apiClient,t);return u=G("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),s.then(m=>{const p=j2(m),h=new Tm;return Object.assign(h,p),h})}else{const f=q2(this.apiClient,t);return u=G("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),s.then(m=>{const p=L2(m),h=new Tm;return Object.assign(h,p),h})}}async editImageInternal(t){var n,i;let a,o="",s={};if(this.apiClient.isVertexAI()){const u=v2(this.apiClient,t);return o=G("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:d.headers},m})),a.then(d=>{const f=S2(d),m=new B1;return Object.assign(m,f),m})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,i;let a,o="",s={};if(this.apiClient.isVertexAI()){const u=IT(this.apiClient,t);return o=G("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:d.headers},m})),a.then(d=>{const f=kT(d),m=new O1;return Object.assign(m,f),m})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,i;let a,o="",s={};if(this.apiClient.isVertexAI()){const u=mT(this.apiClient,t);return o=G("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>{const f=hT(d),m=new J1;return Object.assign(m,f),m})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,i;let a,o="",s={};if(this.apiClient.isVertexAI()){const u=ST(this.apiClient,t);return o=G("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>{const f=bT(d),m=new Y1;return Object.assign(m,f),m})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,i,a,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=eT(this.apiClient,t);return u=G("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),s.then(m=>Eu(m))}else{const f=W2(this.apiClient,t);return u=G("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),s.then(m=>bu(m))}}async listInternal(t){var n,i,a,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=sT(this.apiClient,t);return u=G("{models_url}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),s.then(m=>{const p=rT(m),h=new Nm;return Object.assign(h,p),h})}else{const f=oT(this.apiClient,t);return u=G("{models_url}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),s.then(m=>{const p=lT(m),h=new Nm;return Object.assign(h,p),h})}}async update(t){var n,i,a,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=MT(this.apiClient,t);return u=G("{model}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),s.then(m=>Eu(m))}else{const f=_T(this.apiClient,t);return u=G("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),s.then(m=>bu(m))}}async delete(t){var n,i,a,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=p2(this.apiClient,t);return u=G("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),s.then(m=>{const p=y2(m),h=new Am;return Object.assign(h,p),h})}else{const f=h2(this.apiClient,t);return u=G("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),s.then(m=>{const p=g2(m),h=new Am;return Object.assign(h,p),h})}}async countTokens(t){var n,i,a,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=d2(this.apiClient,t);return u=G("{model}:countTokens",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),s.then(m=>{const p=m2(m),h=new Cm;return Object.assign(h,p),h})}else{const f=c2(this.apiClient,t);return u=G("{model}:countTokens",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),s.then(m=>{const p=f2(m),h=new Cm;return Object.assign(h,p),h})}}async computeTokens(t){var n,i;let a,o="",s={};if(this.apiClient.isVertexAI()){const u=i2(this.apiClient,t);return o=G("{model}:computeTokens",u._url),s=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:d.headers},m})),a.then(d=>{const f=a2(d),m=new F1;return Object.assign(m,f),m})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,i,a,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=B2(this.apiClient,t);return u=G("{model}:predictLongRunning",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),s.then(m=>{const p=z2(m),h=new Js;return Object.assign(h,p),h})}else{const f=H2(this.apiClient,t);return u=G("{model}:predictLongRunning",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),s.then(m=>{const p=P2(m),h=new Js;return Object.assign(h,p),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fN extends fi{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,i=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=n.name.split("/operations/")[0];let o;i&&"httpOptions"in i&&(o=i.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:a,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:a,isVertexAI:!1})}}async get(t){const n=t.operation,i=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=n.name.split("/operations/")[0];let o;i&&"httpOptions"in i&&(o=i.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:a,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:a,isVertexAI:!1})}}async getVideosOperationInternal(t){var n,i,a,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=P1(t);return u=G("{operationName}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),s}else{const f=G1(t);return u=G("{operationName}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),s}}async fetchPredictVideosOperationInternal(t){var n,i;let a,o="",s={};if(this.apiClient.isVertexAI()){const u=k1(t);return o=G("{resourceName}:fetchPredictOperation",u._url),s=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mN(e){const t={};if(r(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=r(e,["data"]);n!=null&&c(t,["data"],n);const i=r(e,["mimeType"]);return i!=null&&c(t,["mimeType"],i),t}function hN(e){const t={},n=r(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>bN(o))),c(t,["parts"],a)}const i=r(e,["role"]);return i!=null&&c(t,["role"],i),t}function pN(e,t,n){const i={},a=r(t,["expireTime"]);n!==void 0&&a!=null&&c(n,["expireTime"],a);const o=r(t,["newSessionExpireTime"]);n!==void 0&&o!=null&&c(n,["newSessionExpireTime"],o);const s=r(t,["uses"]);n!==void 0&&s!=null&&c(n,["uses"],s);const u=r(t,["liveConnectConstraints"]);n!==void 0&&u!=null&&c(n,["bidiGenerateContentSetup"],SN(e,u));const d=r(t,["lockAdditionalFields"]);return n!==void 0&&d!=null&&c(n,["fieldMask"],d),i}function gN(e,t){const n={},i=r(t,["config"]);return i!=null&&c(n,["config"],pN(e,i,n)),n}function yN(e){const t={};if(r(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=r(e,["fileUri"]);n!=null&&c(t,["fileUri"],n);const i=r(e,["mimeType"]);return i!=null&&c(t,["mimeType"],i),t}function xN(e){const t={},n=r(e,["timeRangeFilter"]);if(n!=null&&c(t,["timeRangeFilter"],n),r(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function vN(e,t){const n={},i=r(e,["generationConfig"]);t!==void 0&&i!=null&&c(t,["setup","generationConfig"],i);const a=r(e,["responseModalities"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig","responseModalities"],a);const o=r(e,["temperature"]);t!==void 0&&o!=null&&c(t,["setup","generationConfig","temperature"],o);const s=r(e,["topP"]);t!==void 0&&s!=null&&c(t,["setup","generationConfig","topP"],s);const u=r(e,["topK"]);t!==void 0&&u!=null&&c(t,["setup","generationConfig","topK"],u);const d=r(e,["maxOutputTokens"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","maxOutputTokens"],d);const f=r(e,["mediaResolution"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","mediaResolution"],f);const m=r(e,["seed"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","seed"],m);const p=r(e,["speechConfig"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","speechConfig"],kc(p));const h=r(e,["thinkingConfig"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","thinkingConfig"],h);const g=r(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],g);const v=r(e,["systemInstruction"]);t!==void 0&&v!=null&&c(t,["setup","systemInstruction"],hN(Fe(v)));const E=r(e,["tools"]);if(t!==void 0&&E!=null){let _=ma(E);Array.isArray(_)&&(_=_.map(w=>TN(fa(w)))),c(t,["setup","tools"],_)}const N=r(e,["sessionResumption"]);t!==void 0&&N!=null&&c(t,["setup","sessionResumption"],EN(N));const x=r(e,["inputAudioTranscription"]);t!==void 0&&x!=null&&c(t,["setup","inputAudioTranscription"],x);const y=r(e,["outputAudioTranscription"]);t!==void 0&&y!=null&&c(t,["setup","outputAudioTranscription"],y);const S=r(e,["realtimeInputConfig"]);t!==void 0&&S!=null&&c(t,["setup","realtimeInputConfig"],S);const T=r(e,["contextWindowCompression"]);t!==void 0&&T!=null&&c(t,["setup","contextWindowCompression"],T);const A=r(e,["proactivity"]);return t!==void 0&&A!=null&&c(t,["setup","proactivity"],A),n}function SN(e,t){const n={},i=r(t,["model"]);i!=null&&c(n,["setup","model"],le(e,i));const a=r(t,["config"]);return a!=null&&c(n,["config"],vN(a,n)),n}function bN(e){const t={},n=r(e,["videoMetadata"]);n!=null&&c(t,["videoMetadata"],n);const i=r(e,["thought"]);i!=null&&c(t,["thought"],i);const a=r(e,["inlineData"]);a!=null&&c(t,["inlineData"],mN(a));const o=r(e,["fileData"]);o!=null&&c(t,["fileData"],yN(o));const s=r(e,["thoughtSignature"]);s!=null&&c(t,["thoughtSignature"],s);const u=r(e,["functionCall"]);u!=null&&c(t,["functionCall"],u);const d=r(e,["codeExecutionResult"]);d!=null&&c(t,["codeExecutionResult"],d);const f=r(e,["executableCode"]);f!=null&&c(t,["executableCode"],f);const m=r(e,["functionResponse"]);m!=null&&c(t,["functionResponse"],m);const p=r(e,["text"]);return p!=null&&c(t,["text"],p),t}function EN(e){const t={},n=r(e,["handle"]);if(n!=null&&c(t,["handle"],n),r(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function TN(e){const t={},n=r(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),c(t,["functionDeclarations"],d)}if(r(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=r(e,["googleSearch"]);i!=null&&c(t,["googleSearch"],xN(i));const a=r(e,["googleSearchRetrieval"]);if(a!=null&&c(t,["googleSearchRetrieval"],a),r(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(r(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const o=r(e,["urlContext"]);o!=null&&c(t,["urlContext"],o);const s=r(e,["computerUse"]);s!=null&&c(t,["computerUse"],s);const u=r(e,["codeExecution"]);return u!=null&&c(t,["codeExecution"],u),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NN(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const i=e[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const a=Object.keys(i).map(o=>`${n}.${o}`);t.push(...a)}else t.push(n)}return t.join(",")}function AN(e,t){let n=null;const i=e.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const o=i.setup;typeof o=="object"&&o!==null?(e.bidiGenerateContentSetup=o,n=o):delete e.bidiGenerateContentSetup}else i!==void 0&&delete e.bidiGenerateContentSetup;const a=e.fieldMask;if(n){const o=NN(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)o?e.fieldMask=o:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];a.length>0&&(u=a.map(f=>s.includes(f)?`generationConfig.${f}`:f));const d=[];o&&d.push(o),u.length>0&&d.push(...u),d.length>0?e.fieldMask=d.join(","):delete e.fieldMask}else delete e.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?e.fieldMask=a.join(","):delete e.fieldMask;return e}class CN extends fi{constructor(t){super(),this.apiClient=t}async create(t){var n,i;let a,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=gN(this.apiClient,t);o=G("auth_tokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query;const d=AN(u,t.config);return a=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),a.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wN(e){const t={},n=r(e,["name"]);return n!=null&&c(t,["_url","name"],n),t}function _N(e){const t={},n=r(e,["name"]);return n!=null&&c(t,["_url","name"],n),t}function MN(e,t){const n={};if(r(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=r(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&c(t,["displayName"],i),r(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=r(e,["epochCount"]);t!==void 0&&a!=null&&c(t,["tuningTask","hyperparameters","epochCount"],a);const o=r(e,["learningRateMultiplier"]);if(o!=null&&c(n,["tuningTask","hyperparameters","learningRateMultiplier"],o),r(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(r(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(r(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const s=r(e,["batchSize"]);t!==void 0&&s!=null&&c(t,["tuningTask","hyperparameters","batchSize"],s);const u=r(e,["learningRate"]);if(t!==void 0&&u!=null&&c(t,["tuningTask","hyperparameters","learningRate"],u),r(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return n}function RN(e,t){const n={},i=r(e,["validationDataset"]);t!==void 0&&i!=null&&c(t,["supervisedTuningSpec"],JN(i,n));const a=r(e,["tunedModelDisplayName"]);t!==void 0&&a!=null&&c(t,["tunedModelDisplayName"],a);const o=r(e,["description"]);t!==void 0&&o!=null&&c(t,["description"],o);const s=r(e,["epochCount"]);t!==void 0&&s!=null&&c(t,["supervisedTuningSpec","hyperParameters","epochCount"],s);const u=r(e,["learningRateMultiplier"]);t!==void 0&&u!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],u);const d=r(e,["exportLastCheckpointOnly"]);t!==void 0&&d!=null&&c(t,["supervisedTuningSpec","exportLastCheckpointOnly"],d);const f=r(e,["adapterSize"]);if(t!==void 0&&f!=null&&c(t,["supervisedTuningSpec","hyperParameters","adapterSize"],f),r(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(r(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=r(e,["labels"]);return t!==void 0&&m!=null&&c(t,["labels"],m),n}function IN(e){const t={},n=r(e,["baseModel"]);n!=null&&c(t,["baseModel"],n);const i=r(e,["preTunedModel"]);i!=null&&c(t,["preTunedModel"],i);const a=r(e,["trainingDataset"]);a!=null&&c(t,["tuningTask","trainingData"],HN(a));const o=r(e,["config"]);return o!=null&&MN(o,t),t}function kN(e){const t={},n=r(e,["baseModel"]);n!=null&&c(t,["baseModel"],n);const i=r(e,["preTunedModel"]);i!=null&&c(t,["preTunedModel"],i);const a=r(e,["trainingDataset"]);a!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],BN(a,t));const o=r(e,["config"]);return o!=null&&RN(o,t),t}function DN(e){const t={},n=r(e,["name"]);return n!=null&&c(t,["_url","name"],n),t}function qN(e){const t={},n=r(e,["name"]);return n!=null&&c(t,["_url","name"],n),t}function UN(e,t){const n={},i=r(e,["pageSize"]);t!==void 0&&i!=null&&c(t,["_query","pageSize"],i);const a=r(e,["pageToken"]);t!==void 0&&a!=null&&c(t,["_query","pageToken"],a);const o=r(e,["filter"]);return t!==void 0&&o!=null&&c(t,["_query","filter"],o),n}function LN(e,t){const n={},i=r(e,["pageSize"]);t!==void 0&&i!=null&&c(t,["_query","pageSize"],i);const a=r(e,["pageToken"]);t!==void 0&&a!=null&&c(t,["_query","pageToken"],a);const o=r(e,["filter"]);return t!==void 0&&o!=null&&c(t,["_query","filter"],o),n}function jN(e){const t={},n=r(e,["config"]);return n!=null&&UN(n,t),t}function VN(e){const t={},n=r(e,["config"]);return n!=null&&LN(n,t),t}function GN(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=r(e,["nextPageToken"]);i!=null&&c(t,["nextPageToken"],i);const a=r(e,["tunedModels"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(s=>Ly(s))),c(t,["tuningJobs"],o)}return t}function PN(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=r(e,["nextPageToken"]);i!=null&&c(t,["nextPageToken"],i);const a=r(e,["tuningJobs"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(s=>Nu(s))),c(t,["tuningJobs"],o)}return t}function zN(e){const t={},n=r(e,["name"]);n!=null&&c(t,["model"],n);const i=r(e,["name"]);return i!=null&&c(t,["endpoint"],i),t}function HN(e){const t={};if(r(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=r(e,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>a)),c(t,["examples","examples"],i)}return t}function BN(e,t){const n={},i=r(e,["gcsUri"]);t!==void 0&&i!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],i);const a=r(e,["vertexDatasetResource"]);if(t!==void 0&&a!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],a),r(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function Ly(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=r(e,["name"]);i!=null&&c(t,["name"],i);const a=r(e,["state"]);a!=null&&c(t,["state"],yy(a));const o=r(e,["createTime"]);o!=null&&c(t,["createTime"],o);const s=r(e,["tuningTask","startTime"]);s!=null&&c(t,["startTime"],s);const u=r(e,["tuningTask","completeTime"]);u!=null&&c(t,["endTime"],u);const d=r(e,["updateTime"]);d!=null&&c(t,["updateTime"],d);const f=r(e,["description"]);f!=null&&c(t,["description"],f);const m=r(e,["baseModel"]);m!=null&&c(t,["baseModel"],m);const p=r(e,["_self"]);p!=null&&c(t,["tunedModel"],zN(p));const h=r(e,["customBaseModel"]);h!=null&&c(t,["customBaseModel"],h);const g=r(e,["experiment"]);g!=null&&c(t,["experiment"],g);const v=r(e,["labels"]);v!=null&&c(t,["labels"],v);const E=r(e,["outputUri"]);E!=null&&c(t,["outputUri"],E);const N=r(e,["pipelineJob"]);N!=null&&c(t,["pipelineJob"],N);const x=r(e,["serviceAccount"]);x!=null&&c(t,["serviceAccount"],x);const y=r(e,["tunedModelDisplayName"]);y!=null&&c(t,["tunedModelDisplayName"],y);const S=r(e,["veoTuningSpec"]);return S!=null&&c(t,["veoTuningSpec"],S),t}function Nu(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=r(e,["name"]);i!=null&&c(t,["name"],i);const a=r(e,["state"]);a!=null&&c(t,["state"],yy(a));const o=r(e,["createTime"]);o!=null&&c(t,["createTime"],o);const s=r(e,["startTime"]);s!=null&&c(t,["startTime"],s);const u=r(e,["endTime"]);u!=null&&c(t,["endTime"],u);const d=r(e,["updateTime"]);d!=null&&c(t,["updateTime"],d);const f=r(e,["error"]);f!=null&&c(t,["error"],f);const m=r(e,["description"]);m!=null&&c(t,["description"],m);const p=r(e,["baseModel"]);p!=null&&c(t,["baseModel"],p);const h=r(e,["tunedModel"]);h!=null&&c(t,["tunedModel"],h);const g=r(e,["preTunedModel"]);g!=null&&c(t,["preTunedModel"],g);const v=r(e,["supervisedTuningSpec"]);v!=null&&c(t,["supervisedTuningSpec"],v);const E=r(e,["tuningDataStats"]);E!=null&&c(t,["tuningDataStats"],E);const N=r(e,["encryptionSpec"]);N!=null&&c(t,["encryptionSpec"],N);const x=r(e,["partnerModelTuningSpec"]);x!=null&&c(t,["partnerModelTuningSpec"],x);const y=r(e,["customBaseModel"]);y!=null&&c(t,["customBaseModel"],y);const S=r(e,["experiment"]);S!=null&&c(t,["experiment"],S);const T=r(e,["labels"]);T!=null&&c(t,["labels"],T);const A=r(e,["outputUri"]);A!=null&&c(t,["outputUri"],A);const _=r(e,["pipelineJob"]);_!=null&&c(t,["pipelineJob"],_);const w=r(e,["serviceAccount"]);w!=null&&c(t,["serviceAccount"],w);const U=r(e,["tunedModelDisplayName"]);U!=null&&c(t,["tunedModelDisplayName"],U);const I=r(e,["veoTuningSpec"]);return I!=null&&c(t,["veoTuningSpec"],I),t}function ON(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=r(e,["name"]);i!=null&&c(t,["name"],i);const a=r(e,["metadata"]);a!=null&&c(t,["metadata"],a);const o=r(e,["done"]);o!=null&&c(t,["done"],o);const s=r(e,["error"]);return s!=null&&c(t,["error"],s),t}function JN(e,t){const n={},i=r(e,["gcsUri"]);i!=null&&c(n,["validationDatasetUri"],i);const a=r(e,["vertexDatasetResource"]);return t!==void 0&&a!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],a),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class YN extends fi{constructor(t){super(),this.apiClient=t,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new No(si.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.tune=async n=>{var i;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const a={tunedModelName:n.baseModel};!((i=n.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(a.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:a});return o.baseModel=void 0,await this.tuneInternal(o)}else{const a=Object.assign({},n);return await this.tuneInternal(a)}else{const a=Object.assign({},n),o=await this.tuneMldevInternal(a);let s="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?s=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(s=o.name.split("/operations/")[0]),{name:s,state:yu.JOB_STATE_QUEUED}}}}async getInternal(t){var n,i,a,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=qN(t);return u=G("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),s.then(m=>Nu(m))}else{const f=DN(t);return u=G("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),s.then(m=>Ly(m))}}async listInternal(t){var n,i,a,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=VN(t);return u=G("tuningJobs",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),s.then(m=>{const p=PN(m),h=new wm;return Object.assign(h,p),h})}else{const f=jN(t);return u=G("tunedModels",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),s.then(m=>{const p=GN(m),h=new wm;return Object.assign(h,p),h})}}async cancel(t){var n,i,a,o;let s="",u={};if(this.apiClient.isVertexAI()){const d=_N(t);s=G("{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}else{const d=wN(t);s=G("{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async tuneInternal(t){var n,i;let a,o="",s={};if(this.apiClient.isVertexAI()){const u=kN(t);return o=G("tuningJobs",u._url),s=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:d.headers},m})),a.then(d=>Nu(d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,i;let a,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=IN(t);return o=G("tunedModels",u._url),s=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:d.headers},m})),a.then(d=>ON(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FN{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const KN=1024*1024*8,QN=3,XN=1e3,$N=2,vr="x-goog-upload-status";async function ZN(e,t,n){var i,a,o;let s=0,u=0,d=new xu(new Response),f="upload";for(s=e.size;u<s;){const p=Math.min(KN,s-u),h=e.slice(u,u+p);u+p>=s&&(f+=", finalize");let g=0,v=XN;for(;g<QN&&(d=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(u),"Content-Length":String(p)}}}),!(!((i=d==null?void 0:d.headers)===null||i===void 0)&&i[vr]));)g++,await eA(v),v=v*$N;if(u+=p,((a=d==null?void 0:d.headers)===null||a===void 0?void 0:a[vr])!=="active")break;if(s<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const m=await(d==null?void 0:d.json());if(((o=d==null?void 0:d.headers)===null||o===void 0?void 0:o[vr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return m.file}async function WN(e){return{size:e.size,type:e.type}}function eA(e){return new Promise(t=>setTimeout(t,e))}class tA{async upload(t,n,i){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await ZN(t,n,i)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await WN(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nA{create(t,n,i){return new iA(t,n,i)}}class iA{constructor(t,n,i){this.url=t,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fm="x-goog-api-key";class aA{constructor(t){this.apiKey=t}async addAuthHeaders(t){if(t.get(Fm)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Fm,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oA="gl-node/";class Gt{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const i=I1(t.httpOptions,t.vertexai,void 0,void 0);i&&(t.httpOptions?t.httpOptions.baseUrl=i:t.httpOptions={baseUrl:i}),this.apiVersion=t.apiVersion;const a=new aA(this.apiKey);this.apiClient=new JT({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:oA+"web",uploader:new tA,downloader:new FN}),this.models=new dN(this.apiClient),this.live=new aN(this.apiClient,a,new nA),this.batches=new Fb(this.apiClient),this.chats=new NE(this.models,this.apiClient),this.caches=new bE(this.apiClient),this.files=new qE(this.apiClient),this.operations=new fN(this.apiClient),this.authTokens=new CN(this.apiClient),this.tunings=new YN(this.apiClient)}}const sA=({className:e})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.125A59.769 59.769 0 0121.485 12 59.768 59.768 0 013.27 20.875L5.999 12zm0 0h7.5"})}),jy=({className:e})=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 008.716-6.747M12 21a9.004 9.004 0 01-8.716-6.747M12 21c.243 0 .482-.017.716-.05M12 21c-.243 0-.482-.017-.716-.05M3.284 14.253A9.004 9.004 0 0112 3c4.968 0 9 4.032 9 9"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v1m0 16v.05m0-16.05a9 9 0 00-5.716 1.747M12 3a9 9 0 015.716 1.747"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 12.75a.75.75 0 010-1.5.75.75 0 010 1.5zm4.5 0a.75.75 0 010-1.5.75.75 0 010 1.5z"})]});var Km={};const lA=({onBack:e})=>{const[t,n]=b.useState(null),[i,a]=b.useState(""),[o,s]=b.useState(!1),[u,d]=b.useState([]),[f,m]=b.useState(""),[p,h]=b.useState(!1),[g,v]=b.useState(""),E=b.useRef(null),N=b.useRef(null);b.useEffect(()=>{const S=localStorage.getItem("counselorUserName");S&&n(S)},[]),b.useEffect(()=>{var S;(S=N.current)==null||S.scrollIntoView({behavior:"smooth"})},[u]),b.useEffect(()=>{if(t&&Km.API_KEY&&!E.current){const S=`You are a warm, empathetic Muslim AI therapist. Your name is 'المستشار النفسي'. Your primary goal is to provide comfort and guidance by blending modern psychology with authentic Islamic teachings. Your persona is like a wise, caring friend who listens without judgment.
When the user mentions their name, which is ${t}, use it to make the conversation personal and warm.
- LANGUAGE: Respond ONLY in simple, respectful Egyptian Arabic (عامي مصري محترم).
- TONE: Keep your replies short, comforting, and meaningful. Avoid long paragraphs and a preachy tone.
- QUR'ANIC REFERENCES: When you quote a Qur'anic verse, you MUST format it on its own line, followed by the Surah name and Ayah number in parentheses on the next line. Example:
{أَلَا بِذِكْرِ اللَّهِ تَطْمَئِنُّ الْقُلُوبُ}
(سورة الرعد – آية 28)
- SCHOLARLY REFERENCES: When referencing a scholarly opinion, you MUST mention the book name and the Imam. Your only allowed sources for this are Tafsir Ibn Kathir and the books of the four Imams (Abu Hanifa, Malik, Al-Shafi‘i, Ahmad ibn Hanbal). Example: "ورد في كتاب الأم للإمام الشافعي إن..."
- HANDLING HARAM: If the user mentions something that is Islamically forbidden (haram), respond gently. First, state the ruling clearly but softly ("ده حرام"). Second, if applicable, provide the expiation (الكفارة) with its source. Example: "بُص يا صاحبي، اللى عملته ده حرام، بس ربنا رحيم جدًا. ورد في كتاب المغني للإمام ابن قدامة إن الكفارة هي...".
- SESSION: Do not save or mention user history. Treat every new session as a fresh conversation.`,T=new Gt({apiKey:Km.API_KEY});E.current=T.chats.create({model:"gemini-2.5-flash",config:{systemInstruction:S}})}},[t]);const x=S=>{if(S.preventDefault(),i.trim()){const T=i.trim();localStorage.setItem("counselorUserName",T),n(T),s(!0),setTimeout(()=>s(!1),5e3)}},y=async()=>{if(!f.trim()||p||!E.current)return;const S={role:"user",text:f};d(T=>[...T,S]),m(""),h(!0),v("");try{const A={role:"model",text:(await E.current.sendMessage({message:S.text})).text};d(_=>[..._,A])}catch(T){console.error(T);const A="حصل مشكلة في التواصل مع المستشار. حاول تاني بعد شوية.";v(A),d(_=>[..._,{role:"model",text:A}])}finally{h(!1)}};return t?l.jsxs("div",{className:"flex flex-col h-full bg-background rounded-xl shadow-inner max-w-3xl mx-auto",children:[l.jsxs("div",{className:"flex items-center p-3 border-b border-border-color flex-shrink-0",children:[l.jsx("button",{onClick:e,className:"p-2 rounded-full text-text-secondary hover:bg-border-color",children:l.jsx(Ee,{className:"w-6 h-6"})}),l.jsx("div",{className:"text-center flex-grow",children:l.jsx("h2",{className:"text-lg font-bold font-tajawal",children:"المستشار النفسي"})}),l.jsx("div",{className:"w-10"})]}),l.jsxs("div",{className:"flex-grow p-4 overflow-y-auto space-y-6",children:[o&&l.jsxs("div",{className:"p-3 bg-green-500/10 text-green-700 dark:text-green-300 rounded-lg text-center font-semibold animate-fade-in",children:["أهلاً بيك يا ",t," 🌿، أنا هنا علشان أسمعك ونفكر سوا بهدوء."]}),u.map((S,T)=>l.jsx("div",{className:`flex ${S.role==="user"?"justify-end":"justify-start"}`,children:l.jsx("div",{className:`max-w-md p-3 rounded-2xl ${S.role==="user"?"bg-primary text-white rounded-br-lg":"bg-card text-text-primary rounded-bl-lg"}`,children:l.jsx("p",{className:"whitespace-pre-wrap leading-relaxed",children:S.text})})},T)),p&&l.jsx("div",{className:"flex justify-start",children:l.jsxs("div",{className:"max-w-md p-3 rounded-2xl bg-card text-text-primary rounded-bl-lg flex items-center gap-2",children:[l.jsx("span",{className:"h-2 w-2 bg-primary rounded-full animate-bounce [animation-delay:-0.3s]"}),l.jsx("span",{className:"h-2 w-2 bg-primary rounded-full animate-bounce [animation-delay:-0.15s]"}),l.jsx("span",{className:"h-2 w-2 bg-primary rounded-full animate-bounce"})]})}),l.jsx("div",{ref:N})]}),l.jsxs("div",{className:"p-2 sm:p-4 bg-card border-t border-border-color flex-shrink-0",children:[g&&l.jsx("p",{className:"text-red-500 text-xs text-center mb-2",children:g}),l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx("textarea",{value:f,onChange:S=>m(S.target.value),className:"flex-grow bg-background border border-border-color rounded-lg p-3 resize-none focus:outline-none focus:ring-2 focus:ring-primary/50 transition",placeholder:"اكتب رسالتك هنا...",rows:1,style:{minHeight:"48px",maxHeight:"150px"},onInput:S=>{const T=S.target;T.style.height="auto",T.style.height=`${T.scrollHeight}px`}}),l.jsx("button",{onClick:y,disabled:p||!f.trim(),className:"h-12 w-12 flex-shrink-0 bg-primary text-white rounded-lg flex items-center justify-center disabled:opacity-50 hover:opacity-90 transition",children:l.jsx(sA,{className:"w-6 h-6"})})]})]})]}):l.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center animate-fade-in",children:[l.jsx(jy,{className:"w-16 h-16 text-primary mb-4"}),l.jsx("h2",{className:"text-2xl font-bold font-tajawal",children:"المستشار النفسي"}),l.jsx("p",{className:"text-text-secondary mt-2 mb-6 font-tajawal text-primary bg-primary/10 px-3 py-1 rounded-full font-semibold",children:"مستشارك النفسي بالذكاء الاصطناعي"}),l.jsxs("form",{onSubmit:x,className:"w-full max-w-sm",children:[l.jsx("label",{htmlFor:"name-input",className:"font-semibold text-text-primary mb-2 block",children:"ما اسمك الجميل؟"}),l.jsx("input",{id:"name-input",type:"text",value:i,onChange:S=>a(S.target.value),className:"w-full p-3 bg-card border border-border-color rounded-lg text-center focus:outline-none focus:ring-2 focus:ring-primary/50",placeholder:"اكتب اسمك هنا"}),l.jsx("button",{type:"submit",className:"w-full mt-4 bg-primary text-white font-bold py-3 px-4 rounded-lg hover:opacity-90",children:"ابدأ المحادثة"})]})]})},rA=({className:e})=>l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 11a7 7 0 01-14 0m7 6v4m0 0H9m4 0h2m-4-8a4 4 0 014-4h0a4 4 0 014 4v2m-8 0v2a4 4 0 004 4h0a4 4 0 004-4v-2"})}),uA=({className:e})=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 10h6v4H9z"})]});var _a={};const Qm=e=>new Promise((t,n)=>{const i=new FileReader;i.onloadend=()=>{const o=i.result.split(",")[1];t(o)},i.onerror=n,i.readAsDataURL(e)}),Xm=(e,t)=>{let n=e.toString();for(;n.length<t;)n="0"+n;return n},cA="Abdul_Basit_Mujawwad_128kbps",dA={identifier:cA,name:"الشيخ عبد الباسط عبد الصمد (مجود)",englishName:"Abdel Basit Abdel Samad (Mujawwad)",rawName:"عبدالباسط عبدالصمد",style:"Mujawwad"},fA=({onBack:e,surahs:t})=>{var Me,Le,$e;const[n,i]=b.useState("1"),[a,o]=b.useState("1"),[s]=b.useState(dA),[u,d]=b.useState([]),[f,m]=b.useState(""),[p,h]=b.useState(""),g=b.useRef(null),[v,E]=b.useState(null),[N,x]=b.useState(null),[y,S]=b.useState(!1),T=b.useRef(null),A=b.useRef([]),_=b.useRef(null),[w,U]=b.useState(!0),[I,q]=b.useState(!1),[O,j]=b.useState(!1),[V,D]=b.useState(""),K=t.find(H=>H.id===parseInt(n)),k=K?K.numberOfAyahs:0,Q=Array.from({length:k},(H,te)=>te+1);b.useEffect(()=>{o("1")},[n]),b.useEffect(()=>{(async()=>{if(n){U(!0),D(""),d([]),m(""),h(""),E(null),x(null);try{const te=await fetch(`https://api.quran.com/api/v4/verses/by_chapter/${n}?language=ar&fields=text_uthmani`);if(!te.ok)throw new Error("فشل في جلب آيات السورة. قد يكون المصدر غير متاح.");const je=await te.json();if(!je.verses||je.verses.length===0)throw new Error("لم يتم العثور على آيات لهذه السورة.");d(je.verses)}catch(te){D(te instanceof Error?te.message:"حدث خطأ غير متوقع أثناء تحميل بيانات السورة."),U(!1)}}})()},[n]),b.useEffect(()=>{if(u.length===0){n&&U(!0);return}const H=parseInt(a)-1;if(H>=0&&H<u.length){const te=u.find(je=>je.verse_key===`${n}:${a}`);if(te){m(te.text_uthmani);const je=Xm(parseInt(n),3),Dt=Xm(parseInt(a),3),zn=`https://everyayah.com/data/${s.identifier}/${je}${Dt}.mp3`;h(zn),E(null),x(null),D("")}else D("رقم الآية المحدد غير صالح لهذه السورة.")}else D("رقم الآية المحدد غير صالح.");U(!1)},[u,a,s.identifier,n]);const X=()=>{p&&g.current?g.current.play().catch(()=>D("فشل تشغيل الصوت.")):w||D("التلاوة غير متاحة حاليًا. يرجى المحاولة مرة أخرى.")},z=async()=>{if(!f||!_a.API_KEY){D(_a.API_KEY?"الرجاء انتظار تحميل بيانات الآية.":"مفتاح API غير متوفر.");return}q(!0),D(""),E(null);try{const H=new Gt({apiKey:_a.API_KEY}),te=`الآية: "${f}". اسم السورة: ${K==null?void 0:K.name}.`,je="أنت عالم خبير في التجويد. حلل نص الآية المقدمة وقدم تفصيلاً دقيقاً لقواعد التجويد التي يطبقها قارئ محترف (مجود). يجب أن يشمل التحليل المدود، الإدغام، الإخفاء، القلقلة، إلخ. اشرح لماذا يطبق القارئ كل حكم. يجب أن تستشهد بمصادر موثوقة مثل 'متن تحفة الأطفال' أو 'المقدمة الجزرية'. علق أيضاً على النبرة والنغمة. ردك يجب أن يكون كائن JSON صالح باللغة العربية. لا تضف أي نص خارج الـJSON.",Dt={type:B.OBJECT,properties:{tajweedRules:{type:B.ARRAY,items:{type:B.OBJECT,properties:{rule:{type:B.STRING},word:{type:B.STRING},explanation:{type:B.STRING},source:{type:B.STRING}},required:["rule","word","explanation","source"]}},phoneticAnalysis:{type:B.STRING,description:"تحليل للنبرة والنغمة وأداء القارئ."}},required:["tajweedRules","phoneticAnalysis"]},zn=await H.models.generateContent({model:"gemini-2.5-flash",contents:te,config:{systemInstruction:je,responseMimeType:"application/json",responseSchema:Dt}});E(JSON.parse(zn.text))}catch(H){console.error(H),D("حدث خطأ أثناء تحليل التلاوة.")}finally{q(!1)}},P=async()=>{try{const H=await navigator.mediaDevices.getUserMedia({audio:!0});_.current=H;const te=new MediaRecorder(H,{mimeType:"audio/webm"});T.current=te,A.current=[],te.ondataavailable=je=>{A.current.push(je.data)},te.onstop=yt,te.start(),S(!0),x(null),D("")}catch{D("لم يتم منح الإذن للميكروفون. يرجى تفعيله.")}},ge=()=>{T.current&&T.current.stop(),_.current&&(_.current.getTracks().forEach(H=>H.stop()),_.current=null),S(!1),j(!0)},yt=async()=>{if(!(A.current.length===0||!_a.API_KEY||!p))try{const H=new Blob(A.current,{type:"audio/webm"}),te=await Qm(H),je=await fetch(p);if(!je.ok)throw new Error("فشل تحميل تلاوة الشيخ المرجعية.");const Dt=await je.blob(),zn=await Qm(Dt),pa=new Gt({apiKey:_a.API_KEY}),mi="أنت معلم تجويد خبير. سأعطيك نص آية، وتلاوة مرجعية للشيخ عبد الباسط (مجود)، وتسجيل لتلاوة طالب. قارن صوت الطالب بصوت الشيخ. قدم تقييمًا مفصلاً باللغة العربية. إذا كانت الآية مختلفة، اذكر 'الرجاء تلاوة نفس الآية المختارة'. ردك يجب أن يكون كائن JSON صالح.",ga={type:B.OBJECT,properties:{recitedAyahMatches:{type:B.BOOLEAN},similarityPercentage:{type:B.NUMBER},overallFeedback:{type:B.STRING},correctPoints:{type:B.ARRAY,items:{type:B.STRING}},improvementPoints:{type:B.ARRAY,items:{type:B.OBJECT,properties:{word:{type:B.STRING},mistake:{type:B.STRING},suggestion:{type:B.STRING}},required:["word","mistake","suggestion"]}}},required:["recitedAyahMatches","similarityPercentage","overallFeedback","correctPoints","improvementPoints"]},ya=await pa.models.generateContent({model:"gemini-2.5-flash",contents:[{text:`النص الأصلي للآية: "${f}"`},{text:"تلاوة الشيخ عبد الباسط (مجود):"},{inlineData:{mimeType:Dt.type,data:zn}},{text:"تلاوة المستخدم:"},{inlineData:{mimeType:H.type,data:te}}],config:{systemInstruction:mi,responseMimeType:"application/json",responseSchema:ga}});x(JSON.parse(ya.text))}catch(H){console.error(H),D("حدث خطأ أثناء تحليل تلاوتك.")}finally{j(!1)}};return l.jsxs("div",{children:[l.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-text-secondary hover:text-text-primary mb-6 font-tajawal",children:[l.jsx(Ee,{className:"w-5 h-5"}),l.jsx("span",{children:"العودة"})]}),l.jsxs("div",{className:"bg-card p-6 rounded-xl shadow-lg space-y-6",children:[l.jsx("h3",{className:"text-xl font-bold font-tajawal",children:"التحليل الصوتي للقراء"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"vr-surah",className:"block text-sm font-medium text-text-primary mb-1",children:"اسم السورة"}),l.jsx("select",{id:"vr-surah",value:n,onChange:H=>i(H.target.value),className:"w-full p-3 bg-background border border-border-color rounded-lg",children:t.map(H=>l.jsxs("option",{value:H.id,children:[H.id,". ",H.name]},H.id))})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"vr-ayah",className:"block text-sm font-medium text-text-primary mb-1",children:"رقم الآية"}),l.jsx("select",{id:"vr-ayah",value:a,onChange:H=>o(H.target.value),className:"w-full p-3 bg-background border border-border-color rounded-lg",children:Q.map(H=>l.jsxs("option",{value:H,children:["آية ",H]},H))})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"vr-reciter",className:"block text-sm font-medium text-text-primary mb-1",children:"الشيخ"}),l.jsx("select",{id:"vr-reciter",value:s.identifier,disabled:!0,className:"w-full p-3 bg-background border border-border-color rounded-lg text-text-secondary disabled:opacity-75 disabled:cursor-not-allowed",children:l.jsx("option",{value:s.identifier,children:s.name})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[l.jsx("button",{onClick:X,disabled:w||!p,className:"w-full bg-primary/20 text-primary font-bold py-3 px-4 rounded-lg hover:bg-primary/30 disabled:opacity-50 disabled:cursor-not-allowed transition",children:w?"جاري التحميل...":"تشغيل التلاوة"}),l.jsx("button",{onClick:z,disabled:w||I||!f,className:"w-full bg-primary text-white font-bold py-3 px-4 rounded-lg hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed transition",children:I?"جاري التحليل...":"تحليل التلاوة"})]}),V&&l.jsx("p",{className:"text-red-500 text-sm text-center mt-2",children:V})]}),l.jsx("audio",{ref:g,src:p,className:"hidden",preload:"auto"}),v&&l.jsxs("div",{className:"border-t border-border-color pt-6 animate-fade-in space-y-4",children:[l.jsx("h4",{className:"text-lg font-bold font-tajawal",children:"تحليل تلاوة الشيخ"}),l.jsx("p",{className:"font-amiri-quran text-xl bg-background p-3 rounded-lg text-center",children:f}),l.jsxs("div",{className:"bg-background p-4 rounded-lg space-y-2",children:[l.jsx("h5",{className:"font-semibold",children:"أحكام التجويد:"}),(Me=v.tajweedRules)==null?void 0:Me.map((H,te)=>l.jsxs("p",{className:"text-sm",children:["🔹 ",l.jsx("strong",{children:H.word}),": ",H.rule," (",H.explanation,") ",l.jsxs("em",{className:"text-xs text-text-secondary",children:["[",H.source,"]"]})]},te))]}),l.jsx("div",{className:"text-center pt-4",children:l.jsx("button",{onClick:y?ge:P,disabled:w||O||!p,className:`px-8 py-3 font-bold rounded-full flex items-center justify-center gap-3 mx-auto transition-colors disabled:opacity-50 ${y?"bg-red-500 text-white":"bg-green-500 text-white"}`,children:y?l.jsxs(l.Fragment,{children:[l.jsx(uA,{className:"w-6 h-6"})," إيقاف"]}):O?"جاري التحليل...":l.jsxs(l.Fragment,{children:[l.jsx(rA,{className:"w-6 h-6"})," اختبار التلاوة"]})})})]}),N&&l.jsxs("div",{className:"border-t border-border-color pt-6 animate-fade-in space-y-4",children:[l.jsx("h4",{className:"text-lg font-bold font-tajawal",children:"تقرير تلاوتك"}),N.recitedAyahMatches?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-sm text-text-secondary",children:"نسبة التشابه"}),l.jsxs("p",{className:"text-4xl font-bold text-primary",children:[N.similarityPercentage,"%"]}),l.jsx("div",{className:"w-full bg-border-color rounded-full h-2.5 mt-2",children:l.jsx("div",{className:"bg-primary h-2.5 rounded-full",style:{width:`${N.similarityPercentage}%`}})})]}),l.jsxs("div",{className:"bg-background p-4 rounded-lg",children:[l.jsx("h5",{className:"font-semibold",children:"ملاحظات عامة:"}),l.jsx("p",{className:"text-sm mt-2",children:N.overallFeedback})]}),l.jsxs("div",{className:"bg-green-500/10 p-4 rounded-lg",children:[l.jsx("h5",{className:"font-semibold text-green-800",children:"نقاط القوة ✅:"}),l.jsx("ul",{className:"list-disc list-inside text-sm mt-2 text-green-700 space-y-1",children:(Le=N.correctPoints)==null?void 0:Le.map((H,te)=>l.jsx("li",{children:H},te))})]}),l.jsxs("div",{className:"bg-yellow-500/10 p-4 rounded-lg",children:[l.jsx("h5",{className:"font-semibold text-yellow-800",children:"نقاط للتحسين 💡:"}),l.jsx("ul",{className:"list-disc list-inside text-sm mt-2 text-yellow-700 space-y-1",children:($e=N.improvementPoints)==null?void 0:$e.map((H,te)=>l.jsxs("li",{children:[l.jsx("strong",{children:H.word}),": ",H.suggestion]},te))})]})]}):l.jsx("p",{className:"p-4 bg-red-500/10 text-red-700 rounded-lg text-center font-semibold",children:"الرجاء تلاوة نفس الآية المختارة."})]})]})]})},mA=({className:e})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.114 5.636a9 9 0 010 12.728M16.463 8.288a5.25 5.25 0 010 7.424M6.75 8.25l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75z"})}),hA=({className:e})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 100 2.186m0-2.186c.195.025.39.042.583.05a2.25 2.25 0 012.134 2.134c-.008.193-.025.388-.05.583m0 0a2.25 2.25 0 002.186 0m-2.186 0c-.195-.025-.39-.042-.583-.05a2.25 2.25 0 00-2.134-2.134c.008-.193.025-.388.05-.583m0 0a2.25 2.25 0 010-2.186m0 2.186c.195-.025.39-.042.583-.05a2.25 2.25 0 012.134-2.134c.008.193.025.388.05.583m-2.186 0c-.195.025-.39.042-.583-.05a2.25 2.25 0 00-2.134 2.134c-.008-.193-.025-.388-.05-.583m-2.25-4.5a2.25 2.25 0 100 4.5 2.25 2.25 0 000-4.5z"})}),pA=({className:e})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})}),gA=({className:e})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})});var $m={};const yA=({onBack:e})=>{const[t,n]=b.useState(null),[i,a]=b.useState(!0),[o,s]=b.useState(""),[u,d]=b.useState(!1),f=b.useCallback(async()=>{if(!$m.API_KEY){s("مفتاح API غير متوفر. هذه الميزة معطلة."),a(!1);return}a(!0),s("");try{const h=new Gt({apiKey:$m.API_KEY}),g="أنت عالم إسلامي حكيم. مهمتك هي إنشاء قطعة إلهامية يومية. يمكن أن تكون إما آية قرآنية عشوائية أو حديثًا صحيحًا عشوائيًا من صحيح البخاري أو صحيح مسلم. قدم النص ونوعه ('آية قرآنية' أو 'حديث شريف') ومصدره. بعد ذلك، وبناءً على هذا النص فقط، قدم رسالة ملهمة وموجزة (جملة أو جملتان). يجب أن يكون ردك فقط كائن JSON صالح يتوافق مع المخطط المقدم. يجب أن تكون الاستجابة بأكملها باللغة العربية الفصحى.",v={type:B.OBJECT,properties:{contentType:{type:B.STRING,description:"إما 'آية قرآنية' أو 'حديث شريف'."},text:{type:B.STRING,description:"النص العربي الكامل للآية أو الحديث."},source:{type:B.STRING,description:"المصدر (مثال: 'سورة البقرة, الآية 255', 'صحيح البخاري, حديث رقم 1234')."},takeaway:{type:B.STRING,description:"رسالة ملهمة قصيرة (1-2 جملة) بناءً على النص."}},required:["contentType","text","source","takeaway"]},E=await h.models.generateContent({model:"gemini-2.5-flash",contents:"أنشئ قطعة إلهامية يومية جديدة.",config:{systemInstruction:g,responseMimeType:"application/json",responseSchema:v}}),N=JSON.parse(E.text);n(N),localStorage.setItem("dailyRonaqContent",JSON.stringify(N));const x=Date.now();localStorage.setItem("dailyRonaqLastUpdated",x.toString())}catch(h){console.error(h),s("حدث خطأ أثناء إنشاء المحتوى اليومي. يرجى المحاولة مرة أخرى.")}finally{a(!1)}},[]);b.useEffect(()=>{const h=localStorage.getItem("dailyRonaqContent"),g=localStorage.getItem("dailyRonaqLastUpdated"),v=60*60*1e3;h&&g&&Date.now()-parseInt(g,10)<v?(n(JSON.parse(h)),a(!1)):f();const E=setInterval(()=>{f()},v);return()=>clearInterval(E)},[f]);const m=()=>{if(!t)return;const h=`"${t.text}"
(${t.source})

رسالة اليوم:
"${t.takeaway}"

~ رونقك اليوم من تطبيق رونق`;navigator.clipboard.writeText(h).then(()=>{d(!0),setTimeout(()=>d(!1),2e3)})},p=()=>{if(!t||!navigator.share)return;const h=`"${t.text}"
(${t.source})

رسالة اليوم:
"${t.takeaway}"

~ رونقك اليوم من تطبيق رونق`;navigator.share({title:"رونقك اليوم",text:h}).catch(g=>console.error("Share failed:",g))};return l.jsxs("div",{children:[l.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-text-secondary hover:text-text-primary mb-6 font-tajawal",children:[l.jsx(Ee,{className:"w-5 h-5"}),l.jsx("span",{children:"العودة"})]}),l.jsxs("div",{className:"bg-card p-6 sm:p-8 rounded-2xl shadow-xl max-w-2xl mx-auto",children:[l.jsx("h2",{className:"text-2xl font-bold text-center text-primary mb-6 font-tajawal",children:"رونقك اليوم"}),i&&l.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[l.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-primary"}),l.jsx("p",{className:"mt-4 text-text-secondary",children:"جاري إعداد رونقك اليومي..."})]}),o&&l.jsx("p",{className:"text-red-500 text-center",children:o}),t&&!i&&l.jsxs("div",{className:"animate-fade-in space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-3 text-text-primary",children:[t.contentType==="آية قرآنية"?l.jsx(pA,{className:"w-8 h-8"}):l.jsx(gA,{className:"w-8 h-8"}),l.jsx("h3",{className:"text-xl font-semibold",children:t.contentType})]}),l.jsxs("div",{className:"p-4 border border-border-color rounded-lg bg-background",children:[l.jsx("p",{className:"font-amiri-quran text-2xl md:text-3xl text-text-primary leading-loose text-center",children:t.text}),l.jsx("p",{className:"text-sm text-text-secondary text-center mt-3 font-mono",children:t.source})]}),l.jsx("div",{className:"border-t-2 border-dashed border-border-color/50 my-6"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-lg text-primary mb-2",children:"رسالة اليوم ✨:"}),l.jsx("p",{className:"text-text-secondary leading-relaxed",children:t.takeaway}),l.jsx("p",{className:"text-xs text-text-secondary/70 mt-2 italic",children:"~ تم إنشاؤها بواسطة الذكاء الاصطناعي"})]}),l.jsxs("div",{className:"flex justify-center items-center gap-4 pt-4",children:[l.jsxs("button",{onClick:m,className:"flex items-center gap-2 bg-background hover:bg-border-color text-text-primary font-semibold py-2 px-4 rounded-lg transition-colors",children:[u?l.jsx(oi,{className:"w-5 h-5 text-green-500"}):l.jsx(uy,{className:"w-5 h-5"}),l.jsx("span",{children:u?"تم النسخ!":"نسخ"})]}),navigator.share&&l.jsxs("button",{onClick:p,className:"flex items-center gap-2 bg-background hover:bg-border-color text-text-primary font-semibold py-2 px-4 rounded-lg transition-colors",children:[l.jsx(hA,{className:"w-5 h-5"}),l.jsx("span",{children:"مشاركة"})]})]})]})]})]})};var jn={};const xA=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-10 h-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 12h7.5m-7.5 3h7.5M12 6.75h.008v.008H12V6.75zm-3.375 0h.008v.008h-.008V6.75zm-3.375 0h.008v.008H5.25V6.75zM12 21a9 9 0 110-18 9 9 0 010 18z"})}),vA=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-10 h-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})}),SA=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-10 h-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),bA=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-10 h-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"})}),EA=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-10 h-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0h18M12 12.75h.008v.008H12v-.008z"})}),TA=[{id:"daily",title:"رونقك اليوم",icon:l.jsx(EA,{}),description:"آية أو اقتباس أو تأمل يومي يُنشأ خصيصًا لك."},{id:"assistant",title:"المساعد الذكي للقرآن",icon:l.jsx(xA,{}),description:"اسأل أسئلة متعلقة بالقرآن واحصل على إجابات ذكية."},{id:"tafsir",title:"المساعد الذكي لتفسير القرآن",icon:l.jsx(vA,{}),description:"تفسير فوري لأي آية باستخدام Gemini."},{id:"summary",title:"ملخص السور",icon:l.jsx(SA,{}),description:"احصل على ملخص قصير ومنظم لكل سورة."},{id:"reflection",title:"رحلة التدبر",icon:l.jsx(bA,{}),description:"تأملات يومية متجددة مع إمكانية الحفظ والمشاركة."},{id:"counselor",title:"المستشار النفسي",icon:l.jsx(jy,{}),description:"مستشارك النفسي بالذكاء الاصطناعي."},{id:"analysis",title:"التحليل الصوتي للتلاوة",icon:l.jsx(mA,{}),description:"تحليل تجويد الشيخ عبد الباسط ومقارنة تلاوتك."}],NA=({onBack:e})=>{const[t,n]=b.useState(""),[i,a]=b.useState(""),[o,s]=b.useState(!1),[u,d]=b.useState(""),f=async()=>{if(!t.trim()||!jn.API_KEY){d("يرجى كتابة سؤال والتأكد من توفر مفتاح API.");return}s(!0),d(""),a("");try{const p=await new Gt({apiKey:jn.API_KEY}).models.generateContent({model:"gemini-2.5-flash",contents:t,config:{systemInstruction:'أنت مساعد ذكي وعالم متخصص في علوم القرآن الكريم والفقه الإسلامي. مهمتك هي الإجابة على أسئلة المستخدم بدقة وموضوعية باللغة العربية الفصحى. يجب أن يتضمن كل جواب قسمًا للمصادر في نهايته بعنوان "📚 المصادر". المصادر المسموح بها فقط هي: القرآن الكريم (مع ذكر اسم السورة ورقم الآية)، الحديث الشريف (مع ذكر النص والمصدر مثل صحيح البخاري أو مسلم)، مراجع الفقه (عندما يكون السؤال فقهيًا, بالإشارة إلى مذاهب الأئمة الأربعة: أبو حنيفة، مالك، الشافعي، أحمد بن حنبل)، وتفسير ابن كثير. يجب أن يكون كل جزء من الإجابة مدعومًا بمصدر واضح من هذه القائمة.'}});a(p.text)}catch(m){console.error(m),d("حدث خطأ أثناء الاتصال بالمساعد الذكي. يرجى المحاولة مرة أخرى.")}finally{s(!1)}};return l.jsxs("div",{children:[l.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-text-secondary hover:text-text-primary mb-6 font-tajawal",children:[l.jsx(Ee,{className:"w-5 h-5"}),l.jsx("span",{children:"العودة"})]}),l.jsxs("div",{className:"bg-card p-6 rounded-xl shadow-lg",children:[l.jsx("h3",{className:"text-xl font-bold mb-4",children:"المساعد الذكي للقرآن"}),l.jsx("textarea",{value:t,onChange:m=>n(m.target.value),placeholder:"اكتب سؤالك هنا... مثلاً: ما هي قصة أصحاب الكهف؟",className:"w-full h-32 p-3 bg-background border border-border-color rounded-lg text-text-primary focus:outline-none focus:ring-2 focus:ring-primary/50 transition",rows:4}),l.jsx("button",{onClick:f,disabled:o,className:"w-full mt-4 bg-primary text-white font-bold py-3 px-4 rounded-lg hover:opacity-90 disabled:opacity-50 transition",children:o?"جاري التفكير...":"اسأل"}),u&&l.jsx("p",{className:"text-red-500 text-sm text-center mt-4",children:u}),i&&l.jsxs("div",{className:"mt-6 border-t border-border-color pt-4",children:[l.jsx("h4",{className:"font-bold mb-2",children:"الإجابة:"}),l.jsx("div",{className:"bg-background p-4 rounded-lg whitespace-pre-wrap leading-relaxed",dangerouslySetInnerHTML:{__html:i.replace(/📚 المصادر:/g,'<br><strong class="font-bold text-lg mt-4 block">📚 المصادر:</strong>')}})]})]})]})},AA=({onBack:e,surahs:t})=>{const[n,i]=b.useState("1"),[a,o]=b.useState("1"),[s,u]=b.useState(!1),[d,f]=b.useState(""),[m,p]=b.useState(""),[h,g]=b.useState(null),[v,E]=b.useState(!1),N=t.find(A=>A.id===parseInt(n)),x=N?N.numberOfAyahs:0,y=Array.from({length:x},(A,_)=>_+1);b.useEffect(()=>{o("1")},[n]);const S=async()=>{const A=t.find(w=>w.id===parseInt(n));if(!A){f("الرجاء اختيار سورة صحيحة.");return}const _=parseInt(a);if(isNaN(_)||_<=0||_>A.numberOfAyahs){f(`الرجاء إدخال رقم آية صحيح لسورة ${A.name} (بين 1 و ${A.numberOfAyahs}).`);return}if(!jn.API_KEY){f("مفتاح API غير متوفر. هذه الميزة معطلة.");return}u(!0),f(""),g(null),p(""),E(!1);try{const w=await fetch(`https://api.quran.com/api/v4/verses/by_key/${n}:${_}?language=ar&fields=text_uthmani`);if(!w.ok)throw new Error("فشل في جلب نص الآية.");const U=await w.json();if(!U.verses||U.verses.length===0)p("");else{const K=U.verses[0].text_uthmani;p(K)}const I=new Gt({apiKey:jn.API_KEY}),q=`Provide a detailed analysis for Surah ${A.name}, Ayah ${_}.`,O="أنت عالم متخصص في تفسير القرآن. مهمتك هي تقديم تفسير متكامل لآية قرآنية باللغة العربية الفصحى المبسطة. يجب أن يكون ردك كائن JSON صالح تمامًا يلتزم بالمخطط المحدد. إذا لم يتم توفير نص الآية، قم بتوليده من معرفتك. يجب أن تكون المصادر حصريًا من: تفسير ابن كثير، الطبري، القرطبي، والجلالين. بالنسبة للأحكام الفقهية، يجب ذكر آراء الأئمة الأربعة (الشافعي، أبو حنيفة، مالك، أحمد بن حنبل). يجب أن تكون الاستشهادات بالمصادر دقيقة. قم بملء جميع حقول JSON المطلوبة.",j={type:B.OBJECT,properties:{shortExplanation:{type:B.STRING,description:"شرح موجز للآية في 3-5 أسطر بلغة عربية فصحى مبسطة."},fullTafsir:{type:B.STRING,description:"تفسير كامل ومفصل للآية، يدمج المعلومات من التفاسير المعتبرة (ابن كثير، الطبري، القرطبي، الجلالين)."},sourceCitation:{type:B.STRING,description:'قائمة بالمصادر المذكورة المستخدمة في التفسير الكامل. مثال: "المصادر: تفسير ابن كثير، تفسير الطبري".'},lessons:{type:B.ARRAY,items:{type:B.STRING},description:"قائمة من 2 إلى 4 نقاط موجزة تلخص الدروس المستفادة والعبر العملية من الآية."},asbabNuzul:{type:B.STRING,description:'سبب نزول الآية إن وجد وموثق في المصادر المعتمدة. إذا لم يوجد، اكتب "لم يرد سبب نزول خاص لهذه الآية في المصادر المعتمدة.".'},fiqhInsight:{type:B.STRING,description:'الأحكام الفقهية المستنبطة من الآية إن وجدت، مع الإشارة إلى أقوال الأئمة الأربعة. إذا لم تكن آية أحكام، اكتب "هذه الآية لا تتضمن أحكامًا فقهية مباشرة.".'}},required:["shortExplanation","fullTafsir","sourceCitation","lessons","asbabNuzul","fiqhInsight"]},V=await I.models.generateContent({model:"gemini-2.5-flash",contents:q,config:{systemInstruction:O,responseMimeType:"application/json",responseSchema:j}}),D=JSON.parse(V.text);g(D)}catch(w){console.error(w),f(w instanceof Error?w.message:"حدث خطأ أثناء جلب التفسير. يرجى المحاولة مرة أخرى.")}finally{u(!1)}},T=()=>h?l.jsxs("div",{className:"mt-6 border-t border-border-color pt-4 animate-fade-in space-y-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-lg mb-2 text-primary",children:"نص الآية ورقمها الكامل"}),l.jsxs("div",{className:"bg-background p-4 rounded-lg font-amiri-quran text-2xl leading-loose text-center",children:[l.jsx("p",{children:m}),l.jsxs("p",{className:"text-sm font-sans mt-2 text-text-secondary",children:["(",N==null?void 0:N.name,", الآية ",a,")"]})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-lg mb-2 text-primary",children:"ملخص موجز"}),l.jsx("p",{className:"bg-background p-4 rounded-lg whitespace-pre-wrap leading-relaxed",children:h.shortExplanation})]}),l.jsx("div",{className:"text-center",children:l.jsx("button",{onClick:()=>E(!v),className:"text-primary font-semibold hover:underline",children:v?"إخفاء التفاصيل":"عرض التفسير الكامل"})}),v&&l.jsxs("div",{className:"space-y-4 animate-fade-in",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-lg mb-2 text-primary",children:"التفسير الكامل بالتفصيل"}),l.jsx("div",{className:"bg-background p-4 rounded-lg whitespace-pre-wrap leading-relaxed",children:l.jsx("p",{children:h.fullTafsir})})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-lg mb-2 text-primary",children:"قائمة بالمصادر المذكورة"}),l.jsx("p",{className:"bg-background p-4 rounded-lg text-sm text-text-secondary",children:h.sourceCitation})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-lg mb-2 text-primary",children:"الدروس المستفادة"}),l.jsx("ul",{className:"bg-background p-4 rounded-lg space-y-2 list-disc list-inside",children:h.lessons.map((A,_)=>l.jsx("li",{children:A},_))})]}),h.asbabNuzul&&!h.asbabNuzul.includes("لم يرد")&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-lg mb-2 text-primary",children:"سبب النزول"}),l.jsx("p",{className:"bg-background p-4 rounded-lg whitespace-pre-wrap leading-relaxed",children:h.asbabNuzul})]}),h.fiqhInsight&&!h.fiqhInsight.includes("لا تتضمن")&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-lg mb-2 text-primary",children:"الأحكام الفقهية"}),l.jsx("p",{className:"bg-background p-4 rounded-lg whitespace-pre-wrap leading-relaxed",children:h.fiqhInsight})]})]})]}):null;return l.jsxs("div",{children:[l.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-text-secondary hover:text-text-primary mb-6 font-tajawal",children:[l.jsx(Ee,{className:"w-5 h-5"}),l.jsx("span",{children:"العودة"})]}),l.jsxs("div",{className:"bg-card p-6 rounded-xl shadow-lg",children:[l.jsx("h3",{className:"text-xl font-bold mb-4",children:"المساعد الذكي لتفسير القرآن"}),l.jsx("p",{className:"text-text-secondary mb-4",children:"اختر أي آية في القرآن الكريم لعرض تفسيرها المفصل من مصادر موثوقة."}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{htmlFor:"surah-select",className:"block text-sm font-medium text-text-primary mb-1",children:"السورة"}),l.jsx("select",{id:"surah-select",value:n,onChange:A=>i(A.target.value),className:"w-full p-3 bg-background border border-border-color rounded-lg text-text-primary focus:outline-none focus:ring-2 focus:ring-primary/50 transition",children:t.map(A=>l.jsxs("option",{value:A.id,children:[A.id,". ",A.name]},A.id))})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"ayah-select",className:"block text-sm font-medium text-text-primary mb-1",children:"رقم الآية"}),l.jsx("select",{id:"ayah-select",value:a,onChange:A=>o(A.target.value),className:"w-full p-3 bg-background border border-border-color rounded-lg text-text-primary focus:outline-none focus:ring-2 focus:ring-primary/50 transition",children:y.map(A=>l.jsx("option",{value:A,children:A},A))})]})]}),l.jsx("button",{onClick:S,disabled:s,className:"w-full bg-primary text-white font-bold py-3 px-4 rounded-lg hover:opacity-90 disabled:opacity-50 transition",children:s?"جاري جلب التفسير...":"عرض التفسير"}),d&&l.jsx("p",{className:"text-red-500 text-sm text-center mt-4",children:d}),s&&l.jsxs("div",{className:"text-center mt-6",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary mx-auto"}),l.jsx("p",{className:"mt-2 text-text-secondary",children:"يرجى الانتظار..."})]}),T()]})]})},CA=({onBack:e,surahs:t})=>{const[n,i]=b.useState("1"),[a,o]=b.useState(!1),[s,u]=b.useState(""),[d,f]=b.useState(null),m=async()=>{const p=t.find(h=>h.id===parseInt(n));if(!p){u("الرجاء اختيار سورة صحيحة.");return}if(!jn.API_KEY){u("مفتاح API غير متوفر. هذه الميزة معطلة.");return}o(!0),u(""),f(null);try{const h=new Gt({apiKey:jn.API_KEY}),g=`Generate a complete, verified summary for Surah ${p.name}.`,v="You are an expert Islamic scholar specializing in Tafsir (Qur'anic exegesis). Your task is to generate a complete, verified summary for any selected Surah in a simple and easy-to-understand style. Each generated summary must strictly come from trusted Islamic sources, including: Tafsir Ibn Kathir, Tafsir Al-Tabari, Tafsir Al-Qurtubi, Tafsir Al-Sa'di, and Al-Jalalayn. If any verse in the Surah involves Islamic rulings (Ahkam), you may reference explanations from the Four Imams (Abu Hanifa, Malik, Al-Shafi’i, Ahmad ibn Hanbal) when clearly related to the context. Do not invent or assume interpretations; summaries must reflect authentic Islamic scholarship only. Your output MUST be a valid JSON object matching the provided schema, with all content in clear, formal Arabic.",E={type:B.OBJECT,properties:{surahOverview:{type:B.STRING,description:"A brief introduction about the Surah’s theme, time of revelation (Makki/Madani), and number of verses."},mainThemes:{type:B.ARRAY,items:{type:B.STRING},description:"3–5 concise bullet points summarizing the Surah’s main ideas."},lessonsAndReflections:{type:B.STRING,description:"Key moral and spiritual lessons derived from the Surah."},verifiedSources:{type:B.STRING,description:'A list of all tafsir references used for this summary (e.g., "تفسير ابن كثير, تفسير السعدي").'}},required:["surahOverview","mainThemes","lessonsAndReflections","verifiedSources"]},N=await h.models.generateContent({model:"gemini-2.5-flash",contents:g,config:{systemInstruction:v,responseMimeType:"application/json",responseSchema:E}}),x=JSON.parse(N.text);f(x)}catch(h){console.error(h),u("حدث خطأ أثناء إنشاء الملخص. يرجى المحاولة مرة أخرى.")}finally{o(!1)}};return l.jsxs("div",{children:[l.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-text-secondary hover:text-text-primary mb-6 font-tajawal",children:[l.jsx(Ee,{className:"w-5 h-5"}),l.jsx("span",{children:"العودة"})]}),l.jsxs("div",{className:"bg-card p-6 rounded-xl shadow-lg",children:[l.jsx("h3",{className:"text-xl font-bold mb-4",children:"ملخص السور"}),l.jsx("p",{className:"text-text-secondary mb-4",children:"اختر سورة للحصول على ملخص شامل وموثق لمواضيعها ودروسها المستفادة."}),l.jsxs("div",{className:"flex items-end gap-4 mb-4",children:[l.jsxs("div",{className:"flex-grow",children:[l.jsx("label",{htmlFor:"surah-summary-select",className:"block text-sm font-medium text-text-primary mb-1",children:"اختر السورة"}),l.jsx("select",{id:"surah-summary-select",value:n,onChange:p=>i(p.target.value),className:"w-full p-3 bg-background border border-border-color rounded-lg text-text-primary focus:outline-none focus:ring-2 focus:ring-primary/50 transition",children:t.map(p=>l.jsxs("option",{value:p.id,children:[p.id,". ",p.name]},p.id))})]}),l.jsx("button",{onClick:m,disabled:a,className:"bg-primary text-white font-bold py-3 px-4 rounded-lg hover:opacity-90 disabled:opacity-50 transition h-fit",children:a?"...":"إنشاء"})]}),s&&l.jsx("p",{className:"text-red-500 text-sm text-center mt-4",children:s}),a&&l.jsxs("div",{className:"text-center mt-6",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary mx-auto"}),l.jsx("p",{className:"mt-2 text-text-secondary",children:"جاري إنشاء الملخص من المصادر الموثوقة..."})]}),d&&l.jsxs("div",{className:"mt-6 border-t border-border-color pt-4 animate-fade-in space-y-6",children:[l.jsxs("div",{children:[l.jsxs("h4",{className:"font-bold text-lg mb-2 flex items-center gap-2 text-primary",children:[l.jsx("span",{children:"🔹"})," لمحة عامة عن السورة"]}),l.jsx("p",{className:"bg-background p-4 rounded-lg whitespace-pre-wrap leading-relaxed",children:d.surahOverview})]}),l.jsxs("div",{children:[l.jsxs("h4",{className:"font-bold text-lg mb-2 flex items-center gap-2 text-primary",children:[l.jsx("span",{children:"📘"})," المواضيع الرئيسية"]}),l.jsx("ul",{className:"bg-background p-4 rounded-lg space-y-2 list-disc list-inside pr-4",children:d.mainThemes.map((p,h)=>l.jsx("li",{children:p},h))})]}),l.jsxs("div",{children:[l.jsxs("h4",{className:"font-bold text-lg mb-2 flex items-center gap-2 text-primary",children:[l.jsx("span",{children:"💡"})," الدروس والعبر"]}),l.jsx("p",{className:"bg-background p-4 rounded-lg whitespace-pre-wrap leading-relaxed",children:d.lessonsAndReflections})]}),l.jsxs("div",{children:[l.jsxs("h4",{className:"font-bold text-lg mb-2 flex items-center gap-2 text-primary",children:[l.jsx("span",{children:"📚"})," المصادر المعتمدة"]}),l.jsx("p",{className:"bg-background p-4 rounded-lg text-sm text-text-secondary",children:d.verifiedSources})]})]})]})]})},wA=({onBack:e,surahs:t})=>{const[n,i]=b.useState(null),[a,o]=b.useState(null),[s,u]=b.useState(!1),[d,f]=b.useState(""),m=async(h,g)=>{if(!jn.API_KEY){f("مفتاح API غير متوفر. هذه الميزة معطلة.");return}u(!0),f(""),o(null);try{const v=new Gt({apiKey:jn.API_KEY}),E=`Select an insightful Ayah from Surah ${h.name} and provide a reflection.${g?` Exclude Ayah number ${g}.`:""}`,N="You are a wise and eloquent Islamic scholar specializing in Tadabbur (deep reflection) of the Qur'an. Your task is to select a single, insightful Ayah from a given Surah and provide a brief, profound reflection upon it. Your reflection must be inspired by and consistent with trusted classical Tafsir sources like Ibn Kathir, Al-Tabari, and Al-Qurtubi. Your output must be a valid JSON object, and all text must be in clear, beautiful, formal Arabic. Do not include any text outside the JSON object.",x={type:B.OBJECT,properties:{ayahText:{type:B.STRING,description:"The full Arabic text of the chosen Ayah in Uthmani script."},ayahNumber:{type:B.STRING,description:"The number of the chosen Ayah."},reflection:{type:B.STRING,description:"A short, eloquent reflection (Tadabbur) on the Ayah, approximately 2-4 sentences."},source:{type:B.STRING,description:'The primary source of inspiration for the reflection. Example: "المصدر: مستوحى من تفسير ابن كثير".'}},required:["ayahText","ayahNumber","reflection","source"]},y=await v.models.generateContent({model:"gemini-2.5-flash",contents:E,config:{systemInstruction:N,responseMimeType:"application/json",responseSchema:x}}),S=JSON.parse(y.text);o(S)}catch(v){console.error(v),f("حدث خطأ أثناء إنشاء التدبر. يرجى المحاولة مرة أخرى.")}finally{u(!1)}},p=h=>{i(h),m(h)};return n?l.jsxs("div",{children:[l.jsxs("button",{onClick:()=>{i(null),o(null)},className:"flex items-center gap-2 text-text-secondary hover:text-text-primary mb-6 font-tajawal",children:[l.jsx(Ee,{className:"w-5 h-5"}),l.jsx("span",{children:"اختر سورة أخرى"})]}),l.jsxs("div",{className:"bg-card p-6 sm:p-8 rounded-2xl shadow-xl max-w-2xl mx-auto",children:[l.jsx("h2",{className:"text-2xl font-bold text-primary mb-4 font-amiri-quran",children:n.name}),s&&l.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[l.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-primary"}),l.jsx("p",{className:"mt-4 text-text-secondary",children:"جاري إعداد التدبر..."})]}),d&&l.jsx("p",{className:"text-red-500 text-center",children:d}),a&&!s&&l.jsxs("div",{className:"animate-fade-in space-y-6",children:[l.jsx("div",{children:l.jsxs("p",{className:"font-amiri-quran text-2xl md:text-3xl text-text-primary leading-loose text-center p-4 border border-border-color rounded-lg bg-background",children:[a.ayahText,l.jsxs("span",{className:"font-sans text-base align-middle mx-2 p-1 text-primary",children:["(",a.ayahNumber,")"]})]})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-lg text-text-primary mb-2",children:"تأمل:"}),l.jsx("p",{className:"text-text-secondary leading-relaxed whitespace-pre-wrap",children:a.reflection})]}),l.jsx("div",{className:"border-t border-border-color pt-3 text-xs text-text-secondary",children:l.jsx("p",{children:a.source})})]}),l.jsx("div",{className:"mt-8 text-center",children:l.jsx("button",{onClick:()=>m(n,a==null?void 0:a.ayahNumber),disabled:s,className:"bg-primary/20 text-primary font-bold py-2 px-6 rounded-md hover:bg-primary/30 disabled:opacity-50 transition",children:s?"...":"تدبر تالي"})})]})]}):l.jsxs("div",{children:[l.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-text-secondary hover:text-text-primary mb-6 font-tajawal",children:[l.jsx(Ee,{className:"w-5 h-5"}),l.jsx("span",{children:"العودة"})]}),l.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-4",children:"اختر سورة لبدء رحلة التدبر"}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3",children:t.map(h=>l.jsxs("button",{onClick:()=>p(h),className:"p-3 rounded-lg bg-card hover:bg-border-color transition-colors text-right",children:[l.jsx("span",{className:"text-sm font-mono text-text-secondary",children:h.id}),l.jsx("p",{className:"font-semibold font-amiri-quran text-lg text-text-primary",children:h.name})]},h.id))})]})},_A=({surahs:e,reciters:t})=>{const[n,i]=b.useState("menu"),a=()=>l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-center mb-10",children:[l.jsx("h1",{className:"text-4xl sm:text-5xl font-bold text-text-primary font-serif tracking-wider",children:"Ronaq Mind"}),l.jsx("p",{className:"text-lg text-text-secondary mt-2 font-amiri-quran",children:'"حيث يلتقى الجمال بالذكاء"'})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:TA.map(u=>l.jsxs("button",{onClick:()=>i(u.id),className:"bg-card/70 backdrop-blur-sm rounded-xl shadow-lg p-4 sm:p-6 flex flex-col items-center justify-center text-center hover:bg-card transform hover:-translate-y-1 transition-all duration-300 aspect-square group",children:[l.jsx("div",{className:"text-primary group-hover:scale-110 transition-transform",children:u.icon}),l.jsx("h2",{className:"text-sm sm:text-base font-bold text-text-primary mt-3 font-tajawal",children:u.title})]},u.id))})]}),o=()=>{switch(n){case"assistant":return l.jsx(NA,{onBack:()=>i("menu")});case"tafsir":return l.jsx(AA,{onBack:()=>i("menu"),surahs:e});case"summary":return l.jsx(CA,{onBack:()=>i("menu"),surahs:e});case"reflection":return l.jsx(wA,{onBack:()=>i("menu"),surahs:e});case"counselor":return l.jsx(lA,{onBack:()=>i("menu")});case"analysis":return l.jsx(fA,{onBack:()=>i("menu"),surahs:e,reciters:t});case"daily":return l.jsx(yA,{onBack:()=>i("menu")});default:return a()}},s=n==="menu"||n==="counselor"||n==="analysis"||n==="daily"||n==="assistant"||n==="tafsir"||n==="summary";return l.jsx("div",{className:"min-h-[calc(100vh-64px)] p-4 sm:p-6 lg:p-8 animate-fade-in",style:s?{background:"radial-gradient(circle, var(--color-background) 0%, var(--color-background-end) 100%)"}:{backgroundColor:"var(--color-background)"},children:l.jsx("div",{className:"max-w-6xl mx-auto",children:o()})})},MA=[{title:"مولده ونسبه ﷺ",preview:"وُلد النبي محمد صلى الله عليه وسلم في مكة المكرمة يوم الاثنين من شهر ربيع الأول عام الفيل. وهو من أشرف أنساب العرب، ويمتد نسبه إلى إسماعيل بن إبراهيم عليهما السلام. نشأ يتيمًا، حيث توفي والده قبل ولادته، وأمه وهو في السادسة.",fullContent:`وُلد سيد الخلق، نبينا محمد بن عبد الله صلى الله عليه وسلم، في أشرف بقاع الأرض، مكة المكرمة، فجر يوم الاثنين، التاسع من شهر ربيع الأول لأول عام من حادثة الفيل، الموافق للعشرين من أبريل عام 571م.
نسبه هو أطهر الأنساب وأشرفها، فهو أبو القاسم محمد بن عبد الله بن عبد المطلب (واسمه شيبة) بن هاشم (واسمه عمرو) بن عبد مناف (واسمه المغيرة) بن قصي (واسمه زيد) بن كلاب بن مرة بن كعب بن لؤي بن غالب بن فهر (وهو الملقب بقريش وإليه تنتسب القبيلة) ويمتد نسبه إلى النبي إسماعيل بن إبراهيم الخليل عليهما السلام.
وُلد النبي صلى الله عليه وسلم يتيم الأب، حيث توفي والده عبد الله وأمه حامل به. وبعد ولادته، توفيت والدته آمنة بنت وهب وهو في السادسة من عمره، فانتقل إلى كفالة جده عبد المطلب، وبعد وفاة جده وهو في الثامنة من عمره، كفله عمه أبو طالب.`,source:"المصدر: (الرحيق المختوم - صفي الرحمن المباركفوري، سيرة ابن هشام)."},{title:"نشأته وصباه ﷺ",preview:"قضى طفولته الأولى في بادية بني سعد عند مرضعته حليمة السعدية، حيث شُق صدره الشريف. بعد وفاة أمه وجده، انتقل لكفالة عمه أبي طالب، وعمل في صباه برعي الغنم.",fullContent:`كان من عادة أشراف العرب أن يرسلوا أبناءهم إلى البادية لينشأوا في بيئة صحية فصيحة. أُرسل النبي صلى الله عليه وسلم إلى بادية بني سعد، وتولت إرضاعه السيدة حليمة السعدية، وحلت البركة في بيتها بوجوده.
وفي هذه الفترة، وقعت له حادثة شق الصدر، حيث أتاه جبريل عليه السلام وهو يلعب مع الغلمان، فشق عن قلبه واستخرج منه علقة سوداء وقال: 'هذا حظ الشيطان منك'، ثم غسله في طست من ذهب بماء زمزم وأعاده لمكانه.
بعد عودته لأمه، توفيت وهو في السادسة، فكفله جده عبد المطلب الذي أحبه حبًا شديدًا. ثم توفي جده وهو في الثامنة، فانتقل إلى كفالة عمه أبي طالب الذي كان يحبه ويعطف عليه بالرغم من فقره وكثرة أولاده. عمل النبي في صباه برعي الغنم لأهل مكة، وقال عن ذلك: 'ما بعث الله نبيًا إلا رعى الغنم'.`,source:"المصدر: (صحيح مسلم، صحيح البخاري، سيرة ابن هشام)."},{title:"الشباب والحياة قبل البعثة",preview:"في شبابه، عُرف النبي بالصدق والأمانة ولُقب بـ'الصادق الأمين'. عمل بالتجارة وتزوج من السيدة خديجة رضي الله عنها وهو في الخامسة والعشرين. شارك في الأحداث الهامة كحلف الفضول وإعادة بناء الكعبة.",fullContent:`عُصم النبي صلى الله عليه وسلم من أفعال الجاهلية، ونشأ على أكمل الأخلاق. سافر في التجارة إلى الشام مع عمه، ثم عمل في تجارة السيدة خديجة بنت خويلد التي كانت من أشراف قريش. أُعجبت بأمانته وصدقه، ورغبت في الزواج منه، فتزوجها وهو في الخامسة والعشرين من عمره، وكانت هي في الأربعين.
شارك في 'حلف الفضول'، وهو حلف تعاهدت فيه قبائل من قريش على نصرة المظلوم. كما شارك في إعادة بناء الكعبة بعد أن تصدعت، وعندما اختلفوا فيمن يضع الحجر الأسود مكانه، حكموه بينهم فبسط رداءه ووضع الحجر وسطه وطلب من زعماء القبائل أن يرفعوه جميعًا، ثم أخذه هو ووضعه مكانه، فحل النزاع بحكمته.`,source:"المصدر: (الرحيق المختوم، فقه السيرة للبوطي)."},{title:"بداية الوحي",preview:"عندما قارب الأربعين، حُبب إليه الخلاء فكان يتعبد في غار حراء. وفي إحدى ليالي رمضان، نزل عليه الملك جبريل بالوحي لأول مرة، وكانت أولى الآيات {اقْرَأْ بِاسْمِ رَبِّكَ الَّذِي خَلَقَ...}.",fullContent:`لما بلغ الأربعين من عمره، بدأت تظهر له علامات النبوة، فكان لا يرى رؤيا إلا جاءت مثل فلق الصبح. ثم حُبب إليه العزلة، فكان يذهب إلى غار حراء في جبل النور، فيمكث فيه الليالي يتفكر ويتعبد.
وفي يوم الاثنين من رمضان، جاءه الملك جبريل عليه السلام، وقال له: 'اقرأ'، قال النبي: 'ما أنا بقارئ'. فضمه جبريل ضمة شديدة ثم أرسله، وكرر الأمر مرتين، والنبي يجيب بنفس الجواب. وفي المرة الثالثة، قال له جبريل: {اقْرَأْ بِاسْمِ رَبِّكَ الَّذِي خَلَقَ...}.
رجع النبي صلى الله عليه وسلم إلى بيته خائفًا فؤاده يرتجف، فطمأنته زوجته السيدة خديجة وقالت: 'كلا والله ما يخزيك الله أبدًا'. ثم أخذته إلى ابن عمها ورقة بن نوفل الذي بشره بأنه نبي هذه الأمة.`,source:"المصدر: (صحيح البخاري، سيرة ابن هشام)."},{title:"الدعوة السرية والعامة",preview:"بدأت الدعوة إلى الإسلام سرًا لمدة ثلاث سنوات، أسلم خلالها المقربون منه. بعد ذلك، أمره الله بالجهر بالدعوة، فصعد على جبل الصفا ودعا قومه، ومن هنا بدأت مرحلة المواجهة والاضطهاد من قريش.",fullContent:`بدأ النبي صلى الله عليه وسلم دعوته سرًا، فكانت زوجته خديجة أول من آمن، ثم صاحبه أبو بكر، وابن عمه علي، ومولاه زيد. وأسلم على يد أبي بكر كبار الصحابة. واستمرت هذه المرحلة ثلاث سنوات، وكان المسلمون يجتمعون في دار الأرقم بن أبي الأرقم.
بعد ثلاث سنوات، نزل الأمر الإلهي بالجهر بالدعوة: {فَاصْدَعْ بِمَا تُؤْمَرُ}. فصعد النبي على جبل الصفا ونادى في قريش، ودعاهم إلى توحيد الله. فكان رد عمه أبي لهب قاسيًا، وبدأت قريش في معارضة دعوته بشدة، وانتقلت من السخرية إلى التعذيب والاضطهاد للمستضعفين من المسلمين.`,source:"المصدر: (الرحيق المختوم، تاريخ الطبري)."},{title:"الهجرة إلى المدينة",preview:"بعد اشتداد أذى قريش وتآمرهم على قتله، أذن الله للنبي بالهجرة إلى يثرب (المدينة). هاجر بصحبة أبي بكر الصديق، وشكلت الهجرة نقطة تحول كبرى في تاريخ الإسلام وبداية تأسيس الدولة.",fullContent:`بعد ثلاثة عشر عامًا من الدعوة في مكة، وبعد بيعة أهل يثرب له، أذن الله للمسلمين بالهجرة. شعرت قريش بالخطر، فتآمروا على قتل النبي. فأخبره جبريل بالمؤامرة وأمره بالهجرة.
في ليلة الهجرة، خرج هو وأبو بكر من مكة متجهين إلى غار ثور للاختباء، ومكثا فيه ثلاث ليالٍ. وصل المشركون إلى باب الغار، لكن الله حماهما بمعجزات. بعد ذلك، واصلا طريقهما إلى المدينة، واستقبلهما أهلها بالبشر والترحاب. كانت الهجرة بداية التقويم الهجري، ونقطة الانطلاق لبناء دولة إسلامية.`,source:"المصدر: (صحيح البخاري، سيرة ابن هشام، البداية والنهاية لابن كثير)."},{title:"المدينة وبناء الدولة",preview:"في المدينة، وضع النبي أسس الدولة والمجتمع. فبنى المسجد النبوي، وآخى بين المهاجرين والأنصار، وكتب وثيقة المدينة التي نظمت العلاقات بين جميع سكانها.",fullContent:`بوصوله إلى المدينة، شرع النبي صلى الله عليه وسلم في إرساء قواعد الدولة. وكان أول أعماله بناء المسجد النبوي، ليكون مركزًا للعبادة والحكم والعلم.
ثانيًا، قام بعمل فريد وهو 'المؤاخاة' بين المهاجرين والأنصار، فجعل كل أنصاري يتخذ مهاجرًا أخًا له، يشاركه في ماله ومسكنه، مما أدى إلى بناء مجتمع متماسك قائم على الإيثار.
ثالثًا، وضع 'وثيقة المدينة' أو 'دستور المدينة'، وهي معاهدة نظمت العلاقة بين جميع فئات المجتمع في المدينة، من مهاجرين وأنصار وقبائل يهودية، وأقرت حرية الدين ومفهوم الدفاع المشترك عن المدينة.`,source:"المصدر: (سيرة ابن هشام، فقه السيرة لمحمد الغزالي)."},{title:"الغزوات والمعارك",preview:"بعد تأسيس الدولة، أُذن للمسلمين بالقتال لرد العدوان والدفاع عن دينهم. خاض النبي صلى الله عليه وسلم وأصحابه عدة غزوات فاصلة كغزوة بدر وأحد والخندق، التي ثبتت أركان الدولة ومهدت لانتشار الإسلام.",fullContent:`أذن الله للمسلمين بالقتال للدفاع عن أنفسهم ودينهم. فكانت غزوة بدر الكبرى (2 هـ) أول انتصار حاسم للمسلمين. ثم جاءت غزوة أحد (3 هـ) التي كانت اختبارًا ودرسًا قاسيًا للمسلمين. وفي غزوة الخندق (5 هـ)، حوصرت المدينة من جيش ضخم من الأحزاب، ولكن الله نصر المؤمنين بالريح والجنود.
وكان صلح الحديبية (6 هـ) فتحًا سياسيًا عظيمًا، حيث اعترفت قريش بالمسلمين كقوة، وأتاح الصلح فرصة لنشر الدعوة. وتوجت هذه المرحلة بفتح مكة (8 هـ) دون قتال يذكر، ودخل الناس في دين الله أفواجًا.`,source:"المصدر: (الرحيق المختوم، كتب السيرة والتاريخ الإسلامي)."},{title:"السنوات الأخيرة وحياته الأسرية",preview:"بعد فتح مكة، توافدت القبائل من أنحاء الجزيرة العربية إلى المدينة لإعلان إسلامها فيما عرف بـ'عام الوفود'. وفي السنة العاشرة للهجرة، حج النبي حجة الوداع. عُرف النبي بحسن معاشرته لأهله، وكان مثالاً للزوج والأب الرحيم.",fullContent:`في السنوات الأخيرة من حياته الشريفة، استقرت دعائم الدولة الإسلامية. وشهد العام التاسع الهجري 'عام الوفود'، حيث قدمت وفود القبائل العربية من كل مكان لتعلن إسلامها.
في العام العاشر، حج النبي حجة الوداع، وهي الحجة الوحيدة التي حجها، وخطب فيها خطبته الشهيرة التي أرسى فيها مبادئ الإسلام العظيمة في حرمة الدماء والأموال، وحقوق النساء، والاعتصام بالكتاب والسنة.
أما حياته الأسرية، فقد كان نبينا محمد صلى الله عليه وسلم خير الناس لأهله، وكان زوجًا عطوفًا وأبًا حنونًا، يساعد في مهنة البيت ويمازح أهله ويعدل بينهم. وكان له إحدى عشرة زوجة هن أمهات المؤمنين، وسبعة من الأولاد، ثلاثة ذكور وأربع إناث.`,source:"المصدر: (صحيح البخاري، صحيح مسلم، زاد المعاد لابن القيم)."},{title:"وفاته ووصاياه ﷺ",preview:"في أوائل السنة الحادية عشرة للهجرة، مرض النبي صلى الله عليه وسلم. وفي يوم الاثنين 12 ربيع الأول، توفي في حجر زوجته عائشة رضي الله عنها وهو في الثالثة والستين من عمره. وكانت آخر وصاياه 'الصلاة الصلاة وما ملكت أيمانكم'.",fullContent:`بدأت علامات اقتراب أجل النبي صلى الله عليه وسلم مع نزول سورة النصر، وفهمه منها اكتمال الرسالة. وفي أوائل عام 11 هـ، بدأ به المرض، واشتد عليه، فاستأذن زوجاته أن يمرض في بيت عائشة.
وقبل وفاته بأيام، خرج إلى الناس وخطب فيهم وأوصاهم بالأنصار خيرًا. وفي آخر أيامه، كانت آخر وصاياه وهو في سكرات الموت: 'الصلاة الصلاة وما ملكت أيمانكم'.
وفي ضحى يوم الاثنين، الثاني عشر من ربيع الأول، فاضت روحه الشريفة إلى الرفيق الأعلى وهو في حجر السيدة عائشة، وقد بلغ من العمر ثلاثًا وستين سنة. كان لوفاته أثر عظيم على الصحابة، حتى ثبتهم أبو بكر الصديق بخطبته الشهيرة: 'من كان يعبد محمدًا فإن محمدًا قد مات، ومن كان يعبد الله فإن الله حي لا يموت'.`,source:"المصدر: (صحيح البخاري، الرحيق المختوم، البداية والنهاية لابن كثير)."}],RA=[{name:"أبو بكر الصديق",preview:"أول الخلفاء الراشدين، رفيق النبي في الهجرة، وأول من آمن به من الرجال. عُرف بـ'الصديق' لتصديقه المطلق للنبي في كل الأمور، خاصة في حادثة الإسراء والمعراج.",fullContent:`**أبرز الإنجازات:**
- قيادة المسلمين بعد وفاة النبي ﷺ وتثبيت أركان الدولة.
- قتال المرتدين ومانعي الزكاة.
- البدء بمشروع جمع القرآن الكريم.

**علاقته بالنبي ﷺ:**
- أقرب أصدقائه ورفيقه قبل وبعد النبوة.
- والد زوجته السيدة عائشة رضي الله عنها.
- صاحبه في غار ثور أثناء الهجرة.

**أحداث هامة في حياته:**
- إنفاق كل ماله لتجهيز جيش العسرة.
- ثباته يوم وفاة النبي وقوله "من كان يعبد محمداً فإن محمداً قد مات...".
- قراره الحاسم بمحاربة مانعي الزكاة قائلاً: "والله لأقاتلن من فرق بين الصلاة والزكاة".`,source:"المصدر: (تاريخ الخلفاء للسيوطي، البداية والنهاية لابن كثير)."},{name:"عمر بن الخطاب",preview:"ثاني الخلفاء الراشدين، لُقب بـ'الفاروق' لأنه فرق بين الحق والباطل. كان إسلامه فتحًا وعزة للمسلمين. عُرف بقوته في الحق وعدله الذي لا يخشى فيه لومة لائم.",fullContent:`**أبرز الإنجازات:**
- توسع الدولة الإسلامية في عهده فشملت الشام وفارس ومصر.
- إنشاء الدواوين (السجلات الإدارية والعسكرية).
- وضع التقويم الهجري.

**علاقته بالنبي ﷺ:**
- من كبار الصحابة ومستشاريه المقربين.
- والد زوجته السيدة حفصة رضي الله عنها.
- وافق القرآن رأيه في مواضع عدة كالحجاب وأسرى بدر.

**أحداث هامة في حياته:**
- هجرته علانية متحديًا قريش.
- قصصه الشهيرة في العدل وتفقد أحوال الرعية ليلاً.
- استشهاده غدرًا وهو يصلي الفجر بالناس إمامًا.`,source:"المصدر: (تاريخ الطبري، أسد الغابة في معرفة الصحابة لابن الأثير)."},{name:"عثمان بن عفان",preview:"ثالث الخلفاء الراشدين، لقب بـ'ذي النورين' لزواجه من ابنتي النبي رقية ثم أم كلثوم. عُرف بحيائه الشديد وكرمه وإنفاقه في سبيل الله.",fullContent:`**أبرز الإنجازات:**
- جمع القرآن الكريم في مصحف واحد (المصحف العثماني) وتوزيعه على الأمصار لتوحيد القراءة.
- تجهيز جيش العسرة في غزوة تبوك.
- إنشاء أول أسطول بحري إسلامي.

**علاقته بالنبي ﷺ:**
- تزوج من ابنتيه رقية، وبعد وفاتها تزوج أم كلثوم.
- كان من كتاب الوحي.

**أحداث هامة في حياته:**
- شراؤه بئر رومة وجعلها وقفًا للمسلمين.
- بيعة الرضوان التي تمت تحت الشجرة من أجله.
- استشهاده مظلومًا في بيته وهو صائم يقرأ القرآن.`,source:"المصدر: (تاريخ الخلفاء للسيوطي، الإصابة في تمييز الصحابة لابن حجر)."},{name:"علي بن أبي طالب",preview:"رابع الخلفاء الراشدين، ابن عم النبي وزوج ابنته فاطمة. أول من أسلم من الصبيان. عُرف بشجاعته الفائقة وعلمه الواسع وحكمته.",fullContent:`**أبرز الإنجازات:**
- بطولاته في الغزوات، مثل قتل عمرو بن ود في الخندق، وحمل راية خيبر.
- قضاؤه العادل وحكمته في حل المشكلات.
- بلاغته وفصاحته التي جُمعت في كتاب نهج البلاغة.

**علاقته بالنبي ﷺ:**
- ابن عمه، وتربى في بيته.
- زوج ابنته السيدة فاطمة الزهراء، وأبو سبطيه الحسن والحسين.

**أحداث هامة في حياته:**
- نومه في فراش النبي ﷺ ليلة الهجرة ليحميه بنفسه.
- توليه الخلافة في فترة عصيبة من تاريخ المسلمين.
- استشهاده على يد الخوارج وهو ذاهب لصلاة الفجر.`,source:"المصدر: (أسد الغابة في معرفة الصحابة، تاريخ الطبري)."},{name:"طلحة بن عبيد الله",preview:"أحد العشرة المبشرين بالجنة، وأحد الثمانية السابقين إلى الإسلام. عُرف بكرمه وشجاعته، وسُمي 'طلحة الخير'. كان من أشد المدافعين عن النبي يوم أحد.",fullContent:`**أبرز الإنجازات:**
- عُرف بكرمه الشديد حتى لُقب بـ 'طلحة الخير' و 'طلحة الفياض'.
- كان من أهل الشورى الستة الذين عينهم عمر بن الخطاب لاختيار الخليفة من بعده.

**علاقته بالنبي ﷺ:**
- من أقرب الصحابة إلى النبي صلى الله عليه وسلم.
- أبلى بلاءً حسنًا في الدفاع عن النبي يوم أحد.

**أحداث هامة في حياته:**
- دفاعه البطولي عن النبي ﷺ في غزوة أحد، حيث تلقى السهام بجسده ويده عن رسول الله حتى شُلت يده، وقال عنه النبي يومها: "أوجب طلحة".`,source:"المصدر: (سير أعلام النبلاء للذهبي، الإصابة في تمييز الصحابة لابن حجر)."},{name:"الزبير بن العوام",preview:"أحد العشرة المبشرين بالجنة، وابن عمة النبي صفية. عُرف بـ 'حواري رسول الله'. كان أول من سل سيفه في الإسلام.",fullContent:`**أبرز الإنجازات:**
- فارس مقدام وشجاعته مشهورة في كل الغزوات.
- كان من أهل الشورى الستة الذين عينهم عمر.

**علاقته بالنبي ﷺ:**
- ابن عمته صفية بنت عبد المطلب.
- زوج أسماء بنت أبي بكر ذات النطاقين.
- قال عنه النبي ﷺ: "إن لكل نبي حواريًا، وحواريي الزبير".

**أحداث هامة في حياته:**
- أول من شهر سيفه في الإسلام في مكة دفاعًا عن النبي ﷺ.
- شجاعته الفذة يوم الخندق ويوم فتح مكة.`,source:"المصدر: (صحيح البخاري، أسد الغابة في معرفة الصحابة)."},{name:"عبد الرحمن بن عوف",preview:"أحد العشرة المبشرين بالجنة ومن السابقين الأولين. كان تاجرًا ناجحًا وكريمًا، أنفق أموالاً طائلة في سبيل الله.",fullContent:`**أبرز الإنجازات:**
- كان تاجرًا أمينًا مباركًا له في رزقه، ومن أغنى الصحابة.
- أنفق أمواله بسخاء في سبيل الله، وجهز قافلة كاملة في غزوة تبوك.
- كان أحد أهل الشورى الستة.

**علاقته بالنبي ﷺ:**
- من الصحابة المقربين ومن أوائل من أسلموا.

**أحداث هامة في حياته:**
- عندما هاجر إلى المدينة، آخى النبي بينه وبين سعد بن الربيع، فعرض عليه سعد نصف ماله وزوجة، فقال له عبد الرحمن: "بارك الله لك في أهلك ومالك، دلني على السوق". فبدأ تجارته من الصفر.`,source:"المصدر: (سير أعلام النبلاء للذهبي، تاريخ الإسلام للذهبي)."},{name:"سعد بن أبي وقاص",preview:"أحد العشرة المبشرين بالجنة ومن السابقين الأولين. كان خال النبي ﷺ، وأول من رمى بسهم في سبيل الله. عُرف بأنه 'مستجاب الدعوة'.",fullContent:`**أبرز الإنجازات:**
- قائد الجيش الإسلامي في معركة القادسية الفاصلة التي فتحت بلاد فارس.
- مؤسس مدينة الكوفة.
- كان من أهل الشورى الستة.

**علاقته بالنبي ﷺ:**
- من أخوال النبي (من قبيلة أمه بني زهرة)، وكان النبي يعتز به ويقول: "هذا خالي فليرني امرؤ خاله".

**أحداث هامة في حياته:**
- دعا له النبي ﷺ قائلاً: "اللهم سدد رميته، وأجب دعوته"، فكان لا يدعو دعاء إلا استجيب له.
- قصته مع أمه التي أقسمت ألا تأكل ولا تشرب حتى يكفر، فثبت على دينه ونزل فيه قرآن.`,source:"المصدر: (صحيح مسلم، البداية والنهاية لابن كثير)."},{name:"أبو عبيدة بن الجراح",preview:"أحد العشرة المبشرين بالجنة، ولقبه النبي ﷺ بـ 'أمين هذه الأمة'. كان قائدًا عسكريًا وإداريًا بارزًا، وقائد الجيوش في فتح الشام.",fullContent:`**أبرز الإنجازات:**
- تولى القيادة العامة لجيوش فتح الشام بعد خالد بن الوليد في عهد عمر.
- عُرف بتواضعه الشديد وأمانته وزهده.

**علاقته بالنبي ﷺ:**
- من السابقين الأولين إلى الإسلام.
- قال عنه النبي ﷺ: "إن لكل أمة أمينًا، وأمين هذه الأمة أبو عبيدة بن الجراح".

**أحداث هامة في حياته:**
- في غزوة أحد، نزع حلقتي المغفر اللتين دخلتا في وجه النبي بأسنانه، فسقطت ثنيتاه، فكان من أجمل الناس هتمًا (سقوط الأسنان الأمامية).
- توفي في طاعون عمواس بالشام، بعد أن رفض مغادرة جنده.`,source:"المصدر: (سير أعلام النبلاء للذهبي، تاريخ الخلفاء للسيوطي)."},{name:"خالد بن الوليد",preview:"لُقب بـ'سيف الله المسلول'، قائد عسكري فذ لم يهزم في معركة قط. أسلم بعد صلح الحديبية وكان له دور حاسم في حروب الردة والفتوحات الإسلامية.",fullContent:`**أبرز الإنجازات:**
- قيادة جيوش المسلمين في معارك فاصلة مثل اليمامة ضد مسيلمة الكذاب.
- فتح العراق والشام في عهد أبي بكر وعمر.
- عبقريته العسكرية في معركة اليرموك التي أدت إلى فتح بلاد الشام.

**علاقته بالنبي ﷺ:**
- أسلم متأخرًا لكن النبي ﷺ استبشر بإسلامه وقال: "إن خالدًا سيف من سيوف الله".
- ولاه النبي ﷺ قيادة الجيش في غزوة مؤتة بعد استشهاد القادة الثلاثة، فأنقذ الجيش من هزيمة محققة.

**أحداث هامة في حياته:**
- دوره في معركة أحد قبل إسلامه، حيث التف على جيش المسلمين.
- عزله عمر بن الخطاب عن قيادة الجيش خشية افتتان الناس به، فقاتل كجندي عادي.
- قوله عند وفاته: "لقد شهدت مائة زحف أو زهاءها، وما في جسدي موضع شبر إلا وفيه ضربة بسيف أو رمية بسهم أو طعنة برمح، وها أنا ذا أموت على فراشي كما يموت البعير، فلا نامت أعين الجبناء".`,source:"المصدر: (البداية والنهاية لابن كثير، تاريخ الرسل والملوك للطبري)."},{name:"بلال بن رباح",preview:"مؤذن الرسول ﷺ وأحد أوائل المسلمين. كان عبدًا حبشيًا عُذب عذابًا شديدًا في مكة ليترك الإسلام، فصبر وثبت وهو يقول 'أحدٌ أحد'.",fullContent:`**أبرز الإنجازات:**
- أول من رفع الأذان في الإسلام.
- كان مؤذن النبي ﷺ الخاص في المدينة.
- شارك في جميع الغزوات.

**علاقته بالنبي ﷺ:**
- كان خادم النبي ﷺ وخازنه على بيت المال.
- كان النبي ﷺ يحبه ويقربه، وقال له: "يا بلال، حدثني بأرجى عمل عملته في الإسلام، فإني سمعت دف نعليك بين يدي في الجنة".

**أحداث هامة في حياته:**
- صبره الأسطوري تحت تعذيب أمية بن خلف في رمضاء مكة.
- اشتراه أبو بكر الصديق وأعتقه.
- يوم فتح مكة، أمره النبي ﷺ أن يصعد فوق الكعبة ويؤذن، فكان مشهدًا عظيمًا لانتصار الإسلام.`,source:"المصدر: (سير أعلام النبلاء للذهبي، صفة الصفوة لابن الجوزي)."},{name:"سلمان الفارسي",preview:"صاحب فكرة حفر الخندق في غزوة الأحزاب. كان باحثًا عن الحقيقة، ترك بلاده فارس وسافر رحلة طويلة بحثًا عن الدين الحق حتى وصل إلى المدينة وأسلم.",fullContent:`**أبرز الإنجازات:**
- إشارته بحفر الخندق في غزوة الأحزاب، مما كان سببًا رئيسيًا في نصر المسلمين.
- علمه الواسع وزهده الشديد.
- تولى إمارة المدائن في عهد عمر بن الخطاب.

**علاقته بالنبي ﷺ:**
- أحبه النبي ﷺ وقربه، وقال عنه: "سلمان منا أهل البيت".
- كان النبي ﷺ يستشيره ويأخذ برأيه.

**أحداث هامة في حياته:**
- رحلته الطويلة والمشوقة في البحث عن الدين، حيث تنقل بين الكهنة والقساوسة حتى دله أحدهم على نبي آخر الزمان الذي سيظهر في أرض العرب.
- قصة إسلامه بعد أن رأى علامات النبوة في النبي ﷺ.`,source:"المصدر: (سير أعلام النبلاء للذهبي، مسند الإمام أحمد)."},{name:"حمزة بن عبد المطلب",preview:"عم النبي ﷺ وأخوه من الرضاعة. لُقب بـ 'أسد الله وسيد الشهداء'. كان من أقوى رجال قريش وأشجعهم، وإسلامه كان عزًا كبيرًا للمسلمين.",fullContent:`**أبرز الإنجازات:**
- إسلامه أعطى المسلمين قوة ومنعة في مكة.
- كان محاربًا أسطوريًا، وأبلى بلاءً عظيمًا في غزوة بدر.

**علاقته بالنبي ﷺ:**
- كان عم النبي صلى الله عليه وسلم.

**أحداث هامة في حياته:**
- قصة إسلامه بعد أن غضب لرسول الله حين أهانه أبو جهل.
- استشهاده في غزوة أحد، حيث قتله وحشي بن حرب غدرًا، وحزن عليه النبي حزنًا شديدًا وسماه 'سيد الشهداء'.`,source:"المصدر: (سيرة ابن هشام، الرحيق المختوم)."},{name:"مصعب بن عمير",preview:"أول سفير في الإسلام. كان من أنعم فتيان مكة، ترك كل الترف والثراء من أجل الإسلام. استشهد في غزوة أحد وهو يحمل لواء المسلمين.",fullContent:`**أبرز الإنجازات:**
- أول داعية أرسله النبي ﷺ إلى المدينة ليعلم أهلها القرآن، فأسلم على يديه معظم أهلها قبل الهجرة.
- حامل لواء المهاجرين في غزوتي بدر وأحد.

**علاقته بالنبي ﷺ:**
- من الصحابة المقربين الذين ضحوا بكل شيء من أجل الدعوة.

**أحداث هامة في حياته:**
- هجرته للحبشة ثم للمدينة، تاركًا وراءه حياة الرفاهية.
- استشهاده في غزوة أحد، حيث قُطعت يداه وهو يدافع عن اللواء، وظل ممسكًا به حتى قُتل. بكى النبي عند رؤيته بعد استشهاده ولم يجدوا ما يكفنونه به إلا بردة قصيرة.`,source:"المصدر: (سيرة ابن هشام، صفة الصفوة لابن الجوزي)."},{name:"عبد الله بن مسعود",preview:"من السابقين الأولين، وأعلم الصحابة بالقرآن. كان خادم النبي ﷺ. قال عنه النبي: 'من أحب أن يقرأ القرآن غضًا كما أنزل فليقرأه على قراءة ابن أم عبد'.",fullContent:`**أبرز الإنجازات:**
- أحد أكبر علماء القرآن وتفسيره بين الصحابة.
- أول من جهر بالقرآن الكريم في مكة بعد النبي ﷺ.
- أرسله عمر بن الخطاب إلى الكوفة ليعلم أهلها، فأسس مدرسة فقهية وقرائية عظيمة هناك.

**علاقته بالنبي ﷺ:**
- كان من أقرب الصحابة خدمة للنبي، حتى عُرف بـ'صاحب النعلين والوساد والمطهرة'.

**أحداث هامة في حياته:**
- قصة إسلامه وهو غلام يرعى الغنم.
- رغم نحافة جسده، قال النبي ﷺ عن ساقيه: "لهما في الميزان أثقل من جبل أحد".`,source:"المصدر: (صحيح البخاري، سير أعلام النبلاء للذهبي)."}],IA=[{name:"غزوة بدر الكبرى",date:"17 رمضان 2 هـ / 13 مارس 624 م",reason:"محاولة المسلمين اعتراض قافلة تجارية لقريش بقيادة أبي سفيان، ردًا على مصادرة قريش لأموال المهاجرين في مكة.",participants:"المسلمون: حوالي 313 رجلاً. المشركون: حوالي 1000 رجل.",events:"خرج جيش قريش لحماية القافلة، ونجت القافلة. لكن أبا جهل أصر على قتال المسلمين. التقى الجيشان في بدر، وبدأت المعركة بالمبارزة الفردية ثم القتال العام. أيد الله المسلمين بالملائكة وألقى الرعب في قلوب المشركين.",results:"انتصار ساحق للمسلمين. قُتل 70 من كبار زعماء قريش منهم أبو جهل، وأُسر 70 آخرون. استشهد 14 من المسلمين. كانت أول معركة فاصلة عززت مكانة الدولة الإسلامية.",stories:"قصة عكاشة بن محصن الذي انكسر سيفه، فأعطاه النبي صلى الله عليه وسلم جذلاً من حطب فانقلب في يده سيفًا حادًا. (سيرة ابن هشام)"},{name:"غزوة أحد",date:"7 شوال 3 هـ / 23 مارس 625 م",reason:"رغبة قريش في الثأر لهزيمتهم في بدر واستعادة مكانتهم.",participants:"المسلمون: حوالي 700 رجل. المشركون: حوالي 3000 رجل.",events:"وضع النبي 50 من الرماة على جبل أحد وأمرهم بعدم مغادرة أماكنهم مهما كانت نتيجة المعركة. في البداية انتصر المسلمون، لكن الرماة خالفوا الأمر ونزلوا لجمع الغنائم. فالتف خالد بن الوليد (وكان مشركًا آنذاك) بفرسانه من خلف الجبل وهاجم المسلمين من الخلف، فتحولت المعركة إلى ابتلاء عظيم للمسلمين.",results:"لم تكن نصرًا حاسمًا لأي طرف، لكنها كانت درسًا قاسيًا للمسلمين. استشهد حوالي 70 من الصحابة، منهم حمزة بن عبد المطلب. أُشيع مقتل النبي وجُرح وجهه الشريف وكُسرت رباعيته.",stories:"بطولة نسيبة بنت كعب (أم عمارة) التي دافعت عن النبي بنفسها بالسيف والترس. وبطولة طلحة بن عبيد الله الذي اتقى السهام عن النبي بيده حتى شُلت. (الرحيق المختوم)"},{name:"غزوة الخندق (الأحزاب)",date:"شوال 5 هـ / مارس 627 م",reason:"تحالف كبير من قريش وقبائل غطفان واليهود للقضاء على الإسلام والمسلمين في المدينة.",participants:"المسلمون: حوالي 3000 رجل. الأحزاب (المشركون): حوالي 10,000 رجل.",events:"أشار سلمان الفارسي على النبي بحفر خندق حول المدينة، وهو ما لم تكن تعرفه العرب. حاصر الأحزاب المدينة لمدة شهر تقريبًا. حاولوا اقتحام الخندق وفشلوا. اشتد البلاء على المسلمين من الحصار والبرد والجوع وخيانة يهود بني قريظة.",results:"انتصار للمسلمين دون قتال مباشر. أرسل الله ريحًا شديدة باردة قلبت قدورهم واقتلعت خيامهم، وأرسل الملائكة لتلقي الرعب في قلوبهم، فتفرقوا ورجعوا خائبين.",stories:"موقف حذيفة بن اليمان حين أرسله النبي في ليلة عاصفة ليتجسس على أخبار معسكر الأحزاب، وعاد بالخبر اليقين بتفرقهم. (صحيح مسلم)"}],Vy=({className:e})=>l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})});var Zm={};const Qo=({title:e,children:t,isOpen:n,onClick:i,level:a=0})=>{const o=[{bg:"bg-card",hoverBg:"hover:bg-border-color/50",border:"border-b border-border-color"},{bg:"bg-background",hoverBg:"hover:bg-border-color/30",border:"border-t border-border-color"},{bg:"bg-card",hoverBg:"hover:bg-border-color/50",border:"border-t border-border-color/50"}],s=o[a%o.length];return l.jsxs("div",{className:`${s.border}`,children:[l.jsxs("button",{onClick:i,className:`w-full flex justify-between items-center text-right p-4 transition-colors ${s.bg} ${s.hoverBg}`,children:[l.jsx("h3",{className:`font-semibold ${a>0?"text-base":"text-lg"} text-text-primary`,children:e}),l.jsx(Vy,{className:`w-5 h-5 text-text-secondary transition-transform duration-300 ${n?"rotate-180":""}`})]}),n&&l.jsx("div",{className:`p-4 ${s.bg} animate-fade-in`,children:l.jsx("div",{className:"prose prose-sm max-w-none text-text-secondary leading-relaxed whitespace-pre-wrap",children:t})})]})},kA=()=>{const[e,t]=b.useState(""),[n,i]=b.useState(!0),[a,o]=b.useState("");return b.useEffect(()=>{(async()=>{if(!Zm.API_KEY){t("نصيحة اليوم: تفاءل بالخير تجده. (مفتاح API غير متوفر)"),i(!1);return}try{const d=await new Gt({apiKey:Zm.API_KEY}).models.generateContent({model:"gemini-2.5-flash",contents:"Generate a single, short, inspirational piece of life advice in Arabic based on an event from the life of Prophet Muhammad ﷺ or one of the Ten Companions Promised Paradise. The advice should be practical and end with a reference to the person it's based on (e.g., '- من حياة النبي ﷺ' or '- من سيرة عمر بن الخطاب'). The response should be a single string, no JSON, no markdown."});t(d.text.trim())}catch(u){o("فشل في جلب نصيحة اليوم."),console.error(u)}finally{i(!1)}})()},[]),l.jsx("div",{className:"bg-primary/10 border-l-4 border-primary text-primary p-4 rounded-r-lg mb-8 shadow-md",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(ly,{className:"w-8 h-8 mr-4 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold",children:"درس من حياة العظماء"}),n&&l.jsx("p",{className:"animate-pulse",children:"جاري تحميل الحكمة..."}),a&&l.jsx("p",{className:"text-red-500",children:a}),!n&&!a&&l.jsx("p",{className:"mt-1 text-text-primary",children:e})]})]})})},DA=()=>{const[e,t]=b.useState({}),[n,i]=b.useState({}),[a,o]=b.useState({}),s=f=>{t(m=>({...m,[f]:!m[f]}))},u=f=>{i(m=>({...m,[f]:!m[f]}))},d=f=>{o(m=>({...m,[f]:!m[f]}))};return l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pt-6 pb-8 animate-fade-in",children:[l.jsx(kA,{}),l.jsxs("div",{className:"rounded-lg shadow-lg overflow-hidden border border-border-color",children:[l.jsx(Qo,{title:"السيرة النبوية",isOpen:!!e.sira,onClick:()=>s("sira"),children:l.jsx("div",{className:"space-y-3 -m-4",children:MA.map(f=>l.jsxs("div",{className:"p-4 border-b border-border-color/50 last:border-b-0",children:[l.jsx("h4",{className:"text-base font-bold text-text-primary mb-2",children:f.title}),l.jsx("p",{className:"text-sm text-text-secondary leading-relaxed whitespace-pre-wrap",children:n[f.title]?f.fullContent:f.preview}),n[f.title]&&l.jsx("p",{className:"text-xs text-text-secondary/80 mt-3 pt-2 border-t border-dashed border-border-color",children:f.source}),l.jsx("div",{className:"text-left mt-2",children:l.jsx("button",{onClick:()=>u(f.title),className:"text-xs font-bold text-primary hover:underline",children:n[f.title]?"عرض أقل":"عرض المزيد"})})]},f.title))})}),l.jsx(Qo,{title:"صحابة الرسول",isOpen:!!e.sahaba,onClick:()=>s("sahaba"),children:l.jsx("div",{className:"space-y-3 -m-4",children:RA.map(f=>l.jsxs("div",{className:"p-4 border-b border-border-color/50 last:border-b-0",children:[l.jsx("h4",{className:"text-base font-bold text-text-primary mb-2",children:f.name}),l.jsx("p",{className:"text-sm text-text-secondary leading-relaxed whitespace-pre-wrap",children:a[f.name]?f.fullContent:f.preview}),a[f.name]&&l.jsx("p",{className:"text-xs text-text-secondary/80 mt-3 pt-2 border-t border-dashed border-border-color",children:f.source}),l.jsx("div",{className:"text-left mt-2",children:l.jsx("button",{onClick:()=>d(f.name),className:"text-xs font-bold text-primary hover:underline",children:a[f.name]?"عرض أقل":"عرض المزيد"})})]},f.name))})}),l.jsx(Qo,{title:"الغزوات الإسلامية",isOpen:!!e.battles,onClick:()=>s("battles"),children:IA.map(f=>l.jsx(Qo,{title:f.name,isOpen:!!e[f.name],onClick:()=>s(f.name),level:1,children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"التاريخ بالهجري والميلادي:"})," ",f.date]}),l.jsxs("p",{children:[l.jsx("strong",{children:"سبب الغزوة:"})," ",f.reason]}),l.jsxs("p",{children:[l.jsx("strong",{children:"عدد المشاركين من المسلمين والكفار:"})," ",f.participants]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-text-primary",children:"أحداث المعركة بالتفصيل:"}),l.jsx("p",{children:f.events})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-text-primary",children:"نتائج وتأثير الغزوة:"}),l.jsx("p",{children:f.results})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-text-primary",children:"قصص مميزة مرتبطة بالغزوة:"}),l.jsx("p",{children:f.stories})]})]})},f.name))})]})]})},qA=({className:e})=>l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),UA=({query:e,onQueryChange:t})=>l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none","aria-hidden":"true",children:l.jsx(qA,{className:"h-5 w-5 text-text-secondary group-focus-within:text-primary transition-colors"})}),l.jsx("input",{type:"search",id:"surah-search",placeholder:"ابحث عن سورة أو موضوع مثل 'الصبر'...",value:e,onChange:n=>t(n.target.value),className:"block w-full bg-card border border-border-color rounded-lg py-3 pl-12 pr-4 text-base placeholder-text-secondary focus:outline-none focus:text-text-primary focus:ring-2 focus:ring-primary focus:border-transparent transition-shadow shadow-sm"})]}),LA=({onSave:e})=>{const[t,n]=b.useState(""),[i,a]=b.useState(""),[o,s]=b.useState(3),[u,d]=b.useState(""),f=b.useMemo(()=>Object.keys(Bi).sort(),[]),m=b.useMemo(()=>t&&Bi[t]?Bi[t].sort():[],[t]),p=g=>{n(g.target.value),a("")},h=()=>{if(!t||!i){d("Please complete all selections.");return}d(""),e({country:t,region:i,method:o})};return l.jsx("div",{className:"fixed inset-0 bg-black/75 flex items-center justify-center z-50 animate-fade-in",children:l.jsxs("div",{className:"bg-card rounded-lg shadow-xl p-6 sm:p-8 w-full max-w-md m-4",children:[l.jsx("h2",{className:"text-2xl font-bold text-center text-text-primary mb-4",children:"Prayer Time Settings"}),l.jsx("p",{className:"text-center text-text-secondary mb-6",children:"Select your location for accurate prayer times."}),u&&l.jsx("p",{className:"text-red-500 text-center mb-4",children:u}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-text-primary mb-1",children:"Country"}),l.jsxs("select",{id:"country",value:t,onChange:p,className:"block w-full bg-card border border-border-color rounded-md py-2 px-3 text-sm focus:outline-none focus:ring-1 focus:ring-primary focus:border-primary",children:[l.jsx("option",{value:"",children:"Select Country"}),f.map(g=>l.jsx("option",{value:g,children:g},g))]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"region",className:"block text-sm font-medium text-text-primary mb-1",children:"City / Region"}),l.jsxs("select",{id:"region",value:i,onChange:g=>a(g.target.value),disabled:!t,className:"block w-full bg-card border border-border-color rounded-md py-2 px-3 text-sm focus:outline-none focus:ring-1 focus:ring-primary focus:border-primary",children:[l.jsx("option",{value:"",children:t?"Select City / Region":"Select a country first"}),m.map(g=>l.jsx("option",{value:g,children:g},g))]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"method",className:"block text-sm font-medium text-text-primary mb-1",children:"Calculation Method"}),l.jsx("select",{id:"method",value:o,onChange:g=>s(Number(g.target.value)),className:"block w-full bg-card border border-border-color rounded-md py-2 px-3 text-sm focus:outline-none focus:ring-1 focus:ring-primary focus:border-primary",children:sy.map(g=>l.jsx("option",{value:g.id,children:g.name},g.id))})]})]}),l.jsx("div",{className:"mt-8",children:l.jsx("button",{onClick:h,className:"w-full bg-primary text-white font-bold py-2 px-4 rounded-md hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary dark:focus:ring-offset-gray-800",children:"Save"})})]})})},jA=({className:e})=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a3.002 3.002 0 013.39-2.43 3.002 3.002 0 013.39 2.43m-6.78 0a3.002 3.002 0 00-3.39-2.43 3.002 3.002 0 00-3.39 2.43m10.17 0a3.002 3.002 0 003.39 2.43m-3.39-2.43a3.002 3.002 0 01-3.39 2.43m-3.39-2.43a3.002 3.002 0 00-3.39 2.43m6.78 0a3.002 3.002 0 003.39-2.43m-3.39 2.43a3.002 3.002 0 01-3.39-2.43"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6a3 3 0 11-6 0 3 3 0 016 0zM12 6a3 3 0 10-6 0 3 3 0 006 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8c-3.314 0-6 2.686-6 6v2m6-8c3.314 0 6 2.686 6 6v2"})]}),VA=({items:e,onPlay:t,onDelete:n,currentSurah:i,currentReciter:a,isPlaying:o})=>{const[s,u]=b.useState(!1);return e.length===0?null:l.jsx("div",{className:"px-4 sm:px-6 lg:px-8 pt-6 animate-fade-in",children:l.jsxs("div",{className:"bg-card/80 rounded-xl shadow-lg border border-border-color p-4",children:[l.jsxs("button",{onClick:()=>u(!s),className:"w-full flex items-center justify-between text-right","aria-expanded":s,children:[l.jsxs("h2",{className:"text-xl font-bold text-text-primary",children:["المحتوى المحمّل (",e.length,")"]}),l.jsx(Vy,{className:`w-6 h-6 text-text-secondary transition-transform duration-300 ${s?"rotate-180":""}`})]}),s&&l.jsx("div",{className:"mt-4 pt-4 border-t border-border-color/50",children:l.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto custom-scrollbar pr-2",children:e.map(({surah:d,reciter:f})=>{const m=(i==null?void 0:i.id)===d.id&&(a==null?void 0:a.identifier)===f.identifier&&o,p=(i==null?void 0:i.id)===d.id&&(a==null?void 0:a.identifier)===f.identifier;return l.jsxs("div",{className:`p-3 rounded-lg flex items-center justify-between transition-colors ${p?"bg-primary/20":"bg-background"}`,children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold font-amiri-quran text-lg text-text-primary",children:d.name}),l.jsx("p",{className:"text-xs text-text-secondary",children:f.name})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>t(d,f),className:"p-2 text-primary hover:bg-primary/10 rounded-full","aria-label":m?`إيقاف ${d.name}`:`تشغيل ${d.name}`,children:m?l.jsx(Cc,{className:"w-6 h-6"}):l.jsx(fl,{className:"w-6 h-6"})}),l.jsx("button",{onClick:h=>{h.stopPropagation(),window.confirm(`هل أنت متأكد من حذف الملفات الصوتية لسورة ${d.name} للقارئ ${f.name}؟`)&&n(d,f)},className:"p-2 text-red-500 hover:bg-red-500/10 rounded-full","aria-label":`حذف ${d.name}`,children:l.jsx(ml,{className:"w-5 h-5"})})]})]},`${d.id}-${f.identifier}`)})})})]})})},GA=({className:e})=>l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})});var Wm={};const Gy={Mujawwad:"مجود",Murattal:"مرتل",Warsh:"ورش",Qalun:"قالون",Muallim:"معلم"},PA=({className:e})=>l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})}),zA=({reciters:e,selectedReciter:t,onReciterChange:n,children:i})=>{const[a,o]=b.useState(!1),[s,u]=b.useState(""),d=b.useMemo(()=>["مشاري راشد العفاسي","عبدالرحمن السديس","سعود الشريم","سعد الغامدي","ماهر المعيقلي","أحمد بن علي العجمي","ياسر الدوسري","محمود خليل الحصري","محمد صديق المنشاوي","عبدالباسط عبدالصمد"],[]),{featured:f,grouped:m}=b.useMemo(()=>{const h=s.trim()?e.filter(x=>x.name.toLowerCase().includes(s.toLowerCase())||x.rawName.toLowerCase().includes(s.toLowerCase())):e,g=[],v=[];if(s.trim())v.push(...h);else{const x=new Set;d.forEach(y=>{e.filter(T=>T.rawName===y).forEach(T=>{x.has(T.identifier)||(g.push(T),x.add(T.identifier))})}),v.push(...e.filter(y=>!x.has(y.identifier)))}const E=v.reduce((x,y)=>{const S=y.style||"Murattal",T=Gy[S]||S;return x[T]||(x[T]=[]),x[T].push(y),x},{}),N=Object.entries(E).sort(([x],[y])=>x==="مرتل"?-1:y==="مرتل"?1:x==="مجود"?-1:y==="مجود"?1:x.localeCompare(y,"ar"));return{featured:g,grouped:N}},[e,s,d]),p=h=>{const g=(t==null?void 0:t.identifier)===h.identifier;return l.jsxs("button",{onClick:()=>{n(h),o(!1)},className:`w-full p-2.5 rounded-lg text-right transition-all duration-200 flex items-center justify-between relative group ${g?"bg-primary/20":"bg-card/50 hover:bg-card"}`,children:[l.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[l.jsx(GA,{className:`w-7 h-7 flex-shrink-0 transition-colors ${g?"text-primary":"text-text-secondary/70"}`}),l.jsx("div",{className:"min-w-0",children:l.jsx("span",{className:`font-semibold w-full truncate transition-colors text-sm ${g?"text-primary":"text-text-primary"}`,children:h.name})})]}),g&&l.jsx("div",{className:"text-primary flex-shrink-0 ml-2",children:l.jsx(oy,{className:"w-5 h-5"})})]},h.identifier)};return l.jsxs("div",{className:"flex h-full min-h-[calc(100vh-64px)]",children:[l.jsx("aside",{className:`absolute lg:relative top-0 right-0 h-full bg-background/80 dark:bg-background/90 backdrop-blur-lg z-30 transition-transform duration-300 ease-in-out lg:translate-x-0 ${a?"translate-x-0":"translate-x-full"}`,children:l.jsxs("div",{className:"w-72 lg:w-80 border-l border-border-color h-full flex flex-col",children:[l.jsx("div",{className:"p-4 border-b border-border-color flex-shrink-0",children:l.jsxs("h2",{className:"text-lg font-bold text-text-primary flex items-center gap-2",children:[l.jsx(jA,{className:"w-6 h-6 text-primary"}),"اختر القارئ"]})}),l.jsx("div",{className:"p-3 border-b border-border-color",children:l.jsx("input",{type:"search",value:s,onChange:h=>u(h.target.value),placeholder:"ابحث عن قارئ...",className:"w-full bg-background border border-border-color rounded-md py-2 px-3 text-sm focus:outline-none focus:ring-1 focus:ring-primary"})}),l.jsxs("div",{className:"flex-grow overflow-y-auto custom-scrollbar p-2 space-y-4",children:[e.length===0&&l.jsx("div",{className:"text-center p-4 text-text-secondary",children:"جاري تحميل القراء..."}),f.length>0&&l.jsxs("div",{className:"space-y-1",children:[l.jsx("h3",{className:"px-2 text-sm font-semibold text-text-secondary mb-2",children:"القراء المميزون"}),f.map(h=>p(h))]}),m.map(([h,g])=>l.jsxs("div",{className:"space-y-1",children:[l.jsx("h3",{className:"px-2 text-sm font-semibold text-text-secondary mb-2",children:h}),g.map(v=>p(v))]},h)),e.length>0&&f.length===0&&m.length===0&&l.jsx("div",{className:"text-center p-4 text-text-secondary",children:"لا توجد نتائج بحث."})]})]})}),a&&l.jsx("div",{onClick:()=>o(!1),className:"fixed inset-0 bg-black/50 z-20 lg:hidden"}),l.jsxs("main",{className:"flex-grow w-full overflow-y-auto",children:[l.jsx("div",{className:"lg:hidden p-2 text-left",children:l.jsx("button",{onClick:()=>o(!0),className:"p-2 rounded-md bg-card/50 text-text-secondary",children:l.jsx(PA,{className:"w-6 h-6"})})}),i]})]})},HA=()=>{const[e,t]=b.useState([]),[n,i]=b.useState([]),[a,o]=b.useState(!0),[s,u]=b.useState(null),[d,f]=b.useState("home"),[m,p]=b.useState(()=>typeof window<"u"?localStorage.getItem("theme")==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches:!1),[h,g]=b.useState(()=>{if(typeof window<"u")try{const C=localStorage.getItem("ronaqTheme");return C?JSON.parse(C):fs}catch{return fs}return fs}),[v,E]=b.useState(null),[N,x]=b.useState(null),[y,S]=b.useState([]),[T,A]=b.useState(0),[_,w]=b.useState(!1),[U,I]=b.useState(""),[q,O]=b.useState(()=>{if(typeof window<"u"){const C=localStorage.getItem("ronaqBookmarks");return C?JSON.parse(C):{}}return{}}),[j,V]=b.useState(""),[D,K]=b.useState({hoursThisWeek:0,surahsCompleted:0}),[k,Q]=b.useState(0),[X,z]=b.useState(!1),[P,ge]=b.useState(null),[yt,Me]=b.useState(!1),[Le,$e]=b.useState(!1),[H,te]=b.useState(null),[je,Dt]=b.useState(!1),[zn,pa]=b.useState(!1),[mi,ga]=b.useState(!1),[ya,xl]=b.useState(new Set),[qc,vl]=b.useState({}),Sl=b.useRef({}),[Uc,bl]=b.useState(new Set),[Lc,El]=b.useState({}),Tl=b.useRef({}),[zy,Nl]=b.useState([]),[hi,Al]=b.useState(null),[Hy,jc]=b.useState(!1),[By,xa]=b.useState([]),[Oy,Cl]=b.useState(!1),[Jy,Ao]=b.useState(null),[pi,Vc]=b.useState(null),[gi,Yy]=b.useState(()=>{if(typeof window<"u"){const C=localStorage.getItem("azkarSettings");return C?JSON.parse(C):{isEnabled:!1,frequency:1}}return{isEnabled:!1,frequency:1}}),[Gc,wl]=b.useState(null),va=b.useRef(null),[Pc,Fy]=b.useState(0),[_l,zc]=b.useState(null),Ml=b.useRef(!1),Rl=b.useRef(null),Il=b.useRef(null);b.useEffect(()=>{Wm.API_KEY&&(Rl.current=new Gt({apiKey:Wm.API_KEY}))},[]),b.useEffect(()=>{if(document.body.classList.toggle("audio-theme",d==="audio"),d==="audio"){const C=document.documentElement.classList.contains("dark");document.documentElement.style.setProperty("--scrollbar-track-bg",C?"#0d1a2e":"#fbf9f3"),document.documentElement.style.setProperty("--scrollbar-thumb-bg",C?"#2a3e5c":"#d1c7ac")}else document.documentElement.style.setProperty("--scrollbar-track-bg","var(--color-background)"),document.documentElement.style.setProperty("--scrollbar-thumb-bg","var(--color-border-color)")},[d,m]),b.useEffect(()=>{if(Ml.current||e.length===0||n.length===0)return;const C=localStorage.getItem("lastPlaybackState");if(C)try{const R=JSON.parse(C),L=e.find(ne=>ne.id===R.surahId),J=n.find(ne=>ne.identifier===R.reciterIdentifier),Y=parseFloat(R.time),ee=R.currentAyahIndex!==void 0?parseInt(R.currentAyahIndex,10):0;L&&J&&!isNaN(Y)?(Ml.current=!0,E(J),x(L),zc(Y),A(isNaN(ee)?0:ee),w(!1)):localStorage.removeItem("lastPlaybackState")}catch(R){console.error("Failed to parse saved playback state",R),localStorage.removeItem("lastPlaybackState")}},[e,n]),b.useEffect(()=>{const C=()=>{if(N&&v&&y.length>0){const L={surahId:N.id,reciterIdentifier:v.identifier,time:Pc,currentAyahIndex:T};localStorage.setItem("lastPlaybackState",JSON.stringify(L))}},R=()=>{document.visibilityState==="hidden"&&C()};return window.addEventListener("pagehide",C),document.addEventListener("visibilitychange",R),()=>{window.removeEventListener("pagehide",C),document.removeEventListener("visibilitychange",R)}},[_,N,v,Pc,T,y]),b.useEffect(()=>{if(typeof window<"u"){const C=localStorage.getItem("quranChallenge");if(C){const R=JSON.parse(C);R.completedAyahs||(R.completedAyahs={}),Al(R)}}},[]),b.useEffect(()=>{typeof window<"u"&&(hi?localStorage.setItem("quranChallenge",JSON.stringify(hi)):localStorage.removeItem("quranChallenge"))},[hi]),b.useEffect(()=>{if(typeof window<"u"){const C=localStorage.getItem("prayerSettings");if(C){const L=JSON.parse(C);L.method===void 0?Dt(!0):te(L)}else Dt(!0);const R=localStorage.getItem("prayerRemindersEnabled");ga(R==="true")}},[]),b.useEffect(()=>{typeof window<"u"&&localStorage.setItem("azkarSettings",JSON.stringify(gi))},[gi]),b.useEffect(()=>{if(va.current&&clearInterval(va.current),gi.isEnabled&&typeof Notification<"u"&&Notification.permission==="granted"){const C=()=>{const L=Math.floor(Math.random()*Tf.length),J=Tf[L],Y=new Notification("تذكير أذكار",{body:J,icon:"https://i.imgur.com/1m8xN9N.png",tag:"azkar-notification"});Y.onclick=()=>{wl(J),window.focus()}};setTimeout(C,2e3);const R=gi.frequency*60*60*1e3;va.current=window.setInterval(C,R)}return()=>{va.current&&clearInterval(va.current)}},[gi]),b.useEffect(()=>{const C=async()=>{await gt();const R=new Set;await Promise.all(e.map(async L=>{await XS(L.id)>=L.numberOfAyahs&&R.add(L.id)})),xl(R)};e.length>0&&C()},[e]),b.useEffect(()=>{(async()=>{if(e.length===0||n.length===0)return;await gt();const R=await ry("ayahs"),L=new Map;R.forEach(ee=>{const ne=ee.split("-");if(ne.length===3){const fe=`${ne[0]}-${ne[1]}`;L.set(fe,(L.get(fe)||0)+1)}});const J=[],Y=new Set;for(const[ee,ne]of L.entries()){const[fe,$]=ee.split("-"),Ve=parseInt($,10),Ze=e.find(un=>un.id===Ve),Hn=n.find(un=>un.identifier===fe);Ze&&Hn&&ne>=Ze.numberOfAyahs&&(J.push({surah:Ze,reciter:Hn}),Y.add(ee))}Nl(J.sort((ee,ne)=>ee.surah.id-ne.surah.id)),bl(Y)})()},[e,n]);const yi=b.useCallback(()=>{const C=JSON.parse(localStorage.getItem("listeningHistory")||"[]"),R=JSON.parse(localStorage.getItem("completedSurahs")||"[]"),L=Date.now()-7*24*60*60*1e3,Y=C.filter(ne=>ne.timestamp>=L).reduce((ne,fe)=>ne+(fe.duration||0),0)/3600,ee=new Set(R).size;return{hoursThisWeek:Y,surahsCompleted:ee}},[]);b.useEffect(()=>{K(yi())},[yi]);const Ky=b.useCallback(C=>{if(!C||C===1/0)return;const R=JSON.parse(localStorage.getItem("listeningHistory")||"[]");R.push({timestamp:Date.now(),duration:C}),localStorage.setItem("listeningHistory",JSON.stringify(R)),K(yi())},[yi]),Qy=b.useCallback(C=>{const R=JSON.parse(localStorage.getItem("completedSurahs")||"[]"),L=new Set(R);L.has(C)||(L.add(C),localStorage.setItem("completedSurahs",JSON.stringify(Array.from(L))),K(yi()))},[yi]),Xy=b.useCallback((C,R)=>{Al(L=>{if(!L||!L.isActive||L.isPaused||!C||!R)return L;const J=String(C.id),Y=L.completedAyahs[J]||[];if(Y.includes(R.numberInSurah))return L;const ee=new Date().toISOString().split("T")[0],ne={...L.progress};ne[ee]=(ne[ee]||0)+1;const fe={...L.completedAyahs};return fe[J]=[...Y,R.numberInSurah],{...L,progress:ne,completedAyahs:fe}})},[]);b.useEffect(()=>{localStorage.setItem("ronaqBookmarks",JSON.stringify(q))},[q]),b.useEffect(()=>{m?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[m]);const $y=b.useMemo(()=>d==="audio"?"audio-page-theme":"",[d]);b.useEffect(()=>{localStorage.setItem("ronaqTheme",JSON.stringify(h));const C=document.documentElement,R=m?h.dark:h.light;C.style.setProperty("--color-primary",R.primary),C.style.setProperty("--color-background",R.background),C.style.setProperty("--color-card",R.card),C.style.setProperty("--color-text-primary",R.textPrimary),C.style.setProperty("--color-text-secondary",R.textSecondary),C.style.setProperty("--color-border-color",R.border),C.style.setProperty("--color-background-start",R.backgroundStart),C.style.setProperty("--color-background-end",R.backgroundEnd)},[h,m]),b.useEffect(()=>{(async()=>{o(!0),u(null);try{const[R,L]=await Promise.all([fetch("https://api.quran.com/api/v4/chapters?language=ar"),fetch("https://api.quran.com/api/v4/resources/recitations?language=ar")]);if(!R.ok)throw new Error("Failed to fetch surahs");if(!L.ok)throw new Error("Failed to fetch reciters");const Y=(await R.json()).chapters.map($=>({id:$.id,name:$.name_arabic,revelationType:$.revelation_place==="makkah"?"Meccan":"Medinan",numberOfAyahs:$.verses_count}));t(Y);const ee=await L.json(),ne=new Map;ee.recitations.forEach($=>{$.reciter_name&&(ne.has($.reciter_name)||ne.set($.reciter_name,new Set),$.style&&ne.get($.reciter_name).add($.style))});const fe=ee.recitations.map($=>{var _o;const Ve=$.reciter_name;if(!Ve)return null;const Ze=$.style,Hn=ne.get(Ve);let un=Ve;if(Ze){const hx=Hn&&Hn.size>1;if(Ze!=="Murattal"||hx){const px=Gy[Ze]||Ze;un=`${Ve} (${px})`}}return{identifier:String($.id),name:un,englishName:((_o=$.translated_name)==null?void 0:_o.name)||Ve,rawName:Ve,style:Ze||"Murattal"}}).filter($=>$!==null).sort(($,Ve)=>$.name.localeCompare(Ve.name,"ar"));if(i(fe),fe.length>0&&!Ml.current){const $=fe.find(Ve=>Ve.rawName.includes("العفاسي"))||fe[0];E($)}}catch(R){R instanceof Error?u(R.message):u("An unknown error occurred")}finally{o(!1)}})()},[]),b.useEffect(()=>{if(!N||!v)return;(async()=>{try{let R=0;if(!(_l!==null&&y.length===0))if(pi)R=y.findIndex(ee=>ee.numberInSurah===pi.ayahNumberInSurah)||0;else{const ee=q[N.id];R=ee&&y.findIndex(ne=>ne.numberInSurah===ee)||0}const L=await fetch(`https://api.quran.com/api/v4/verses/by_chapter/${N.id}?language=ar&words=false&audio=${v.identifier}&fields=text_uthmani,page_number`);if(!L.ok)throw new Error("Failed to fetch ayahs");const Y=(await L.json()).verses.map(ee=>({number:ee.id,audio:`https://verses.quran.com/${ee.audio.url}`,text:ee.text_uthmani,numberInSurah:parseInt(ee.verse_key.split(":")[1],10),page:ee.page_number}));if(S(Y),_l===null){const ee=q[N.id];if(ee){const ne=Y.findIndex(fe=>fe.numberInSurah===ee);A(ne!==-1?ne:0)}else A(0)}}catch(R){console.error("Error fetching ayahs:",R),u("Failed to load Surah audio."),S([])}})()},[N,v,q]),b.useEffect(()=>{if(pi&&(N==null?void 0:N.id)===pi.surahId&&y.length>0){const C=y.findIndex(R=>R.numberInSurah===pi.ayahNumberInSurah);C!==-1&&(A(C),w(!0)),Vc(null)}},[y,pi,N]),b.useEffect(()=>{if(X&&N&&y.length>T){const C=y[T];(async()=>{var Y;Me(!0),$e(!1),ge(null);const L=N.id,J=C.numberInSurah;try{const ee=await _f(L,J);if(ee){ge(ee),Me(!1);return}const ne=await fetch(`https://api.alquran.cloud/v1/ayah/${L}:${J}/ar.muyassar`);if(!ne.ok)throw new Error("Failed to fetch Tafsir data from API.");const fe=await ne.json(),$=(Y=fe==null?void 0:fe.data)==null?void 0:Y.text;$?(await wf(L,J,$),ge($)):ge("لا يوجد تفسير لهذه الآية")}catch(ee){console.error("Failed to fetch/load tafsir",ee),ge("تعذر تحميل التفسير. يرجى المحاولة مرة أخرى."),$e(!0)}finally{Me(!1)}})()}},[N,T,X,y]);const Hc=b.useCallback(async C=>{if(!C||!v||!N){I("");return}try{const R=await FS(v.identifier,N.id,C.numberInSurah);if(R){const L=URL.createObjectURL(R);I(L)}else I(C.audio)}catch{I(C.audio)}},[v,N]);b.useEffect(()=>{const C=y.length>0&&T<y.length?y[T]:null;Hc(C)},[y,T,Hc]);const Bc=b.useCallback(()=>{var C;"mediaSession"in navigator&&N&&v&&y.length>0&&(navigator.mediaSession.metadata=new MediaMetadata({title:`سورة ${N.name} (آية ${((C=y[T])==null?void 0:C.numberInSurah)||T+1})`,artist:v.name,album:"رونق",artwork:[{src:"https://i.imgur.com/1m8xN9N.png",sizes:"96x96",type:"image/png"},{src:"https://i.imgur.com/1m8xN9N.png",sizes:"128x128",type:"image/png"},{src:"https://i.imgur.com/1m8xN9N.png",sizes:"192x192",type:"image/png"},{src:"https://i.imgur.com/1m8xN9N.png",sizes:"256x256",type:"image/png"},{src:"https://i.imgur.com/1m8xN9N.png",sizes:"384x384",type:"image/png"},{src:"https://i.imgur.com/1m8xN9N.png",sizes:"512x512",type:"image/png"}]}))},[N,v,y,T]);b.useEffect(()=>{Bc()},[Bc]),b.useEffect(()=>{"mediaSession"in navigator&&(navigator.mediaSession.playbackState=_?"playing":"paused")},[_]);const Co=b.useCallback(()=>{!N&&e.length>0&&x(e[0]),w(C=>!C)},[N,e]),wo=b.useCallback(()=>{if(e.length===0)return;const C=e.findIndex(L=>L.id===(N==null?void 0:N.id)),R=C!==-1?(C+1)%e.length:0;x(e[R]),S([]),w(!0)},[N,e]),kl=b.useCallback(()=>{if(e.length===0)return;const C=e.findIndex(L=>L.id===(N==null?void 0:N.id)),R=C!==-1?(C-1+e.length)%e.length:0;x(e[R]),S([]),w(!0)},[N,e]);b.useEffect(()=>{"mediaSession"in navigator&&(navigator.mediaSession.setActionHandler("play",Co),navigator.mediaSession.setActionHandler("pause",Co),navigator.mediaSession.setActionHandler("nexttrack",wo),navigator.mediaSession.setActionHandler("previoustrack",kl))},[Co,wo,kl]);const Dl=(C,R)=>{const L=R||v;if(L){if((N==null?void 0:N.id)===C.id&&(v==null?void 0:v.identifier)===L.identifier){w(J=>!J);return}R&&R.identifier!==(v==null?void 0:v.identifier)&&E(R),x(C),S([]),w(!0)}},Zy=()=>{Ky(k);const C=N,R=y[T];C&&R&&Xy(C,R),T<y.length-1?A(L=>L+1):(N&&Qy(N.id),wo())},Oc=C=>{E(C)},Wy=()=>{p(C=>!C)},ex=(C,R)=>{O(L=>{const J={...L};return J[C]===R?delete J[C]:J[C]=R,J})},tx=async C=>{const R=C.id;if(ya.has(R)||qc[R]!==void 0)return;const L=new AbortController;Sl.current[R]=L,vl(J=>({...J,[R]:0}));try{const J=C.numberOfAyahs;for(let Y=1;Y<=J;Y++){if(L.signal.aborted)throw new DOMException("Download cancelled by user","AbortError");if(!await _f(R,Y)){const fe=await fetch(`https://api.alquran.cloud/v1/ayah/${R}:${Y}/ar.muyassar`,{signal:L.signal});if(!fe.ok)throw new Error(`Failed to fetch Tafsir for Ayah ${Y}`);const $=await fe.json();$.code===200&&$.data.text&&await wf(R,Y,$.data.text)}const ne=Math.round(Y/J*100);vl(fe=>({...fe,[R]:ne}))}xl(Y=>new Set(Y).add(R))}catch(J){J instanceof Error&&J.name==="AbortError"?console.log(`Tafsir download cancelled for Surah ${C.name}. Progress saved.`):(console.error("Tafsir download failed:",J),u(`Failed to download Tafsir for Surah ${C.name}.`))}finally{vl(J=>{const Y={...J};return delete Y[R],Y}),delete Sl.current[R]}},nx=C=>{const R=Sl.current[C.id];R&&R.abort()},ix=async C=>{await QS(C),xl(R=>{const L=new Set(R);return L.delete(C),L})},ax=async(C,R)=>{const L=`${R.identifier}-${C.id}`;if(Uc.has(L)||Lc[L]!==void 0)return;const J=new AbortController;Tl.current[L]=J,El(Y=>({...Y,[L]:0}));try{const Y=await fetch(`https://api.quran.com/api/v4/verses/by_chapter/${C.id}?language=ar&words=false&audio=${R.identifier}`,{signal:J.signal});if(!Y.ok)throw new Error(`Failed to fetch ayahs list for Surah ${C.name}`);const ne=(await Y.json()).verses.map($=>({audio:`https://verses.quran.com/${$.audio.url}`,numberInSurah:parseInt($.verse_key.split(":")[1],10)})),fe=ne.length;for(let $=0;$<fe;$++){if(J.signal.aborted)throw new DOMException("Download cancelled","AbortError");const Ve=ne[$],Ze=await fetch(Ve.audio,{signal:J.signal});if(!Ze.ok)throw new Error(`Failed to download audio for Ayah ${Ve.numberInSurah}`);const Hn=await Ze.blob();await YS(R.identifier,C.id,Ve.numberInSurah,Hn);const un=Math.round(($+1)/fe*100);El(_o=>({..._o,[L]:un}))}bl($=>new Set($).add(L)),Nl($=>[...$,{surah:C,reciter:R}].sort((Ve,Ze)=>Ve.surah.id-Ze.surah.id))}catch(Y){Y instanceof Error&&Y.name==="AbortError"?console.log(`Audio download cancelled for Surah ${C.name}.`):(console.error("Audio download failed:",Y),u(`Failed to download audio for Surah ${C.name}.`))}finally{El(Y=>{const ee={...Y};return delete ee[L],ee}),delete Tl.current[L]}},ox=(C,R)=>{const L=`${R.identifier}-${C.id}`,J=Tl.current[L];J&&J.abort()},sx=async(C,R)=>{await KS(R.identifier,C.id);const L=`${R.identifier}-${C.id}`;bl(J=>{const Y=new Set(J);return Y.delete(L),Y}),Nl(J=>J.filter(Y=>!(Y.surah.id===C.id&&Y.reciter.identifier===R.identifier)))},Jc=C=>{te(C),localStorage.setItem("prayerSettings",JSON.stringify(C)),Dt(!1),pa(!1)},lx=()=>{const C=!mi;C&&typeof window.Notification<"u"&&Notification.permission!=="granted"?Notification.requestPermission().then(R=>{R==="granted"&&(ga(!0),localStorage.setItem("prayerRemindersEnabled","true"))}):(ga(C),localStorage.setItem("prayerRemindersEnabled",String(C)))},rx=b.useCallback(async C=>{if(!Rl.current){Ao("Smart search is not available (API key may be missing).");return}if(C.trim().length<3){xa([]);return}Cl(!0),Ao(null),xa([]);try{const L=(await Rl.current.models.generateContent({model:"gemini-2.5-flash",contents:`Find Quranic ayahs related to: "${C}"`,config:{systemInstruction:"You are an expert Quranic scholar. Your task is to find ayahs (verses) from the Quran that are relevant to the user's search query. The user is looking for topics, keywords, or concepts. Respond ONLY with a valid JSON array matching the provided schema. Do not include markdown backticks like ```json or any text outside the JSON. If no relevant ayahs are found, return an empty array `[]`. Limit results to a maximum of 10 ayahs.",responseMimeType:"application/json",responseSchema:{type:B.ARRAY,items:{type:B.OBJECT,properties:{surahId:{type:B.NUMBER,description:"The chapter number of the Quran."},ayahIdInSurah:{type:B.NUMBER,description:"The verse number within the chapter."},text:{type:B.STRING,description:"The full Arabic text of the verse."},surahName:{type:B.STRING,description:"The Arabic name of the chapter."}},required:["surahId","ayahIdInSurah","text","surahName"]}}}})).text.trim(),J=JSON.parse(L);xa(J)}catch(R){console.error("Smart search failed:",R),Ao("Failed to fetch smart search results. Please try again."),xa([])}finally{Cl(!1)}},[]),ux=C=>{V(C),Il.current&&clearTimeout(Il.current),C.trim()?Il.current=window.setTimeout(()=>{rx(C)},500):(xa([]),Cl(!1),Ao(null))},cx=C=>{const R=e.find(L=>L.id===C.surahId);if(R)if((N==null?void 0:N.id)===C.surahId){const L=y.findIndex(J=>J.numberInSurah===C.ayahIdInSurah);L!==-1&&(A(L),w(!0))}else w(!1),S([]),Vc({surahId:C.surahId,ayahNumberInSurah:C.ayahIdInSurah}),x(R)},dx=j.trim()?e.filter(C=>C.name.toLowerCase().includes(j.toLowerCase())||C.id.toString().includes(j)):[],fx=()=>{e.length===0?window.location.reload():u(null)},mx=()=>{switch(d){case"home":return l.jsx(Cf,{onNavigate:f,stats:D,challenge:hi,prayerSettings:H,remindersEnabled:mi});case"audio":return l.jsxs(zA,{reciters:n,selectedReciter:v,onReciterChange:Oc,children:[l.jsx("div",{className:"px-4 sm:px-6 lg:px-8 pt-6",children:l.jsx(UA,{query:j,onQueryChange:ux})}),l.jsx(VA,{items:zy,onPlay:Dl,onDelete:sx,currentSurah:N,currentReciter:v,isPlaying:_}),N&&!j.trim()&&l.jsx(_S,{surah:N,currentAyah:y[T]||null,showTafsir:X,onToggleTafsir:()=>z(C=>!C),tafsirText:P,isTafsirLoading:yt,isTafsirError:Le,bookmarks:q,onToggleBookmark:ex}),j.trim().length>0?l.jsx(DS,{surahResults:dx,ayahResults:By,isSearching:Oy,searchError:Jy,onSurahSelect:C=>Dl(C),onPlayAyah:cx,currentSurahId:(N==null?void 0:N.id)||null}):l.jsx(ES,{surahs:e,onSurahSelect:Dl,currentSurahId:(N==null?void 0:N.id)||null,isPlaying:_,bookmarks:q,selectedReciter:v,downloadedTafsir:ya,tafsirDownloadProgress:qc,onDownloadTafsir:tx,onCancelTafsirDownload:nx,downloadedAudio:Uc,audioDownloadProgress:Lc,onDownloadAudio:ax,onCancelAudioDownload:ox})]});case"reading":return l.jsx(s1,{surahs:e});case"quiz":return l.jsx(r1,{});case"asbab":return l.jsx(d1,{});case"kids":return l.jsx(w1,{});case"ronaq_mind":return l.jsx(_A,{surahs:e,reciters:n});case"history":return l.jsx(DA,{});default:return l.jsx(Cf,{onNavigate:f,stats:D,challenge:hi,prayerSettings:H,remindersEnabled:mi})}};return l.jsxs("div",{className:`min-h-screen bg-background text-text-primary transition-colors duration-300 ${$y}`,children:[je&&l.jsx(LA,{onSave:Jc}),l.jsx(RS,{isOpen:zn,onClose:()=>pa(!1),remindersEnabled:mi,onToggleReminders:lx,currentSettings:H,onSaveSettings:Jc,azkarSettings:gi,onAzkarSettingsChange:Yy,surahs:e,downloadedTafsir:ya,onDeleteTafsir:ix}),l.jsx(kS,{isOpen:Hy,onClose:()=>jc(!1),challenge:hi,onUpdateChallenge:Al}),Gc&&l.jsx("div",{className:"fixed inset-0 bg-black/75 flex items-center justify-center z-[100] animate-fade-in",onClick:()=>wl(null),children:l.jsxs("div",{className:"bg-card rounded-lg shadow-xl p-6 sm:p-8 w-full max-w-md m-4",onClick:C=>C.stopPropagation(),children:[l.jsx("h2",{className:"text-xl font-bold text-text-primary mb-4 text-center",children:"تذكير أذكار"}),l.jsx("p",{className:"font-amiri-quran text-2xl text-text-primary leading-loose text-center mb-6",children:Gc}),l.jsx("div",{className:"text-center",children:l.jsx("button",{onClick:()=>wl(null),className:"bg-primary text-white font-bold py-2 px-6 rounded-md hover:opacity-90",children:"إغلاق"})})]})}),l.jsx(vS,{reciters:n,selectedReciter:v,onReciterChange:Oc,isDarkMode:m,onToggleDarkMode:Wy,onSettingsClick:()=>pa(!0),onChallengeClick:()=>jc(!0),currentPage:d,onNavigate:f,currentTheme:h,onThemeChange:g}),l.jsxs("main",{className:"pb-40",children:[a&&!e.length&&l.jsx("p",{className:"text-center py-10",children:"...جاري تحميل البيانات"}),s&&l.jsx("div",{className:"text-center py-10 px-4 animate-fade-in",children:l.jsxs("div",{className:"bg-red-500/10 dark:bg-red-900/20 p-6 rounded-lg shadow-md max-w-md mx-auto",children:[l.jsx("h3",{className:"text-lg font-bold text-red-600 dark:text-red-400 mb-2",children:"حدث خطأ"}),l.jsx("p",{className:"text-red-500 dark:text-red-300 mb-6",children:s}),l.jsx("button",{onClick:fx,className:"bg-primary text-white font-bold py-2 px-6 rounded-md hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary dark:focus:ring-offset-card",children:"عودة"})]})}),!s&&mx()]}),v&&l.jsx(CS,{surah:N,reciter:v,isPlaying:_,onPlayPause:Co,onNext:wo,onPrev:kl,onEnded:Zy,audioSrc:U,currentAyah:y[T]||null,totalAyahs:y.length,onDurationChange:Q,onTimeUpdate:Fy,seekToTime:_l,onSeeked:()=>zc(null)})]})},Py=document.getElementById("root");if(!Py)throw new Error("Could not find root element to mount to");const BA=mS.createRoot(Py);BA.render(l.jsx(ch.StrictMode,{children:l.jsx(HA,{})}));
