(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Zm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Wm={exports:{}},js={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy=Symbol.for("react.transitional.element"),vy=Symbol.for("react.fragment");function eh(e,t,n){var a=null;if(n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),"key"in t){n={};for(var i in t)i!=="key"&&(n[i]=t[i])}else n=t;return t=n.ref,{$$typeof:yy,type:e,key:a,ref:t!==void 0?t:null,props:n}}js.Fragment=vy;js.jsx=eh;js.jsxs=eh;Wm.exports=js;var l=Wm.exports,th={exports:{}},F={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yu=Symbol.for("react.transitional.element"),Sy=Symbol.for("react.portal"),by=Symbol.for("react.fragment"),Ey=Symbol.for("react.strict_mode"),Ty=Symbol.for("react.profiler"),Ny=Symbol.for("react.consumer"),Ay=Symbol.for("react.context"),wy=Symbol.for("react.forward_ref"),Cy=Symbol.for("react.suspense"),_y=Symbol.for("react.memo"),nh=Symbol.for("react.lazy"),My=Symbol.for("react.activity"),Gc=Symbol.iterator;function Ry(e){return e===null||typeof e!="object"?null:(e=Gc&&e[Gc]||e["@@iterator"],typeof e=="function"?e:null)}var ah={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ih=Object.assign,oh={};function Xa(e,t,n){this.props=e,this.context=t,this.refs=oh,this.updater=n||ah}Xa.prototype.isReactComponent={};Xa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function sh(){}sh.prototype=Xa.prototype;function vu(e,t,n){this.props=e,this.context=t,this.refs=oh,this.updater=n||ah}var Su=vu.prototype=new sh;Su.constructor=vu;ih(Su,Xa.prototype);Su.isPureReactComponent=!0;var Hc=Array.isArray;function fr(){}var ye={H:null,A:null,T:null,S:null},lh=Object.prototype.hasOwnProperty;function bu(e,t,n){var a=n.ref;return{$$typeof:yu,type:e,key:t,ref:a!==void 0?a:null,props:n}}function Iy(e,t){return bu(e.type,t,e.props)}function Eu(e){return typeof e=="object"&&e!==null&&e.$$typeof===yu}function ky(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Oc=/\/+/g;function wl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ky(""+e.key):t.toString(36)}function Dy(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(fr,fr):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function fa(e,t,n,a,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"bigint":case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case yu:case Sy:s=!0;break;case nh:return s=e._init,fa(s(e._payload),t,n,a,i)}}if(s)return i=i(e),s=a===""?"."+wl(e,0):a,Hc(i)?(n="",s!=null&&(n=s.replace(Oc,"$&/")+"/"),fa(i,t,n,"",function(f){return f})):i!=null&&(Eu(i)&&(i=Iy(i,n+(i.key==null||e&&e.key===i.key?"":(""+i.key).replace(Oc,"$&/")+"/")+s)),t.push(i)),1;s=0;var u=a===""?".":a+":";if(Hc(e))for(var d=0;d<e.length;d++)a=e[d],o=u+wl(a,d),s+=fa(a,t,n,o,i);else if(d=Ry(e),typeof d=="function")for(e=d.call(e),d=0;!(a=e.next()).done;)a=a.value,o=u+wl(a,d++),s+=fa(a,t,n,o,i);else if(o==="object"){if(typeof e.then=="function")return fa(Dy(e),t,n,a,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return s}function bo(e,t,n){if(e==null)return e;var a=[],i=0;return fa(e,a,"","",function(o){return t.call(n,o,i++)}),a}function qy(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Jc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Uy={map:bo,forEach:function(e,t,n){bo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return bo(e,function(){t++}),t},toArray:function(e){return bo(e,function(t){return t})||[]},only:function(e){if(!Eu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};F.Activity=My;F.Children=Uy;F.Component=Xa;F.Fragment=by;F.Profiler=Ty;F.PureComponent=vu;F.StrictMode=Ey;F.Suspense=Cy;F.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ye;F.__COMPILER_RUNTIME={__proto__:null,c:function(e){return ye.H.useMemoCache(e)}};F.cache=function(e){return function(){return e.apply(null,arguments)}};F.cacheSignal=function(){return null};F.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var a=ih({},e.props),i=e.key;if(t!=null)for(o in t.key!==void 0&&(i=""+t.key),t)!lh.call(t,o)||o==="key"||o==="__self"||o==="__source"||o==="ref"&&t.ref===void 0||(a[o]=t[o]);var o=arguments.length-2;if(o===1)a.children=n;else if(1<o){for(var s=Array(o),u=0;u<o;u++)s[u]=arguments[u+2];a.children=s}return bu(e.type,i,a)};F.createContext=function(e){return e={$$typeof:Ay,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:Ny,_context:e},e};F.createElement=function(e,t,n){var a,i={},o=null;if(t!=null)for(a in t.key!==void 0&&(o=""+t.key),t)lh.call(t,a)&&a!=="key"&&a!=="__self"&&a!=="__source"&&(i[a]=t[a]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var u=Array(s),d=0;d<s;d++)u[d]=arguments[d+2];i.children=u}if(e&&e.defaultProps)for(a in s=e.defaultProps,s)i[a]===void 0&&(i[a]=s[a]);return bu(e,o,i)};F.createRef=function(){return{current:null}};F.forwardRef=function(e){return{$$typeof:wy,render:e}};F.isValidElement=Eu;F.lazy=function(e){return{$$typeof:nh,_payload:{_status:-1,_result:e},_init:qy}};F.memo=function(e,t){return{$$typeof:_y,type:e,compare:t===void 0?null:t}};F.startTransition=function(e){var t=ye.T,n={};ye.T=n;try{var a=e(),i=ye.S;i!==null&&i(n,a),typeof a=="object"&&a!==null&&typeof a.then=="function"&&a.then(fr,Jc)}catch(o){Jc(o)}finally{t!==null&&n.types!==null&&(t.types=n.types),ye.T=t}};F.unstable_useCacheRefresh=function(){return ye.H.useCacheRefresh()};F.use=function(e){return ye.H.use(e)};F.useActionState=function(e,t,n){return ye.H.useActionState(e,t,n)};F.useCallback=function(e,t){return ye.H.useCallback(e,t)};F.useContext=function(e){return ye.H.useContext(e)};F.useDebugValue=function(){};F.useDeferredValue=function(e,t){return ye.H.useDeferredValue(e,t)};F.useEffect=function(e,t){return ye.H.useEffect(e,t)};F.useEffectEvent=function(e){return ye.H.useEffectEvent(e)};F.useId=function(){return ye.H.useId()};F.useImperativeHandle=function(e,t,n){return ye.H.useImperativeHandle(e,t,n)};F.useInsertionEffect=function(e,t){return ye.H.useInsertionEffect(e,t)};F.useLayoutEffect=function(e,t){return ye.H.useLayoutEffect(e,t)};F.useMemo=function(e,t){return ye.H.useMemo(e,t)};F.useOptimistic=function(e,t){return ye.H.useOptimistic(e,t)};F.useReducer=function(e,t,n){return ye.H.useReducer(e,t,n)};F.useRef=function(e){return ye.H.useRef(e)};F.useState=function(e){return ye.H.useState(e)};F.useSyncExternalStore=function(e,t,n){return ye.H.useSyncExternalStore(e,t,n)};F.useTransition=function(){return ye.H.useTransition()};F.version="19.2.0";th.exports=F;var T=th.exports;const Ly=Zm(T);var rh={exports:{}},Vs={},uh={exports:{}},ch={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,B){var G=R.length;R.push(B);e:for(;0<G;){var se=G-1>>>1,he=R[se];if(0<i(he,B))R[se]=B,R[G]=he,G=se;else break e}}function n(R){return R.length===0?null:R[0]}function a(R){if(R.length===0)return null;var B=R[0],G=R.pop();if(G!==B){R[0]=G;e:for(var se=0,he=R.length,ne=he>>>1;se<ne;){var Fe=2*(se+1)-1,qt=R[Fe],Ut=Fe+1,Un=R[Ut];if(0>i(qt,G))Ut<he&&0>i(Un,qt)?(R[se]=Un,R[Ut]=G,se=Ut):(R[se]=qt,R[Fe]=G,se=Fe);else if(Ut<he&&0>i(Un,G))R[se]=Un,R[Ut]=G,se=Ut;else break e}}return B}function i(R,B){var G=R.sortIndex-B.sortIndex;return G!==0?G:R.id-B.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();e.unstable_now=function(){return s.now()-u}}var d=[],f=[],m=1,p=null,h=3,g=!1,v=!1,N=!1,b=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function E(R){for(var B=n(f);B!==null;){if(B.callback===null)a(f);else if(B.startTime<=R)a(f),B.sortIndex=B.expirationTime,t(d,B);else break;B=n(f)}}function _(R){if(N=!1,E(R),!v)if(n(d)!==null)v=!0,U||(U=!0,M());else{var B=n(f);B!==null&&L(_,B.startTime-R)}}var U=!1,w=-1,q=5,A=-1;function I(){return b?!0:!(e.unstable_now()-A<q)}function j(){if(b=!1,U){var R=e.unstable_now();A=R;var B=!0;try{e:{v=!1,N&&(N=!1,x(w),w=-1),g=!0;var G=h;try{t:{for(E(R),p=n(d);p!==null&&!(p.expirationTime>R&&I());){var se=p.callback;if(typeof se=="function"){p.callback=null,h=p.priorityLevel;var he=se(p.expirationTime<=R);if(R=e.unstable_now(),typeof he=="function"){p.callback=he,E(R),B=!0;break t}p===n(d)&&a(d),E(R)}else a(d);p=n(d)}if(p!==null)B=!0;else{var ne=n(f);ne!==null&&L(_,ne.startTime-R),B=!1}}break e}finally{p=null,h=G,g=!1}B=void 0}}finally{B?M():U=!1}}}var M;if(typeof S=="function")M=function(){S(j)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,K=z.port2;z.port1.onmessage=j,M=function(){K.postMessage(null)}}else M=function(){y(j,0)};function L(R,B){w=y(function(){R(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var G=h;h=B;try{return R()}finally{h=G}},e.unstable_requestPaint=function(){b=!0},e.unstable_runWithPriority=function(R,B){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var G=h;h=R;try{return B()}finally{h=G}},e.unstable_scheduleCallback=function(R,B,G){var se=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?se+G:se):G=se,R){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=G+he,R={id:m++,callback:B,priorityLevel:R,startTime:G,expirationTime:he,sortIndex:-1},G>se?(R.sortIndex=G,t(f,R),n(d)===null&&R===n(f)&&(N?(x(w),w=-1):N=!0,L(_,G-se))):(R.sortIndex=he,t(d,R),v||g||(v=!0,U||(U=!0,M()))),R},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(R){var B=h;return function(){var G=h;h=B;try{return R.apply(this,arguments)}finally{h=G}}}})(ch);uh.exports=ch;var jy=uh.exports,dh={exports:{}},Ye={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy=T;function fh(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function an(){}var Je={d:{f:an,r:function(){throw Error(fh(522))},D:an,C:an,L:an,m:an,X:an,S:an,M:an},p:0,findDOMNode:null},zy=Symbol.for("react.portal");function Py(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zy,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}var Ci=Vy.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function zs(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Je;Ye.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(fh(299));return Py(e,t,null,n)};Ye.flushSync=function(e){var t=Ci.T,n=Je.p;try{if(Ci.T=null,Je.p=2,e)return e()}finally{Ci.T=t,Je.p=n,Je.d.f()}};Ye.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Je.d.C(e,t))};Ye.prefetchDNS=function(e){typeof e=="string"&&Je.d.D(e)};Ye.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,a=zs(n,t.crossOrigin),i=typeof t.integrity=="string"?t.integrity:void 0,o=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Je.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:a,integrity:i,fetchPriority:o}):n==="script"&&Je.d.X(e,{crossOrigin:a,integrity:i,fetchPriority:o,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Ye.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=zs(t.as,t.crossOrigin);Je.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Je.d.M(e)};Ye.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,a=zs(n,t.crossOrigin);Je.d.L(e,n,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Ye.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=zs(t.as,t.crossOrigin);Je.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Je.d.m(e)};Ye.requestFormReset=function(e){Je.d.r(e)};Ye.unstable_batchedUpdates=function(e,t){return e(t)};Ye.useFormState=function(e,t,n){return Ci.H.useFormState(e,t,n)};Ye.useFormStatus=function(){return Ci.H.useHostTransitionStatus()};Ye.version="19.2.0";function mh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mh)}catch(e){console.error(e)}}mh(),dh.exports=Ye;var By=dh.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ke=jy,hh=T,Gy=By;function D(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ph(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ao(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function gh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function xh(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Yc(e){if(ao(e)!==e)throw Error(D(188))}function Hy(e){var t=e.alternate;if(!t){if(t=ao(e),t===null)throw Error(D(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(a=i.return,a!==null){n=a;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Yc(i),e;if(o===a)return Yc(i),t;o=o.sibling}throw Error(D(188))}if(n.return!==a.return)n=i,a=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,a=o;break}if(u===a){s=!0,a=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,a=i;break}if(u===a){s=!0,a=o,n=i;break}u=u.sibling}if(!s)throw Error(D(189))}}if(n.alternate!==a)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?e:t}function yh(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=yh(e),t!==null)return t;e=e.sibling}return null}var ve=Object.assign,Oy=Symbol.for("react.element"),Eo=Symbol.for("react.transitional.element"),bi=Symbol.for("react.portal"),pa=Symbol.for("react.fragment"),vh=Symbol.for("react.strict_mode"),mr=Symbol.for("react.profiler"),Sh=Symbol.for("react.consumer"),Ht=Symbol.for("react.context"),Tu=Symbol.for("react.forward_ref"),hr=Symbol.for("react.suspense"),pr=Symbol.for("react.suspense_list"),Nu=Symbol.for("react.memo"),sn=Symbol.for("react.lazy"),gr=Symbol.for("react.activity"),Jy=Symbol.for("react.memo_cache_sentinel"),Fc=Symbol.iterator;function ci(e){return e===null||typeof e!="object"?null:(e=Fc&&e[Fc]||e["@@iterator"],typeof e=="function"?e:null)}var Yy=Symbol.for("react.client.reference");function xr(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Yy?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case pa:return"Fragment";case mr:return"Profiler";case vh:return"StrictMode";case hr:return"Suspense";case pr:return"SuspenseList";case gr:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case bi:return"Portal";case Ht:return e.displayName||"Context";case Sh:return(e._context.displayName||"Context")+".Consumer";case Tu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Nu:return t=e.displayName||null,t!==null?t:xr(e.type)||"Memo";case sn:t=e._payload,e=e._init;try{return xr(e(t))}catch{}}return null}var Ei=Array.isArray,J=hh.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=Gy.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Gn={pending:!1,data:null,method:null,action:null},yr=[],ga=-1;function kt(e){return{current:e}}function Le(e){0>ga||(e.current=yr[ga],yr[ga]=null,ga--)}function me(e,t){ga++,yr[ga]=e.current,e.current=t}var Rt=kt(null),Gi=kt(null),xn=kt(null),os=kt(null);function ss(e,t){switch(me(xn,t),me(Gi,e),me(Rt,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Wd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Wd(t),e=Pg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Le(Rt),me(Rt,e)}function Va(){Le(Rt),Le(Gi),Le(xn)}function vr(e){e.memoizedState!==null&&me(os,e);var t=Rt.current,n=Pg(t,e.type);t!==n&&(me(Gi,e),me(Rt,n))}function ls(e){Gi.current===e&&(Le(Rt),Le(Gi)),os.current===e&&(Le(os),Wi._currentValue=Gn)}var Cl,Qc;function Vn(e){if(Cl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Cl=t&&t[1]||"",Qc=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Cl+e+Qc}var _l=!1;function Ml(e,t){if(!e||_l)return"";_l=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var p=function(){throw Error()};if(Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(g){var h=g}Reflect.construct(e,[],p)}else{try{p.call()}catch(g){h=g}e.call(p.prototype)}}else{try{throw Error()}catch(g){h=g}(p=e())&&typeof p.catch=="function"&&p.catch(function(){})}}catch(g){if(g&&h&&typeof g.stack=="string")return[g.stack,h.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=a.DetermineComponentFrameRoot(),s=o[0],u=o[1];if(s&&u){var d=s.split(`
`),f=u.split(`
`);for(i=a=0;a<d.length&&!d[a].includes("DetermineComponentFrameRoot");)a++;for(;i<f.length&&!f[i].includes("DetermineComponentFrameRoot");)i++;if(a===d.length||i===f.length)for(a=d.length-1,i=f.length-1;1<=a&&0<=i&&d[a]!==f[i];)i--;for(;1<=a&&0<=i;a--,i--)if(d[a]!==f[i]){if(a!==1||i!==1)do if(a--,i--,0>i||d[a]!==f[i]){var m=`
`+d[a].replace(" at new "," at ");return e.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",e.displayName)),m}while(1<=a&&0<=i);break}}}finally{_l=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Vn(n):""}function Fy(e,t){switch(e.tag){case 26:case 27:case 5:return Vn(e.type);case 16:return Vn("Lazy");case 13:return e.child!==t&&t!==null?Vn("Suspense Fallback"):Vn("Suspense");case 19:return Vn("SuspenseList");case 0:case 15:return Ml(e.type,!1);case 11:return Ml(e.type.render,!1);case 1:return Ml(e.type,!0);case 31:return Vn("Activity");default:return""}}function Kc(e){try{var t="",n=null;do t+=Fy(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Sr=Object.prototype.hasOwnProperty,Au=ke.unstable_scheduleCallback,Rl=ke.unstable_cancelCallback,Qy=ke.unstable_shouldYield,Ky=ke.unstable_requestPaint,st=ke.unstable_now,Xy=ke.unstable_getCurrentPriorityLevel,bh=ke.unstable_ImmediatePriority,Eh=ke.unstable_UserBlockingPriority,rs=ke.unstable_NormalPriority,$y=ke.unstable_LowPriority,Th=ke.unstable_IdlePriority,Zy=ke.log,Wy=ke.unstable_setDisableYieldValue,io=null,lt=null;function fn(e){if(typeof Zy=="function"&&Wy(e),lt&&typeof lt.setStrictMode=="function")try{lt.setStrictMode(io,e)}catch{}}var rt=Math.clz32?Math.clz32:n0,e0=Math.log,t0=Math.LN2;function n0(e){return e>>>=0,e===0?32:31-(e0(e)/t0|0)|0}var To=256,No=262144,Ao=4194304;function zn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ps(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var i=0,o=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var u=a&134217727;return u!==0?(a=u&~o,a!==0?i=zn(a):(s&=u,s!==0?i=zn(s):n||(n=u&~e,n!==0&&(i=zn(n))))):(u=a&~o,u!==0?i=zn(u):s!==0?i=zn(s):n||(n=a&~e,n!==0&&(i=zn(n)))),i===0?0:t!==0&&t!==i&&!(t&o)&&(o=i&-i,n=t&-t,o>=n||o===32&&(n&4194048)!==0)?t:i}function oo(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function a0(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nh(){var e=Ao;return Ao<<=1,!(Ao&62914560)&&(Ao=4194304),e}function Il(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function so(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function i0(e,t,n,a,i,o){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var u=e.entanglements,d=e.expirationTimes,f=e.hiddenUpdates;for(n=s&~n;0<n;){var m=31-rt(n),p=1<<m;u[m]=0,d[m]=-1;var h=f[m];if(h!==null)for(f[m]=null,m=0;m<h.length;m++){var g=h[m];g!==null&&(g.lane&=-536870913)}n&=~p}a!==0&&Ah(e,a,0),o!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=o&~(s&~t))}function Ah(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-rt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function wh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-rt(n),i=1<<a;i&t|e[a]&t&&(e[a]|=t),n&=~i}}function Ch(e,t){var n=t&-t;return n=n&42?1:wu(n),n&(e.suspendedLanes|t)?0:n}function wu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Cu(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function _h(){var e=oe.p;return e!==0?e:(e=window.event,e===void 0?32:$g(e.type))}function Xc(e,t){var n=oe.p;try{return oe.p=e,t()}finally{oe.p=n}}var kn=Math.random().toString(36).slice(2),Ve="__reactFiber$"+kn,et="__reactProps$"+kn,$a="__reactContainer$"+kn,br="__reactEvents$"+kn,o0="__reactListeners$"+kn,s0="__reactHandles$"+kn,$c="__reactResources$"+kn,lo="__reactMarker$"+kn;function _u(e){delete e[Ve],delete e[et],delete e[br],delete e[o0],delete e[s0]}function xa(e){var t=e[Ve];if(t)return t;for(var n=e.parentNode;n;){if(t=n[$a]||n[Ve]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=of(e);e!==null;){if(n=e[Ve])return n;e=of(e)}return t}e=n,n=e.parentNode}return null}function Za(e){if(e=e[Ve]||e[$a]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ti(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(D(33))}function _a(e){var t=e[$c];return t||(t=e[$c]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ue(e){e[lo]=!0}var Mh=new Set,Rh={};function ea(e,t){za(e,t),za(e+"Capture",t)}function za(e,t){for(Rh[e]=t,e=0;e<t.length;e++)Mh.add(t[e])}var l0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zc={},Wc={};function r0(e){return Sr.call(Wc,e)?!0:Sr.call(Zc,e)?!1:l0.test(e)?Wc[e]=!0:(Zc[e]=!0,!1)}function Po(e,t,n){if(r0(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function wo(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Lt(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function mt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ih(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function u0(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var i=a.get,o=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Er(e){if(!e._valueTracker){var t=Ih(e)?"checked":"value";e._valueTracker=u0(e,t,""+e[t])}}function kh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=Ih(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function us(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var c0=/[\n"\\]/g;function gt(e){return e.replace(c0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Tr(e,t,n,a,i,o,s,u){e.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.type=s:e.removeAttribute("type"),t!=null?s==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+mt(t)):e.value!==""+mt(t)&&(e.value=""+mt(t)):s!=="submit"&&s!=="reset"||e.removeAttribute("value"),t!=null?Nr(e,s,mt(t)):n!=null?Nr(e,s,mt(n)):a!=null&&e.removeAttribute("value"),i==null&&o!=null&&(e.defaultChecked=!!o),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?e.name=""+mt(u):e.removeAttribute("name")}function Dh(e,t,n,a,i,o,s,u){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||t!=null)){Er(e);return}n=n!=null?""+mt(n):"",t=t!=null?""+mt(t):n,u||t===e.value||(e.value=t),e.defaultValue=t}a=a??i,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=u?e.checked:!!a,e.defaultChecked=!!a,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.name=s),Er(e)}function Nr(e,t,n){t==="number"&&us(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ma(e,t,n,a){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&a&&(e[n].defaultSelected=!0)}else{for(n=""+mt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,a&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function qh(e,t,n){if(t!=null&&(t=""+mt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+mt(n):""}function Uh(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(D(92));if(Ei(a)){if(1<a.length)throw Error(D(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=mt(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),Er(e)}function Pa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var d0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ed(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||d0.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Lh(e,t,n){if(t!=null&&typeof t!="object")throw Error(D(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var i in t)a=t[i],t.hasOwnProperty(i)&&n[i]!==a&&ed(e,i,a)}else for(var o in t)t.hasOwnProperty(o)&&ed(e,o,t[o])}function Mu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var f0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),m0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bo(e){return m0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ot(){}var Ar=null;function Ru(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ya=null,Ra=null;function td(e){var t=Za(e);if(t&&(e=t.stateNode)){var n=e[et]||null;e:switch(e=t.stateNode,t.type){case"input":if(Tr(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+gt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=a[et]||null;if(!i)throw Error(D(90));Tr(a,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&kh(a)}break e;case"textarea":qh(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ma(e,!!n.multiple,t,!1)}}}var kl=!1;function jh(e,t,n){if(kl)return e(t,n);kl=!0;try{var a=e(t);return a}finally{if(kl=!1,(ya!==null||Ra!==null)&&(Zs(),ya&&(t=ya,e=Ra,Ra=ya=null,td(t),e)))for(t=0;t<e.length;t++)td(e[t])}}function Hi(e,t){var n=e.stateNode;if(n===null)return null;var a=n[et]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(D(231,t,typeof n));return n}var Kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wr=!1;if(Kt)try{var di={};Object.defineProperty(di,"passive",{get:function(){wr=!0}}),window.addEventListener("test",di,di),window.removeEventListener("test",di,di)}catch{wr=!1}var mn=null,Iu=null,Go=null;function Vh(){if(Go)return Go;var e,t=Iu,n=t.length,a,i="value"in mn?mn.value:mn.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(a=1;a<=s&&t[n-a]===i[o-a];a++);return Go=i.slice(e,1<a?1-a:void 0)}function Ho(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Co(){return!0}function nd(){return!1}function tt(e){function t(n,a,i,o,s){this._reactName=n,this._targetInst=i,this.type=a,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Co:nd,this.isPropagationStopped=nd,this}return ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Co)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Co)},persist:function(){},isPersistent:Co}),t}var ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bs=tt(ta),ro=ve({},ta,{view:0,detail:0}),h0=tt(ro),Dl,ql,fi,Gs=ve({},ro,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ku,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fi&&(fi&&e.type==="mousemove"?(Dl=e.screenX-fi.screenX,ql=e.screenY-fi.screenY):ql=Dl=0,fi=e),Dl)},movementY:function(e){return"movementY"in e?e.movementY:ql}}),ad=tt(Gs),p0=ve({},Gs,{dataTransfer:0}),g0=tt(p0),x0=ve({},ro,{relatedTarget:0}),Ul=tt(x0),y0=ve({},ta,{animationName:0,elapsedTime:0,pseudoElement:0}),v0=tt(y0),S0=ve({},ta,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),b0=tt(S0),E0=ve({},ta,{data:0}),id=tt(E0),T0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},A0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function w0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=A0[e])?!!t[e]:!1}function ku(){return w0}var C0=ve({},ro,{key:function(e){if(e.key){var t=T0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ho(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?N0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ku,charCode:function(e){return e.type==="keypress"?Ho(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ho(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_0=tt(C0),M0=ve({},Gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),od=tt(M0),R0=ve({},ro,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ku}),I0=tt(R0),k0=ve({},ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),D0=tt(k0),q0=ve({},Gs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),U0=tt(q0),L0=ve({},ta,{newState:0,oldState:0}),j0=tt(L0),V0=[9,13,27,32],Du=Kt&&"CompositionEvent"in window,_i=null;Kt&&"documentMode"in document&&(_i=document.documentMode);var z0=Kt&&"TextEvent"in window&&!_i,zh=Kt&&(!Du||_i&&8<_i&&11>=_i),sd=" ",ld=!1;function Ph(e,t){switch(e){case"keyup":return V0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var va=!1;function P0(e,t){switch(e){case"compositionend":return Bh(t);case"keypress":return t.which!==32?null:(ld=!0,sd);case"textInput":return e=t.data,e===sd&&ld?null:e;default:return null}}function B0(e,t){if(va)return e==="compositionend"||!Du&&Ph(e,t)?(e=Vh(),Go=Iu=mn=null,va=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zh&&t.locale!=="ko"?null:t.data;default:return null}}var G0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!G0[e.type]:t==="textarea"}function Gh(e,t,n,a){ya?Ra?Ra.push(a):Ra=[a]:ya=a,t=Cs(t,"onChange"),0<t.length&&(n=new Bs("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Mi=null,Oi=null;function H0(e){jg(e,0)}function Hs(e){var t=Ti(e);if(kh(t))return e}function ud(e,t){if(e==="change")return t}var Hh=!1;if(Kt){var Ll;if(Kt){var jl="oninput"in document;if(!jl){var cd=document.createElement("div");cd.setAttribute("oninput","return;"),jl=typeof cd.oninput=="function"}Ll=jl}else Ll=!1;Hh=Ll&&(!document.documentMode||9<document.documentMode)}function dd(){Mi&&(Mi.detachEvent("onpropertychange",Oh),Oi=Mi=null)}function Oh(e){if(e.propertyName==="value"&&Hs(Oi)){var t=[];Gh(t,Oi,e,Ru(e)),jh(H0,t)}}function O0(e,t,n){e==="focusin"?(dd(),Mi=t,Oi=n,Mi.attachEvent("onpropertychange",Oh)):e==="focusout"&&dd()}function J0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hs(Oi)}function Y0(e,t){if(e==="click")return Hs(t)}function F0(e,t){if(e==="input"||e==="change")return Hs(t)}function Q0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ct=typeof Object.is=="function"?Object.is:Q0;function Ji(e,t){if(ct(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!Sr.call(t,i)||!ct(e[i],t[i]))return!1}return!0}function fd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function md(e,t){var n=fd(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fd(n)}}function Jh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Jh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Yh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=us(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=us(e.document)}return t}function qu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var K0=Kt&&"documentMode"in document&&11>=document.documentMode,Sa=null,Cr=null,Ri=null,_r=!1;function hd(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_r||Sa==null||Sa!==us(a)||(a=Sa,"selectionStart"in a&&qu(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Ri&&Ji(Ri,a)||(Ri=a,a=Cs(Cr,"onSelect"),0<a.length&&(t=new Bs("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=Sa)))}function jn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ba={animationend:jn("Animation","AnimationEnd"),animationiteration:jn("Animation","AnimationIteration"),animationstart:jn("Animation","AnimationStart"),transitionrun:jn("Transition","TransitionRun"),transitionstart:jn("Transition","TransitionStart"),transitioncancel:jn("Transition","TransitionCancel"),transitionend:jn("Transition","TransitionEnd")},Vl={},Fh={};Kt&&(Fh=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);function na(e){if(Vl[e])return Vl[e];if(!ba[e])return e;var t=ba[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Fh)return Vl[e]=t[n];return e}var Qh=na("animationend"),Kh=na("animationiteration"),Xh=na("animationstart"),X0=na("transitionrun"),$0=na("transitionstart"),Z0=na("transitioncancel"),$h=na("transitionend"),Zh=new Map,Mr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mr.push("scrollEnd");function At(e,t){Zh.set(e,t),ea(t,[e])}var cs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ft=[],Ea=0,Uu=0;function Os(){for(var e=Ea,t=Uu=Ea=0;t<e;){var n=ft[t];ft[t++]=null;var a=ft[t];ft[t++]=null;var i=ft[t];ft[t++]=null;var o=ft[t];if(ft[t++]=null,a!==null&&i!==null){var s=a.pending;s===null?i.next=i:(i.next=s.next,s.next=i),a.pending=i}o!==0&&Wh(n,i,o)}}function Js(e,t,n,a){ft[Ea++]=e,ft[Ea++]=t,ft[Ea++]=n,ft[Ea++]=a,Uu|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Lu(e,t,n,a){return Js(e,t,n,a),ds(e)}function aa(e,t){return Js(e,null,null,t),ds(e)}function Wh(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var i=!1,o=e.return;o!==null;)o.childLanes|=n,a=o.alternate,a!==null&&(a.childLanes|=n),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(i=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,i&&t!==null&&(i=31-rt(n),e=o.hiddenUpdates,a=e[i],a===null?e[i]=[t]:a.push(t),t.lane=n|536870912),o):null}function ds(e){if(50<zi)throw zi=0,Xr=null,Error(D(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ta={};function W0(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function it(e,t,n,a){return new W0(e,t,n,a)}function ju(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Yt(e,t){var n=e.alternate;return n===null?(n=it(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function ep(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Oo(e,t,n,a,i,o){var s=0;if(a=e,typeof e=="function")ju(e)&&(s=1);else if(typeof e=="string")s=i1(e,n,Rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case gr:return e=it(31,n,t,i),e.elementType=gr,e.lanes=o,e;case pa:return Hn(n.children,i,o,t);case vh:s=8,i|=24;break;case mr:return e=it(12,n,t,i|2),e.elementType=mr,e.lanes=o,e;case hr:return e=it(13,n,t,i),e.elementType=hr,e.lanes=o,e;case pr:return e=it(19,n,t,i),e.elementType=pr,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ht:s=10;break e;case Sh:s=9;break e;case Tu:s=11;break e;case Nu:s=14;break e;case sn:s=16,a=null;break e}s=29,n=Error(D(130,e===null?"null":typeof e,"")),a=null}return t=it(s,n,t,i),t.elementType=e,t.type=a,t.lanes=o,t}function Hn(e,t,n,a){return e=it(7,e,a,t),e.lanes=n,e}function zl(e,t,n){return e=it(6,e,null,t),e.lanes=n,e}function tp(e){var t=it(18,null,null,0);return t.stateNode=e,t}function Pl(e,t,n){return t=it(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var pd=new WeakMap;function xt(e,t){if(typeof e=="object"&&e!==null){var n=pd.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Kc(t)},pd.set(e,t),t)}return{value:e,source:t,stack:Kc(t)}}var Na=[],Aa=0,fs=null,Yi=0,ht=[],pt=0,wn=null,Ct=1,_t="";function Bt(e,t){Na[Aa++]=Yi,Na[Aa++]=fs,fs=e,Yi=t}function np(e,t,n){ht[pt++]=Ct,ht[pt++]=_t,ht[pt++]=wn,wn=e;var a=Ct;e=_t;var i=32-rt(a)-1;a&=~(1<<i),n+=1;var o=32-rt(t)+i;if(30<o){var s=i-i%5;o=(a&(1<<s)-1).toString(32),a>>=s,i-=s,Ct=1<<32-rt(t)+i|n<<i|a,_t=o+e}else Ct=1<<o|n<<i|a,_t=e}function Vu(e){e.return!==null&&(Bt(e,1),np(e,1,0))}function zu(e){for(;e===fs;)fs=Na[--Aa],Na[Aa]=null,Yi=Na[--Aa],Na[Aa]=null;for(;e===wn;)wn=ht[--pt],ht[pt]=null,_t=ht[--pt],ht[pt]=null,Ct=ht[--pt],ht[pt]=null}function ap(e,t){ht[pt++]=Ct,ht[pt++]=_t,ht[pt++]=wn,Ct=t.id,_t=t.overflow,wn=e}var ze=null,xe=null,te=!1,yn=null,yt=!1,Rr=Error(D(519));function Cn(e){var t=Error(D(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fi(xt(t,e)),Rr}function gd(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Ve]=e,t[et]=a,n){case"dialog":Z("cancel",t),Z("close",t);break;case"iframe":case"object":case"embed":Z("load",t);break;case"video":case"audio":for(n=0;n<$i.length;n++)Z($i[n],t);break;case"source":Z("error",t);break;case"img":case"image":case"link":Z("error",t),Z("load",t);break;case"details":Z("toggle",t);break;case"input":Z("invalid",t),Dh(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Z("invalid",t);break;case"textarea":Z("invalid",t),Uh(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||zg(t.textContent,n)?(a.popover!=null&&(Z("beforetoggle",t),Z("toggle",t)),a.onScroll!=null&&Z("scroll",t),a.onScrollEnd!=null&&Z("scrollend",t),a.onClick!=null&&(t.onclick=Ot),t=!0):t=!1,t||Cn(e,!0)}function xd(e){for(ze=e.return;ze;)switch(ze.tag){case 5:case 31:case 13:yt=!1;return;case 27:case 3:yt=!0;return;default:ze=ze.return}}function ca(e){if(e!==ze)return!1;if(!te)return xd(e),te=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||tu(e.type,e.memoizedProps)),n=!n),n&&xe&&Cn(e),xd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));xe=af(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));xe=af(e)}else t===27?(t=xe,Dn(e.type)?(e=ou,ou=null,xe=e):xe=t):xe=ze?St(e.stateNode.nextSibling):null;return!0}function Fn(){xe=ze=null,te=!1}function Bl(){var e=yn;return e!==null&&(Ze===null?Ze=e:Ze.push.apply(Ze,e),yn=null),e}function Fi(e){yn===null?yn=[e]:yn.push(e)}var Ir=kt(null),ia=null,Jt=null;function rn(e,t,n){me(Ir,t._currentValue),t._currentValue=n}function Ft(e){e._currentValue=Ir.current,Le(Ir)}function kr(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Dr(e,t,n,a){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){var s=i.child;o=o.firstContext;e:for(;o!==null;){var u=o;o=i;for(var d=0;d<t.length;d++)if(u.context===t[d]){o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),kr(o.return,n,e),a||(s=null);break e}o=u.next}}else if(i.tag===18){if(s=i.return,s===null)throw Error(D(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),kr(s,n,e),s=null}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}}function Wa(e,t,n,a){e=null;for(var i=t,o=!1;i!==null;){if(!o){if(i.flags&524288)o=!0;else if(i.flags&262144)break}if(i.tag===10){var s=i.alternate;if(s===null)throw Error(D(387));if(s=s.memoizedProps,s!==null){var u=i.type;ct(i.pendingProps.value,s.value)||(e!==null?e.push(u):e=[u])}}else if(i===os.current){if(s=i.alternate,s===null)throw Error(D(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(Wi):e=[Wi])}i=i.return}e!==null&&Dr(t,e,n,a),t.flags|=262144}function ms(e){for(e=e.firstContext;e!==null;){if(!ct(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Qn(e){ia=e,Jt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Pe(e){return ip(ia,e)}function _o(e,t){return ia===null&&Qn(e),ip(e,t)}function ip(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Jt===null){if(e===null)throw Error(D(308));Jt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Jt=Jt.next=t;return n}var ev=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},tv=ke.unstable_scheduleCallback,nv=ke.unstable_NormalPriority,Me={$$typeof:Ht,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pu(){return{controller:new ev,data:new Map,refCount:0}}function uo(e){e.refCount--,e.refCount===0&&tv(nv,function(){e.controller.abort()})}var Ii=null,qr=0,Ba=0,Ia=null;function av(e,t){if(Ii===null){var n=Ii=[];qr=0,Ba=dc(),Ia={status:"pending",value:void 0,then:function(a){n.push(a)}}}return qr++,t.then(yd,yd),t}function yd(){if(--qr===0&&Ii!==null){Ia!==null&&(Ia.status="fulfilled");var e=Ii;Ii=null,Ba=0,Ia=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function iv(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(a.status="rejected",a.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),a}var vd=J.S;J.S=function(e,t){yg=st(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&av(e,t),vd!==null&&vd(e,t)};var On=kt(null);function Bu(){var e=On.current;return e!==null?e:fe.pooledCache}function Jo(e,t){t===null?me(On,On.current):me(On,t.pool)}function op(){var e=Bu();return e===null?null:{parent:Me._currentValue,pool:e}}var ei=Error(D(460)),Gu=Error(D(474)),Ys=Error(D(542)),hs={then:function(){}};function Sd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function sp(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Ot,Ot),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ed(e),e;default:if(typeof t.status=="string")t.then(Ot,Ot);else{if(e=fe,e!==null&&100<e.shellSuspendCounter)throw Error(D(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=a}},function(a){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ed(e),e}throw Jn=t,ei}}function Pn(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Jn=n,ei):n}}var Jn=null;function bd(){if(Jn===null)throw Error(D(459));var e=Jn;return Jn=null,e}function Ed(e){if(e===ei||e===Ys)throw Error(D(483))}var ka=null,Qi=0;function Mo(e){var t=Qi;return Qi+=1,ka===null&&(ka=[]),sp(ka,e,t)}function mi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ro(e,t){throw t.$$typeof===Oy?Error(D(525)):(e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function lp(e){function t(y,x){if(e){var S=y.deletions;S===null?(y.deletions=[x],y.flags|=16):S.push(x)}}function n(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function a(y){for(var x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function i(y,x){return y=Yt(y,x),y.index=0,y.sibling=null,y}function o(y,x,S){return y.index=S,e?(S=y.alternate,S!==null?(S=S.index,S<x?(y.flags|=67108866,x):S):(y.flags|=67108866,x)):(y.flags|=1048576,x)}function s(y){return e&&y.alternate===null&&(y.flags|=67108866),y}function u(y,x,S,E){return x===null||x.tag!==6?(x=zl(S,y.mode,E),x.return=y,x):(x=i(x,S),x.return=y,x)}function d(y,x,S,E){var _=S.type;return _===pa?m(y,x,S.props.children,E,S.key):x!==null&&(x.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===sn&&Pn(_)===x.type)?(x=i(x,S.props),mi(x,S),x.return=y,x):(x=Oo(S.type,S.key,S.props,null,y.mode,E),mi(x,S),x.return=y,x)}function f(y,x,S,E){return x===null||x.tag!==4||x.stateNode.containerInfo!==S.containerInfo||x.stateNode.implementation!==S.implementation?(x=Pl(S,y.mode,E),x.return=y,x):(x=i(x,S.children||[]),x.return=y,x)}function m(y,x,S,E,_){return x===null||x.tag!==7?(x=Hn(S,y.mode,E,_),x.return=y,x):(x=i(x,S),x.return=y,x)}function p(y,x,S){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=zl(""+x,y.mode,S),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Eo:return S=Oo(x.type,x.key,x.props,null,y.mode,S),mi(S,x),S.return=y,S;case bi:return x=Pl(x,y.mode,S),x.return=y,x;case sn:return x=Pn(x),p(y,x,S)}if(Ei(x)||ci(x))return x=Hn(x,y.mode,S,null),x.return=y,x;if(typeof x.then=="function")return p(y,Mo(x),S);if(x.$$typeof===Ht)return p(y,_o(y,x),S);Ro(y,x)}return null}function h(y,x,S,E){var _=x!==null?x.key:null;if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return _!==null?null:u(y,x,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Eo:return S.key===_?d(y,x,S,E):null;case bi:return S.key===_?f(y,x,S,E):null;case sn:return S=Pn(S),h(y,x,S,E)}if(Ei(S)||ci(S))return _!==null?null:m(y,x,S,E,null);if(typeof S.then=="function")return h(y,x,Mo(S),E);if(S.$$typeof===Ht)return h(y,x,_o(y,S),E);Ro(y,S)}return null}function g(y,x,S,E,_){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return y=y.get(S)||null,u(x,y,""+E,_);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Eo:return y=y.get(E.key===null?S:E.key)||null,d(x,y,E,_);case bi:return y=y.get(E.key===null?S:E.key)||null,f(x,y,E,_);case sn:return E=Pn(E),g(y,x,S,E,_)}if(Ei(E)||ci(E))return y=y.get(S)||null,m(x,y,E,_,null);if(typeof E.then=="function")return g(y,x,S,Mo(E),_);if(E.$$typeof===Ht)return g(y,x,S,_o(x,E),_);Ro(x,E)}return null}function v(y,x,S,E){for(var _=null,U=null,w=x,q=x=0,A=null;w!==null&&q<S.length;q++){w.index>q?(A=w,w=null):A=w.sibling;var I=h(y,w,S[q],E);if(I===null){w===null&&(w=A);break}e&&w&&I.alternate===null&&t(y,w),x=o(I,x,q),U===null?_=I:U.sibling=I,U=I,w=A}if(q===S.length)return n(y,w),te&&Bt(y,q),_;if(w===null){for(;q<S.length;q++)w=p(y,S[q],E),w!==null&&(x=o(w,x,q),U===null?_=w:U.sibling=w,U=w);return te&&Bt(y,q),_}for(w=a(w);q<S.length;q++)A=g(w,y,q,S[q],E),A!==null&&(e&&A.alternate!==null&&w.delete(A.key===null?q:A.key),x=o(A,x,q),U===null?_=A:U.sibling=A,U=A);return e&&w.forEach(function(j){return t(y,j)}),te&&Bt(y,q),_}function N(y,x,S,E){if(S==null)throw Error(D(151));for(var _=null,U=null,w=x,q=x=0,A=null,I=S.next();w!==null&&!I.done;q++,I=S.next()){w.index>q?(A=w,w=null):A=w.sibling;var j=h(y,w,I.value,E);if(j===null){w===null&&(w=A);break}e&&w&&j.alternate===null&&t(y,w),x=o(j,x,q),U===null?_=j:U.sibling=j,U=j,w=A}if(I.done)return n(y,w),te&&Bt(y,q),_;if(w===null){for(;!I.done;q++,I=S.next())I=p(y,I.value,E),I!==null&&(x=o(I,x,q),U===null?_=I:U.sibling=I,U=I);return te&&Bt(y,q),_}for(w=a(w);!I.done;q++,I=S.next())I=g(w,y,q,I.value,E),I!==null&&(e&&I.alternate!==null&&w.delete(I.key===null?q:I.key),x=o(I,x,q),U===null?_=I:U.sibling=I,U=I);return e&&w.forEach(function(M){return t(y,M)}),te&&Bt(y,q),_}function b(y,x,S,E){if(typeof S=="object"&&S!==null&&S.type===pa&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Eo:e:{for(var _=S.key;x!==null;){if(x.key===_){if(_=S.type,_===pa){if(x.tag===7){n(y,x.sibling),E=i(x,S.props.children),E.return=y,y=E;break e}}else if(x.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===sn&&Pn(_)===x.type){n(y,x.sibling),E=i(x,S.props),mi(E,S),E.return=y,y=E;break e}n(y,x);break}else t(y,x);x=x.sibling}S.type===pa?(E=Hn(S.props.children,y.mode,E,S.key),E.return=y,y=E):(E=Oo(S.type,S.key,S.props,null,y.mode,E),mi(E,S),E.return=y,y=E)}return s(y);case bi:e:{for(_=S.key;x!==null;){if(x.key===_)if(x.tag===4&&x.stateNode.containerInfo===S.containerInfo&&x.stateNode.implementation===S.implementation){n(y,x.sibling),E=i(x,S.children||[]),E.return=y,y=E;break e}else{n(y,x);break}else t(y,x);x=x.sibling}E=Pl(S,y.mode,E),E.return=y,y=E}return s(y);case sn:return S=Pn(S),b(y,x,S,E)}if(Ei(S))return v(y,x,S,E);if(ci(S)){if(_=ci(S),typeof _!="function")throw Error(D(150));return S=_.call(S),N(y,x,S,E)}if(typeof S.then=="function")return b(y,x,Mo(S),E);if(S.$$typeof===Ht)return b(y,x,_o(y,S),E);Ro(y,S)}return typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint"?(S=""+S,x!==null&&x.tag===6?(n(y,x.sibling),E=i(x,S),E.return=y,y=E):(n(y,x),E=zl(S,y.mode,E),E.return=y,y=E),s(y)):n(y,x)}return function(y,x,S,E){try{Qi=0;var _=b(y,x,S,E);return ka=null,_}catch(w){if(w===ei||w===Ys)throw w;var U=it(29,w,null,y.mode);return U.lanes=E,U.return=y,U}finally{}}}var Kn=lp(!0),rp=lp(!1),ln=!1;function Hu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ur(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Sn(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,ie&2){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,t=ds(e),Wh(e,null,n),t}return Js(e,a,t,n),ds(e)}function ki(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,wh(e,n)}}function Gl(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Lr=!1;function Di(){if(Lr){var e=Ia;if(e!==null)throw e}}function qi(e,t,n,a){Lr=!1;var i=e.updateQueue;ln=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var d=u,f=d.next;d.next=null,s===null?o=f:s.next=f,s=d;var m=e.alternate;m!==null&&(m=m.updateQueue,u=m.lastBaseUpdate,u!==s&&(u===null?m.firstBaseUpdate=f:u.next=f,m.lastBaseUpdate=d))}if(o!==null){var p=i.baseState;s=0,m=f=d=null,u=o;do{var h=u.lane&-536870913,g=h!==u.lane;if(g?(ee&h)===h:(a&h)===h){h!==0&&h===Ba&&(Lr=!0),m!==null&&(m=m.next={lane:0,tag:u.tag,payload:u.payload,callback:null,next:null});e:{var v=e,N=u;h=t;var b=n;switch(N.tag){case 1:if(v=N.payload,typeof v=="function"){p=v.call(b,p,h);break e}p=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=N.payload,h=typeof v=="function"?v.call(b,p,h):v,h==null)break e;p=ve({},p,h);break e;case 2:ln=!0}}h=u.callback,h!==null&&(e.flags|=64,g&&(e.flags|=8192),g=i.callbacks,g===null?i.callbacks=[h]:g.push(h))}else g={lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},m===null?(f=m=g,d=p):m=m.next=g,s|=h;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;g=u,u=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);m===null&&(d=p),i.baseState=d,i.firstBaseUpdate=f,i.lastBaseUpdate=m,o===null&&(i.shared.lanes=0),Mn|=s,e.lanes=s,e.memoizedState=p}}function up(e,t){if(typeof e!="function")throw Error(D(191,e));e.call(t)}function cp(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)up(n[e],t)}var Ga=kt(null),ps=kt(0);function Td(e,t){e=Wt,me(ps,e),me(Ga,t),Wt=e|t.baseLanes}function jr(){me(ps,Wt),me(Ga,Ga.current)}function Ou(){Wt=ps.current,Le(Ga),Le(ps)}var dt=kt(null),vt=null;function un(e){var t=e.alternate;me(Ae,Ae.current&1),me(dt,e),vt===null&&(t===null||Ga.current!==null||t.memoizedState!==null)&&(vt=e)}function Vr(e){me(Ae,Ae.current),me(dt,e),vt===null&&(vt=e)}function dp(e){e.tag===22?(me(Ae,Ae.current),me(dt,e),vt===null&&(vt=e)):cn()}function cn(){me(Ae,Ae.current),me(dt,dt.current)}function at(e){Le(dt),vt===e&&(vt=null),Le(Ae)}var Ae=kt(0);function gs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||au(n)||iu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Xt=0,Q=null,de=null,Ce=null,xs=!1,Da=!1,Xn=!1,ys=0,Ki=0,qa=null,ov=0;function Te(){throw Error(D(321))}function Ju(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ct(e[n],t[n]))return!1;return!0}function Yu(e,t,n,a,i,o){return Xt=o,Q=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,J.H=e===null||e.memoizedState===null?Gp:ac,Xn=!1,o=n(a,i),Xn=!1,Da&&(o=mp(t,n,a,i)),fp(e),o}function fp(e){J.H=Xi;var t=de!==null&&de.next!==null;if(Xt=0,Ce=de=Q=null,xs=!1,Ki=0,qa=null,t)throw Error(D(300));e===null||Re||(e=e.dependencies,e!==null&&ms(e)&&(Re=!0))}function mp(e,t,n,a){Q=e;var i=0;do{if(Da&&(qa=null),Ki=0,Da=!1,25<=i)throw Error(D(301));if(i+=1,Ce=de=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}J.H=Hp,o=t(n,a)}while(Da);return o}function sv(){var e=J.H,t=e.useState()[0];return t=typeof t.then=="function"?co(t):t,e=e.useState()[0],(de!==null?de.memoizedState:null)!==e&&(Q.flags|=1024),t}function Fu(){var e=ys!==0;return ys=0,e}function Qu(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ku(e){if(xs){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}xs=!1}Xt=0,Ce=de=Q=null,Da=!1,Ki=ys=0,qa=null}function Oe(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?Q.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function we(){if(de===null){var e=Q.alternate;e=e!==null?e.memoizedState:null}else e=de.next;var t=Ce===null?Q.memoizedState:Ce.next;if(t!==null)Ce=t,de=e;else{if(e===null)throw Q.alternate===null?Error(D(467)):Error(D(310));de=e,e={memoizedState:de.memoizedState,baseState:de.baseState,baseQueue:de.baseQueue,queue:de.queue,next:null},Ce===null?Q.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function Fs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function co(e){var t=Ki;return Ki+=1,qa===null&&(qa=[]),e=sp(qa,e,t),t=Q,(Ce===null?t.memoizedState:Ce.next)===null&&(t=t.alternate,J.H=t===null||t.memoizedState===null?Gp:ac),e}function Qs(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return co(e);if(e.$$typeof===Ht)return Pe(e)}throw Error(D(438,String(e)))}function Xu(e){var t=null,n=Q.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=Q.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Fs(),Q.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=Jy;return t.index++,n}function $t(e,t){return typeof t=="function"?t(e):t}function Yo(e){var t=we();return $u(t,de,e)}function $u(e,t,n){var a=e.queue;if(a===null)throw Error(D(311));a.lastRenderedReducer=n;var i=e.baseQueue,o=a.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}t.baseQueue=i=o,a.pending=null}if(o=e.baseState,i===null)e.memoizedState=o;else{t=i.next;var u=s=null,d=null,f=t,m=!1;do{var p=f.lane&-536870913;if(p!==f.lane?(ee&p)===p:(Xt&p)===p){var h=f.revertLane;if(h===0)d!==null&&(d=d.next={lane:0,revertLane:0,gesture:null,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),p===Ba&&(m=!0);else if((Xt&h)===h){f=f.next,h===Ba&&(m=!0);continue}else p={lane:0,revertLane:f.revertLane,gesture:null,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},d===null?(u=d=p,s=o):d=d.next=p,Q.lanes|=h,Mn|=h;p=f.action,Xn&&n(o,p),o=f.hasEagerState?f.eagerState:n(o,p)}else h={lane:p,revertLane:f.revertLane,gesture:f.gesture,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},d===null?(u=d=h,s=o):d=d.next=h,Q.lanes|=p,Mn|=p;f=f.next}while(f!==null&&f!==t);if(d===null?s=o:d.next=u,!ct(o,e.memoizedState)&&(Re=!0,m&&(n=Ia,n!==null)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=d,a.lastRenderedState=o}return i===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Hl(e){var t=we(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);ct(o,t.memoizedState)||(Re=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,a]}function hp(e,t,n){var a=Q,i=we(),o=te;if(o){if(n===void 0)throw Error(D(407));n=n()}else n=t();var s=!ct((de||i).memoizedState,n);if(s&&(i.memoizedState=n,Re=!0),i=i.queue,Zu(xp.bind(null,a,i,e),[e]),i.getSnapshot!==t||s||Ce!==null&&Ce.memoizedState.tag&1){if(a.flags|=2048,Ha(9,{destroy:void 0},gp.bind(null,a,i,n,t),null),fe===null)throw Error(D(349));o||Xt&127||pp(a,t,n)}return n}function pp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Q.updateQueue,t===null?(t=Fs(),Q.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function gp(e,t,n,a){t.value=n,t.getSnapshot=a,yp(t)&&vp(e)}function xp(e,t,n){return n(function(){yp(t)&&vp(e)})}function yp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ct(e,n)}catch{return!0}}function vp(e){var t=aa(e,2);t!==null&&We(t,e,2)}function zr(e){var t=Oe();if(typeof e=="function"){var n=e;if(e=n(),Xn){fn(!0);try{n()}finally{fn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$t,lastRenderedState:e},t}function Sp(e,t,n,a){return e.baseState=n,$u(e,de,typeof a=="function"?a:$t)}function lv(e,t,n,a,i){if(Xs(e))throw Error(D(485));if(e=t.action,e!==null){var o={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){o.listeners.push(s)}};J.T!==null?n(!0):o.isTransition=!1,a(o),n=t.pending,n===null?(o.next=t.pending=o,bp(t,o)):(o.next=n.next,t.pending=n.next=o)}}function bp(e,t){var n=t.action,a=t.payload,i=e.state;if(t.isTransition){var o=J.T,s={};J.T=s;try{var u=n(i,a),d=J.S;d!==null&&d(s,u),Nd(e,t,u)}catch(f){Pr(e,t,f)}finally{o!==null&&s.types!==null&&(o.types=s.types),J.T=o}}else try{o=n(i,a),Nd(e,t,o)}catch(f){Pr(e,t,f)}}function Nd(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){Ad(e,t,a)},function(a){return Pr(e,t,a)}):Ad(e,t,n)}function Ad(e,t,n){t.status="fulfilled",t.value=n,Ep(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,bp(e,n)))}function Pr(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,Ep(t),t=t.next;while(t!==a)}e.action=null}function Ep(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Tp(e,t){return t}function wd(e,t){if(te){var n=fe.formState;if(n!==null){e:{var a=Q;if(te){if(xe){t:{for(var i=xe,o=yt;i.nodeType!==8;){if(!o){i=null;break t}if(i=St(i.nextSibling),i===null){i=null;break t}}o=i.data,i=o==="F!"||o==="F"?i:null}if(i){xe=St(i.nextSibling),a=i.data==="F!";break e}}Cn(a)}a=!1}a&&(t=n[0])}}return n=Oe(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tp,lastRenderedState:t},n.queue=a,n=zp.bind(null,Q,a),a.dispatch=n,a=zr(!1),o=nc.bind(null,Q,!1,a.queue),a=Oe(),i={state:t,dispatch:null,action:e,pending:null},a.queue=i,n=lv.bind(null,Q,i,o,n),i.dispatch=n,a.memoizedState=e,[t,n,!1]}function Cd(e){var t=we();return Np(t,de,e)}function Np(e,t,n){if(t=$u(e,t,Tp)[0],e=Yo($t)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=co(t)}catch(s){throw s===ei?Ys:s}else a=t;t=we();var i=t.queue,o=i.dispatch;return n!==t.memoizedState&&(Q.flags|=2048,Ha(9,{destroy:void 0},rv.bind(null,i,n),null)),[a,o,e]}function rv(e,t){e.action=t}function _d(e){var t=we(),n=de;if(n!==null)return Np(t,n,e);we(),t=t.memoizedState,n=we();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function Ha(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=Q.updateQueue,t===null&&(t=Fs(),Q.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Ap(){return we().memoizedState}function Fo(e,t,n,a){var i=Oe();Q.flags|=e,i.memoizedState=Ha(1|t,{destroy:void 0},n,a===void 0?null:a)}function Ks(e,t,n,a){var i=we();a=a===void 0?null:a;var o=i.memoizedState.inst;de!==null&&a!==null&&Ju(a,de.memoizedState.deps)?i.memoizedState=Ha(t,o,n,a):(Q.flags|=e,i.memoizedState=Ha(1|t,o,n,a))}function Md(e,t){Fo(8390656,8,e,t)}function Zu(e,t){Ks(2048,8,e,t)}function uv(e){Q.flags|=4;var t=Q.updateQueue;if(t===null)t=Fs(),Q.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function wp(e){var t=we().memoizedState;return uv({ref:t,nextImpl:e}),function(){if(ie&2)throw Error(D(440));return t.impl.apply(void 0,arguments)}}function Cp(e,t){return Ks(4,2,e,t)}function _p(e,t){return Ks(4,4,e,t)}function Mp(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Rp(e,t,n){n=n!=null?n.concat([e]):null,Ks(4,4,Mp.bind(null,t,e),n)}function Wu(){}function Ip(e,t){var n=we();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&Ju(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function kp(e,t){var n=we();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&Ju(t,a[1]))return a[0];if(a=e(),Xn){fn(!0);try{e()}finally{fn(!1)}}return n.memoizedState=[a,t],a}function ec(e,t,n){return n===void 0||Xt&1073741824&&!(ee&261930)?e.memoizedState=t:(e.memoizedState=n,e=Sg(),Q.lanes|=e,Mn|=e,n)}function Dp(e,t,n,a){return ct(n,t)?n:Ga.current!==null?(e=ec(e,n,a),ct(e,t)||(Re=!0),e):!(Xt&42)||Xt&1073741824&&!(ee&261930)?(Re=!0,e.memoizedState=n):(e=Sg(),Q.lanes|=e,Mn|=e,t)}function qp(e,t,n,a,i){var o=oe.p;oe.p=o!==0&&8>o?o:8;var s=J.T,u={};J.T=u,nc(e,!1,t,n);try{var d=i(),f=J.S;if(f!==null&&f(u,d),d!==null&&typeof d=="object"&&typeof d.then=="function"){var m=iv(d,a);Ui(e,t,m,ut(e))}else Ui(e,t,a,ut(e))}catch(p){Ui(e,t,{then:function(){},status:"rejected",reason:p},ut())}finally{oe.p=o,s!==null&&u.types!==null&&(s.types=u.types),J.T=s}}function cv(){}function Br(e,t,n,a){if(e.tag!==5)throw Error(D(476));var i=Up(e).queue;qp(e,i,t,Gn,n===null?cv:function(){return Lp(e),n(a)})}function Up(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Gn,baseState:Gn,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$t,lastRenderedState:Gn},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$t,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Lp(e){var t=Up(e);t.next===null&&(t=e.alternate.memoizedState),Ui(e,t.next.queue,{},ut())}function tc(){return Pe(Wi)}function jp(){return we().memoizedState}function Vp(){return we().memoizedState}function dv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=ut();e=vn(n);var a=Sn(t,e,n);a!==null&&(We(a,t,n),ki(a,t,n)),t={cache:Pu()},e.payload=t;return}t=t.return}}function fv(e,t,n){var a=ut();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Xs(e)?Pp(t,n):(n=Lu(e,t,n,a),n!==null&&(We(n,e,a),Bp(n,t,a)))}function zp(e,t,n){var a=ut();Ui(e,t,n,a)}function Ui(e,t,n,a){var i={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xs(e))Pp(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,u=o(s,n);if(i.hasEagerState=!0,i.eagerState=u,ct(u,s))return Js(e,t,i,0),fe===null&&Os(),!1}catch{}finally{}if(n=Lu(e,t,i,a),n!==null)return We(n,e,a),Bp(n,t,a),!0}return!1}function nc(e,t,n,a){if(a={lane:2,revertLane:dc(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Xs(e)){if(t)throw Error(D(479))}else t=Lu(e,n,a,2),t!==null&&We(t,e,2)}function Xs(e){var t=e.alternate;return e===Q||t!==null&&t===Q}function Pp(e,t){Da=xs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Bp(e,t,n){if(n&4194048){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,wh(e,n)}}var Xi={readContext:Pe,use:Qs,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useLayoutEffect:Te,useInsertionEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useSyncExternalStore:Te,useId:Te,useHostTransitionStatus:Te,useFormState:Te,useActionState:Te,useOptimistic:Te,useMemoCache:Te,useCacheRefresh:Te};Xi.useEffectEvent=Te;var Gp={readContext:Pe,use:Qs,useCallback:function(e,t){return Oe().memoizedState=[e,t===void 0?null:t],e},useContext:Pe,useEffect:Md,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Fo(4194308,4,Mp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fo(4194308,4,e,t)},useInsertionEffect:function(e,t){Fo(4,2,e,t)},useMemo:function(e,t){var n=Oe();t=t===void 0?null:t;var a=e();if(Xn){fn(!0);try{e()}finally{fn(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=Oe();if(n!==void 0){var i=n(t);if(Xn){fn(!0);try{n(t)}finally{fn(!1)}}}else i=t;return a.memoizedState=a.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},a.queue=e,e=e.dispatch=fv.bind(null,Q,e),[a.memoizedState,e]},useRef:function(e){var t=Oe();return e={current:e},t.memoizedState=e},useState:function(e){e=zr(e);var t=e.queue,n=zp.bind(null,Q,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Wu,useDeferredValue:function(e,t){var n=Oe();return ec(n,e,t)},useTransition:function(){var e=zr(!1);return e=qp.bind(null,Q,e.queue,!0,!1),Oe().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=Q,i=Oe();if(te){if(n===void 0)throw Error(D(407));n=n()}else{if(n=t(),fe===null)throw Error(D(349));ee&127||pp(a,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Md(xp.bind(null,a,o,e),[e]),a.flags|=2048,Ha(9,{destroy:void 0},gp.bind(null,a,o,n,t),null),n},useId:function(){var e=Oe(),t=fe.identifierPrefix;if(te){var n=_t,a=Ct;n=(a&~(1<<32-rt(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=ys++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=ov++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:tc,useFormState:wd,useActionState:wd,useOptimistic:function(e){var t=Oe();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=nc.bind(null,Q,!0,n),n.dispatch=t,[e,t]},useMemoCache:Xu,useCacheRefresh:function(){return Oe().memoizedState=dv.bind(null,Q)},useEffectEvent:function(e){var t=Oe(),n={impl:e};return t.memoizedState=n,function(){if(ie&2)throw Error(D(440));return n.impl.apply(void 0,arguments)}}},ac={readContext:Pe,use:Qs,useCallback:Ip,useContext:Pe,useEffect:Zu,useImperativeHandle:Rp,useInsertionEffect:Cp,useLayoutEffect:_p,useMemo:kp,useReducer:Yo,useRef:Ap,useState:function(){return Yo($t)},useDebugValue:Wu,useDeferredValue:function(e,t){var n=we();return Dp(n,de.memoizedState,e,t)},useTransition:function(){var e=Yo($t)[0],t=we().memoizedState;return[typeof e=="boolean"?e:co(e),t]},useSyncExternalStore:hp,useId:jp,useHostTransitionStatus:tc,useFormState:Cd,useActionState:Cd,useOptimistic:function(e,t){var n=we();return Sp(n,de,e,t)},useMemoCache:Xu,useCacheRefresh:Vp};ac.useEffectEvent=wp;var Hp={readContext:Pe,use:Qs,useCallback:Ip,useContext:Pe,useEffect:Zu,useImperativeHandle:Rp,useInsertionEffect:Cp,useLayoutEffect:_p,useMemo:kp,useReducer:Hl,useRef:Ap,useState:function(){return Hl($t)},useDebugValue:Wu,useDeferredValue:function(e,t){var n=we();return de===null?ec(n,e,t):Dp(n,de.memoizedState,e,t)},useTransition:function(){var e=Hl($t)[0],t=we().memoizedState;return[typeof e=="boolean"?e:co(e),t]},useSyncExternalStore:hp,useId:jp,useHostTransitionStatus:tc,useFormState:_d,useActionState:_d,useOptimistic:function(e,t){var n=we();return de!==null?Sp(n,de,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Xu,useCacheRefresh:Vp};Hp.useEffectEvent=wp;function Ol(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:ve({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Gr={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=ut(),i=vn(a);i.payload=t,n!=null&&(i.callback=n),t=Sn(e,i,a),t!==null&&(We(t,e,a),ki(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=ut(),i=vn(a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Sn(e,i,a),t!==null&&(We(t,e,a),ki(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ut(),a=vn(n);a.tag=2,t!=null&&(a.callback=t),t=Sn(e,a,n),t!==null&&(We(t,e,n),ki(t,e,n))}};function Rd(e,t,n,a,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,o,s):t.prototype&&t.prototype.isPureReactComponent?!Ji(n,a)||!Ji(i,o):!0}function Id(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&Gr.enqueueReplaceState(t,t.state,null)}function $n(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=ve({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}function Op(e){cs(e)}function Jp(e){console.error(e)}function Yp(e){cs(e)}function vs(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function kd(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Hr(e,t,n){return n=vn(n),n.tag=3,n.payload={element:null},n.callback=function(){vs(e,t)},n}function Fp(e){return e=vn(e),e.tag=3,e}function Qp(e,t,n,a){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var o=a.value;e.payload=function(){return i(o)},e.callback=function(){kd(t,n,a)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){kd(t,n,a),typeof i!="function"&&(bn===null?bn=new Set([this]):bn.add(this));var u=a.stack;this.componentDidCatch(a.value,{componentStack:u!==null?u:""})})}function mv(e,t,n,a,i){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&Wa(t,n,i,!0),n=dt.current,n!==null){switch(n.tag){case 31:case 13:return vt===null?Ns():n.alternate===null&&Ne===0&&(Ne=3),n.flags&=-257,n.flags|=65536,n.lanes=i,a===hs?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),tr(e,a,i)),!1;case 22:return n.flags|=65536,a===hs?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),tr(e,a,i)),!1}throw Error(D(435,n.tag))}return tr(e,a,i),Ns(),!1}if(te)return t=dt.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=i,a!==Rr&&(e=Error(D(422),{cause:a}),Fi(xt(e,n)))):(a!==Rr&&(t=Error(D(423),{cause:a}),Fi(xt(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,a=xt(a,n),i=Hr(e.stateNode,a,i),Gl(e,i),Ne!==4&&(Ne=2)),!1;var o=Error(D(520),{cause:a});if(o=xt(o,n),Vi===null?Vi=[o]:Vi.push(o),Ne!==4&&(Ne=2),t===null)return!0;a=xt(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=Hr(n.stateNode,a,e),Gl(n,e),!1;case 1:if(t=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(bn===null||!bn.has(o))))return n.flags|=65536,i&=-i,n.lanes|=i,i=Fp(i),Qp(i,e,n,a),Gl(n,i),!1}n=n.return}while(n!==null);return!1}var ic=Error(D(461)),Re=!1;function je(e,t,n,a){t.child=e===null?rp(t,null,n,a):Kn(t,e.child,n,a)}function Dd(e,t,n,a,i){n=n.render;var o=t.ref;if("ref"in a){var s={};for(var u in a)u!=="ref"&&(s[u]=a[u])}else s=a;return Qn(t),a=Yu(e,t,n,s,o,i),u=Fu(),e!==null&&!Re?(Qu(e,t,i),Zt(e,t,i)):(te&&u&&Vu(t),t.flags|=1,je(e,t,a,i),t.child)}function qd(e,t,n,a,i){if(e===null){var o=n.type;return typeof o=="function"&&!ju(o)&&o.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=o,Kp(e,t,o,a,i)):(e=Oo(n.type,null,a,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!oc(e,i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ji,n(s,a)&&e.ref===t.ref)return Zt(e,t,i)}return t.flags|=1,e=Yt(o,a),e.ref=t.ref,e.return=t,t.child=e}function Kp(e,t,n,a,i){if(e!==null){var o=e.memoizedProps;if(Ji(o,a)&&e.ref===t.ref)if(Re=!1,t.pendingProps=a=o,oc(e,i))e.flags&131072&&(Re=!0);else return t.lanes=e.lanes,Zt(e,t,i)}return Or(e,t,n,a,i)}function Xp(e,t,n,a){var i=a.children,o=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if(t.flags&128){if(o=o!==null?o.baseLanes|n:n,e!==null){for(a=t.child=e.child,i=0;a!==null;)i=i|a.lanes|a.childLanes,a=a.sibling;a=i&~o}else a=0,t.child=null;return Ud(e,t,o,n,a)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Jo(t,o!==null?o.cachePool:null),o!==null?Td(t,o):jr(),dp(t);else return a=t.lanes=536870912,Ud(e,t,o!==null?o.baseLanes|n:n,n,a)}else o!==null?(Jo(t,o.cachePool),Td(t,o),cn(),t.memoizedState=null):(e!==null&&Jo(t,null),jr(),cn());return je(e,t,i,n),t.child}function Ni(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ud(e,t,n,a,i){var o=Bu();return o=o===null?null:{parent:Me._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},e!==null&&Jo(t,null),jr(),dp(t),e!==null&&Wa(e,t,a,!0),t.childLanes=i,null}function Qo(e,t){return t=Ss({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Ld(e,t,n){return Kn(t,e.child,null,n),e=Qo(t,t.pendingProps),e.flags|=2,at(t),t.memoizedState=null,e}function hv(e,t,n){var a=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(te){if(a.mode==="hidden")return e=Qo(t,a),t.lanes=536870912,Ni(null,e);if(Vr(t),(e=xe)?(e=Gg(e,yt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:wn!==null?{id:Ct,overflow:_t}:null,retryLane:536870912,hydrationErrors:null},n=tp(e),n.return=t,t.child=n,ze=t,xe=null)):e=null,e===null)throw Cn(t);return t.lanes=536870912,null}return Qo(t,a)}var o=e.memoizedState;if(o!==null){var s=o.dehydrated;if(Vr(t),i)if(t.flags&256)t.flags&=-257,t=Ld(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(D(558));else if(Re||Wa(e,t,n,!1),i=(n&e.childLanes)!==0,Re||i){if(a=fe,a!==null&&(s=Ch(a,n),s!==0&&s!==o.retryLane))throw o.retryLane=s,aa(e,s),We(a,e,s),ic;Ns(),t=Ld(e,t,n)}else e=o.treeContext,xe=St(s.nextSibling),ze=t,te=!0,yn=null,yt=!1,e!==null&&ap(t,e),t=Qo(t,a),t.flags|=4096;return t}return e=Yt(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ko(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(D(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Or(e,t,n,a,i){return Qn(t),n=Yu(e,t,n,a,void 0,i),a=Fu(),e!==null&&!Re?(Qu(e,t,i),Zt(e,t,i)):(te&&a&&Vu(t),t.flags|=1,je(e,t,n,i),t.child)}function jd(e,t,n,a,i,o){return Qn(t),t.updateQueue=null,n=mp(t,a,n,i),fp(e),a=Fu(),e!==null&&!Re?(Qu(e,t,o),Zt(e,t,o)):(te&&a&&Vu(t),t.flags|=1,je(e,t,n,o),t.child)}function Vd(e,t,n,a,i){if(Qn(t),t.stateNode===null){var o=Ta,s=n.contextType;typeof s=="object"&&s!==null&&(o=Pe(s)),o=new n(a,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Gr,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=a,o.state=t.memoizedState,o.refs={},Hu(t),s=n.contextType,o.context=typeof s=="object"&&s!==null?Pe(s):Ta,o.state=t.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(Ol(t,n,s,a),o.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(s=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),s!==o.state&&Gr.enqueueReplaceState(o,o.state,null),qi(t,a,o,i),Di(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){o=t.stateNode;var u=t.memoizedProps,d=$n(n,u);o.props=d;var f=o.context,m=n.contextType;s=Ta,typeof m=="object"&&m!==null&&(s=Pe(m));var p=n.getDerivedStateFromProps;m=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function",u=t.pendingProps!==u,m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u||f!==s)&&Id(t,o,a,s),ln=!1;var h=t.memoizedState;o.state=h,qi(t,a,o,i),Di(),f=t.memoizedState,u||h!==f||ln?(typeof p=="function"&&(Ol(t,n,p,a),f=t.memoizedState),(d=ln||Rd(t,n,d,a,h,f,s))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=f),o.props=a,o.state=f,o.context=s,a=d):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{o=t.stateNode,Ur(e,t),s=t.memoizedProps,m=$n(n,s),o.props=m,p=t.pendingProps,h=o.context,f=n.contextType,d=Ta,typeof f=="object"&&f!==null&&(d=Pe(f)),u=n.getDerivedStateFromProps,(f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==p||h!==d)&&Id(t,o,a,d),ln=!1,h=t.memoizedState,o.state=h,qi(t,a,o,i),Di();var g=t.memoizedState;s!==p||h!==g||ln||e!==null&&e.dependencies!==null&&ms(e.dependencies)?(typeof u=="function"&&(Ol(t,n,u,a),g=t.memoizedState),(m=ln||Rd(t,n,m,a,h,g,d)||e!==null&&e.dependencies!==null&&ms(e.dependencies))?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(a,g,d),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(a,g,d)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=g),o.props=a,o.state=g,o.context=d,a=m):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),a=!1)}return o=a,Ko(e,t),a=(t.flags&128)!==0,o||a?(o=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&a?(t.child=Kn(t,e.child,null,i),t.child=Kn(t,null,n,i)):je(e,t,n,i),t.memoizedState=o.state,e=t.child):e=Zt(e,t,i),e}function zd(e,t,n,a){return Fn(),t.flags|=256,je(e,t,n,a),t.child}var Jl={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yl(e){return{baseLanes:e,cachePool:op()}}function Fl(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=ot),e}function $p(e,t,n){var a=t.pendingProps,i=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(Ae.current&2)!==0),s&&(i=!0,t.flags&=-129),s=(t.flags&32)!==0,t.flags&=-33,e===null){if(te){if(i?un(t):cn(),(e=xe)?(e=Gg(e,yt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:wn!==null?{id:Ct,overflow:_t}:null,retryLane:536870912,hydrationErrors:null},n=tp(e),n.return=t,t.child=n,ze=t,xe=null)):e=null,e===null)throw Cn(t);return iu(e)?t.lanes=32:t.lanes=536870912,null}var u=a.children;return a=a.fallback,i?(cn(),i=t.mode,u=Ss({mode:"hidden",children:u},i),a=Hn(a,i,n,null),u.return=t,a.return=t,u.sibling=a,t.child=u,a=t.child,a.memoizedState=Yl(n),a.childLanes=Fl(e,s,n),t.memoizedState=Jl,Ni(null,a)):(un(t),Jr(t,u))}var d=e.memoizedState;if(d!==null&&(u=d.dehydrated,u!==null)){if(o)t.flags&256?(un(t),t.flags&=-257,t=Ql(e,t,n)):t.memoizedState!==null?(cn(),t.child=e.child,t.flags|=128,t=null):(cn(),u=a.fallback,i=t.mode,a=Ss({mode:"visible",children:a.children},i),u=Hn(u,i,n,null),u.flags|=2,a.return=t,u.return=t,a.sibling=u,t.child=a,Kn(t,e.child,null,n),a=t.child,a.memoizedState=Yl(n),a.childLanes=Fl(e,s,n),t.memoizedState=Jl,t=Ni(null,a));else if(un(t),iu(u)){if(s=u.nextSibling&&u.nextSibling.dataset,s)var f=s.dgst;s=f,a=Error(D(419)),a.stack="",a.digest=s,Fi({value:a,source:null,stack:null}),t=Ql(e,t,n)}else if(Re||Wa(e,t,n,!1),s=(n&e.childLanes)!==0,Re||s){if(s=fe,s!==null&&(a=Ch(s,n),a!==0&&a!==d.retryLane))throw d.retryLane=a,aa(e,a),We(s,e,a),ic;au(u)||Ns(),t=Ql(e,t,n)}else au(u)?(t.flags|=192,t.child=e.child,t=null):(e=d.treeContext,xe=St(u.nextSibling),ze=t,te=!0,yn=null,yt=!1,e!==null&&ap(t,e),t=Jr(t,a.children),t.flags|=4096);return t}return i?(cn(),u=a.fallback,i=t.mode,d=e.child,f=d.sibling,a=Yt(d,{mode:"hidden",children:a.children}),a.subtreeFlags=d.subtreeFlags&65011712,f!==null?u=Yt(f,u):(u=Hn(u,i,n,null),u.flags|=2),u.return=t,a.return=t,a.sibling=u,t.child=a,Ni(null,a),a=t.child,u=e.child.memoizedState,u===null?u=Yl(n):(i=u.cachePool,i!==null?(d=Me._currentValue,i=i.parent!==d?{parent:d,pool:d}:i):i=op(),u={baseLanes:u.baseLanes|n,cachePool:i}),a.memoizedState=u,a.childLanes=Fl(e,s,n),t.memoizedState=Jl,Ni(e.child,a)):(un(t),n=e.child,e=n.sibling,n=Yt(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function Jr(e,t){return t=Ss({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ss(e,t){return e=it(22,e,null,t),e.lanes=0,e}function Ql(e,t,n){return Kn(t,e.child,null,n),e=Jr(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Pd(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),kr(e.return,t,n)}function Kl(e,t,n,a,i,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i,treeForkCount:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=a,s.tail=n,s.tailMode=i,s.treeForkCount=o)}function Zp(e,t,n){var a=t.pendingProps,i=a.revealOrder,o=a.tail;a=a.children;var s=Ae.current,u=(s&2)!==0;if(u?(s=s&1|2,t.flags|=128):s&=1,me(Ae,s),je(e,t,a,n),a=te?Yi:0,!u&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Pd(e,n,t);else if(e.tag===19)Pd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&gs(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Kl(t,!1,i,n,o,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&gs(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Kl(t,!0,n,null,o,a);break;case"together":Kl(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function Zt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Mn|=t.lanes,!(n&t.childLanes))if(e!==null){if(Wa(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,n=Yt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Yt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function oc(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&ms(e)))}function pv(e,t,n){switch(t.tag){case 3:ss(t,t.stateNode.containerInfo),rn(t,Me,e.memoizedState.cache),Fn();break;case 27:case 5:vr(t);break;case 4:ss(t,t.stateNode.containerInfo);break;case 10:rn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Vr(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(un(t),t.flags|=128,null):n&t.child.childLanes?$p(e,t,n):(un(t),e=Zt(e,t,n),e!==null?e.sibling:null);un(t);break;case 19:var i=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(Wa(e,t,n,!1),a=(n&t.childLanes)!==0),i){if(a)return Zp(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),me(Ae,Ae.current),a)break;return null;case 22:return t.lanes=0,Xp(e,t,n,t.pendingProps);case 24:rn(t,Me,e.memoizedState.cache)}return Zt(e,t,n)}function Wp(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Re=!0;else{if(!oc(e,n)&&!(t.flags&128))return Re=!1,pv(e,t,n);Re=!!(e.flags&131072)}else Re=!1,te&&t.flags&1048576&&np(t,Yi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Pn(t.elementType),t.type=e,typeof e=="function")ju(e)?(a=$n(e,a),t.tag=1,t=Vd(null,t,e,a,n)):(t.tag=0,t=Or(null,t,e,a,n));else{if(e!=null){var i=e.$$typeof;if(i===Tu){t.tag=11,t=Dd(null,t,e,a,n);break e}else if(i===Nu){t.tag=14,t=qd(null,t,e,a,n);break e}}throw t=xr(e)||e,Error(D(306,t,""))}}return t;case 0:return Or(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,i=$n(a,t.pendingProps),Vd(e,t,a,i,n);case 3:e:{if(ss(t,t.stateNode.containerInfo),e===null)throw Error(D(387));a=t.pendingProps;var o=t.memoizedState;i=o.element,Ur(e,t),qi(t,a,null,n);var s=t.memoizedState;if(a=s.cache,rn(t,Me,a),a!==o.cache&&Dr(t,[Me],n,!0),Di(),a=s.element,o.isDehydrated)if(o={element:a,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=zd(e,t,a,n);break e}else if(a!==i){i=xt(Error(D(424)),t),Fi(i),t=zd(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(xe=St(e.firstChild),ze=t,te=!0,yn=null,yt=!0,n=rp(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Fn(),a===i){t=Zt(e,t,n);break e}je(e,t,a,n)}t=t.child}return t;case 26:return Ko(e,t),e===null?(n=lf(t.type,null,t.pendingProps,null))?t.memoizedState=n:te||(n=t.type,e=t.pendingProps,a=_s(xn.current).createElement(n),a[Ve]=t,a[et]=e,Be(a,n,e),Ue(a),t.stateNode=a):t.memoizedState=lf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return vr(t),e===null&&te&&(a=t.stateNode=Hg(t.type,t.pendingProps,xn.current),ze=t,yt=!0,i=xe,Dn(t.type)?(ou=i,xe=St(a.firstChild)):xe=i),je(e,t,t.pendingProps.children,n),Ko(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&te&&((i=a=xe)&&(a=Jv(a,t.type,t.pendingProps,yt),a!==null?(t.stateNode=a,ze=t,xe=St(a.firstChild),yt=!1,i=!0):i=!1),i||Cn(t)),vr(t),i=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,a=o.children,tu(i,o)?a=null:s!==null&&tu(i,s)&&(t.flags|=32),t.memoizedState!==null&&(i=Yu(e,t,sv,null,null,n),Wi._currentValue=i),Ko(e,t),je(e,t,a,n),t.child;case 6:return e===null&&te&&((e=n=xe)&&(n=Yv(n,t.pendingProps,yt),n!==null?(t.stateNode=n,ze=t,xe=null,e=!0):e=!1),e||Cn(t)),null;case 13:return $p(e,t,n);case 4:return ss(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Kn(t,null,a,n):je(e,t,a,n),t.child;case 11:return Dd(e,t,t.type,t.pendingProps,n);case 7:return je(e,t,t.pendingProps,n),t.child;case 8:return je(e,t,t.pendingProps.children,n),t.child;case 12:return je(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,rn(t,t.type,a.value),je(e,t,a.children,n),t.child;case 9:return i=t.type._context,a=t.pendingProps.children,Qn(t),i=Pe(i),a=a(i),t.flags|=1,je(e,t,a,n),t.child;case 14:return qd(e,t,t.type,t.pendingProps,n);case 15:return Kp(e,t,t.type,t.pendingProps,n);case 19:return Zp(e,t,n);case 31:return hv(e,t,n);case 22:return Xp(e,t,n,t.pendingProps);case 24:return Qn(t),a=Pe(Me),e===null?(i=Bu(),i===null&&(i=fe,o=Pu(),i.pooledCache=o,o.refCount++,o!==null&&(i.pooledCacheLanes|=n),i=o),t.memoizedState={parent:a,cache:i},Hu(t),rn(t,Me,i)):(e.lanes&n&&(Ur(e,t),qi(t,null,null,n),Di()),i=e.memoizedState,o=t.memoizedState,i.parent!==a?(i={parent:a,cache:a},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),rn(t,Me,a)):(a=o.cache,rn(t,Me,a),a!==i.cache&&Dr(t,[Me],n,!0))),je(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(D(156,t.tag))}function jt(e){e.flags|=4}function Xl(e,t,n,a,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Tg())e.flags|=8192;else throw Jn=hs,Gu}else e.flags&=-16777217}function Bd(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Yg(t))if(Tg())e.flags|=8192;else throw Jn=hs,Gu}function Io(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Nh():536870912,e.lanes|=t,Oa|=t)}function hi(e,t){if(!te)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function pe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags&65011712,a|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function gv(e,t,n){var a=t.pendingProps;switch(zu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pe(t),null;case 1:return pe(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Ft(Me),Va(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ca(t)?jt(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Bl())),pe(t),null;case 26:var i=t.type,o=t.memoizedState;return e===null?(jt(t),o!==null?(pe(t),Bd(t,o)):(pe(t),Xl(t,i,null,a,n))):o?o!==e.memoizedState?(jt(t),pe(t),Bd(t,o)):(pe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&jt(t),pe(t),Xl(t,i,e,a,n)),null;case 27:if(ls(t),n=xn.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&jt(t);else{if(!a){if(t.stateNode===null)throw Error(D(166));return pe(t),null}e=Rt.current,ca(t)?gd(t):(e=Hg(i,a,n),t.stateNode=e,jt(t))}return pe(t),null;case 5:if(ls(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&jt(t);else{if(!a){if(t.stateNode===null)throw Error(D(166));return pe(t),null}if(o=Rt.current,ca(t))gd(t);else{var s=_s(xn.current);switch(o){case 1:o=s.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:o=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":o=s.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":o=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":o=s.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof a.is=="string"?s.createElement("select",{is:a.is}):s.createElement("select"),a.multiple?o.multiple=!0:a.size&&(o.size=a.size);break;default:o=typeof a.is=="string"?s.createElement(i,{is:a.is}):s.createElement(i)}}o[Ve]=t,o[et]=a;e:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)o.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=o;e:switch(Be(o,i,a),i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&jt(t)}}return pe(t),Xl(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&jt(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(D(166));if(e=xn.current,ca(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,i=ze,i!==null)switch(i.tag){case 27:case 5:a=i.memoizedProps}e[Ve]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||zg(e.nodeValue,n)),e||Cn(t,!0)}else e=_s(e).createTextNode(a),e[Ve]=t,t.stateNode=e}return pe(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=ca(t),n!==null){if(e===null){if(!a)throw Error(D(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(557));e[Ve]=t}else Fn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;pe(t),e=!1}else n=Bl(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(at(t),t):(at(t),null);if(t.flags&128)throw Error(D(558))}return pe(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=ca(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(D(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(D(317));i[Ve]=t}else Fn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;pe(t),i=!1}else i=Bl(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(at(t),t):(at(t),null)}return at(t),t.flags&128?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,i=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(i=a.alternate.memoizedState.cachePool.pool),o=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),o!==i&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Io(t,t.updateQueue),pe(t),null);case 4:return Va(),e===null&&fc(t.stateNode.containerInfo),pe(t),null;case 10:return Ft(t.type),pe(t),null;case 19:if(Le(Ae),a=t.memoizedState,a===null)return pe(t),null;if(i=(t.flags&128)!==0,o=a.rendering,o===null)if(i)hi(a,!1);else{if(Ne!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=gs(e),o!==null){for(t.flags|=128,hi(a,!1),e=o.updateQueue,t.updateQueue=e,Io(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)ep(n,e),n=n.sibling;return me(Ae,Ae.current&1|2),te&&Bt(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&st()>Es&&(t.flags|=128,i=!0,hi(a,!1),t.lanes=4194304)}else{if(!i)if(e=gs(o),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Io(t,e),hi(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!te)return pe(t),null}else 2*st()-a.renderingStartTime>Es&&n!==536870912&&(t.flags|=128,i=!0,hi(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(e=a.last,e!==null?e.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=st(),e.sibling=null,n=Ae.current,me(Ae,i?n&1|2:n&1),te&&Bt(t,a.treeForkCount),e):(pe(t),null);case 22:case 23:return at(t),Ou(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?n&536870912&&!(t.flags&128)&&(pe(t),t.subtreeFlags&6&&(t.flags|=8192)):pe(t),n=t.updateQueue,n!==null&&Io(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&Le(On),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ft(Me),pe(t),null;case 25:return null;case 30:return null}throw Error(D(156,t.tag))}function xv(e,t){switch(zu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ft(Me),Va(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ls(t),null;case 31:if(t.memoizedState!==null){if(at(t),t.alternate===null)throw Error(D(340));Fn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(at(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));Fn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Le(Ae),null;case 4:return Va(),null;case 10:return Ft(t.type),null;case 22:case 23:return at(t),Ou(),e!==null&&Le(On),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ft(Me),null;case 25:return null;default:return null}}function eg(e,t){switch(zu(t),t.tag){case 3:Ft(Me),Va();break;case 26:case 27:case 5:ls(t);break;case 4:Va();break;case 31:t.memoizedState!==null&&at(t);break;case 13:at(t);break;case 19:Le(Ae);break;case 10:Ft(t.type);break;case 22:case 23:at(t),Ou(),e!==null&&Le(On);break;case 24:Ft(Me)}}function fo(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){a=void 0;var o=n.create,s=n.inst;a=o(),s.destroy=a}n=n.next}while(n!==i)}}catch(u){re(t,t.return,u)}}function _n(e,t,n){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var o=i.next;a=o;do{if((a.tag&e)===e){var s=a.inst,u=s.destroy;if(u!==void 0){s.destroy=void 0,i=t;var d=n,f=u;try{f()}catch(m){re(i,d,m)}}}a=a.next}while(a!==o)}}catch(m){re(t,t.return,m)}}function tg(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{cp(t,n)}catch(a){re(e,e.return,a)}}}function ng(e,t,n){n.props=$n(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){re(e,t,a)}}function Li(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(i){re(e,t,i)}}function Mt(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(i){re(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){re(e,t,i)}else n.current=null}function ag(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(i){re(e,e.return,i)}}function $l(e,t,n){try{var a=e.stateNode;zv(a,e.type,n,t),a[et]=t}catch(i){re(e,e.return,i)}}function ig(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Dn(e.type)||e.tag===4}function Zl(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ig(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Dn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yr(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ot));else if(a!==4&&(a===27&&Dn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Yr(e,t,n),e=e.sibling;e!==null;)Yr(e,t,n),e=e.sibling}function bs(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&Dn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(bs(e,t,n),e=e.sibling;e!==null;)bs(e,t,n),e=e.sibling}function og(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Be(t,a,n),t[Ve]=e,t[et]=n}catch(o){re(e,e.return,o)}}var Gt=!1,_e=!1,Wl=!1,Gd=typeof WeakSet=="function"?WeakSet:Set,qe=null;function yv(e,t){if(e=e.containerInfo,Wr=ks,e=Yh(e),qu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var i=a.anchorOffset,o=a.focusNode;a=a.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,u=-1,d=-1,f=0,m=0,p=e,h=null;t:for(;;){for(var g;p!==n||i!==0&&p.nodeType!==3||(u=s+i),p!==o||a!==0&&p.nodeType!==3||(d=s+a),p.nodeType===3&&(s+=p.nodeValue.length),(g=p.firstChild)!==null;)h=p,p=g;for(;;){if(p===e)break t;if(h===n&&++f===i&&(u=s),h===o&&++m===a&&(d=s),(g=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=g}n=u===-1||d===-1?null:{start:u,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(eu={focusedElem:e,selectionRange:n},ks=!1,qe=t;qe!==null;)if(t=qe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,qe=e;else for(;qe!==null;){switch(t=qe,o=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)i=e[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&o!==null){e=void 0,n=t,i=o.memoizedProps,o=o.memoizedState,a=n.stateNode;try{var v=$n(n.type,i);e=a.getSnapshotBeforeUpdate(v,o),a.__reactInternalSnapshotBeforeUpdate=e}catch(N){re(n,n.return,N)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)nu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":nu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(D(163))}if(e=t.sibling,e!==null){e.return=t.return,qe=e;break}qe=t.return}}function sg(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:zt(e,n),a&4&&fo(5,n);break;case 1:if(zt(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(s){re(n,n.return,s)}else{var i=$n(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){re(n,n.return,s)}}a&64&&tg(n),a&512&&Li(n,n.return);break;case 3:if(zt(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{cp(e,t)}catch(s){re(n,n.return,s)}}break;case 27:t===null&&a&4&&og(n);case 26:case 5:zt(e,n),t===null&&a&4&&ag(n),a&512&&Li(n,n.return);break;case 12:zt(e,n);break;case 31:zt(e,n),a&4&&ug(e,n);break;case 13:zt(e,n),a&4&&cg(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Cv.bind(null,n),Fv(e,n))));break;case 22:if(a=n.memoizedState!==null||Gt,!a){t=t!==null&&t.memoizedState!==null||_e,i=Gt;var o=_e;Gt=a,(_e=t)&&!o?Pt(e,n,(n.subtreeFlags&8772)!==0):zt(e,n),Gt=i,_e=o}break;case 30:break;default:zt(e,n)}}function lg(e){var t=e.alternate;t!==null&&(e.alternate=null,lg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&_u(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Se=null,$e=!1;function Vt(e,t,n){for(n=n.child;n!==null;)rg(e,t,n),n=n.sibling}function rg(e,t,n){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(io,n)}catch{}switch(n.tag){case 26:_e||Mt(n,t),Vt(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:_e||Mt(n,t);var a=Se,i=$e;Dn(n.type)&&(Se=n.stateNode,$e=!1),Vt(e,t,n),Pi(n.stateNode),Se=a,$e=i;break;case 5:_e||Mt(n,t);case 6:if(a=Se,i=$e,Se=null,Vt(e,t,n),Se=a,$e=i,Se!==null)if($e)try{(Se.nodeType===9?Se.body:Se.nodeName==="HTML"?Se.ownerDocument.body:Se).removeChild(n.stateNode)}catch(o){re(n,t,o)}else try{Se.removeChild(n.stateNode)}catch(o){re(n,t,o)}break;case 18:Se!==null&&($e?(e=Se,tf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Qa(e)):tf(Se,n.stateNode));break;case 4:a=Se,i=$e,Se=n.stateNode.containerInfo,$e=!0,Vt(e,t,n),Se=a,$e=i;break;case 0:case 11:case 14:case 15:_n(2,n,t),_e||_n(4,n,t),Vt(e,t,n);break;case 1:_e||(Mt(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&ng(n,t,a)),Vt(e,t,n);break;case 21:Vt(e,t,n);break;case 22:_e=(a=_e)||n.memoizedState!==null,Vt(e,t,n),_e=a;break;default:Vt(e,t,n)}}function ug(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Qa(e)}catch(n){re(t,t.return,n)}}}function cg(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Qa(e)}catch(n){re(t,t.return,n)}}function vv(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Gd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Gd),t;default:throw Error(D(435,e.tag))}}function ko(e,t){var n=vv(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var i=_v.bind(null,e,a);a.then(i,i)}})}function Ke(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a],o=e,s=t,u=s;e:for(;u!==null;){switch(u.tag){case 27:if(Dn(u.type)){Se=u.stateNode,$e=!1;break e}break;case 5:Se=u.stateNode,$e=!1;break e;case 3:case 4:Se=u.stateNode.containerInfo,$e=!0;break e}u=u.return}if(Se===null)throw Error(D(160));rg(o,s,i),Se=null,$e=!1,o=i.alternate,o!==null&&(o.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)dg(t,e),t=t.sibling}var Nt=null;function dg(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ke(t,e),Xe(e),a&4&&(_n(3,e,e.return),fo(3,e),_n(5,e,e.return));break;case 1:Ke(t,e),Xe(e),a&512&&(_e||n===null||Mt(n,n.return)),a&64&&Gt&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var i=Nt;if(Ke(t,e),Xe(e),a&512&&(_e||n===null||Mt(n,n.return)),a&4){var o=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(a){case"title":o=i.getElementsByTagName("title")[0],(!o||o[lo]||o[Ve]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=i.createElement(a),i.head.insertBefore(o,i.querySelector("head > title"))),Be(o,a,n),o[Ve]=e,Ue(o),a=o;break e;case"link":var s=uf("link","href",i).get(a+(n.href||""));if(s){for(var u=0;u<s.length;u++)if(o=s[u],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(u,1);break t}}o=i.createElement(a),Be(o,a,n),i.head.appendChild(o);break;case"meta":if(s=uf("meta","content",i).get(a+(n.content||""))){for(u=0;u<s.length;u++)if(o=s[u],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(u,1);break t}}o=i.createElement(a),Be(o,a,n),i.head.appendChild(o);break;default:throw Error(D(468,a))}o[Ve]=e,Ue(o),a=o}e.stateNode=a}else cf(i,e.type,e.stateNode);else e.stateNode=rf(i,a,e.memoizedProps);else o!==a?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,a===null?cf(i,e.type,e.stateNode):rf(i,a,e.memoizedProps)):a===null&&e.stateNode!==null&&$l(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ke(t,e),Xe(e),a&512&&(_e||n===null||Mt(n,n.return)),n!==null&&a&4&&$l(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ke(t,e),Xe(e),a&512&&(_e||n===null||Mt(n,n.return)),e.flags&32){i=e.stateNode;try{Pa(i,"")}catch(v){re(e,e.return,v)}}a&4&&e.stateNode!=null&&(i=e.memoizedProps,$l(e,i,n!==null?n.memoizedProps:i)),a&1024&&(Wl=!0);break;case 6:if(Ke(t,e),Xe(e),a&4){if(e.stateNode===null)throw Error(D(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(v){re(e,e.return,v)}}break;case 3:if(Zo=null,i=Nt,Nt=Ms(t.containerInfo),Ke(t,e),Nt=i,Xe(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Qa(t.containerInfo)}catch(v){re(e,e.return,v)}Wl&&(Wl=!1,fg(e));break;case 4:a=Nt,Nt=Ms(e.stateNode.containerInfo),Ke(t,e),Xe(e),Nt=a;break;case 12:Ke(t,e),Xe(e);break;case 31:Ke(t,e),Xe(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,ko(e,a)));break;case 13:Ke(t,e),Xe(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&($s=st()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,ko(e,a)));break;case 22:i=e.memoizedState!==null;var d=n!==null&&n.memoizedState!==null,f=Gt,m=_e;if(Gt=f||i,_e=m||d,Ke(t,e),_e=m,Gt=f,Xe(e),a&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||d||Gt||_e||Bn(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){d=n=t;try{if(o=d.stateNode,i)s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{u=d.stateNode;var p=d.memoizedProps.style,h=p!=null&&p.hasOwnProperty("display")?p.display:null;u.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(v){re(d,d.return,v)}}}else if(t.tag===6){if(n===null){d=t;try{d.stateNode.nodeValue=i?"":d.memoizedProps}catch(v){re(d,d.return,v)}}}else if(t.tag===18){if(n===null){d=t;try{var g=d.stateNode;i?nf(g,!0):nf(d.stateNode,!1)}catch(v){re(d,d.return,v)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,ko(e,n))));break;case 19:Ke(t,e),Xe(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,ko(e,a)));break;case 30:break;case 21:break;default:Ke(t,e),Xe(e)}}function Xe(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(ig(a)){n=a;break}a=a.return}if(n==null)throw Error(D(160));switch(n.tag){case 27:var i=n.stateNode,o=Zl(e);bs(e,o,i);break;case 5:var s=n.stateNode;n.flags&32&&(Pa(s,""),n.flags&=-33);var u=Zl(e);bs(e,u,s);break;case 3:case 4:var d=n.stateNode.containerInfo,f=Zl(e);Yr(e,f,d);break;default:throw Error(D(161))}}catch(m){re(e,e.return,m)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function fg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;fg(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function zt(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)sg(e,t.alternate,t),t=t.sibling}function Bn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:_n(4,t,t.return),Bn(t);break;case 1:Mt(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&ng(t,t.return,n),Bn(t);break;case 27:Pi(t.stateNode);case 26:case 5:Mt(t,t.return),Bn(t);break;case 22:t.memoizedState===null&&Bn(t);break;case 30:Bn(t);break;default:Bn(t)}e=e.sibling}}function Pt(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,i=e,o=t,s=o.flags;switch(o.tag){case 0:case 11:case 15:Pt(i,o,n),fo(4,o);break;case 1:if(Pt(i,o,n),a=o,i=a.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(f){re(a,a.return,f)}if(a=o,i=a.updateQueue,i!==null){var u=a.stateNode;try{var d=i.shared.hiddenCallbacks;if(d!==null)for(i.shared.hiddenCallbacks=null,i=0;i<d.length;i++)up(d[i],u)}catch(f){re(a,a.return,f)}}n&&s&64&&tg(o),Li(o,o.return);break;case 27:og(o);case 26:case 5:Pt(i,o,n),n&&a===null&&s&4&&ag(o),Li(o,o.return);break;case 12:Pt(i,o,n);break;case 31:Pt(i,o,n),n&&s&4&&ug(i,o);break;case 13:Pt(i,o,n),n&&s&4&&cg(i,o);break;case 22:o.memoizedState===null&&Pt(i,o,n),Li(o,o.return);break;case 30:break;default:Pt(i,o,n)}t=t.sibling}}function sc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&uo(n))}function lc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&uo(e))}function Tt(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)mg(e,t,n,a),t=t.sibling}function mg(e,t,n,a){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Tt(e,t,n,a),i&2048&&fo(9,t);break;case 1:Tt(e,t,n,a);break;case 3:Tt(e,t,n,a),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&uo(e)));break;case 12:if(i&2048){Tt(e,t,n,a),e=t.stateNode;try{var o=t.memoizedProps,s=o.id,u=o.onPostCommit;typeof u=="function"&&u(s,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(d){re(t,t.return,d)}}else Tt(e,t,n,a);break;case 31:Tt(e,t,n,a);break;case 13:Tt(e,t,n,a);break;case 23:break;case 22:o=t.stateNode,s=t.alternate,t.memoizedState!==null?o._visibility&2?Tt(e,t,n,a):ji(e,t):o._visibility&2?Tt(e,t,n,a):(o._visibility|=2,ma(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),i&2048&&sc(s,t);break;case 24:Tt(e,t,n,a),i&2048&&lc(t.alternate,t);break;default:Tt(e,t,n,a)}}function ma(e,t,n,a,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var o=e,s=t,u=n,d=a,f=s.flags;switch(s.tag){case 0:case 11:case 15:ma(o,s,u,d,i),fo(8,s);break;case 23:break;case 22:var m=s.stateNode;s.memoizedState!==null?m._visibility&2?ma(o,s,u,d,i):ji(o,s):(m._visibility|=2,ma(o,s,u,d,i)),i&&f&2048&&sc(s.alternate,s);break;case 24:ma(o,s,u,d,i),i&&f&2048&&lc(s.alternate,s);break;default:ma(o,s,u,d,i)}t=t.sibling}}function ji(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,i=a.flags;switch(a.tag){case 22:ji(n,a),i&2048&&sc(a.alternate,a);break;case 24:ji(n,a),i&2048&&lc(a.alternate,a);break;default:ji(n,a)}t=t.sibling}}var Ai=8192;function da(e,t,n){if(e.subtreeFlags&Ai)for(e=e.child;e!==null;)hg(e,t,n),e=e.sibling}function hg(e,t,n){switch(e.tag){case 26:da(e,t,n),e.flags&Ai&&e.memoizedState!==null&&o1(n,Nt,e.memoizedState,e.memoizedProps);break;case 5:da(e,t,n);break;case 3:case 4:var a=Nt;Nt=Ms(e.stateNode.containerInfo),da(e,t,n),Nt=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Ai,Ai=16777216,da(e,t,n),Ai=a):da(e,t,n));break;default:da(e,t,n)}}function pg(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function pi(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];qe=a,xg(a,e)}pg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)gg(e),e=e.sibling}function gg(e){switch(e.tag){case 0:case 11:case 15:pi(e),e.flags&2048&&_n(9,e,e.return);break;case 3:pi(e);break;case 12:pi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Xo(e)):pi(e);break;default:pi(e)}}function Xo(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];qe=a,xg(a,e)}pg(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:_n(8,t,t.return),Xo(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Xo(t));break;default:Xo(t)}e=e.sibling}}function xg(e,t){for(;qe!==null;){var n=qe;switch(n.tag){case 0:case 11:case 15:_n(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:uo(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,qe=a;else e:for(n=e;qe!==null;){a=qe;var i=a.sibling,o=a.return;if(lg(a),a===n){qe=null;break e}if(i!==null){i.return=o,qe=i;break e}qe=o}}}var Sv={getCacheForType:function(e){var t=Pe(Me),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Pe(Me).controller.signal}},bv=typeof WeakMap=="function"?WeakMap:Map,ie=0,fe=null,W=null,ee=0,le=0,nt=null,hn=!1,ti=!1,rc=!1,Wt=0,Ne=0,Mn=0,Yn=0,uc=0,ot=0,Oa=0,Vi=null,Ze=null,Fr=!1,$s=0,yg=0,Es=1/0,Ts=null,bn=null,Ie=0,En=null,Ja=null,Qt=0,Qr=0,Kr=null,vg=null,zi=0,Xr=null;function ut(){return ie&2&&ee!==0?ee&-ee:J.T!==null?dc():_h()}function Sg(){if(ot===0)if(!(ee&536870912)||te){var e=No;No<<=1,!(No&3932160)&&(No=262144),ot=e}else ot=536870912;return e=dt.current,e!==null&&(e.flags|=32),ot}function We(e,t,n){(e===fe&&(le===2||le===9)||e.cancelPendingCommit!==null)&&(Ya(e,0),pn(e,ee,ot,!1)),so(e,n),(!(ie&2)||e!==fe)&&(e===fe&&(!(ie&2)&&(Yn|=n),Ne===4&&pn(e,ee,ot,!1)),Dt(e))}function bg(e,t,n){if(ie&6)throw Error(D(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||oo(e,t),i=a?Nv(e,t):er(e,t,!0),o=a;do{if(i===0){ti&&!a&&pn(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!Ev(n)){i=er(e,t,!1),o=!1;continue}if(i===2){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=e.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){t=s;e:{var u=e;i=Vi;var d=u.current.memoizedState.isDehydrated;if(d&&(Ya(u,s).flags|=256),s=er(u,s,!1),s!==2){if(rc&&!d){u.errorRecoveryDisabledLanes|=o,Yn|=o,i=4;break e}o=Ze,Ze=i,o!==null&&(Ze===null?Ze=o:Ze.push.apply(Ze,o))}i=s}if(o=!1,i!==2)continue}}if(i===1){Ya(e,0),pn(e,t,0,!0);break}e:{switch(a=e,o=i,o){case 0:case 1:throw Error(D(345));case 4:if((t&4194048)!==t)break;case 6:pn(a,t,ot,!hn);break e;case 2:Ze=null;break;case 3:case 5:break;default:throw Error(D(329))}if((t&62914560)===t&&(i=$s+300-st(),10<i)){if(pn(a,t,ot,!hn),Ps(a,0,!0)!==0)break e;Qt=t,a.timeoutHandle=Bg(Hd.bind(null,a,n,Ze,Ts,Fr,t,ot,Yn,Oa,hn,o,"Throttled",-0,0),i);break e}Hd(a,n,Ze,Ts,Fr,t,ot,Yn,Oa,hn,o,null,-0,0)}}break}while(!0);Dt(e)}function Hd(e,t,n,a,i,o,s,u,d,f,m,p,h,g){if(e.timeoutHandle=-1,p=t.subtreeFlags,p&8192||(p&16785408)===16785408){p={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ot},hg(t,o,p);var v=(o&62914560)===o?$s-st():(o&4194048)===o?yg-st():0;if(v=s1(p,v),v!==null){Qt=o,e.cancelPendingCommit=v(Jd.bind(null,e,t,o,n,a,i,s,u,d,m,p,null,h,g)),pn(e,o,s,!f);return}}Jd(e,t,o,n,a,i,s,u,d)}function Ev(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var i=n[a],o=i.getSnapshot;i=i.value;try{if(!ct(o(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function pn(e,t,n,a){t&=~uc,t&=~Yn,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var i=t;0<i;){var o=31-rt(i),s=1<<o;a[o]=-1,i&=~s}n!==0&&Ah(e,n,t)}function Zs(){return ie&6?!0:(mo(0),!1)}function cc(){if(W!==null){if(le===0)var e=W.return;else e=W,Jt=ia=null,Ku(e),ka=null,Qi=0,e=W;for(;e!==null;)eg(e.alternate,e),e=e.return;W=null}}function Ya(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Gv(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Qt=0,cc(),fe=e,W=n=Yt(e.current,null),ee=t,le=0,nt=null,hn=!1,ti=oo(e,t),rc=!1,Oa=ot=uc=Yn=Mn=Ne=0,Ze=Vi=null,Fr=!1,t&8&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var i=31-rt(a),o=1<<i;t|=e[i],a&=~o}return Wt=t,Os(),n}function Eg(e,t){Q=null,J.H=Xi,t===ei||t===Ys?(t=bd(),le=3):t===Gu?(t=bd(),le=4):le=t===ic?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,nt=t,W===null&&(Ne=1,vs(e,xt(t,e.current)))}function Tg(){var e=dt.current;return e===null?!0:(ee&4194048)===ee?vt===null:(ee&62914560)===ee||ee&536870912?e===vt:!1}function Ng(){var e=J.H;return J.H=Xi,e===null?Xi:e}function Ag(){var e=J.A;return J.A=Sv,e}function Ns(){Ne=4,hn||(ee&4194048)!==ee&&dt.current!==null||(ti=!0),!(Mn&134217727)&&!(Yn&134217727)||fe===null||pn(fe,ee,ot,!1)}function er(e,t,n){var a=ie;ie|=2;var i=Ng(),o=Ag();(fe!==e||ee!==t)&&(Ts=null,Ya(e,t)),t=!1;var s=Ne;e:do try{if(le!==0&&W!==null){var u=W,d=nt;switch(le){case 8:cc(),s=6;break e;case 3:case 2:case 9:case 6:dt.current===null&&(t=!0);var f=le;if(le=0,nt=null,wa(e,u,d,f),n&&ti){s=0;break e}break;default:f=le,le=0,nt=null,wa(e,u,d,f)}}Tv(),s=Ne;break}catch(m){Eg(e,m)}while(!0);return t&&e.shellSuspendCounter++,Jt=ia=null,ie=a,J.H=i,J.A=o,W===null&&(fe=null,ee=0,Os()),s}function Tv(){for(;W!==null;)wg(W)}function Nv(e,t){var n=ie;ie|=2;var a=Ng(),i=Ag();fe!==e||ee!==t?(Ts=null,Es=st()+500,Ya(e,t)):ti=oo(e,t);e:do try{if(le!==0&&W!==null){t=W;var o=nt;t:switch(le){case 1:le=0,nt=null,wa(e,t,o,1);break;case 2:case 9:if(Sd(o)){le=0,nt=null,Od(t);break}t=function(){le!==2&&le!==9||fe!==e||(le=7),Dt(e)},o.then(t,t);break e;case 3:le=7;break e;case 4:le=5;break e;case 7:Sd(o)?(le=0,nt=null,Od(t)):(le=0,nt=null,wa(e,t,o,7));break;case 5:var s=null;switch(W.tag){case 26:s=W.memoizedState;case 5:case 27:var u=W;if(s?Yg(s):u.stateNode.complete){le=0,nt=null;var d=u.sibling;if(d!==null)W=d;else{var f=u.return;f!==null?(W=f,Ws(f)):W=null}break t}}le=0,nt=null,wa(e,t,o,5);break;case 6:le=0,nt=null,wa(e,t,o,6);break;case 8:cc(),Ne=6;break e;default:throw Error(D(462))}}Av();break}catch(m){Eg(e,m)}while(!0);return Jt=ia=null,J.H=a,J.A=i,ie=n,W!==null?0:(fe=null,ee=0,Os(),Ne)}function Av(){for(;W!==null&&!Qy();)wg(W)}function wg(e){var t=Wp(e.alternate,e,Wt);e.memoizedProps=e.pendingProps,t===null?Ws(e):W=t}function Od(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=jd(n,t,t.pendingProps,t.type,void 0,ee);break;case 11:t=jd(n,t,t.pendingProps,t.type.render,t.ref,ee);break;case 5:Ku(t);default:eg(n,t),t=W=ep(t,Wt),t=Wp(n,t,Wt)}e.memoizedProps=e.pendingProps,t===null?Ws(e):W=t}function wa(e,t,n,a){Jt=ia=null,Ku(t),ka=null,Qi=0;var i=t.return;try{if(mv(e,i,t,n,ee)){Ne=1,vs(e,xt(n,e.current)),W=null;return}}catch(o){if(i!==null)throw W=i,o;Ne=1,vs(e,xt(n,e.current)),W=null;return}t.flags&32768?(te||a===1?e=!0:ti||ee&536870912?e=!1:(hn=e=!0,(a===2||a===9||a===3||a===6)&&(a=dt.current,a!==null&&a.tag===13&&(a.flags|=16384))),Cg(t,e)):Ws(t)}function Ws(e){var t=e;do{if(t.flags&32768){Cg(t,hn);return}e=t.return;var n=gv(t.alternate,t,Wt);if(n!==null){W=n;return}if(t=t.sibling,t!==null){W=t;return}W=t=e}while(t!==null);Ne===0&&(Ne=5)}function Cg(e,t){do{var n=xv(e.alternate,e);if(n!==null){n.flags&=32767,W=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){W=e;return}W=e=n}while(e!==null);Ne=6,W=null}function Jd(e,t,n,a,i,o,s,u,d){e.cancelPendingCommit=null;do el();while(Ie!==0);if(ie&6)throw Error(D(327));if(t!==null){if(t===e.current)throw Error(D(177));if(o=t.lanes|t.childLanes,o|=Uu,i0(e,n,o,s,u,d),e===fe&&(W=fe=null,ee=0),Ja=t,En=e,Qt=n,Qr=o,Kr=i,vg=a,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,Mv(rs,function(){return kg(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,t.subtreeFlags&13878||a){a=J.T,J.T=null,i=oe.p,oe.p=2,s=ie,ie|=4;try{yv(e,t,n)}finally{ie=s,oe.p=i,J.T=a}}Ie=1,_g(),Mg(),Rg()}}function _g(){if(Ie===1){Ie=0;var e=En,t=Ja,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=J.T,J.T=null;var a=oe.p;oe.p=2;var i=ie;ie|=4;try{dg(t,e);var o=eu,s=Yh(e.containerInfo),u=o.focusedElem,d=o.selectionRange;if(s!==u&&u&&u.ownerDocument&&Jh(u.ownerDocument.documentElement,u)){if(d!==null&&qu(u)){var f=d.start,m=d.end;if(m===void 0&&(m=f),"selectionStart"in u)u.selectionStart=f,u.selectionEnd=Math.min(m,u.value.length);else{var p=u.ownerDocument||document,h=p&&p.defaultView||window;if(h.getSelection){var g=h.getSelection(),v=u.textContent.length,N=Math.min(d.start,v),b=d.end===void 0?N:Math.min(d.end,v);!g.extend&&N>b&&(s=b,b=N,N=s);var y=md(u,N),x=md(u,b);if(y&&x&&(g.rangeCount!==1||g.anchorNode!==y.node||g.anchorOffset!==y.offset||g.focusNode!==x.node||g.focusOffset!==x.offset)){var S=p.createRange();S.setStart(y.node,y.offset),g.removeAllRanges(),N>b?(g.addRange(S),g.extend(x.node,x.offset)):(S.setEnd(x.node,x.offset),g.addRange(S))}}}}for(p=[],g=u;g=g.parentNode;)g.nodeType===1&&p.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<p.length;u++){var E=p[u];E.element.scrollLeft=E.left,E.element.scrollTop=E.top}}ks=!!Wr,eu=Wr=null}finally{ie=i,oe.p=a,J.T=n}}e.current=t,Ie=2}}function Mg(){if(Ie===2){Ie=0;var e=En,t=Ja,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=J.T,J.T=null;var a=oe.p;oe.p=2;var i=ie;ie|=4;try{sg(e,t.alternate,t)}finally{ie=i,oe.p=a,J.T=n}}Ie=3}}function Rg(){if(Ie===4||Ie===3){Ie=0,Ky();var e=En,t=Ja,n=Qt,a=vg;t.subtreeFlags&10256||t.flags&10256?Ie=5:(Ie=0,Ja=En=null,Ig(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(bn=null),Cu(n),t=t.stateNode,lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(io,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=J.T,i=oe.p,oe.p=2,J.T=null;try{for(var o=e.onRecoverableError,s=0;s<a.length;s++){var u=a[s];o(u.value,{componentStack:u.stack})}}finally{J.T=t,oe.p=i}}Qt&3&&el(),Dt(e),i=e.pendingLanes,n&261930&&i&42?e===Xr?zi++:(zi=0,Xr=e):zi=0,mo(0)}}function Ig(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,uo(t)))}function el(){return _g(),Mg(),Rg(),kg()}function kg(){if(Ie!==5)return!1;var e=En,t=Qr;Qr=0;var n=Cu(Qt),a=J.T,i=oe.p;try{oe.p=32>n?32:n,J.T=null,n=Kr,Kr=null;var o=En,s=Qt;if(Ie=0,Ja=En=null,Qt=0,ie&6)throw Error(D(331));var u=ie;if(ie|=4,gg(o.current),mg(o,o.current,s,n),ie=u,mo(0,!1),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(io,o)}catch{}return!0}finally{oe.p=i,J.T=a,Ig(e,t)}}function Yd(e,t,n){t=xt(n,t),t=Hr(e.stateNode,t,2),e=Sn(e,t,2),e!==null&&(so(e,2),Dt(e))}function re(e,t,n){if(e.tag===3)Yd(e,e,n);else for(;t!==null;){if(t.tag===3){Yd(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(bn===null||!bn.has(a))){e=xt(n,e),n=Fp(2),a=Sn(t,n,2),a!==null&&(Qp(n,a,t,e),so(a,2),Dt(a));break}}t=t.return}}function tr(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new bv;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(n)||(rc=!0,i.add(n),e=wv.bind(null,e,t,n),t.then(e,e))}function wv(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,fe===e&&(ee&n)===n&&(Ne===4||Ne===3&&(ee&62914560)===ee&&300>st()-$s?!(ie&2)&&Ya(e,0):uc|=n,Oa===ee&&(Oa=0)),Dt(e)}function Dg(e,t){t===0&&(t=Nh()),e=aa(e,t),e!==null&&(so(e,t),Dt(e))}function Cv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Dg(e,n)}function _v(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(D(314))}a!==null&&a.delete(t),Dg(e,n)}function Mv(e,t){return Au(e,t)}var As=null,ha=null,$r=!1,ws=!1,nr=!1,gn=0;function Dt(e){e!==ha&&e.next===null&&(ha===null?As=ha=e:ha=ha.next=e),ws=!0,$r||($r=!0,Iv())}function mo(e,t){if(!nr&&ws){nr=!0;do for(var n=!1,a=As;a!==null;){if(e!==0){var i=a.pendingLanes;if(i===0)var o=0;else{var s=a.suspendedLanes,u=a.pingedLanes;o=(1<<31-rt(42|e)+1)-1,o&=i&~(s&~u),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,Fd(a,o))}else o=ee,o=Ps(a,a===fe?o:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),!(o&3)||oo(a,o)||(n=!0,Fd(a,o));a=a.next}while(n);nr=!1}}function Rv(){qg()}function qg(){ws=$r=!1;var e=0;gn!==0&&Bv()&&(e=gn);for(var t=st(),n=null,a=As;a!==null;){var i=a.next,o=Ug(a,t);o===0?(a.next=null,n===null?As=i:n.next=i,i===null&&(ha=n)):(n=a,(e!==0||o&3)&&(ws=!0)),a=i}Ie!==0&&Ie!==5||mo(e),gn!==0&&(gn=0)}function Ug(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var s=31-rt(o),u=1<<s,d=i[s];d===-1?(!(u&n)||u&a)&&(i[s]=a0(u,t)):d<=t&&(e.expiredLanes|=u),o&=~u}if(t=fe,n=ee,n=Ps(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(le===2||le===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Rl(a),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||oo(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&Rl(a),Cu(n)){case 2:case 8:n=Eh;break;case 32:n=rs;break;case 268435456:n=Th;break;default:n=rs}return a=Lg.bind(null,e),n=Au(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&Rl(a),e.callbackPriority=2,e.callbackNode=null,2}function Lg(e,t){if(Ie!==0&&Ie!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(el()&&e.callbackNode!==n)return null;var a=ee;return a=Ps(e,e===fe?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(bg(e,a,t),Ug(e,st()),e.callbackNode!=null&&e.callbackNode===n?Lg.bind(null,e):null)}function Fd(e,t){if(el())return null;bg(e,t,!0)}function Iv(){Hv(function(){ie&6?Au(bh,Rv):qg()})}function dc(){if(gn===0){var e=Ba;e===0&&(e=To,To<<=1,!(To&261888)&&(To=256)),gn=e}return gn}function Qd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Bo(""+e)}function Kd(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function kv(e,t,n,a,i){if(t==="submit"&&n&&n.stateNode===i){var o=Qd((i[et]||null).action),s=a.submitter;s&&(t=(t=s[et]||null)?Qd(t.formAction):s.getAttribute("formAction"),t!==null&&(o=t,s=null));var u=new Bs("action","action",null,a,i);e.push({event:u,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(gn!==0){var d=s?Kd(i,s):new FormData(i);Br(n,{pending:!0,data:d,method:i.method,action:o},null,d)}}else typeof o=="function"&&(u.preventDefault(),d=s?Kd(i,s):new FormData(i),Br(n,{pending:!0,data:d,method:i.method,action:o},o,d))},currentTarget:i}]})}}for(var ar=0;ar<Mr.length;ar++){var ir=Mr[ar],Dv=ir.toLowerCase(),qv=ir[0].toUpperCase()+ir.slice(1);At(Dv,"on"+qv)}At(Qh,"onAnimationEnd");At(Kh,"onAnimationIteration");At(Xh,"onAnimationStart");At("dblclick","onDoubleClick");At("focusin","onFocus");At("focusout","onBlur");At(X0,"onTransitionRun");At($0,"onTransitionStart");At(Z0,"onTransitionCancel");At($h,"onTransitionEnd");za("onMouseEnter",["mouseout","mouseover"]);za("onMouseLeave",["mouseout","mouseover"]);za("onPointerEnter",["pointerout","pointerover"]);za("onPointerLeave",["pointerout","pointerover"]);ea("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ea("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ea("onBeforeInput",["compositionend","keypress","textInput","paste"]);ea("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ea("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ea("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $i="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Uv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($i));function jg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],i=a.event;a=a.listeners;e:{var o=void 0;if(t)for(var s=a.length-1;0<=s;s--){var u=a[s],d=u.instance,f=u.currentTarget;if(u=u.listener,d!==o&&i.isPropagationStopped())break e;o=u,i.currentTarget=f;try{o(i)}catch(m){cs(m)}i.currentTarget=null,o=d}else for(s=0;s<a.length;s++){if(u=a[s],d=u.instance,f=u.currentTarget,u=u.listener,d!==o&&i.isPropagationStopped())break e;o=u,i.currentTarget=f;try{o(i)}catch(m){cs(m)}i.currentTarget=null,o=d}}}}function Z(e,t){var n=t[br];n===void 0&&(n=t[br]=new Set);var a=e+"__bubble";n.has(a)||(Vg(t,e,2,!1),n.add(a))}function or(e,t,n){var a=0;t&&(a|=4),Vg(n,e,a,t)}var Do="_reactListening"+Math.random().toString(36).slice(2);function fc(e){if(!e[Do]){e[Do]=!0,Mh.forEach(function(n){n!=="selectionchange"&&(Uv.has(n)||or(n,!1,e),or(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Do]||(t[Do]=!0,or("selectionchange",!1,t))}}function Vg(e,t,n,a){switch($g(t)){case 2:var i=u1;break;case 8:i=c1;break;default:i=gc}n=i.bind(null,t,n,e),i=void 0,!wr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function sr(e,t,n,a,i){var o=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var s=a.tag;if(s===3||s===4){var u=a.stateNode.containerInfo;if(u===i)break;if(s===4)for(s=a.return;s!==null;){var d=s.tag;if((d===3||d===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;u!==null;){if(s=xa(u),s===null)return;if(d=s.tag,d===5||d===6||d===26||d===27){a=o=s;continue e}u=u.parentNode}}a=a.return}jh(function(){var f=o,m=Ru(n),p=[];e:{var h=Zh.get(e);if(h!==void 0){var g=Bs,v=e;switch(e){case"keypress":if(Ho(n)===0)break e;case"keydown":case"keyup":g=_0;break;case"focusin":v="focus",g=Ul;break;case"focusout":v="blur",g=Ul;break;case"beforeblur":case"afterblur":g=Ul;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=ad;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=g0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=I0;break;case Qh:case Kh:case Xh:g=v0;break;case $h:g=D0;break;case"scroll":case"scrollend":g=h0;break;case"wheel":g=U0;break;case"copy":case"cut":case"paste":g=b0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=od;break;case"toggle":case"beforetoggle":g=j0}var N=(t&4)!==0,b=!N&&(e==="scroll"||e==="scrollend"),y=N?h!==null?h+"Capture":null:h;N=[];for(var x=f,S;x!==null;){var E=x;if(S=E.stateNode,E=E.tag,E!==5&&E!==26&&E!==27||S===null||y===null||(E=Hi(x,y),E!=null&&N.push(Zi(x,E,S))),b)break;x=x.return}0<N.length&&(h=new g(h,v,null,n,m),p.push({event:h,listeners:N}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&n!==Ar&&(v=n.relatedTarget||n.fromElement)&&(xa(v)||v[$a]))break e;if((g||h)&&(h=m.window===m?m:(h=m.ownerDocument)?h.defaultView||h.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=f,v=v?xa(v):null,v!==null&&(b=ao(v),N=v.tag,v!==b||N!==5&&N!==27&&N!==6)&&(v=null)):(g=null,v=f),g!==v)){if(N=ad,E="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(N=od,E="onPointerLeave",y="onPointerEnter",x="pointer"),b=g==null?h:Ti(g),S=v==null?h:Ti(v),h=new N(E,x+"leave",g,n,m),h.target=b,h.relatedTarget=S,E=null,xa(m)===f&&(N=new N(y,x+"enter",v,n,m),N.target=S,N.relatedTarget=b,E=N),b=E,g&&v)t:{for(N=Lv,y=g,x=v,S=0,E=y;E;E=N(E))S++;E=0;for(var _=x;_;_=N(_))E++;for(;0<S-E;)y=N(y),S--;for(;0<E-S;)x=N(x),E--;for(;S--;){if(y===x||x!==null&&y===x.alternate){N=y;break t}y=N(y),x=N(x)}N=null}else N=null;g!==null&&Xd(p,h,g,N,!1),v!==null&&b!==null&&Xd(p,b,v,N,!0)}}e:{if(h=f?Ti(f):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var U=ud;else if(rd(h))if(Hh)U=F0;else{U=J0;var w=O0}else g=h.nodeName,!g||g.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?f&&Mu(f.elementType)&&(U=ud):U=Y0;if(U&&(U=U(e,f))){Gh(p,U,n,m);break e}w&&w(e,h,f),e==="focusout"&&f&&h.type==="number"&&f.memoizedProps.value!=null&&Nr(h,"number",h.value)}switch(w=f?Ti(f):window,e){case"focusin":(rd(w)||w.contentEditable==="true")&&(Sa=w,Cr=f,Ri=null);break;case"focusout":Ri=Cr=Sa=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,hd(p,n,m);break;case"selectionchange":if(K0)break;case"keydown":case"keyup":hd(p,n,m)}var q;if(Du)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else va?Ph(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(zh&&n.locale!=="ko"&&(va||A!=="onCompositionStart"?A==="onCompositionEnd"&&va&&(q=Vh()):(mn=m,Iu="value"in mn?mn.value:mn.textContent,va=!0)),w=Cs(f,A),0<w.length&&(A=new id(A,e,null,n,m),p.push({event:A,listeners:w}),q?A.data=q:(q=Bh(n),q!==null&&(A.data=q)))),(q=z0?P0(e,n):B0(e,n))&&(A=Cs(f,"onBeforeInput"),0<A.length&&(w=new id("onBeforeInput","beforeinput",null,n,m),p.push({event:w,listeners:A}),w.data=q)),kv(p,e,f,n,m)}jg(p,t)})}function Zi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Cs(e,t){for(var n=t+"Capture",a=[];e!==null;){var i=e,o=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||o===null||(i=Hi(e,n),i!=null&&a.unshift(Zi(e,i,o)),i=Hi(e,t),i!=null&&a.push(Zi(e,i,o))),e.tag===3)return a;e=e.return}return[]}function Lv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Xd(e,t,n,a,i){for(var o=t._reactName,s=[];n!==null&&n!==a;){var u=n,d=u.alternate,f=u.stateNode;if(u=u.tag,d!==null&&d===a)break;u!==5&&u!==26&&u!==27||f===null||(d=f,i?(f=Hi(n,o),f!=null&&s.unshift(Zi(n,f,d))):i||(f=Hi(n,o),f!=null&&s.push(Zi(n,f,d)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var jv=/\r\n?/g,Vv=/\u0000|\uFFFD/g;function $d(e){return(typeof e=="string"?e:""+e).replace(jv,`
`).replace(Vv,"")}function zg(e,t){return t=$d(t),$d(e)===t}function ce(e,t,n,a,i,o){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Pa(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Pa(e,""+a);break;case"className":wo(e,"class",a);break;case"tabIndex":wo(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":wo(e,n,a);break;case"style":Lh(e,a,o);break;case"data":if(t!=="object"){wo(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Bo(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(t!=="input"&&ce(e,t,"name",i.name,i,null),ce(e,t,"formEncType",i.formEncType,i,null),ce(e,t,"formMethod",i.formMethod,i,null),ce(e,t,"formTarget",i.formTarget,i,null)):(ce(e,t,"encType",i.encType,i,null),ce(e,t,"method",i.method,i,null),ce(e,t,"target",i.target,i,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Bo(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=Ot);break;case"onScroll":a!=null&&Z("scroll",e);break;case"onScrollEnd":a!=null&&Z("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(D(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(D(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=Bo(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":Z("beforetoggle",e),Z("toggle",e),Po(e,"popover",a);break;case"xlinkActuate":Lt(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Lt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Lt(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Lt(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Lt(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Lt(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Lt(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Lt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Lt(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Po(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=f0.get(n)||n,Po(e,n,a))}}function Zr(e,t,n,a,i,o){switch(n){case"style":Lh(e,a,o);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(D(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(D(60));e.innerHTML=n}}break;case"children":typeof a=="string"?Pa(e,a):(typeof a=="number"||typeof a=="bigint")&&Pa(e,""+a);break;case"onScroll":a!=null&&Z("scroll",e);break;case"onScrollEnd":a!=null&&Z("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Ot);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rh.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),o=e[et]||null,o=o!=null?o[n]:null,typeof o=="function"&&e.removeEventListener(t,o,i),typeof a=="function")){typeof o!="function"&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,i);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):Po(e,n,a)}}}function Be(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Z("error",e),Z("load",e);var a=!1,i=!1,o;for(o in n)if(n.hasOwnProperty(o)){var s=n[o];if(s!=null)switch(o){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(D(137,t));default:ce(e,t,o,s,n,null)}}i&&ce(e,t,"srcSet",n.srcSet,n,null),a&&ce(e,t,"src",n.src,n,null);return;case"input":Z("invalid",e);var u=o=s=i=null,d=null,f=null;for(a in n)if(n.hasOwnProperty(a)){var m=n[a];if(m!=null)switch(a){case"name":i=m;break;case"type":s=m;break;case"checked":d=m;break;case"defaultChecked":f=m;break;case"value":o=m;break;case"defaultValue":u=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(D(137,t));break;default:ce(e,t,a,m,n,null)}}Dh(e,o,u,d,f,s,i,!1);return;case"select":Z("invalid",e),a=s=o=null;for(i in n)if(n.hasOwnProperty(i)&&(u=n[i],u!=null))switch(i){case"value":o=u;break;case"defaultValue":s=u;break;case"multiple":a=u;default:ce(e,t,i,u,n,null)}t=o,n=s,e.multiple=!!a,t!=null?Ma(e,!!a,t,!1):n!=null&&Ma(e,!!a,n,!0);return;case"textarea":Z("invalid",e),o=i=a=null;for(s in n)if(n.hasOwnProperty(s)&&(u=n[s],u!=null))switch(s){case"value":a=u;break;case"defaultValue":i=u;break;case"children":o=u;break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(D(91));break;default:ce(e,t,s,u,n,null)}Uh(e,a,i,o);return;case"option":for(d in n)if(n.hasOwnProperty(d)&&(a=n[d],a!=null))switch(d){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:ce(e,t,d,a,n,null)}return;case"dialog":Z("beforetoggle",e),Z("toggle",e),Z("cancel",e),Z("close",e);break;case"iframe":case"object":Z("load",e);break;case"video":case"audio":for(a=0;a<$i.length;a++)Z($i[a],e);break;case"image":Z("error",e),Z("load",e);break;case"details":Z("toggle",e);break;case"embed":case"source":case"link":Z("error",e),Z("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(f in n)if(n.hasOwnProperty(f)&&(a=n[f],a!=null))switch(f){case"children":case"dangerouslySetInnerHTML":throw Error(D(137,t));default:ce(e,t,f,a,n,null)}return;default:if(Mu(t)){for(m in n)n.hasOwnProperty(m)&&(a=n[m],a!==void 0&&Zr(e,t,m,a,n,void 0));return}}for(u in n)n.hasOwnProperty(u)&&(a=n[u],a!=null&&ce(e,t,u,a,n,null))}function zv(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,s=null,u=null,d=null,f=null,m=null;for(g in n){var p=n[g];if(n.hasOwnProperty(g)&&p!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":d=p;default:a.hasOwnProperty(g)||ce(e,t,g,null,a,p)}}for(var h in a){var g=a[h];if(p=n[h],a.hasOwnProperty(h)&&(g!=null||p!=null))switch(h){case"type":o=g;break;case"name":i=g;break;case"checked":f=g;break;case"defaultChecked":m=g;break;case"value":s=g;break;case"defaultValue":u=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(D(137,t));break;default:g!==p&&ce(e,t,h,g,a,p)}}Tr(e,s,u,d,f,m,o,i);return;case"select":g=s=u=h=null;for(o in n)if(d=n[o],n.hasOwnProperty(o)&&d!=null)switch(o){case"value":break;case"multiple":g=d;default:a.hasOwnProperty(o)||ce(e,t,o,null,a,d)}for(i in a)if(o=a[i],d=n[i],a.hasOwnProperty(i)&&(o!=null||d!=null))switch(i){case"value":h=o;break;case"defaultValue":u=o;break;case"multiple":s=o;default:o!==d&&ce(e,t,i,o,a,d)}t=u,n=s,a=g,h!=null?Ma(e,!!n,h,!1):!!a!=!!n&&(t!=null?Ma(e,!!n,t,!0):Ma(e,!!n,n?[]:"",!1));return;case"textarea":g=h=null;for(u in n)if(i=n[u],n.hasOwnProperty(u)&&i!=null&&!a.hasOwnProperty(u))switch(u){case"value":break;case"children":break;default:ce(e,t,u,null,a,i)}for(s in a)if(i=a[s],o=n[s],a.hasOwnProperty(s)&&(i!=null||o!=null))switch(s){case"value":h=i;break;case"defaultValue":g=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(D(91));break;default:i!==o&&ce(e,t,s,i,a,o)}qh(e,h,g);return;case"option":for(var v in n)if(h=n[v],n.hasOwnProperty(v)&&h!=null&&!a.hasOwnProperty(v))switch(v){case"selected":e.selected=!1;break;default:ce(e,t,v,null,a,h)}for(d in a)if(h=a[d],g=n[d],a.hasOwnProperty(d)&&h!==g&&(h!=null||g!=null))switch(d){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:ce(e,t,d,h,a,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var N in n)h=n[N],n.hasOwnProperty(N)&&h!=null&&!a.hasOwnProperty(N)&&ce(e,t,N,null,a,h);for(f in a)if(h=a[f],g=n[f],a.hasOwnProperty(f)&&h!==g&&(h!=null||g!=null))switch(f){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(D(137,t));break;default:ce(e,t,f,h,a,g)}return;default:if(Mu(t)){for(var b in n)h=n[b],n.hasOwnProperty(b)&&h!==void 0&&!a.hasOwnProperty(b)&&Zr(e,t,b,void 0,a,h);for(m in a)h=a[m],g=n[m],!a.hasOwnProperty(m)||h===g||h===void 0&&g===void 0||Zr(e,t,m,h,a,g);return}}for(var y in n)h=n[y],n.hasOwnProperty(y)&&h!=null&&!a.hasOwnProperty(y)&&ce(e,t,y,null,a,h);for(p in a)h=a[p],g=n[p],!a.hasOwnProperty(p)||h===g||h==null&&g==null||ce(e,t,p,h,a,g)}function Zd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Pv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var i=n[a],o=i.transferSize,s=i.initiatorType,u=i.duration;if(o&&u&&Zd(s)){for(s=0,u=i.responseEnd,a+=1;a<n.length;a++){var d=n[a],f=d.startTime;if(f>u)break;var m=d.transferSize,p=d.initiatorType;m&&Zd(p)&&(d=d.responseEnd,s+=m*(d<u?1:(u-f)/(d-f)))}if(--a,t+=8*(o+s)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Wr=null,eu=null;function _s(e){return e.nodeType===9?e:e.ownerDocument}function Wd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function tu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lr=null;function Bv(){var e=window.event;return e&&e.type==="popstate"?e===lr?!1:(lr=e,!0):(lr=null,!1)}var Bg=typeof setTimeout=="function"?setTimeout:void 0,Gv=typeof clearTimeout=="function"?clearTimeout:void 0,ef=typeof Promise=="function"?Promise:void 0,Hv=typeof queueMicrotask=="function"?queueMicrotask:typeof ef<"u"?function(e){return ef.resolve(null).then(e).catch(Ov)}:Bg;function Ov(e){setTimeout(function(){throw e})}function Dn(e){return e==="head"}function tf(e,t){var n=t,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(i),Qa(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Pi(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Pi(n);for(var o=n.firstChild;o;){var s=o.nextSibling,u=o.nodeName;o[lo]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&o.rel.toLowerCase()==="stylesheet"||n.removeChild(o),o=s}}else n==="body"&&Pi(e.ownerDocument.body);n=i}while(n);Qa(t)}function nf(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function nu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":nu(n),_u(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Jv(e,t,n,a){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[lo])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=St(e.nextSibling),e===null)break}return null}function Yv(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=St(e.nextSibling),e===null))return null;return e}function Gg(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=St(e.nextSibling),e===null))return null;return e}function au(e){return e.data==="$?"||e.data==="$~"}function iu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Fv(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function St(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var ou=null;function af(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return St(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function of(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Hg(e,t,n){switch(t=_s(n),e){case"html":if(e=t.documentElement,!e)throw Error(D(452));return e;case"head":if(e=t.head,!e)throw Error(D(453));return e;case"body":if(e=t.body,!e)throw Error(D(454));return e;default:throw Error(D(451))}}function Pi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);_u(e)}var Et=new Map,sf=new Set;function Ms(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var en=oe.d;oe.d={f:Qv,r:Kv,D:Xv,C:$v,L:Zv,m:Wv,X:t1,S:e1,M:n1};function Qv(){var e=en.f(),t=Zs();return e||t}function Kv(e){var t=Za(e);t!==null&&t.tag===5&&t.type==="form"?Lp(t):en.r(e)}var ni=typeof document>"u"?null:document;function Og(e,t,n){var a=ni;if(a&&typeof t=="string"&&t){var i=gt(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),sf.has(i)||(sf.add(i),e={rel:e,crossOrigin:n,href:t},a.querySelector(i)===null&&(t=a.createElement("link"),Be(t,"link",e),Ue(t),a.head.appendChild(t)))}}function Xv(e){en.D(e),Og("dns-prefetch",e,null)}function $v(e,t){en.C(e,t),Og("preconnect",e,t)}function Zv(e,t,n){en.L(e,t,n);var a=ni;if(a&&e&&t){var i='link[rel="preload"][as="'+gt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+gt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+gt(n.imageSizes)+'"]')):i+='[href="'+gt(e)+'"]';var o=i;switch(t){case"style":o=Fa(e);break;case"script":o=ai(e)}Et.has(o)||(e=ve({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Et.set(o,e),a.querySelector(i)!==null||t==="style"&&a.querySelector(ho(o))||t==="script"&&a.querySelector(po(o))||(t=a.createElement("link"),Be(t,"link",e),Ue(t),a.head.appendChild(t)))}}function Wv(e,t){en.m(e,t);var n=ni;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+gt(a)+'"][href="'+gt(e)+'"]',o=i;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=ai(e)}if(!Et.has(o)&&(e=ve({rel:"modulepreload",href:e},t),Et.set(o,e),n.querySelector(i)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(po(o)))return}a=n.createElement("link"),Be(a,"link",e),Ue(a),n.head.appendChild(a)}}}function e1(e,t,n){en.S(e,t,n);var a=ni;if(a&&e){var i=_a(a).hoistableStyles,o=Fa(e);t=t||"default";var s=i.get(o);if(!s){var u={loading:0,preload:null};if(s=a.querySelector(ho(o)))u.loading=5;else{e=ve({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Et.get(o))&&mc(e,n);var d=s=a.createElement("link");Ue(d),Be(d,"link",e),d._p=new Promise(function(f,m){d.onload=f,d.onerror=m}),d.addEventListener("load",function(){u.loading|=1}),d.addEventListener("error",function(){u.loading|=2}),u.loading|=4,$o(s,t,a)}s={type:"stylesheet",instance:s,count:1,state:u},i.set(o,s)}}}function t1(e,t){en.X(e,t);var n=ni;if(n&&e){var a=_a(n).hoistableScripts,i=ai(e),o=a.get(i);o||(o=n.querySelector(po(i)),o||(e=ve({src:e,async:!0},t),(t=Et.get(i))&&hc(e,t),o=n.createElement("script"),Ue(o),Be(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},a.set(i,o))}}function n1(e,t){en.M(e,t);var n=ni;if(n&&e){var a=_a(n).hoistableScripts,i=ai(e),o=a.get(i);o||(o=n.querySelector(po(i)),o||(e=ve({src:e,async:!0,type:"module"},t),(t=Et.get(i))&&hc(e,t),o=n.createElement("script"),Ue(o),Be(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},a.set(i,o))}}function lf(e,t,n,a){var i=(i=xn.current)?Ms(i):null;if(!i)throw Error(D(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Fa(n.href),n=_a(i).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Fa(n.href);var o=_a(i).hoistableStyles,s=o.get(e);if(s||(i=i.ownerDocument||i,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,s),(o=i.querySelector(ho(e)))&&!o._p&&(s.instance=o,s.state.loading=5),Et.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Et.set(e,n),o||a1(i,e,n,s.state))),t&&a===null)throw Error(D(528,""));return s}if(t&&a!==null)throw Error(D(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ai(n),n=_a(i).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(D(444,e))}}function Fa(e){return'href="'+gt(e)+'"'}function ho(e){return'link[rel="stylesheet"]['+e+"]"}function Jg(e){return ve({},e,{"data-precedence":e.precedence,precedence:null})}function a1(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Be(t,"link",n),Ue(t),e.head.appendChild(t))}function ai(e){return'[src="'+gt(e)+'"]'}function po(e){return"script[async]"+e}function rf(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+gt(n.href)+'"]');if(a)return t.instance=a,Ue(a),a;var i=ve({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Ue(a),Be(a,"style",i),$o(a,n.precedence,e),t.instance=a;case"stylesheet":i=Fa(n.href);var o=e.querySelector(ho(i));if(o)return t.state.loading|=4,t.instance=o,Ue(o),o;a=Jg(n),(i=Et.get(i))&&mc(a,i),o=(e.ownerDocument||e).createElement("link"),Ue(o);var s=o;return s._p=new Promise(function(u,d){s.onload=u,s.onerror=d}),Be(o,"link",a),t.state.loading|=4,$o(o,n.precedence,e),t.instance=o;case"script":return o=ai(n.src),(i=e.querySelector(po(o)))?(t.instance=i,Ue(i),i):(a=n,(i=Et.get(o))&&(a=ve({},n),hc(a,i)),e=e.ownerDocument||e,i=e.createElement("script"),Ue(i),Be(i,"link",a),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(D(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(a=t.instance,t.state.loading|=4,$o(a,n.precedence,e));return t.instance}function $o(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=a.length?a[a.length-1]:null,o=i,s=0;s<a.length;s++){var u=a[s];if(u.dataset.precedence===t)o=u;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function mc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function hc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Zo=null;function uf(e,t,n){if(Zo===null){var a=new Map,i=Zo=new Map;i.set(n,a)}else i=Zo,a=i.get(n),a||(a=new Map,i.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var o=n[i];if(!(o[lo]||o[Ve]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var s=o.getAttribute(t)||"";s=e+s;var u=a.get(s);u?u.push(o):a.set(s,[o])}}return a}function cf(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function i1(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Yg(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function o1(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=Fa(a.href),o=t.querySelector(ho(i));if(o){t=o._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Rs.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=o,Ue(o);return}o=t.ownerDocument||t,a=Jg(a),(i=Et.get(i))&&mc(a,i),o=o.createElement("link"),Ue(o);var s=o;s._p=new Promise(function(u,d){s.onload=u,s.onerror=d}),Be(o,"link",a),n.instance=o}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Rs.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var rr=0;function s1(e,t){return e.stylesheets&&e.count===0&&Wo(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&Wo(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4+t);0<e.imgBytes&&rr===0&&(rr=62500*Pv());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Wo(e,e.stylesheets),e.unsuspend)){var o=e.unsuspend;e.unsuspend=null,o()}},(e.imgBytes>rr?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(i)}}:null}function Rs(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Is=null;function Wo(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Is=new Map,t.forEach(l1,e),Is=null,Rs.call(e))}function l1(e,t){if(!(t.state.loading&4)){var n=Is.get(e);if(n)var a=n.get(null);else{n=new Map,Is.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var s=i[o];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),a=s)}a&&n.set(null,a)}i=t.instance,s=i.getAttribute("data-precedence"),o=n.get(s)||a,o===a&&n.set(null,i),n.set(s,i),this.count++,a=Rs.bind(this),i.addEventListener("load",a),i.addEventListener("error",a),o?o.parentNode.insertBefore(i,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var Wi={$$typeof:Ht,Provider:null,Consumer:null,_currentValue:Gn,_currentValue2:Gn,_threadCount:0};function r1(e,t,n,a,i,o,s,u,d){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Il(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Il(0),this.hiddenUpdates=Il(null),this.identifierPrefix=a,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=d,this.incompleteTransitions=new Map}function Fg(e,t,n,a,i,o,s,u,d,f,m,p){return e=new r1(e,t,n,s,d,f,m,p,u),t=1,o===!0&&(t|=24),o=it(3,null,null,t),e.current=o,o.stateNode=e,t=Pu(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:a,isDehydrated:n,cache:t},Hu(o),e}function Qg(e){return e?(e=Ta,e):Ta}function Kg(e,t,n,a,i,o){i=Qg(i),a.context===null?a.context=i:a.pendingContext=i,a=vn(t),a.payload={element:n},o=o===void 0?null:o,o!==null&&(a.callback=o),n=Sn(e,a,t),n!==null&&(We(n,e,t),ki(n,e,t))}function df(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function pc(e,t){df(e,t),(e=e.alternate)&&df(e,t)}function Xg(e){if(e.tag===13||e.tag===31){var t=aa(e,67108864);t!==null&&We(t,e,67108864),pc(e,67108864)}}function ff(e){if(e.tag===13||e.tag===31){var t=ut();t=wu(t);var n=aa(e,t);n!==null&&We(n,e,t),pc(e,t)}}var ks=!0;function u1(e,t,n,a){var i=J.T;J.T=null;var o=oe.p;try{oe.p=2,gc(e,t,n,a)}finally{oe.p=o,J.T=i}}function c1(e,t,n,a){var i=J.T;J.T=null;var o=oe.p;try{oe.p=8,gc(e,t,n,a)}finally{oe.p=o,J.T=i}}function gc(e,t,n,a){if(ks){var i=su(a);if(i===null)sr(e,t,a,Ds,n),mf(e,a);else if(f1(i,e,t,n,a))a.stopPropagation();else if(mf(e,a),t&4&&-1<d1.indexOf(e)){for(;i!==null;){var o=Za(i);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var s=zn(o.pendingLanes);if(s!==0){var u=o;for(u.pendingLanes|=2,u.entangledLanes|=2;s;){var d=1<<31-rt(s);u.entanglements[1]|=d,s&=~d}Dt(o),!(ie&6)&&(Es=st()+500,mo(0))}}break;case 31:case 13:u=aa(o,2),u!==null&&We(u,o,2),Zs(),pc(o,2)}if(o=su(a),o===null&&sr(e,t,a,Ds,n),o===i)break;i=o}i!==null&&a.stopPropagation()}else sr(e,t,a,null,n)}}function su(e){return e=Ru(e),xc(e)}var Ds=null;function xc(e){if(Ds=null,e=xa(e),e!==null){var t=ao(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=gh(t),e!==null)return e;e=null}else if(n===31){if(e=xh(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ds=e,null}function $g(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xy()){case bh:return 2;case Eh:return 8;case rs:case $y:return 32;case Th:return 268435456;default:return 32}default:return 32}}var lu=!1,Tn=null,Nn=null,An=null,eo=new Map,to=new Map,dn=[],d1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mf(e,t){switch(e){case"focusin":case"focusout":Tn=null;break;case"dragenter":case"dragleave":Nn=null;break;case"mouseover":case"mouseout":An=null;break;case"pointerover":case"pointerout":eo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":to.delete(t.pointerId)}}function gi(e,t,n,a,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Za(t),t!==null&&Xg(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function f1(e,t,n,a,i){switch(t){case"focusin":return Tn=gi(Tn,e,t,n,a,i),!0;case"dragenter":return Nn=gi(Nn,e,t,n,a,i),!0;case"mouseover":return An=gi(An,e,t,n,a,i),!0;case"pointerover":var o=i.pointerId;return eo.set(o,gi(eo.get(o)||null,e,t,n,a,i)),!0;case"gotpointercapture":return o=i.pointerId,to.set(o,gi(to.get(o)||null,e,t,n,a,i)),!0}return!1}function Zg(e){var t=xa(e.target);if(t!==null){var n=ao(t);if(n!==null){if(t=n.tag,t===13){if(t=gh(n),t!==null){e.blockedOn=t,Xc(e.priority,function(){ff(n)});return}}else if(t===31){if(t=xh(n),t!==null){e.blockedOn=t,Xc(e.priority,function(){ff(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function es(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=su(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);Ar=a,n.target.dispatchEvent(a),Ar=null}else return t=Za(n),t!==null&&Xg(t),e.blockedOn=n,!1;t.shift()}return!0}function hf(e,t,n){es(e)&&n.delete(t)}function m1(){lu=!1,Tn!==null&&es(Tn)&&(Tn=null),Nn!==null&&es(Nn)&&(Nn=null),An!==null&&es(An)&&(An=null),eo.forEach(hf),to.forEach(hf)}function qo(e,t){e.blockedOn===t&&(e.blockedOn=null,lu||(lu=!0,ke.unstable_scheduleCallback(ke.unstable_NormalPriority,m1)))}var Uo=null;function pf(e){Uo!==e&&(Uo=e,ke.unstable_scheduleCallback(ke.unstable_NormalPriority,function(){Uo===e&&(Uo=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],i=e[t+2];if(typeof a!="function"){if(xc(a||n)===null)continue;break}var o=Za(n);o!==null&&(e.splice(t,3),t-=3,Br(o,{pending:!0,data:i,method:n.method,action:a},a,i))}}))}function Qa(e){function t(d){return qo(d,e)}Tn!==null&&qo(Tn,e),Nn!==null&&qo(Nn,e),An!==null&&qo(An,e),eo.forEach(t),to.forEach(t);for(var n=0;n<dn.length;n++){var a=dn[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<dn.length&&(n=dn[0],n.blockedOn===null);)Zg(n),n.blockedOn===null&&dn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var i=n[a],o=n[a+1],s=i[et]||null;if(typeof o=="function")s||pf(n);else if(s){var u=null;if(o&&o.hasAttribute("formAction")){if(i=o,s=o[et]||null)u=s.formAction;else if(xc(i)!==null)continue}else u=s.action;typeof u=="function"?n[a+1]=u:(n.splice(a,3),a-=3),pf(n)}}}function Wg(){function e(o){o.canIntercept&&o.info==="react-transition"&&o.intercept({handler:function(){return new Promise(function(s){return i=s})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var o=navigation.currentEntry;o&&o.url!=null&&navigation.navigate(o.url,{state:o.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function yc(e){this._internalRoot=e}tl.prototype.render=yc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));var n=t.current,a=ut();Kg(n,a,e,t,null,null)};tl.prototype.unmount=yc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Kg(e.current,2,null,e,null,null),Zs(),t[$a]=null}};function tl(e){this._internalRoot=e}tl.prototype.unstable_scheduleHydration=function(e){if(e){var t=_h();e={blockedOn:null,target:e,priority:t};for(var n=0;n<dn.length&&t!==0&&t<dn[n].priority;n++);dn.splice(n,0,e),n===0&&Zg(e)}};var gf=hh.version;if(gf!=="19.2.0")throw Error(D(527,gf,"19.2.0"));oe.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=Hy(t),e=e!==null?yh(e):null,e=e===null?null:e.stateNode,e};var h1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lo.isDisabled&&Lo.supportsFiber)try{io=Lo.inject(h1),lt=Lo}catch{}}Vs.createRoot=function(e,t){if(!ph(e))throw Error(D(299));var n=!1,a="",i=Op,o=Jp,s=Yp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Fg(e,1,!1,null,null,n,a,null,i,o,s,Wg),e[$a]=t.current,fc(e),new yc(t)};Vs.hydrateRoot=function(e,t,n){if(!ph(e))throw Error(D(299));var a=!1,i="",o=Op,s=Jp,u=Yp,d=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(u=n.onRecoverableError),n.formState!==void 0&&(d=n.formState)),t=Fg(e,1,!0,t,n??null,a,i,d,o,s,u,Wg),t.context=Qg(null),n=t.current,a=ut(),a=wu(a),i=vn(a),i.callback=null,Sn(n,i,a),n=a,t.current.lanes=n,so(t,n),Dt(t),e[$a]=t.current,fc(e),new tl(t)};Vs.version="19.2.0";function ex(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ex)}catch(e){console.error(e)}}ex(),rh.exports=Vs;var p1=rh.exports;const g1=Zm(p1),x1=({className:e})=>l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}),y1=({className:e})=>l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}),tx=({className:e})=>l.jsxs("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),ts=({className:e})=>l.jsxs("svg",{className:e,fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9a9.75 9.75 0 011.05-4.383 9.75 9.75 0 014.383-1.05h.134a9.75 9.75 0 014.383 1.05 9.75 9.75 0 011.05 4.383z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 1.5v6.75m0 0l-3-3m3 3l3-3M5.25 9.75A9.75 9.75 0 0112 4.5a9.75 9.75 0 016.75 5.25"})]}),Ee=({className:e})=>l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})}),ns={name:"Desert Serenity",light:{primary:"#0d9488",background:"#fbf9f3",card:"#ffffff",textPrimary:"#475569",textSecondary:"#94a3b8",border:"#e2e8f0",backgroundStart:"#fbf9f3",backgroundEnd:"#f5f1e8",mushafBackground:"#fdf6e3",mushafPage:"#fdfaf0",mushafBorder:"#dcd6c0"},dark:{primary:"#f59e0b",background:"#0f172a",card:"#1e293b",textPrimary:"#f1f5f9",textSecondary:"#94a3b8",border:"#334155",backgroundStart:"#0f172a",backgroundEnd:"#172135",mushafBackground:"#2a251c",mushafPage:"#3a3325",mushafBorder:"#5c5340"}},v1=[ns,{name:"Medina Green",light:{primary:"#166534",background:"#f0fdf4",card:"#ffffff",textPrimary:"#1f2937",textSecondary:"#6b7280",border:"#e5e7eb",backgroundStart:"#f0fdf4",backgroundEnd:"#dcfce7",mushafBackground:"#f0fdf4",mushafPage:"#f6fff8",mushafBorder:"#bbf7d0"},dark:{primary:"#4ade80",background:"#132a13",card:"#1a3a1a",textPrimary:"#f0fdf4",textSecondary:"#a3b3a3",border:"#2f5d2f",backgroundStart:"#132a13",backgroundEnd:"#102010",mushafBackground:"#1a3a1a",mushafPage:"#1f451f",mushafBorder:"#2f5d2f"}},{name:"Kaaba Noir",light:{primary:"#1f2937",background:"#f9fafb",card:"#ffffff",textPrimary:"#1f2937",textSecondary:"#6b7280",border:"#e5e7eb",backgroundStart:"#f9fafb",backgroundEnd:"#f3f4f6",mushafBackground:"#f9fafb",mushafPage:"#ffffff",mushafBorder:"#d1d5db"},dark:{primary:"#d4af37",background:"#111111",card:"#1c1c1c",textPrimary:"#f5f5f5",textSecondary:"#a3a3a3",border:"#333333",backgroundStart:"#111111",backgroundEnd:"#1c1c1c",mushafBackground:"#1c1c1c",mushafPage:"#242424",mushafBorder:"#444444"}}],S1=({currentTheme:e,onThemeChange:t})=>{const[n,a]=T.useState(!1),i=T.useRef(null);return T.useEffect(()=>{function o(s){i.current&&!i.current.contains(s.target)&&a(!1)}return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[i]),l.jsxs("div",{ref:i,className:"relative",children:[l.jsx("button",{onClick:()=>a(!n),className:"w-6 h-6 rounded-full border-2 border-border-color",style:{backgroundColor:e.light.primary},"aria-label":"Change theme"}),n&&l.jsx("div",{className:"absolute top-full right-0 mt-2 p-2 bg-card rounded-lg shadow-lg border border-border-color z-20",children:l.jsx("div",{className:"flex gap-3",children:v1.map(o=>l.jsx("button",{onClick:()=>{t(o),a(!1)},className:`w-8 h-8 rounded-full transition-transform hover:scale-110 ${!o.isCustom&&e.name===o.name?"ring-2 ring-primary ring-offset-2 dark:ring-offset-card":""}`,style:{backgroundColor:o.light.primary},"aria-label":`Select ${o.name} theme`},o.name))})})]})},b1={home:"رونق",audio:"أنصت",reading:"اقرأ",quiz:"فقه وحكمة",asbab:"تدبر",kids:"عالم الطفل",ronaq_mind:"Ronaq Mind",history:"اعرف تاريخك"},E1=({reciters:e,selectedReciter:t,onReciterChange:n,isDarkMode:a,onToggleDarkMode:i,onSettingsClick:o,onChallengeClick:s,currentPage:u,onNavigate:d,currentTheme:f,onThemeChange:m})=>{const p=h=>{const g=h.target.value,v=e.find(N=>N.identifier===g);v&&n(v)};return l.jsx("header",{className:"bg-card/70 dark:bg-card/70 backdrop-blur-lg sticky top-0 z-10 shadow-sm",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex items-center justify-between h-16",children:[l.jsxs("div",{className:"flex-1 flex items-center",children:[u!=="home"&&l.jsx("button",{onClick:()=>d("home"),className:"p-2 -ml-2 rounded-full text-text-secondary hover:bg-border-color","aria-label":"العودة للصفحة الرئيسية",children:l.jsx(Ee,{className:"w-6 h-6"})}),l.jsx("h1",{className:"text-2xl font-bold text-text-primary mr-2",children:b1[u]})]}),l.jsx("div",{className:"flex-1 text-center truncate",children:u!=="audio"&&l.jsxs("select",{value:(t==null?void 0:t.identifier)||"",onChange:p,disabled:!t||e.length===0,className:"bg-background dark:bg-card border border-border-color text-text-primary text-sm rounded-lg focus:ring-primary focus:border-primary block w-full max-w-[200px] sm:max-w-xs p-2.5 mx-auto",children:[e.length===0&&l.jsx("option",{children:"Loading..."}),e.map(h=>l.jsx("option",{value:h.identifier,children:h.name},h.identifier))]})}),l.jsxs("div",{className:"flex flex-1 items-center justify-end space-x-1 sm:space-x-2",children:[l.jsx(S1,{currentTheme:f,onThemeChange:m}),l.jsx("button",{onClick:i,className:"p-2 rounded-full text-text-secondary hover:bg-border-color focus:outline-none","aria-label":"Toggle dark mode",children:a?l.jsx(x1,{className:"w-6 h-6"}):l.jsx(y1,{className:"w-6 h-6"})}),l.jsx("button",{onClick:s,className:"p-2 rounded-full text-text-secondary hover:bg-border-color focus:outline-none","aria-label":"Quran Challenge",children:l.jsx(ts,{className:"w-6 h-6"})}),l.jsx("button",{onClick:o,className:"p-2 rounded-full text-text-secondary hover:bg-border-color focus:outline-none","aria-label":"Settings",children:l.jsx(tx,{className:"w-6 h-6"})})]})]})})})},Zn=({className:e})=>l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),xf=({className:e})=>l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),T1=({className:e})=>l.jsxs("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 19.5A2.5 2.5 0 016.5 17H20"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.5 2H20v20H6.5A2.5 2.5 0 014 19.5v-15A2.5 2.5 0 016.5 2z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 7v6m0 0l-2-2m2 2l2-2"})]}),N1=({className:e})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})}),nx=({className:e})=>l.jsxs("svg",{className:e,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("style",{children:`
                .wave-bar1 { animation: wave 1.2s linear infinite; animation-delay: 0s; }
                .wave-bar2 { animation: wave 1.2s linear infinite; animation-delay: 0.2s; }
                .wave-bar3 { animation: wave 1.2s linear infinite; animation-delay: 0.4s; }
                .wave-bar4 { animation: wave 1.2s linear infinite; animation-delay: 0.6s; }
                @keyframes wave {
                    0% { transform: scaleY(0.3); }
                    20% { transform: scaleY(1); }
                    40% { transform: scaleY(0.3); }
                    100% { transform: scaleY(0.3); }
                }
            `}),l.jsx("rect",{className:"wave-bar1",x:"4",y:"6",width:"2",height:"12",rx:"1",fill:"currentColor",style:{transformOrigin:"center"}}),l.jsx("rect",{className:"wave-bar2",x:"9",y:"6",width:"2",height:"12",rx:"1",fill:"currentColor",style:{transformOrigin:"center"}}),l.jsx("rect",{className:"wave-bar3",x:"14",y:"6",width:"2",height:"12",rx:"1",fill:"currentColor",style:{transformOrigin:"center"}}),l.jsx("rect",{className:"wave-bar4",x:"19",y:"6",width:"2",height:"12",rx:"1",fill:"currentColor",style:{transformOrigin:"center"}})]}),ii=({className:e})=>l.jsx("svg",{className:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M8 5.14v14l11-7-11-7z"})}),vc=({className:e})=>l.jsx("svg",{className:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"})}),A1=({surahs:e,onSurahSelect:t,currentSurahId:n,isPlaying:a,bookmarks:i,selectedReciter:o,downloadedTafsir:s,tafsirDownloadProgress:u,onDownloadTafsir:d,onCancelTafsirDownload:f,downloadedAudio:m,audioDownloadProgress:p,onDownloadAudio:h,onCancelAudioDownload:g})=>l.jsx("div",{className:"px-4 sm:px-6 lg:px-8 pt-4 pb-8",children:l.jsx("div",{className:"space-y-3",children:e.map(v=>{const N=n===v.id,b=s.has(v.id),y=u[v.id],x=y!==void 0,S=`${o==null?void 0:o.identifier}-${v.id}`,E=m.has(S),_=p[S],U=_!==void 0,w=()=>b?l.jsx("div",{className:"p-2",children:l.jsx(Zn,{className:"w-5 h-5 text-primary"})}):x?l.jsxs("div",{className:"flex items-center",children:[l.jsxs("div",{className:"w-8 text-center text-xs font-mono text-text-secondary",role:"progressbar","aria-valuenow":y,children:[y,"%"]}),l.jsx("button",{onClick:j=>{j.stopPropagation(),f(v)},className:"p-1 text-red-500 hover:bg-red-500/10 rounded-full","aria-label":"Cancel tafsir download",children:l.jsx(xf,{className:"w-4 h-4"})})]}):l.jsx("button",{onClick:j=>{j.stopPropagation(),d(v)},className:"p-2 text-text-secondary hover:text-primary transition-colors rounded-full","aria-label":"Download tafsir",children:l.jsx(T1,{className:"w-5 h-5"})}),q=()=>o?E?l.jsx("div",{className:"p-2",children:l.jsx(Zn,{className:"w-5 h-5 text-green-500"})}):U?l.jsxs("div",{className:"flex items-center",children:[l.jsxs("div",{className:"w-8 text-center text-xs font-mono text-text-secondary",role:"progressbar","aria-valuenow":_,children:[_,"%"]}),l.jsx("button",{onClick:j=>{j.stopPropagation(),g(v,o)},className:"p-1 text-red-500 hover:bg-red-500/10 rounded-full","aria-label":"Cancel audio download",children:l.jsx(xf,{className:"w-4 h-4"})})]}):l.jsx("button",{onClick:j=>{j.stopPropagation(),h(v,o)},className:"p-2 text-text-secondary hover:text-primary transition-colors rounded-full","aria-label":"Download audio",children:l.jsx(N1,{className:"w-5 h-5"})}):null,A=N&&a,I=()=>l.jsx("button",{onClick:j=>{j.stopPropagation(),t(v)},className:`p-2 rounded-full transition-all ${N?"bg-primary text-white":"text-text-secondary hover:text-primary"}`,"aria-label":A?`Pause ${v.name}`:`Play ${v.name}`,children:A?l.jsx(vc,{className:"w-5 h-5"}):l.jsx(ii,{className:"w-5 h-5"})});return l.jsxs("div",{onClick:()=>t(v),className:`group relative p-4 rounded-lg transition-all duration-300 flex items-center justify-between cursor-pointer border ${N?"bg-primary/10 border-primary/50 shadow-lg shadow-primary/10":"bg-card/80 border-transparent hover:border-border-color hover:bg-card"}`,children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`w-12 h-12 flex items-center justify-center rounded-lg text-lg font-bold ml-4 transition-colors ${N?"bg-primary text-white":"bg-background text-text-primary"}`,children:v.id}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold font-amiri-quran text-2xl text-text-primary",children:v.name}),l.jsxs("div",{className:"text-xs text-text-secondary flex items-center gap-2",children:[l.jsx("span",{children:v.revelationType==="Meccan"?"مكية":"مدنية"}),l.jsx("span",{children:"•"}),l.jsxs("span",{children:[v.numberOfAyahs," آيات"]})]})]})]}),l.jsxs("div",{className:"flex items-center justify-between w-36",children:[l.jsx(I,{}),w(),q()]}),N&&a&&l.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 left-4 h-full flex items-center",children:l.jsx(nx,{className:"w-5 h-5 text-primary"})})]},v.id)})})}),w1=({className:e})=>l.jsx("svg",{className:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"})}),C1=({className:e})=>l.jsx("svg",{className:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M6 6h2v12H6V6zm3.5 6l8.5 6V6l-8.5 6z"})}),_1=({className:e})=>l.jsxs("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h5M20 11a8.1 8.1 0 00-15.5 2m.5-6H20v5h-5"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 4l5 5-5 5"})]}),M1=({surah:e,reciter:t,isPlaying:n,onPlayPause:a,onNext:i,onPrev:o,onEnded:s,audioSrc:u,currentAyah:d,totalAyahs:f,onDurationChange:m,onTimeUpdate:p,seekToTime:h,onSeeked:g})=>{const v=T.useRef(null),[N,b]=T.useState(0),[y,x]=T.useState(0),[S,E]=T.useState(0),[_,U]=T.useState(!1);T.useEffect(()=>{v.current&&(v.current.loop=_)},[_]),T.useEffect(()=>{const M=v.current;if(!M)return;const z=()=>{M.volume=0;const K=M.play();K!==void 0&&K.then(()=>{let L=0;const R=setInterval(()=>{L+=.1,L>=1?(M.volume=1,clearInterval(R)):M.volume=L},150)}).catch(L=>{L.name!=="AbortError"&&console.error("Audio play failed during fade-in",L)})};if(u)if(M.src!==u&&(M.src=u,x(0),E(0),b(0)),n)if(h!==null)z();else{M.volume=1;const K=M.play();K!==void 0&&K.catch(L=>{L.name!=="AbortError"&&console.error("Audio play failed",L)})}else M.pause();else M.pause(),M.src=""},[n,u,h]);const w=()=>{if(v.current){const{currentTime:M,duration:z}=v.current;x(M),p(M),z&&b(M/z*100)}},q=()=>{if(v.current){b(0);const M=v.current.duration;isFinite(M)&&(E(M),m(M)),h!==null&&(v.current.currentTime=h)}},A=()=>{_||s()},I=M=>{if(v.current&&S>0){const z=M.currentTarget.getBoundingClientRect(),K=M.clientX-z.left,L=z.width;v.current.currentTime=K/L*S}},j=M=>{if(isNaN(M)||M<0)return"0:00";const z=Math.floor(M/60),K=Math.floor(M%60);return`${z}:${K.toString().padStart(2,"0")}`};return e?l.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-background/80 backdrop-blur-lg shadow-t-lg z-20 border-t border-border-color/50",children:[l.jsx("audio",{ref:v,onEnded:A,onTimeUpdate:w,onLoadedMetadata:q,onSeeked:g}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"flex items-center min-w-0 w-1/4",children:l.jsxs("div",{className:"mr-4 truncate",children:[l.jsx("p",{className:"font-semibold text-text-primary font-amiri-quran text-lg truncate",children:e.name}),l.jsx("p",{className:"text-sm text-text-secondary truncate",children:t.name})]})}),l.jsxs("div",{className:"flex flex-col items-center justify-center flex-grow mx-4",children:[l.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[l.jsx("button",{onClick:o,className:"p-2 rounded-full text-text-primary hover:bg-border-color focus:outline-none","aria-label":"Previous Surah",children:l.jsx(C1,{className:"w-7 h-7"})}),l.jsx("button",{onClick:a,className:"p-4 rounded-full bg-primary text-background shadow-lg hover:opacity-90 focus:outline-none","aria-label":n?"Pause":"Play",children:n?l.jsx(vc,{className:"w-8 h-8"}):l.jsx(ii,{className:"w-8 h-8"})}),l.jsx("button",{onClick:i,className:"p-2 rounded-full text-text-primary hover:bg-border-color focus:outline-none","aria-label":"Next Surah",children:l.jsx(w1,{className:"w-7 h-7"})})]}),l.jsxs("div",{className:"w-full flex items-center gap-2 mt-3",children:[l.jsx("span",{className:"text-xs font-mono text-text-secondary w-10 text-center",children:j(y)}),l.jsx("div",{className:"w-full bg-border-color rounded-full h-2 cursor-pointer group",onClick:I,role:"slider","aria-valuenow":N,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"Audio progress",children:l.jsx("div",{className:"bg-primary h-2 rounded-full relative",style:{width:`${N}%`},children:l.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 translate-x-1/2 w-4 h-4 bg-white rounded-full shadow border-2 border-primary transition-transform group-hover:scale-110"})})}),l.jsx("span",{className:"text-xs font-mono text-text-secondary w-10 text-center",children:j(S)})]})]}),l.jsxs("div",{className:"w-1/4 flex items-center justify-end",children:[l.jsx("button",{onClick:()=>U(M=>!M),className:`p-2 rounded-full hover:bg-border-color focus:outline-none ${_?"text-primary":"text-text-secondary"}`,"aria-label":"Repeat Ayah",children:l.jsx(_1,{className:"w-6 h-6"})}),f>0&&d&&l.jsxs("p",{className:"text-sm text-text-secondary mr-2",children:[d.numberInSurah,"/",f]})]})]})})]}):null},R1=({className:e,isFilled:t})=>l.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:t?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx("path",{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"})}),I1=({surah:e,currentAyah:t,showTafsir:n,onToggleTafsir:a,tafsirText:i,isTafsirLoading:o,isTafsirError:s,bookmarks:u,onToggleBookmark:d})=>{const f=!!(t&&u[e.id]===t.numberInSurah),m=t&&t.numberInSurah===1&&e.id!==1&&e.id!==9,p=()=>t?m?t.text.replace(/^بِسْمِ ٱللَّهِ ٱلرَّحْمَٰنِ ٱلرَّحِيمِ\s*/,""):t.text:"",h=({active:g,onClick:v,children:N})=>l.jsx("button",{onClick:v,className:`px-4 py-2 text-sm font-semibold rounded-md transition-colors ${g?"bg-primary text-black":"text-text-secondary hover:bg-border-color"}`,children:N});return l.jsx("div",{className:"px-4 sm:px-6 lg:px-8 pt-6",children:l.jsxs("div",{className:"bg-card rounded-xl shadow-lg border border-border-color p-6 animate-fade-in",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("div",{className:"flex items-center gap-4",children:l.jsx(h,{active:n,onClick:a,children:"التفسير"})}),l.jsx("div",{className:"flex items-center space-x-2",children:l.jsx("button",{onClick:()=>t&&d(e.id,t.numberInSurah),disabled:!t,className:`p-2 rounded-full transition-colors ${f?"text-primary bg-primary/20":"text-text-secondary hover:bg-primary/10"}`,"aria-label":f?"Remove bookmark":"Add bookmark",children:l.jsx(R1,{className:"w-6 h-6",isFilled:f})})})]}),l.jsxs("div",{className:"border-t border-border-color pt-4 mt-4",children:[l.jsx("div",{className:"flex items-center justify-center p-4",children:t?l.jsxs("div",{className:"text-center",children:[m&&l.jsx("p",{className:"text-2xl md:text-3xl font-amiri-quran text-text-primary leading-loose mb-4",children:"بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ"}),l.jsxs("p",{className:"text-3xl md:text-4xl font-amiri-quran text-text-primary leading-loose",children:[p(),l.jsxs("span",{className:"font-sans text-lg align-middle mx-2 p-1 text-primary",children:["(",t.numberInSurah,")"]})]},t.number)]}):l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-text-secondary text-lg",children:"اختر سورة للبدء."}),l.jsx("p",{className:"text-sm text-text-secondary",children:"من القائمة على اليسار"})]})}),n&&l.jsx("div",{className:"mt-4 border-t border-border-color/50 pt-4 animate-fade-in",children:l.jsxs("div",{className:"flex flex-col justify-center",children:[l.jsxs("h4",{className:"font-semibold mb-2 text-text-primary",children:["التفسير الميسر للآية ",t==null?void 0:t.numberInSurah]}),l.jsx("div",{className:"flex-grow flex items-center justify-center rounded-lg bg-background p-4 min-h-[8rem]",children:o?l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary",role:"status",children:l.jsx("span",{className:"sr-only",children:"Loading..."})}):s?l.jsx("p",{className:"text-red-500 text-center",children:i}):i&&l.jsx("p",{className:"text-text-secondary max-w-none leading-relaxed text-right",children:i})})]})})]})]})})},yf=({className:e})=>l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),nl=({className:e})=>l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),k1=({isOpen:e,onClose:t,azkarSettings:n,onAzkarSettingsChange:a,surahs:i,downloadedTafsir:o,onDeleteTafsir:s})=>{const[u,d]=T.useState(!1),[f,m]=T.useState(!1);T.useEffect(()=>{e&&(typeof Notification<"u"&&Notification.permission==="default"?m(!0):m(!1))},[e]);const p=()=>{if(!n.isEnabled){if(typeof Notification>"u"){alert("هذا المتصفح لا يدعم الإشعارات.");return}Notification.permission==="granted"?(a({...n,isEnabled:!0}),d(!0)):Notification.permission!=="denied"?Notification.requestPermission().then(N=>{N==="granted"?(a({...n,isEnabled:!0}),d(!0),m(!1)):alert("لتمكين الإشعارات، يرجى منح الإذن.")}):alert("تم حظر الإشعارات. يرجى تفعيلها من إعدادات المتصفح.")}else a({...n,isEnabled:!1})},h=()=>{typeof Notification<"u"&&Notification.permission==="default"&&Notification.requestPermission().then(()=>{m(!1)})},g=T.useMemo(()=>i.filter(v=>o.has(v.id)),[i,o]);return e?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 bg-black/75 flex items-center justify-center z-50 animate-fade-in",onClick:t,children:l.jsxs("div",{className:"bg-card rounded-lg shadow-xl p-6 sm:p-8 w-full max-w-md m-4",onClick:v=>v.stopPropagation(),children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-text-primary",children:"الإعدادات"}),l.jsx("button",{onClick:t,className:"text-text-secondary text-3xl leading-none hover:text-text-primary",children:"×"})]}),l.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2 custom-scrollbar",children:[f&&l.jsxs("div",{className:"p-3 bg-blue-500/10 text-blue-800 dark:text-blue-300 rounded-lg flex items-start gap-3 animate-fade-in",children:[l.jsx(yf,{className:"w-5 h-5 mt-1 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold",children:"تفعيل التنبيهات"}),l.jsx("p",{className:"text-xs mt-1",children:"للاستفادة من تنبيهات الصلاة والأذكار، يرجى تمكين الإشعارات."}),l.jsx("button",{onClick:h,className:"mt-2 text-xs font-bold bg-blue-200 dark:bg-blue-800/50 text-blue-800 dark:text-blue-200 px-3 py-1 rounded-md hover:bg-blue-300 dark:hover:bg-blue-800",children:"تمكين الإشعارات"})]})]}),l.jsxs("div",{className:"p-3 bg-background rounded-lg space-y-3",children:[l.jsx("h3",{className:"font-medium text-text-primary",children:"إعدادات التنبيهات"}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("label",{htmlFor:"azkar-toggle",className:"text-sm text-text-primary",children:"تنبيهات الأذكار"}),l.jsx("button",{role:"switch","aria-checked":n.isEnabled,onClick:p,className:`${n.isEnabled?"bg-primary":"bg-border-color"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none`,children:l.jsx("span",{className:`${n.isEnabled?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),n.isEnabled&&l.jsxs("div",{className:"flex items-center justify-between animate-fade-in pl-2",children:[l.jsx("label",{htmlFor:"azkar-frequency",className:"text-xs text-text-secondary",children:"التكرار"}),l.jsxs("select",{id:"azkar-frequency",value:n.frequency,onChange:v=>a({...n,frequency:Number(v.target.value)}),className:"bg-card border border-border-color text-text-primary text-xs rounded-md focus:ring-primary focus:border-primary block p-1",children:[l.jsx("option",{value:1,children:"كل ساعة"}),l.jsx("option",{value:3,children:"كل 3 ساعات"}),l.jsx("option",{value:12,children:"مرتين يوميًا"})]})]})]}),l.jsxs("div",{className:"p-3 bg-background rounded-lg space-y-3",children:[l.jsx("h3",{className:"font-medium text-text-primary",children:"إدارة المحتوى المحمّل"}),l.jsx("div",{className:"max-h-40 overflow-y-auto space-y-2",children:g.length>0?g.map(v=>l.jsxs("div",{className:"p-2 bg-card rounded",children:[l.jsx("span",{className:"text-sm font-amiri-quran font-semibold",children:v.name}),l.jsx("div",{className:"pl-4 mt-1 space-y-1",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-xs text-text-secondary",children:"تفسير"}),l.jsx("button",{onClick:()=>s(v.id),className:"text-red-500 hover:text-red-700 p-1 rounded-full","aria-label":`Delete tafsir for ${v.name}`,children:l.jsx(nl,{className:"w-4 h-4"})})]})})]},v.id)):l.jsx("p",{className:"text-xs text-text-secondary text-center p-4",children:"لا يوجد محتوى محمّل."})})]})]}),l.jsx("div",{className:"mt-8 text-center",children:l.jsx("button",{onClick:t,className:"bg-primary text-white font-bold py-2 px-6 rounded-md hover:opacity-90 focus:outline-none",children:"تم"})})]})}),u&&l.jsx("div",{className:"fixed inset-0 bg-black/75 flex items-center justify-center z-[60]",onClick:()=>d(!1),children:l.jsxs("div",{className:"bg-card rounded-lg shadow-xl p-6 w-full max-w-sm m-4 text-center",onClick:v=>v.stopPropagation(),children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:l.jsx(yf,{className:"w-6 h-6 text-primary"})})}),l.jsx("h3",{className:"text-lg font-bold text-text-primary mb-3",children:"تنبيه هام"}),l.jsx("p",{className:"text-sm text-text-secondary mb-5",children:"لضمان وصول إشعارات الأذكار بانتظام، قد تحتاج إلى استثناء التطبيق من إعدادات توفير البطارية على جهازك."}),l.jsx("button",{onClick:()=>d(!1),className:"bg-primary text-white font-bold py-2 px-6 rounded-md hover:opacity-90 w-full",children:"حسنًا، فهمت"})]})})]}):null},vf=6236,D1=()=>new Date().toISOString().split("T")[0],q1=({isOpen:e,onClose:t,challenge:n,onUpdateChallenge:a})=>{const[i,o]=T.useState(30),s=()=>{const g={isActive:!0,isPaused:!1,startDate:new Date().toISOString(),durationDays:i,progress:{},completedAyahs:{}};a(g)},u=()=>{window.confirm("هل أنت متأكد من رغبتك في إعادة تعيين التحدي؟ سيتم حذف كل تقدمك.")&&a(null)},d=()=>{n&&a({...n,isPaused:!n.isPaused})},f=()=>{const g=window.prompt("أدخل المدة الجديدة بالأيام:",String((n==null?void 0:n.durationDays)||30));if(g){const v=parseInt(g,10);!isNaN(v)&&v>0&&n&&a({...n,durationDays:v})}},m=T.useMemo(()=>{if(!n||!n.isActive)return null;const g=Object.values(n.completedAyahs||{}).flat().length,v=vf-g,N=Math.min(100,g/vf*100),b=new Date(n.startDate),x=new Date(D1()).getTime()-b.getTime(),S=Math.max(0,Math.floor(x/(1e3*3600*24))),E=Math.max(0,n.durationDays-S),_=E>0?Math.ceil(v/E):v;return{totalCompleted:g,ayahsRemaining:v,overallProgress:N,daysElapsed:S,daysRemaining:E,requiredPace:_}},[n]);if(!e)return null;const p=()=>l.jsxs("div",{className:"text-center",children:[l.jsx("h3",{className:"text-xl font-bold text-text-primary mb-2",children:"ابدأ تحدي ختم القرآن"}),l.jsx("p",{className:"text-text-secondary mb-6",children:"حدد المدة التي ترغب في إكمال القرآن خلالها."}),l.jsxs("div",{className:"flex items-center justify-center gap-4 mb-8",children:[l.jsx("label",{htmlFor:"duration",className:"font-medium text-text-primary",children:"أريد أن أختم في"}),l.jsx("input",{type:"number",id:"duration",value:i,onChange:g=>o(Math.max(1,parseInt(g.target.value,10)||1)),className:"w-24 text-center bg-background border border-border-color rounded-md p-2 focus:ring-primary focus:border-primary"}),l.jsx("span",{className:"font-medium text-text-primary",children:"يومًا"})]}),l.jsx("button",{onClick:s,className:"w-full bg-primary text-white font-bold py-2 px-4 rounded-md hover:opacity-90",children:"ابدأ التحدي"})]}),h=()=>{if(!n||!m)return null;const{totalCompleted:g,ayahsRemaining:v,overallProgress:N,daysRemaining:b,requiredPace:y}=m;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[l.jsx("h3",{className:"font-bold text-text-primary",children:"تقدمك في الختمة"}),l.jsxs("span",{className:"text-sm font-mono text-primary",children:[N.toFixed(1),"%"]})]}),l.jsx("div",{className:"w-full bg-border-color rounded-full h-2.5",children:l.jsx("div",{className:"bg-primary h-2.5 rounded-full",style:{width:`${N}%`}})})]}),l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 text-center",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-primary",children:g}),l.jsx("p",{className:"text-sm text-text-secondary",children:"آية تمت قراءتها"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-primary",children:b}),l.jsx("p",{className:"text-sm text-text-secondary",children:"يومًا متبقيًا"})]}),l.jsxs("div",{className:"col-span-2 sm:col-span-1",children:[l.jsx("p",{className:"text-2xl font-bold text-primary",children:n.isPaused?"-":y}),l.jsx("p",{className:"text-sm text-text-secondary",children:"آية/يوم للمتابعة"})]})]}),n.isPaused&&l.jsx("div",{className:"p-4 text-center bg-yellow-500/10 text-yellow-700 dark:text-yellow-400 rounded-lg",children:l.jsx("p",{className:"font-semibold",children:"التحدي متوقف مؤقتًا. استأنف للمتابعة."})}),l.jsxs("div",{className:"border-t border-border-color pt-4",children:[l.jsx("h4",{className:"font-semibold text-text-primary mb-3",children:"إدارة التحدي"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx("button",{onClick:d,className:"bg-primary/20 text-primary font-semibold py-2 px-4 rounded-md hover:bg-primary/30",children:n.isPaused?"استئناف التحدي":"إيقاف مؤقت"}),l.jsx("button",{onClick:f,className:"bg-background text-text-primary font-semibold py-2 px-4 rounded-md hover:bg-border-color",children:"تعديل المدة"}),l.jsx("button",{onClick:u,className:"col-span-2 bg-red-500/10 text-red-600 font-semibold py-2 px-4 rounded-md hover:bg-red-500/20",children:"إعادة تعيين التحدي"})]})]})]})};return l.jsx("div",{className:"fixed inset-0 bg-black/75 flex items-center justify-center z-50 animate-fade-in",onClick:t,children:l.jsxs("div",{className:"bg-card rounded-lg shadow-xl p-6 sm:p-8 w-full max-w-md m-4",onClick:g=>g.stopPropagation(),children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-text-primary",children:"تحدي ختم القرآن"}),l.jsx("button",{onClick:t,className:"text-text-secondary text-3xl leading-none hover:text-text-primary",children:"×"})]}),n&&n.isActive?h():p()]})})},U1=({surahResults:e,ayahResults:t,isSearching:n,searchError:a,onSurahSelect:i,onPlayAyah:o,currentSurahId:s})=>{const u=n||t.length>0||a;return l.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pt-4 pb-8",children:l.jsxs("div",{className:"space-y-6",children:[e.length>0&&l.jsxs("div",{className:"animate-fade-in",children:[l.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-3 px-2",children:"السور المطابقة"}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(d=>l.jsx("div",{onClick:()=>i(d),className:`p-4 rounded-lg shadow-md transition-all duration-200 text-left w-full flex items-center justify-between cursor-pointer ${s===d.id?"bg-primary text-white transform scale-105":"bg-card hover:bg-border-color"}`,children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:`w-10 h-10 flex items-center justify-center rounded-full text-sm font-medium ml-4 ${s===d.id?"bg-white text-primary":"bg-background text-text-secondary"}`,children:d.id}),l.jsx("p",{className:`font-semibold font-amiri-quran text-xl ${s===d.id?"text-white":"text-text-primary"}`,children:d.name})]})},`surah-res-${d.id}`))})]}),u&&l.jsxs("div",{className:"animate-fade-in",children:[l.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-3 px-2",children:"الآيات ذات الصلة"}),n&&l.jsx("div",{className:"flex justify-center items-center p-8",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary",role:"status",children:l.jsx("span",{className:"sr-only",children:"Searching..."})})}),a&&l.jsx("p",{className:"text-red-500 text-center bg-red-500/10 p-4 rounded-lg",children:a}),!n&&t.length>0&&l.jsx("div",{className:"space-y-3",children:t.map(d=>l.jsxs("div",{className:"bg-card p-4 rounded-lg shadow-md flex items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex-grow",children:[l.jsx("p",{className:"font-amiri-quran text-lg text-text-primary leading-relaxed",children:d.text}),l.jsxs("p",{className:"text-xs text-text-secondary mt-2",children:[d.surahName," - الآية ",d.ayahIdInSurah]})]}),l.jsx("button",{onClick:()=>o(d),className:"p-3 rounded-full text-primary bg-primary/10 hover:bg-primary/20 transition-colors flex-shrink-0","aria-label":`Play Ayah ${d.ayahIdInSurah} from Surah ${d.surahName}`,children:l.jsx(ii,{className:"w-6 h-6"})})]},`${d.surahId}-${d.ayahIdInSurah}`))}),!n&&!a&&t.length===0&&e.length===0&&l.jsxs("div",{className:"text-center text-text-secondary py-8",children:[l.jsx("p",{className:"font-semibold",children:"لا توجد نتائج."}),l.jsx("p",{className:"text-sm",children:'حاول البحث عن موضوع مثل "الصبر" أو "الجنة".'})]})]})]})})},L1=({stats:e})=>l.jsxs("div",{className:"bg-card rounded-lg shadow-md p-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-3 text-center",children:"إحصائيات الاستماع"}),l.jsxs("div",{className:"flex justify-around",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-primary",children:e.hoursThisWeek.toFixed(1)}),l.jsx("p",{className:"text-sm text-text-secondary",children:"ساعة هذا الأسبوع"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-primary",children:e.surahsCompleted}),l.jsx("p",{className:"text-sm text-text-secondary",children:"سورة مكتملة"})]})]})]}),Sf=6236,j1=()=>new Date().toISOString().split("T")[0],V1=({challenge:e})=>{if(!e||!e.isActive)return null;const t=Object.values(e.completedAyahs||{}).flat().length;if(t>=Sf)return l.jsxs("div",{className:"bg-card rounded-lg shadow-md p-4 flex items-center gap-4 animate-fade-in",children:[l.jsx(ts,{className:"w-8 h-8 text-primary"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-text-primary",children:"مبارك!"}),l.jsx("p",{className:"text-sm text-text-secondary",children:"لقد أكملت تحدي ختم القرآن بنجاح."})]})]});if(e.isPaused)return l.jsxs("div",{className:"bg-card rounded-lg shadow-md p-4 flex items-center gap-4 animate-fade-in",children:[l.jsx(ts,{className:"w-8 h-8 text-text-secondary"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-text-primary",children:"التحدي متوقف مؤقتًا"}),l.jsx("p",{className:"text-sm text-text-secondary",children:"استأنف التحدي من صفحة التحدي للمتابعة."})]})]});const n=j1(),a=new Date(e.startDate),o=new Date(n).getTime()-a.getTime(),s=Math.max(0,Math.floor(o/(1e3*3600*24))),u=Sf-t,d=Math.max(1,e.durationDays-s),f=d>0?Math.ceil(u/d):u,m=e.progress[n]||0,p=Math.max(0,f-m);return l.jsx("div",{className:"bg-card rounded-lg shadow-md p-4 animate-fade-in",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(ts,{className:"w-8 h-8 text-primary"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-text-primary",children:"ورد اليوم"}),l.jsx("p",{className:"text-sm text-text-secondary",children:"هدف اليوم لإتمام ختم القرآن."})]})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-primary",children:p}),l.jsx("p",{className:"text-sm text-text-secondary",children:"آية متبقية"})]})]})})},bf={Algeria:["Algiers","Oran","Constantine","Annaba","Batna"],Australia:["Sydney","Melbourne","Brisbane","Perth","Adelaide","Gold Coast","Canberra","Newcastle","Wollongong","Logan City"],Bahrain:["Manama","Riffa","Muharraq","Hamad Town"],Canada:["Toronto","Montreal","Vancouver","Calgary","Edmonton","Ottawa","Mississauga","Winnipeg","Quebec City","Hamilton"],Comoros:["Moroni","Mutsamudu"],Djibouti:["Djibouti"],Egypt:["Cairo","Alexandria","Giza","Shubra El-Kheima","Port Said","Suez","Luxor","al-Mansura","El-Mahalla El-Kubra","Tanta","Asyut","Ismailia","Fayyum","Zagazig","Aswan","Damietta","Damanhur","al-Minya","Beni Suef","Qena","Sohag","Hurghada","6th of October City","Shibin El Kom","Banha","Kafr el-Sheikh","Arish","Mallawi","10th of Ramadan City","Bilbais","Marsa Matruh","Idfu","Mit Ghamr","Al-Hamidiyya","Desouk","Qalyub","Abu Kabir","Kafr el-Dawwar","Jirja","Akhmim","Matareya"],India:["Delhi","Mumbai","Kolkata","Bangalore","Chennai","Hyderabad","Pune","Ahmedabad","Surat","Lucknow"],Indonesia:["Jakarta","Surabaya","Bandung","Medan","Bekasi","Tangerang","Depok","Semarang","Palembang","Makassar"],Iraq:["Baghdad","Mosul","Basra","Erbil","Kirkuk","Najaf","Karbala"],Jordan:["Amman","Zarqa","Irbid","Russeifa","Aqaba"],Kuwait:["Kuwait City","Al Ahmadi","Hawalli","Salmiya"],Lebanon:["Beirut","Tripoli","Sidon","Tyre"],Libya:["Tripoli","Benghazi","Misrata","Sirte"],Malaysia:["Kuala Lumpur","George Town","Ipoh","Shah Alam","Petaling Jaya","Johor Bahru","Malacca City","Kota Kinabalu","Alor Setar","Kuantan"],Mauritania:["Nouakchott","Nouadhibou"],Morocco:["Casablanca","Rabat","Fes","Marrakesh","Tangier","Agadir"],Oman:["Muscat","Seeb","Salalah","Bawshar","Sohar"],Pakistan:["Karachi","Lahore","Faisalabad","Rawalpindi","Gujranwala","Peshawar","Multan","Hyderabad","Islamabad","Quetta"],Palestine:["Jerusalem","Gaza","Hebron","Nablus","Ramallah","Jenin"],Qatar:["Doha","Al Rayyan","Al Wakrah","Umm Salal"],"Saudi Arabia":["Riyadh","Jeddah","Mecca","Medina","Sultanah","Dammam","Ta'if","Tabuk","Al Kharj","Buraidah","Khamis Mushait","Al Hufuf","Al Mubarraz","Hafar Al-Batin","Ha'il","Najran","Al Jubayl","Abha","Yanbu","Al Qunfudhah","Sabya","Jizan","Al Bahah","Skaka"],Somalia:["Mogadishu","Hargeisa","Bosaso"],Sudan:["Khartoum","Omdurman","Port Sudan","Kassala"],Syria:["Damascus","Aleppo","Homs","Latakia","Hama"],Tunisia:["Tunis","Sfax","Sousse","Kairouan","Bizerte"],"United Arab Emirates":["Dubai","Abu Dhabi","Sharjah","Al Ain","Ajman","Ras Al Khaimah","Fujairah","Umm Al Quwain","Khor Fakkan","Dibba Al-Fujairah"],"United Kingdom":["London","Birmingham","Glasgow","Liverpool","Bristol","Manchester","Sheffield","Leeds","Edinburgh","Leicester"],"United States":["New York","Los Angeles","Chicago","Houston","Phoenix","Philadelphia","San Antonio","San Diego","Dallas","San Jose","Austin","Jacksonville","Fort Worth","Columbus","Charlotte","San Francisco","Indianapolis","Seattle","Denver","Washington"],Yemen:["Sana'a","Aden","Ta'izz","Al Hudaydah","Ibb"]},Ef=["سبحان الله وبحمده، سبحان الله العظيم","لا إله إلا الله وحده لا شريك له، له الملك وله الحمد وهو على كل شيء قدير","اللهم صلِّ وسلِّم على نبينا محمد","أستغفر الله العظيم وأتوب إليه","سبحان الله، والحمد لله، ولا إله إلا الله، والله أكبر","لا حول ولا قوة إلا بالله","اللهم أعنِّ على ذكرك وشكرك وحسن عبادتك","يا حي يا قيوم برحمتك أستغيث","رضيت بالله ربًا، وبالإسلام دينًا، وبمحمدٍ نبيًا"],z1=[{id:"mishary",name:"مشاري راشد العفاسي",audioUrl:"https://www.islamcan.com/audio/adhan/azan2.mp3"},{id:"mecca",name:"أذان الحرم المكي",audioUrl:"https://www.islamcan.com/audio/adhan/azan15.mp3"},{id:"medina",name:"أذان الحرم المدني",audioUrl:"https://www.islamcan.com/audio/adhan/azan16.mp3"},{id:"egypt",name:"الأذان المصري",audioUrl:"https://www.islamcan.com/audio/adhan/azan13.mp3"}],P1=({className:e})=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 10h6v4H9z"})]}),on={Fajr:"الفجر",Dhuhr:"الظهر",Asr:"العصر",Maghrib:"المغرب",Isha:"العشاء"},B1={Egypt:3,"Saudi Arabia":4,"United Arab Emirates":15,"United States":2,Canada:2,"United Kingdom":1,Australia:1,Pakistan:5,India:5,Indonesia:1,Malaysia:1,Kuwait:8,Qatar:9},G1=({className:e})=>l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"3",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 12H4"})}),H1=({className:e})=>l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"3",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),O1=({settings:e,onSettingsChange:t})=>{const[n,a]=T.useState(null),[i,o]=T.useState(null),[s,u]=T.useState(""),[d,f]=T.useState(!0),[m,p]=T.useState(null),[h,g]=T.useState(!1),[v,N]=T.useState(e),[b,y]=T.useState(null),x=T.useRef(null),S=T.useRef();T.useEffect(()=>{if(h){const A=Object.entries(e.tune).reduce((I,[j,M])=>(I[j]=M===0?"":String(M),I),{});N({...e,tune:A})}},[h,e]),T.useEffect(()=>{const A=async()=>{f(!0),p(null);try{const{city:I,country:j,method:M,school:z,tune:K}=e,L={Imsak:0,Fajr:0,Sunrise:0,Dhuhr:0,Asr:0,Maghrib:0,Isha:0,Midnight:0,...K},R=`${L.Imsak},${L.Fajr},${L.Sunrise},${L.Dhuhr},${L.Asr},${L.Maghrib},${L.Isha},${L.Midnight}`,G=await(await fetch(`https://api.aladhan.com/v1/timingsByCity?city=${encodeURIComponent(I)}&country=${encodeURIComponent(j)}&method=${M}&school=${z}&tune=${R}`)).json();if(G.code!==200||!G.data.timings)throw new Error(G.data||"Failed to fetch prayer times.");const{Fajr:se,Dhuhr:he,Asr:ne,Maghrib:Fe,Isha:qt}=G.data.timings;a({Fajr:se,Dhuhr:he,Asr:ne,Maghrib:Fe,Isha:qt})}catch(I){p(I instanceof Error?I.message:"An unknown error occurred.")}finally{f(!1)}};e.city&&e.country?A():(f(!1),p("الرجاء تحديد الموقع في الإعدادات."))},[e]),T.useEffect(()=>{const A=()=>{if(!n)return;const I=new Date;let j=null;const M=Object.entries(n).filter(([z])=>on[z]).map(([z,K])=>{const[L,R]=K.split(":").map(Number),B=new Date;return B.setHours(L,R,0,0),{name:on[z],time:K,date:B}}).sort((z,K)=>z.date.getTime()-K.date.getTime());for(const z of M)if(z.date>I){j=z;break}if(!j&&M.length>0){const z=M[0];z.date.setDate(z.date.getDate()+1),j=z}if(o(j?{name:j.name,time:j.time}:null),j){const z=j.date.getTime()-I.getTime(),K=Math.floor(z/(1e3*60*60)),L=Math.floor(z%(1e3*60*60)/(1e3*60)),R=Math.floor(z%(1e3*60)/1e3);u(`${String(K).padStart(2,"0")}:${String(L).padStart(2,"0")}:${String(R).padStart(2,"0")}`)}else u("")};return A(),S.current=window.setInterval(A,1e3),()=>clearInterval(S.current)},[n]),T.useEffect(()=>{const A=x.current;if(!A)return;const I=()=>y(null);return A.addEventListener("ended",I),()=>{A.removeEventListener("ended",I)}},[]);const E=()=>{const A={...v},I=Object.entries(A.tune).reduce((j,[M,z])=>(j[M]=parseInt(String(z),10)||0,j),{});t({...A,tune:I}),g(!1)},_=T.useMemo(()=>Object.keys(bf).sort(),[]),U=T.useMemo(()=>{var A;return((A=bf[v.country])==null?void 0:A.sort())||[]},[v.country]),w=A=>{x.current&&(b===A?(x.current.pause(),x.current.currentTime=0,y(null)):(x.current.src=A,x.current.play().catch(console.error),y(A)))},q=(A,I)=>{N(j=>{var K;const z=parseInt(((K=j.tune)==null?void 0:K[A])||"0",10)+I;return{...j,tune:{...j.tune,[A]:z===0?"":String(z)}}})};return l.jsxs("div",{className:"bg-card rounded-lg shadow-md p-4 animate-fade-in",children:[l.jsx("audio",{ref:x}),l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-text-primary",children:"المؤذن"}),l.jsxs("p",{className:"text-sm text-text-secondary",children:[e.city,", ",e.country]})]}),l.jsx("button",{onClick:()=>g(A=>!A),className:"p-2 rounded-full text-text-secondary hover:bg-border-color",children:l.jsx(tx,{className:"w-6 h-6"})})]}),h&&l.jsxs("div",{className:"animate-fade-in space-y-4 mb-4 border-t border-border-color pt-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-text-primary mb-2",children:"الموقع والتوقيت"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx("select",{value:v.country,onChange:A=>{const I=A.target.value,j=B1[I]||1;N(M=>({...M,country:I,city:"",method:j}))},className:"w-full bg-background border border-border-color rounded-md py-2 px-3 text-sm",children:_.map(A=>l.jsx("option",{value:A,children:A},A))}),l.jsxs("select",{value:v.city,onChange:A=>N(I=>({...I,city:A.target.value})),disabled:!v.country,className:"w-full bg-background border border-border-color rounded-md py-2 px-3 text-sm",children:[l.jsx("option",{value:"",children:"اختر المدينة"}),U.map(A=>l.jsx("option",{value:A,children:A},A))]}),l.jsxs("select",{value:v.school,onChange:A=>N(I=>({...I,school:Number(A.target.value)})),className:"w-full bg-background border border-border-color rounded-md py-2 px-3 text-sm col-span-2",children:[l.jsx("option",{value:0,children:"توقيت العصر (شافعي/مالكي/حنبلي)"}),l.jsx("option",{value:1,children:"توقيت العصر (حنفي)"})]})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-text-primary mb-2",children:"تعديل دقيق للأوقات (بالدقائق)"}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3 text-center text-sm",children:Object.keys(on).map(A=>{var I;return l.jsxs("div",{children:[l.jsx("label",{htmlFor:`tune-${A}`,className:"font-medium text-text-secondary",children:on[A]}),l.jsxs("div",{className:"flex items-center justify-center mt-1 bg-background border border-border-color rounded-lg w-full mx-auto",children:[l.jsx("button",{onClick:()=>q(A,-1),className:"p-2 text-text-secondary hover:text-primary rounded-l-lg hover:bg-border-color transition-colors","aria-label":`Decrease minutes for ${on[A]}`,children:l.jsx(G1,{className:"w-4 h-4"})}),l.jsx("input",{id:`tune-${A}`,type:"text",value:((I=v.tune)==null?void 0:I[A])||"",onChange:j=>{const M=j.target.value;(M===""||M==="-"||/^-?\d*$/.test(M))&&N(z=>({...z,tune:{...z.tune,[A]:M}}))},className:"w-full p-2 text-center bg-transparent border-x border-border-color focus:outline-none focus:ring-1 focus:ring-primary/50",placeholder:""}),l.jsx("button",{onClick:()=>q(A,1),className:"p-2 text-text-secondary hover:text-primary rounded-r-lg hover:bg-border-color transition-colors","aria-label":`Increase minutes for ${on[A]}`,children:l.jsx(H1,{className:"w-4 h-4"})})]})]},A)})})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-text-primary mb-2",children:"الأذان"}),l.jsx("div",{className:"space-y-2",children:z1.map(A=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-background rounded-md",children:[l.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[l.jsx("input",{type:"radio",name:"muazzin",value:A.id,checked:v.muazzinId===A.id,onChange:()=>N(I=>({...I,muazzinId:A.id})),className:"form-radio text-primary focus:ring-primary"}),A.name]}),l.jsx("button",{onClick:()=>w(A.audioUrl),className:"p-1 rounded-full text-primary hover:bg-primary/10",children:b===A.audioUrl?l.jsx(P1,{className:"w-5 h-5"}):l.jsx(ii,{className:"w-5 h-5"})})]},A.id))})]}),l.jsx("button",{onClick:E,className:"w-full bg-primary text-white font-bold py-2 rounded-md hover:opacity-90 mt-2",children:"حفظ الإعدادات"})]}),d&&l.jsx("p",{className:"text-center text-sm text-text-secondary py-4",children:"...جاري تحميل أوقات الصلاة"}),m&&l.jsx("p",{className:"text-center text-sm text-red-500 py-4",children:m}),n&&!d&&!m&&l.jsxs(l.Fragment,{children:[i&&l.jsxs("div",{className:"text-center my-3 p-3 bg-primary/10 rounded-lg",children:[l.jsxs("p",{className:"text-sm text-primary",children:["الصلاة التالية: ",l.jsx("strong",{children:i.name})]}),l.jsx("p",{className:"text-2xl font-bold font-mono text-primary tracking-wider",children:s})]}),l.jsx("div",{className:"grid grid-cols-5 gap-2 text-center border-t border-border-color pt-3",children:Object.entries(n).map(([A,I])=>l.jsxs("div",{className:(i==null?void 0:i.name)===on[A]?"p-1 bg-primary/20 rounded-md":"p-1",children:[l.jsx("p",{className:"font-semibold text-text-primary text-sm",children:on[A]}),l.jsx("p",{className:"text-xs text-text-secondary font-mono",children:I})]},A))})]})]})},ax=({className:e})=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z",opacity:"0.4"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 12a6 6 0 11-12 0 6 6 0 0112 0z",opacity:"0.2"})]}),ix=({className:e})=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4.5h1.5a6 6 0 016 6v0a6 6 0 01-6 6H3"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 4.5h-1.5a6 6 0 00-6 6v0a6 6 0 006 6H21"})]}),J1=({className:e})=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v18m0-18l-3.5 3.5M12 3l3.5 3.5M2 12h20"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.636 14.364A5.002 5.002 0 013 18.25m14.728-3.886a5.002 5.002 0 00-2.636 3.886"})]}),Y1=({className:e})=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v.01M9 6v.01M15 6v.01M7.5 9.5v.01M16.5 9.5v.01"})]}),ox=({className:e})=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12a3 3 0 100-6 3 3 0 000 6z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12c-4.418 0-8 3.134-8 7h16c0-3.866-3.582-7-8-7z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.364 18.364A9 9 0 005.636 5.636",opacity:"0.2"})]}),sx=({className:e})=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9 9 0 110-18 9 9 0 010 18z",opacity:"0.5"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 11.25a3 3 0 100-6 3 3 0 000 6z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.21 15.79a3 3 0 10-4.42-4.42 3 3 0 004.42 4.42z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.21 15.79a3 3 0 10-4.42-4.42 3 3 0 004.42 4.42z"})]}),lx=({className:e})=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 21V10.875A4.125 4.125 0 018.625 6.75h6.75c2.278 0 4.125 1.847 4.125 4.125V21"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 21v-6.375a3.375 3.375 0 013.375-3.375h.001c1.862 0 3.374 1.512 3.374 3.375V21"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v3.75"})]}),Tf=({onNavigate:e,stats:t,challenge:n,muazzinSettings:a,onMuazzinSettingsChange:i})=>{const o=[{page:"audio",label:"أنصت",icon:l.jsx(ax,{className:"w-10 h-10 mb-3 text-primary"})},{page:"reading",label:"اقرأ",icon:l.jsx(ix,{className:"w-10 h-10 mb-3 text-primary"})},{page:"asbab",label:"تدبر",icon:l.jsx(Y1,{className:"w-10 h-10 mb-3 text-primary"})},{page:"quiz",label:"فقه وحكمة",icon:l.jsx(J1,{className:"w-10 h-10 mb-3 text-primary"})}];return l.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pt-6 pb-8 animate-fade-in",children:l.jsxs("div",{className:"space-y-6",children:[l.jsx(O1,{settings:a,onSettingsChange:i}),l.jsx(V1,{challenge:n}),l.jsx(L1,{stats:t}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-4",children:o.map(s=>l.jsxs("button",{onClick:()=>e(s.page),className:"bg-card rounded-2xl shadow-md p-6 flex flex-col items-center justify-center text-center hover:bg-border-color transform hover:-translate-y-1 transition-all duration-200",children:[s.icon,l.jsx("h2",{className:"text-lg font-bold text-text-primary",children:s.label})]},s.page))}),l.jsx("div",{className:"pt-4",children:l.jsxs("button",{onClick:()=>e("history"),className:"bg-card rounded-2xl shadow-md p-6 w-full flex flex-col items-center justify-center text-center hover:bg-border-color transform hover:-translate-y-1 transition-all duration-200",children:[l.jsx(lx,{className:"w-12 h-12 mb-3 text-primary"}),l.jsx("h2",{className:"text-xl font-bold text-text-primary",children:"اعرف تاريخك"}),l.jsx("p",{className:"text-sm text-text-secondary mt-1",children:"السيرة النبوية، الصحابة، والغزوات"})]})}),l.jsx("div",{className:"pt-4",children:l.jsxs("button",{onClick:()=>e("ronaq_mind"),className:"bg-card rounded-2xl shadow-md p-6 w-full flex flex-col items-center justify-center text-center hover:bg-border-color transform hover:-translate-y-1 transition-all duration-200",children:[l.jsx(sx,{className:"w-12 h-12 mb-3 text-primary"}),l.jsx("h2",{className:"text-xl font-bold text-text-primary",children:"Ronaq Mind"}),l.jsx("p",{className:"text-sm text-text-secondary mt-1",children:"حيث يلتقى الجمال بالذكاء"})]})}),l.jsx("div",{className:"pt-4",children:l.jsxs("button",{onClick:()=>e("kids"),className:"bg-card rounded-2xl shadow-md p-6 w-full flex flex-col items-center justify-center text-center hover:bg-border-color transform hover:-translate-y-1 transition-all duration-200",children:[l.jsx(ox,{className:"w-12 h-12 mb-3 text-primary"}),l.jsx("h2",{className:"text-xl font-bold text-text-primary",children:"عالم الطفل"}),l.jsx("p",{className:"text-sm text-text-secondary mt-1",children:"مغامرات قرآنية وتعاليم إسلامية شيقة"})]})})]})})},F1="ronaq-db",Q1=5,Rn="ayahs",It="tafsir",In="quranText",Ka="quranReference";let jo;const He=()=>new Promise((e,t)=>{if(jo)return e(jo);const n=window.indexedDB.open(F1,Q1);n.onerror=a=>{console.error("IndexedDB error:",a.target.error),t("IndexedDB error: "+a.target.error)},n.onsuccess=a=>{jo=a.target.result,e(jo)},n.onupgradeneeded=a=>{const i=a.target.result;a.oldVersion<4&&i.objectStoreNames.contains("kidsAudio")&&i.deleteObjectStore("kidsAudio"),i.objectStoreNames.contains(Rn)||i.createObjectStore(Rn,{keyPath:"id"}),i.objectStoreNames.contains(It)||i.createObjectStore(It,{keyPath:"id"}),i.objectStoreNames.contains(In)||i.createObjectStore(In,{keyPath:"id"}),i.objectStoreNames.contains(Ka)||i.createObjectStore(Ka,{keyPath:"id"})}}),K1=async(e,t,n,a)=>{const i=await He();return new Promise((o,s)=>{const d=i.transaction([Rn],"readwrite").objectStore(Rn),f=`${e}-${t}-${n}`,m=d.put({id:f,audioBlob:a});m.onsuccess=()=>o(),m.onerror=p=>{console.error("Failed to add ayah:",p.target.error),s("Failed to add ayah: "+p.target.error)}})},X1=async(e,t,n)=>{const a=await He();return new Promise((i,o)=>{const u=a.transaction([Rn],"readonly").objectStore(Rn),d=`${e}-${t}-${n}`,f=u.get(d);f.onsuccess=m=>{const p=m.target.result;i(p?p.audioBlob:null)},f.onerror=m=>{console.error("Failed to get ayah:",m.target.error),o("Failed to get ayah: "+m.target.error)}})},Nf=async(e,t,n)=>{const a=await He();return new Promise((i,o)=>{const u=a.transaction([It],"readwrite").objectStore(It),d=`${e}:${t}`,f=u.put({id:d,text:n});f.onsuccess=()=>i(),f.onerror=m=>{console.error("Failed to add tafsir:",m.target.error),o("Failed to add tafsir: "+m.target.error)}})},Af=async(e,t)=>{const n=await He();return new Promise((a,i)=>{const s=n.transaction([It],"readonly").objectStore(It),u=`${e}:${t}`,d=s.get(u);d.onsuccess=f=>{const m=f.target.result;a(m?m.text:null)},d.onerror=f=>{console.error("Failed to get tafsir:",f.target.error),i("Failed to get tafsir: "+f.target.error)}})},$1=async(e,t,n)=>{const a=await He();return new Promise((i,o)=>{const u=a.transaction([Ka],"readwrite").objectStore(Ka),d=`${e}:${t}`,f=u.put({id:d,...n});f.onsuccess=()=>i(),f.onerror=m=>o("Failed to add reference ayah: "+m.target.error)})},Z1=async(e,t)=>{const n=await He();return new Promise((a,i)=>{const s=n.transaction([Ka],"readonly").objectStore(Ka),u=`${e}:${t}`,d=s.get(u);d.onsuccess=f=>{const m=f.target.result;a(m||null)},d.onerror=f=>i("Failed to get reference ayah: "+f.target.error)})},rx=async e=>{const t=await He();return new Promise((n,a)=>{const s=t.transaction([e],"readonly").objectStore(e).getAllKeys();s.onsuccess=u=>{const d=u.target.result;n(d)},s.onerror=u=>{console.error("Failed to get keys:",u.target.error),a("Failed to get keys: "+u.target.error)}})},W1=async(e,t)=>{const n=await He();return new Promise((a,i)=>{const s=n.transaction([Rn],"readwrite").objectStore(Rn),u=`${e}-${t}-`,d=IDBKeyRange.bound(u,u+"￿"),f=s.delete(d);f.onsuccess=()=>a(),f.onerror=m=>{console.error("Failed to delete surah audio:",m.target.error),i("Failed to delete surah audio: "+m.target.error)}})},eS=async e=>{const t=await He();return new Promise((n,a)=>{const o=t.transaction([It],"readwrite").objectStore(It),s=`${e}:`,u=IDBKeyRange.bound(s,s+"￿"),d=o.delete(u);d.onsuccess=()=>n(),d.onerror=f=>{console.error("Failed to delete tafsirs for surah:",f.target.error),a("Failed to delete tafsirs for surah: "+f.target.error)}})},tS=async e=>{const t=await He();return new Promise((n,a)=>{const o=t.transaction([It],"readonly").objectStore(It),s=`${e}:`,u=IDBKeyRange.bound(s,s+"￿"),d=o.count(u);d.onsuccess=f=>{n(f.target.result)},d.onerror=f=>{console.error("Failed to count tafsirs for surah:",f.target.error),a("Failed to count tafsirs for surah: "+f.target.error)}})},nS=async(e,t)=>{const n=await He();return new Promise((a,i)=>{const u=n.transaction([In],"readwrite").objectStore(In).put({id:e,ayahs:t});u.onsuccess=()=>a(),u.onerror=d=>i("Failed to add surah text: "+d.target.error)})},aS=async e=>{const t=await He();return new Promise((n,a)=>{const s=t.transaction([In],"readonly").objectStore(In).get(e);s.onsuccess=u=>{const d=u.target.result;n(d?d.ayahs:null)},s.onerror=u=>a("Failed to get surah text: "+u.target.error)})},iS=async e=>{const t=await He();return new Promise((n,a)=>{const s=t.transaction([In],"readwrite").objectStore(In).delete(e);s.onsuccess=()=>n(),s.onerror=u=>a("Failed to delete surah text: "+u.target.error)})},oS=({className:e})=>l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),ux=({className:e})=>l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),sS=({className:e})=>l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v6m3-3h-6"})}),lS=({className:e})=>l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7"})}),rS={2:/^(الٓمٓ\s*)/,3:/^(الٓمٓ\s*)/,7:/^(الٓمٓصٓ\s*)/,10:/^(الٓرۚ?\s*)/,11:/^(الٓرۚ?\s*)/,12:/^(الٓرۚ?\s*)/,13:/^(الٓمٓرۚ?\s*)/,14:/^(الٓرۚ?\s*)/,15:/^(الٓرۚ?\s*)/,19:/^(كهيعٓصٓ\s*)/,20:/^(طه\s*)/,26:/^(طسٓمٓ\s*)/,27:/^(طسٓۚ?\s*)/,28:/^(طسٓمٓ\s*)/,29:/^(الٓمٓ\s*)/,30:/^(الٓمٓ\s*)/,31:/^(الٓمٓ\s*)/,32:/^(الٓمٓ\s*)/,36:/^(يسٓ\s*)/,38:/^(صٓۚ?\s*)/,40:/^(حمٓ\s*)/,41:/^(حمٓ\s*)/,42:/^(حمٓ\s*)/,43:/^(حمٓ\s*)/,44:/^(حمٓ\s*)/,45:/^(حمٓ\s*)/,46:/^(حمٓ\s*)/,50:/^(قٓۚ?\s*)/,68:/^(نٓۚ?\s*)/},uS=(e,t)=>{if(!e||e.length===0||parseInt(String(e[0].numberInSurah),10)!==1)return e;const n=e[0];if(t===42){const o=/^(حمٓ)\s*(عٓسٓقٓ)\s*(.*)$/s,s=n.text.match(o);if(s){const[,u,d,f]=s,m=f.trim(),p=[];p.push({...n,text:u,numberInSurah:1}),p.push({...n,number:parseFloat(String(n.number))+.5,text:d,numberInSurah:2});let h=1;m&&(p.push({...n,number:parseFloat(String(n.number))+.6,text:m,numberInSurah:3}),h=2);const g=e.slice(1).map(v=>({...v,numberInSurah:parseInt(String(v.numberInSurah),10)+h}));return[...p,...g]}}const a=rS[t];if(!a)return e;const i=n.text.match(a);if(i){const o=i[1].trim(),s=n.text.substring(i[0].length).trim();if(!s)return e;const u={...n,text:o,numberInSurah:1},d={...n,text:s,numberInSurah:2,number:parseFloat(String(n.number))+.5},f=e.slice(1).map(m=>({...m,numberInSurah:parseInt(String(m.numberInSurah),10)+1}));return[u,d,...f]}return e},cS=e=>e.replace(/^بِسْمِ ٱللَّهِ ٱلرَّحْمَٰنِ ٱلرَّحِيمِ\s*/,""),dS=({number:e,className:t})=>l.jsxs("svg",{viewBox:"0 0 40 40",className:`inline-block w-[1.5em] h-[1.5em] text-primary dark:text-primary/80 ${t}`,children:[l.jsx("path",{d:"M20,4 C28.837,4 36,11.163 36,20 C36,28.837 28.837,36 20,36 C11.163,36 4,28.837 4,20 C4,11.163 11.163,4 20,4 Z",fill:"none",stroke:"currentColor",strokeWidth:"1.5"}),l.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",fill:"currentColor",fontSize:"14",fontFamily:"sans-serif",fontWeight:"bold",children:e})]}),fS=({surah:e,onBack:t})=>{const[n,a]=T.useState(null),[i,o]=T.useState(0),[s,u]=T.useState(!0),[d,f]=T.useState(null),[m,p]=T.useState(()=>Number(localStorage.getItem("mushafFontSize")||28)),[h,g]=T.useState(null),[v,N]=T.useState(!1),b=T.useRef(null),y=T.useRef(null);T.useEffect(()=>{const M=z=>{y.current&&!y.current.contains(z.target)&&g(null)};return document.addEventListener("mousedown",M),()=>document.removeEventListener("mousedown",M)},[]),T.useEffect(()=>{localStorage.setItem("mushafFontSize",String(m))},[m]);const x=T.useCallback(async()=>{u(!0),f(null),a(null);try{let M=[];const z=await aS(e.id);if(z&&z.length>0)M=z;else{const ne=await fetch(`https://api.alquran.cloud/v1/surah/${e.id}/editions/quran-uthmani`);if(!ne.ok)throw new Error("فشل في جلب بيانات السورة من الإنترنت.");const Fe=await ne.json();if(Fe.code!==200||!Fe.data[0].ayahs)throw new Error("مصدر البيانات غير صالح.");M=Fe.data[0].ayahs}if(!M||M.length===0)throw new Error("لا توجد بيانات لهذه السورة.");const L=uS(M,e.id).map(ne=>({id:ne.number,text:ne.text,page_number:ne.page,juz_number:ne.juz,numberInSurah:ne.numberInSurah})),R=new Map;for(const ne of L)ne.page_number&&(R.has(ne.page_number)||R.set(ne.page_number,{pageNumber:ne.page_number,juzNumber:ne.juz_number,ayahs:[]}),R.get(ne.page_number).ayahs.push(ne));const B=Array.from(R.values()).sort((ne,Fe)=>ne.pageNumber-Fe.pageNumber);a(B);const se=JSON.parse(localStorage.getItem("lastReadPagePerSurah")||"{}")[e.id],he=se?B.findIndex(ne=>ne.pageNumber===se):0;o(he>-1?he:0)}catch(M){f(M instanceof Error?M.message:"حدث خطأ غير معروف.")}finally{u(!1)}},[e.id]);T.useEffect(()=>{x()},[x]),T.useEffect(()=>{if(n&&n[i]){const M=n[i].pageNumber,z=JSON.parse(localStorage.getItem("lastReadPagePerSurah")||"{}");z[e.id]=M,localStorage.setItem("lastReadPagePerSurah",JSON.stringify(z));const K={surahId:e.id,surahName:e.name,page:M};localStorage.setItem("lastReadLocation",JSON.stringify(K));const L=new Set(JSON.parse(localStorage.getItem("readPagesSet")||"[]"));L.has(M)||(L.add(M),localStorage.setItem("readPagesSet",JSON.stringify(Array.from(L))))}b.current&&(b.current.scrollTop=0)},[i,n,e.id,e.name]);const S=M=>{const z=i+M;n&&z>=0&&z<n.length&&(o(z),g(null))},E=(M,z)=>{const K=M.currentTarget.getBoundingClientRect();g({ayah:z,top:K.top+window.scrollY,left:K.left+window.scrollX}),N(!1)},_=()=>{if(!h)return;const M=`"${h.ayah.text}" (سورة ${e.name}, الآية ${h.ayah.numberInSurah})`;navigator.clipboard.writeText(M).then(()=>{N(!0),setTimeout(()=>{g(null)},1200)})},U=2,w=20,q=48,A=M=>{p(z=>{let K=z+(M==="in"?U:-U);return Math.max(w,Math.min(K,q))})},I=()=>{if(!n)return null;const M=n[i];if(!M||!M.ayahs)return null;const z=M.ayahs.some(R=>R.numberInSurah===1)&&i===0,K=z&&e.id!==1&&e.id!==9,L=l.jsx("div",{className:"text-center mb-4",children:l.jsx("div",{className:"p-2 border-y-4 border-double border-mushaf-border",children:l.jsx("h3",{className:"text-2xl font-bold font-amiri-quran text-text-primary",children:e.name})})});return l.jsxs(l.Fragment,{children:[z&&e.id!==1&&L,K&&l.jsx("p",{className:"font-amiri-quran tracking-wider my-4 text-center",style:{fontSize:`${m*1.1}px`},children:"بِسْمِ ٱللَّهِ ٱلرَّحْمَٰنِ ٱلرَّحِيمِ"}),M.ayahs.map(R=>{const B=e.id!==1&&e.id!==9&&R.numberInSurah===1?cS(R.text):R.text;return l.jsxs("span",{onClick:G=>E(G,R),className:"cursor-pointer hover:bg-primary/10 rounded-md",children:[B,l.jsx(dS,{number:R.numberInSurah})]},R.id)})]})},j=n==null?void 0:n[i];return l.jsxs("div",{className:"fixed inset-0 z-30 flex flex-col animate-fade-in bg-mushaf-background",children:[l.jsxs("header",{className:"flex-shrink-0 bg-background text-text-primary shadow-lg p-3 flex items-center justify-between border-b border-border-color",children:[l.jsx("button",{onClick:t,className:"p-2 rounded-full text-text-secondary hover:bg-border-color w-10 h-10 flex items-center justify-center","aria-label":"العودة إلى قائمة السور",children:l.jsx(Ee,{className:"w-6 h-6 transform scale-x-[-1]"})}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>S(1),disabled:!n||i>=n.length-1,className:"p-2 rounded-full text-text-secondary hover:bg-border-color disabled:opacity-40","aria-label":"الصفحة التالية",children:l.jsx(Ee,{className:"w-6 h-6 transform scale-x-[-1]"})}),l.jsx("span",{className:"text-sm font-mono w-24 text-center text-text-primary","aria-live":"polite",children:(j==null?void 0:j.pageNumber)||"..."}),l.jsx("button",{onClick:()=>S(-1),disabled:i<=0,className:"p-2 rounded-full text-text-secondary hover:bg-border-color disabled:opacity-40","aria-label":"الصفحة السابقة",children:l.jsx(Ee,{className:"w-6 h-6"})})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:()=>A("out"),disabled:m<=w,className:"p-2 rounded-full text-text-secondary hover:bg-border-color disabled:opacity-40","aria-label":"تصغير الخط",children:l.jsx(lS,{className:"w-6 h-6"})}),l.jsx("button",{onClick:()=>A("in"),disabled:m>=q,className:"p-2 rounded-full text-text-secondary hover:bg-border-color disabled:opacity-40","aria-label":"تكبير الخط",children:l.jsx(sS,{className:"w-6 h-6"})})]})]}),l.jsxs("main",{ref:b,className:"flex-grow overflow-y-auto p-4 custom-scrollbar",children:[s&&l.jsx("div",{className:"flex justify-center items-center h-full",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary",role:"status",children:l.jsx("span",{className:"sr-only",children:"Loading..."})})}),d&&l.jsx("div",{className:"text-center text-red-500 p-8",children:d}),j&&l.jsxs("div",{className:"max-w-3xl mx-auto bg-mushaf-page p-4 sm:p-6 rounded-lg shadow-xl border border-mushaf-border",children:[l.jsx("div",{className:"font-amiri-quran text-right text-text-primary",style:{fontSize:`${m}px`,lineHeight:2.5,textAlign:"justify"},dir:"rtl",children:I()}),l.jsxs("div",{className:"mt-4 pt-2 border-t-2 border-dashed border-mushaf-border/70 flex justify-between items-center text-sm font-sans text-text-secondary/90",children:[j.juzNumber&&l.jsxs("span",{children:["الجزء ",j.juzNumber]}),l.jsx("span",{children:j.pageNumber})]})]})]}),h&&l.jsxs("div",{ref:y,style:{top:h.top-70,left:"50%",transform:"translateX(-50%)"},className:"fixed bg-card p-2 rounded-lg shadow-xl border border-border-color z-50 text-center animate-fade-in w-72",children:[l.jsx("p",{className:"text-xs text-text-secondary mb-2",children:"نسخ الآية؟"}),l.jsx("button",{onClick:_,className:`w-full text-white font-bold py-2 px-4 rounded-md flex items-center justify-center gap-2 ${v?"bg-green-500":"bg-primary hover:opacity-90"}`,children:v?l.jsxs(l.Fragment,{children:[l.jsx(Zn,{className:"w-5 h-5"})," تم النسخ!"]}):l.jsxs(l.Fragment,{children:[l.jsx(ux,{className:"w-5 h-5"})," نسخ"]})})]})]})},mS=({surahs:e})=>{const[t,n]=T.useState(null),[a,i]=T.useState({pagesRead:0,lastLocation:null}),[o,s]=T.useState(new Set),[u,d]=T.useState(null);T.useEffect(()=>{if(!t){const p=localStorage.getItem("readPagesSet"),h=p?JSON.parse(p):[],g=localStorage.getItem("lastReadLocation"),v=g?JSON.parse(g):null;i({pagesRead:h.length,lastLocation:v}),(async()=>{await He();const b=await rx("quranText");s(new Set(b.map(y=>Number(y))))})()}},[t]);const f=async p=>{if(!(o.has(p.id)||u===p.id)){d(p.id);try{const h=await fetch(`https://api.alquran.cloud/v1/surah/${p.id}/editions/quran-uthmani`);if(!h.ok)throw new Error("Failed to fetch Surah text from API.");const g=await h.json();if(g.code!==200||!g.data[0].ayahs)throw new Error("Invalid API response structure.");const v=g.data[0].ayahs;await nS(p.id,v),s(N=>new Set(N).add(p.id))}catch(h){console.error(`Failed to download Surah ${p.id}`,h),alert(`فشل تحميل سورة ${p.name}. يرجى التحقق من اتصالك بالإنترنت.`)}finally{d(null)}}},m=async p=>{if(window.confirm("هل أنت متأكد من حذف النص المحمل لهذه السورة؟"))try{await iS(p),s(h=>{const g=new Set(h);return g.delete(p),g})}catch(h){console.error(`Failed to delete Surah ${p}`,h),alert("حدث خطأ أثناء الحذف.")}};return t?l.jsx(fS,{surah:t,onBack:()=>n(null)}):l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pt-4 pb-8 animate-fade-in",children:[l.jsxs("div",{className:"mb-6 bg-card p-4 rounded-lg shadow-md",children:[l.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-3 text-center",children:"تقدم القراءة"}),l.jsxs("div",{className:"flex justify-around text-center items-center",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-primary",children:a.pagesRead}),l.jsx("p",{className:"text-sm text-text-secondary",children:"صفحة مقروءة"})]}),a.lastLocation?l.jsxs("button",{onClick:()=>{const p=e.find(h=>{var g;return h.id===((g=a.lastLocation)==null?void 0:g.surahId)});p&&n(p)},className:"p-2 rounded-md hover:bg-border-color",children:[l.jsxs("p",{className:"font-semibold text-text-primary truncate",children:["متابعة: ",a.lastLocation.surahName]}),l.jsxs("p",{className:"text-sm text-text-secondary",children:["صفحة ",a.lastLocation.page]})]}):l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-text-primary",children:"-"}),l.jsx("p",{className:"text-sm text-text-secondary",children:"آخر موضع قراءة"})]})]})]}),l.jsx("h2",{className:"text-xl font-bold text-text-primary mb-4",children:"اختر سورة للبدء"}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(p=>{const h=o.has(p.id),g=u===p.id;return l.jsxs("div",{className:"p-4 rounded-lg shadow-md bg-card hover:bg-border-color transition-all duration-200 flex items-center justify-between cursor-pointer",onClick:()=>n(p),children:[l.jsxs("div",{className:"flex items-center min-w-0",children:[l.jsx("span",{className:"w-10 h-10 flex-shrink-0 flex items-center justify-center rounded-full text-sm font-medium ml-4 bg-background text-text-secondary",children:p.id}),l.jsx("div",{className:"truncate",children:l.jsx("p",{className:"font-semibold font-amiri-quran text-xl text-text-primary truncate",children:p.name})})]}),l.jsx("div",{className:"flex-shrink-0",children:g?l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-primary"}):h?l.jsx("button",{onClick:v=>{v.stopPropagation(),m(p.id)},className:"p-2 text-red-500 hover:bg-red-500/10 rounded-full","aria-label":"حذف النص المحمل",children:l.jsx(nl,{className:"w-5 h-5"})}):l.jsx("button",{onClick:v=>{v.stopPropagation(),f(p)},className:"p-2 text-text-secondary hover:text-primary rounded-full","aria-label":"تحميل للقراءة بدون انترنت",children:l.jsx(oS,{className:"w-6 h-6"})})})]},p.id)})})]})},hS=[{id:1001,question:"من هو النبي الذي ابتلعه الحوت؟",options:["يوسف عليه السلام","يونس عليه السلام","موسى عليه السلام","إسحاق عليه السلام"],correctAnswer:"يونس عليه السلام",shortExplanation:"نبي الله يونس عليه السلام هو الذي غضب على قومه فذهب وابتلعه الحوت، فدعا ربه في الظلمات فنجاه الله.",detailedExplanation:"قصة يونس عليه السلام مذكورة في القرآن الكريم. أُرسل إلى أهل نينوى فدعاهم فلم يؤمنوا، فغضب عليهم وخرج من بينهم قبل أن يأذن الله له. فركب سفينة، فلما كانت في عرض البحر هاجت، فاقترعوا ليلقوا أحدهم تخفيفًا للحمولة، فوقعت القرعة على يونس ثلاث مرات، فأُلقي في البحر فالتقمه الحوت. وفي بطن الحوت نادى ربه: (لَّا إِلَٰهَ إِلَّا أَنتَ سُبْحَانَكَ إِنِّي كُنتُ مِنَ الظَّالِمِينَ)، فاستجاب الله له ونجاه.",reference:"القرآن الكريم، سورة الأنبياء: 87-88، وسورة الصافات: 139-148."},{id:1002,question:"ما هي 'أم الكتاب'؟",options:["سورة البقرة","سورة يس","سورة الفاتحة","سورة الملك"],correctAnswer:"سورة الفاتحة",shortExplanation:"سورة الفاتحة تسمى 'أم الكتاب' و 'أم القرآن' لأنها تشتمل على مقاصد القرآن الأساسية.",detailedExplanation:"لسورة الفاتحة أسماء كثيرة منها: أم الكتاب، وأم القرآن، والسبع المثاني، والشفاء، والأساس. سميت 'أم الكتاب' لأنها أول سورة في ترتيب المصحف، ولأنها تفتتح بها الصلاة، ولأنها جمعت معاني القرآن ومقاصده الأساسية من التوحيد والعبادة والدعاء وبيان طريق الهداية.",reference:"صحيح البخاري، كتب التفسير."},{id:1003,question:"كم سنة استمر نزول القرآن الكريم على النبي محمد صلى الله عليه وسلم؟",options:["13 سنة","20 سنة","23 سنة","25 سنة"],correctAnswer:"23 سنة",shortExplanation:"استمر نزول القرآن الكريم على النبي صلى الله عليه وسلم قرابة 23 سنة، منها 13 في مكة و 10 في المدينة.",detailedExplanation:"بدأ نزول الوحي على النبي صلى الله عليه وسلم وهو في سن الأربعين، واستمر حتى وفاته في سن الثالثة والستين. الفترة المكية استمرت حوالي 13 عامًا، وركزت آياتها على العقيدة والتوحيد والرد على المشركين. والفترة المدنية استمرت 10 سنوات، وركزت آياتها على التشريعات والأحكام وتنظيم المجتمع المسلم.",reference:"كتب علوم القرآن والسيرة النبوية."},{id:1004,question:"من هو أول مؤذن في الإسلام؟",options:["عمر بن الخطاب","علي بن أبي طالب","زيد بن حارثة","بلال بن رباح"],correctAnswer:"بلال بن رباح",shortExplanation:"الصحابي الجليل بلال بن رباح الحبشي هو أول من أذن للصلاة في الإسلام.",detailedExplanation:"بعد أن شرع الأذان في السنة الأولى من الهجرة، اختار النبي صلى الله عليه وسلم بلال بن رباح ليكون أول مؤذن له، وذلك لجمال صوته وقوته. وقد عُذب بلال في مكة لثباته على التوحيد، فكان مثالاً للصبر والإخلاص.",reference:"سيرة ابن هشام."},{id:1005,question:"ما هي الغزوة التي وقعت في شهر رمضان؟",options:["غزوة أحد","غزوة بدر","غزوة الخندق","غزوة حنين"],correctAnswer:"غزوة بدر",shortExplanation:"غزوة بدر الكبرى، أول معركة فاصلة في تاريخ الإسلام، وقعت في السابع عشر من شهر رمضان في السنة الثانية للهجرة.",detailedExplanation:"خرج المسلمون في رمضان من السنة الثانية للهجرة لاعتراض قافلة لقريش، ولكن الأمر تطور إلى مواجهة عسكرية شاملة مع جيش المشركين في مكان يسمى بدر. وعلى الرغم من قلة عدد المسلمين وعدتهم، نصرهم الله نصرًا مؤزرًا، وسُمي هذا اليوم بـ 'يوم الفرقان'.",reference:"القرآن الكريم، سورة الأنفال."},{id:1006,question:"من هو الصحابي الملقب بـ 'ذي النورين'؟",options:["أبو بكر الصديق","عمر بن الخطاب","عثمان بن عفان","علي بن أبي طالب"],correctAnswer:"عثمان بن عفان",shortExplanation:"لقب الخليفة الثالث عثمان بن عفان رضي الله عنه بـ 'ذي النورين' لأنه تزوج من ابنتي النبي صلى الله عليه وسلم: رقية ثم بعد وفاتها أم كلثوم.",detailedExplanation:"تزوج عثمان بن عفان رضي الله عنه من السيدة رقية بنت رسول الله، وبعد وفاتها زوجه النبي من أختها السيدة أم كلثوم. ولم يُعرف أن رجلاً تزوج ابنتي نبي غيره، فلهذا السبب سُمي 'ذي النورين'.",reference:"كتب التاريخ والتراجم الإسلامية."},{id:1007,question:"ما هو اسم زوجة فرعون التي آمنت بموسى عليه السلام؟",options:["هاجر","زبيدة","آسية","بلقيس"],correctAnswer:"آسية",shortExplanation:"آسية بنت مزاحم، زوجة فرعون، هي التي آمنت بدعوة موسى عليه السلام وضربها الله مثلاً للذين آمنوا.",detailedExplanation:"على الرغم من أنها كانت زوجة أطغى طغاة الأرض، إلا أن الله قذف الإيمان في قلب آسية. لما آمنت، عذبها فرعون عذابًا شديدًا لترجع عن دينها فرفضت، ودعت ربها قائلة: (رَبِّ ابْنِ لِي عِندَكَ بَيْتًا فِي الْجَنَّةِ وَنَجِّنِي مِن فِرْعَوْنَ وَعَمَلِهِ وَنَجِّنِي مِنَ الْقَوْمِ الظَّالِمِينَ)، فاستجاب الله لها.",reference:"القرآن الكريم، سورة التحريم: 11."},{id:1008,question:"ما هي السورة التي لا تبدأ بالبسملة 'بسم الله الرحمن الرحيم'؟",options:["الأنفال","التوبة","المنافقون","الممتحنة"],correctAnswer:"التوبة",shortExplanation:"سورة التوبة هي السورة الوحيدة في القرآن الكريم التي لا تبدأ بالبسملة.",detailedExplanation:"اختلف العلماء في سبب عدم بدء سورة التوبة بالبسملة. القول الأشهر هو ما روي عن علي بن أبي طالب أن البسملة أمان، وسورة براءة (التوبة) نزلت بالسيف ونبذ العهود مع المشركين، فلا يجتمع الأمان مع السيف.",reference:"كتب علوم القرآن وتفاسيرها."},{id:1009,question:"من هو 'روح القدس' المذكور في القرآن الكريم؟",options:["ميكائيل عليه السلام","إسرافيل عليه السلام","جبريل عليه السلام","ملك الموت"],correctAnswer:"جبريل عليه السلام",shortExplanation:"روح القدس هو لقب للملك جبريل عليه السلام، وهو الملك الموكل بإنزال الوحي على الأنبياء.",detailedExplanation:"ذُكر جبريل عليه السلام في القرآن بأسماء وألقاب متعددة، منها 'روح القدس' كما في قوله تعالى: (قُلْ نَزَّلَهُ رُوحُ الْقُدُsسِ مِن رَّبِّكَ بِالْحَقِّ). وسمي بذلك لطهارته، ولأنه ينزل بالوحي الذي هو حياة للقلوب والأرواح.",reference:"القرآن الكريم، سورة النحل: 102."},{id:1010,question:"في أي مدينة يوجد المسجد الأقصى؟",options:["مكة المكرمة","المدينة المنورة","القدس","دمشق"],correctAnswer:"القدس",shortExplanation:"يقع المسجد الأقصى المبارك في مدينة القدس بفلسطين، وهو أولى القبلتين وثالث الحرمين الشريفين.",detailedExplanation:"المسجد الأقصى له مكانة عظيمة في الإسلام، فهو القبلة الأولى التي صلى إليها المسلمون قبل التوجه للكعبة، وهو مسرى النبي صلى الله عليه وسلم في رحلة الإسراء والمعراج، وهو ثالث مسجد تشد إليه الرحال بعد المسجد الحرام والمسجد النبوي.",reference:"القرآن الكريم، سورة الإسراء: 1، وصحيح البخاري."},{id:1011,question:"من هو النبي الذي كلمه الله مباشرة بدون وحي؟",options:["إبراهيم عليه السلام","موسى عليه السلام","عيسى عليه السلام","محمد صلى الله عليه وسلم"],correctAnswer:"موسى عليه السلام",shortExplanation:"لقب موسى عليه السلام بـ 'كليم الله' لأن الله كلمه تكليمًا مباشرًا عند جبل الطور.",detailedExplanation:"من الخصائص التي تفرد بها نبي الله موسى عليه السلام أن الله كلمه كلامًا حقيقيًا سمعه موسى منه مباشرة دون واسطة ملك. قال تعالى: (وَكَلَّمَ اللَّهُ مُوسَىٰ تَكْلِيمًا). وقد حدث هذا التكليم في الوادي المقدس طوى بسيناء.",reference:"القرآن الكريم، سورة النساء: 164."},{id:1012,question:"ما هي الصلاة الوسطى التي ذكرت في القرآن الكريم؟",options:["صلاة الفجر","صلاة الظهر","صلاة العصر","صلاة المغرب"],correctAnswer:"صلاة العصر",shortExplanation:"القول الراجح عند جمهور العلماء أن الصلاة الوسطى المذكورة في قوله تعالى (حَافِظُوا عَلَى الصَّلَوَاتِ وَالصَّلَاةِ الْوُسْطَىٰ) هي صلاة العصر.",detailedExplanation:"أكد الله على المحافظة على جميع الصلوات، وخص بالذكر 'الصلاة الوسطى' لمزيد من العناية بها. وقد وردت أحاديث صحيحة عن النبي صلى الله عليه وسلم تصرح بأنها صلاة العصر، منها قوله يوم الخندق: 'شغلونا عن الصلاة الوسطى، صلاة العصر، ملأ الله بيوتهم وقبورهم نارًا'.",reference:"القرآن الكريم، سورة البقرة: 238، وصحيح البخاري ومسلم."},{id:1013,question:"من هو الصحابي الذي تستحي منه الملائكة؟",options:["أبو بكر الصديق","عمر بن الخطاب","عثمان بن عفان","علي بن أبي طالب"],correctAnswer:"عثمان بن عفان",shortExplanation:"عثمان بن عفان رضي الله عنه هو الصحابي الذي قال عنه النبي صلى الله عليه وسلم: 'ألا أستحي من رجل تستحي منه الملائكة'.",detailedExplanation:"عُرف عثمان بن عفان رضي الله عنه بشدة حيائه. وفي حديث عائشة رضي الله عنها، أن النبي صلى الله عليه وسلم كان مضطجعًا كاشفًا عن ساقيه، فدخل أبو بكر ثم عمر فلم يغير جلسته، فلما استأذن عثمان، سوى النبي ثيابه وجلس. فلما سألته عائشة عن ذلك، قال: 'ألا أستحي من رجل تستحي منه الملائكة'.",reference:"صحيح مسلم."},{id:1014,question:"ما هي 'دار السلام'؟",options:["مكة المكرمة","المدينة المنورة","الجنة","السماء الدنيا"],correctAnswer:"الجنة",shortExplanation:"دار السلام اسم من أسماء الجنة، لأنها دار السلامة من كل الآفات والشرور.",detailedExplanation:"الجنة هي دار النعيم المقيم التي أعدها الله لعباده المؤمنين. لها أسماء كثيرة في القرآن تدل على عظمتها وجمالها، منها 'دار السلام' لأنها خالية من كل نقص أو أذى أو حزن أو موت، وفيها السلام والأمان الدائم. قال تعالى: (لَهُمْ دَارُ السَّلَامِ عِندَ رَبِّهِمْ).",reference:"القرآن الكريم، سورة الأنعام: 127."},{id:1015,question:"من هو النبي الذي كان يعمل نجارًا؟",options:["إدريس عليه السلام","نوح عليه السلام","زكريا عليه السلام","صالح عليه السلام"],correctAnswer:"زكريا عليه السلام",shortExplanation:"كان نبي الله زكريا عليه السلام، والد يحيى، يعمل نجارًا ويأكل من كسب يده.",detailedExplanation:"حث الإسلام على العمل والكسب الحلال، وكان الأنبياء عليهم السلام قدوة في ذلك. وقد أخبر النبي محمد صلى الله عليه وسلم أن نبي الله زكريا كان نجارًا. وفي هذا دليل على شرف العمل اليدوي وأن الأنبياء كانوا يأكلون من عمل أيديهم.",reference:"صحيح مسلم."},{id:1016,question:"ما هي الشجرة الملعونة المذكورة في القرآن؟",options:["شجرة الغرقد","شجرة الزقوم","شجرة السدر","شجرة التين"],correctAnswer:"شجرة الزقوم",shortExplanation:"شجرة الزقوم هي الشجرة الملعونة المذكورة في القرآن، وهي طعام أهل النار.",detailedExplanation:"ذكر الله شجرة الزقوم في سورة الإسراء بأنها فتنة للناس، ووصفها في سورة الصافات بأنها شجرة تخرج في أصل الجحيم، طلعها كأنه رؤوس الشياطين، وهي طعام أهل النار، والعياذ بالله. وكونها 'ملعونة' أي مبعدة عن الخير والرحمة.",reference:"القرآن الكريم، سورة الإسراء: 60."},{id:1017,question:"كم عدد أبواب الجنة؟",options:["7","8","9","10"],correctAnswer:"8",shortExplanation:"للجنة ثمانية أبواب، منها باب يسمى 'الريان' يدخل منه الصائمون.",detailedExplanation:"أخبر النبي صلى الله عليه وسلم أن للجنة ثمانية أبواب. ولكل نوع من أنواع الطاعات باب خاص يدخل منه أهله تكريمًا لهم، فهناك باب الصلاة، وباب الجهاد، وباب الصدقة، وباب الريان للصائمين. ومن كان من أهل هذه الأعمال كلها، دُعي من جميع الأبواب.",reference:"صحيح البخاري وصحيح مسلم."},{id:1018,question:"ما هو اسم خازن النار (حارس جهنم)؟",options:["رضوان","مالك","عتيد","زبور"],correctAnswer:"مالك",shortExplanation:"مالك هو اسم الملك الموكل بالنار وخازنها، كما ورد في القرآن الكريم.",detailedExplanation:"ذكر القرآن اسم خازن النار في سورة الزخرف، حيث ينادي أهل النار عليه ليدعو لهم ربهم أن يقضي عليهم ليستريحوا من العذاب، فيقولون: (وَنَادَوْا يَا مَالِكُ لِيَقْضِ عَلَيْنَا رَبُّكَ ۖ قَالَ إِنَّكُم مَّاكِثُونَ).",reference:"القرآن الكريم، سورة الزخرف: 77."},{id:1019,question:"من هي أول امرأة تزوجها النبي محمد صلى الله عليه وسلم؟",options:["عائشة بنت أبي بكر","حفصة بنت عمر","خديجة بنت خويلد","مارية القبطية"],correctAnswer:"خديجة بنت خويلد",shortExplanation:"السيدة خديجة بنت خويلد رضي الله عنها هي أولى زوجات النبي صلى الله عليه وسلم وأم أولاده جميعًا إلا إبراهيم.",detailedExplanation:"كانت السيدة خديجة امرأة ذات شرف ومال، تزوجها النبي قبل البعثة وهو في الخامسة والعشرين من عمره، وكانت هي في الأربعين. كانت أول من آمن به وصدقه، وواسته بنفسها ومالها. لم يتزوج عليها في حياتها، وظل يذكرها ويثني عليها حتى بعد وفاتها.",reference:"كتب السيرة النبوية."},{id:1020,question:"ما هو يوم الحج الأكبر؟",options:["يوم عرفة","يوم التروية","يوم النحر","أول أيام التشريق"],correctAnswer:"يوم النحر",shortExplanation:"يوم الحج الأكبر هو يوم النحر، وهو اليوم العاشر من ذي الحجة، وفيه معظم أعمال الحج.",detailedExplanation:"سمي يوم النحر بيوم الحج الأكبر لاجتماع معظم أعمال الحج فيه، حيث يقوم الحجاج فيه برمي جمرة العقبة الكبرى، ونحر الهدي، والحلق أو التقصير، وطواف الإفاضة. وهو يوم عيد للمسلمين في كل مكان.",reference:"القرآن الكريم، سورة التوبة: 3."}],wf=["طالب علم","باحث مجتهد","صاحب علم","فقيه الديار","عالم الأمة"],Vo=[{id:"purification",title:"الطهارة",color:"sky",icon:"💧",questions:[{id:2001,question:"ما هو الحدث الأصغر الذي يوجب الوضوء؟",options:["الجنابة","الحيض","خروج الريح","النفاس"],correctAnswer:"خروج الريح",shortExplanation:"الحدث الأصغر هو ما يوجب الوضوء فقط، مثل خروج الريح أو البول أو الغائط.",detailedExplanation:"تنقسم الأحداث إلى قسمين: حدث أصغر وحدث أكبر. الحدث الأصغر هو نواقض الوضوء المعروفة، كخروج شيء من السبيلين (بول، غائط، ريح)، والنوم العميق، وزوال العقل. أما الحدث الأكبر فهو ما يوجب الغسل، كالجنابة والحيض والنفاس. الطهارة من الحدث الأصغر تكون بالوضوء، ومن الأكبر تكون بالغسل.",reference:"متون الفقه الحنبلي (مثل زاد المستقنع)."},{id:2002,question:"كم عدد فرائض الوضوء المتفق عليها؟",options:["أربعة","خمسة","ستة","سبعة"],correctAnswer:"ستة",shortExplanation:"فرائض الوضوء ستة وهي: غسل الوجه، غسل اليدين إلى المرفقين، مسح الرأس، غسل الرجلين إلى الكعبين، الترتيب، والموالاة.",detailedExplanation:"فرائض الوضوء هي الأركان التي لا يصح الوضوء إلا بها، وهي مذكورة في قوله تعالى: (يَا أَيُّهَا الَّذِينَ آمَنُوا إِذَا قُمْتُمْ إِلَى الصَّلَاةِ فَاغْسِلُوا وُجُوهَكُمْ وَأَيْدِيَكُمْ إِلَى الْمَرَافِقِ وَامْسَحُوا بِرُءُوسِكُمْ وَأَرْجُلَكُمْ إِلَى الْكَعْبَيْنِ). وأضافت السنة الترتيب بين هذه الأعضاء، والموالاة (عدم ترك فاصل زمني طويل بين غسل الأعضاء).",reference:"القرآن الكريم، سورة المائدة: 6، وكتب الفقه المعتمدة."},{id:2003,question:"ما هو الماء الطهور؟",options:["الماء الذي تغير طعمه بالملح","الماء الباقي على طبيعته التي خلق عليها","الماء المخلوط بالصابون","الماء المستعمل في الوضوء"],correctAnswer:"الماء الباقي على طبيعته التي خلق عليها",shortExplanation:"الماء الطهور هو الماء الباقي على صفته الأصلية (لون، طعم، رائحة) ولم يتغير بشيء يسلبه طهوريته.",detailedExplanation:"المياه تنقسم إلى ثلاثة أقسام عند جمهور الفقهاء: طهور، وطاهر، ونجس. الماء الطهور هو الذي يرفع الحدث ويزيل النجس، وهو الماء الباقي على خلقته الأصلية كماء المطر والبحار والأنهار. أما الماء الطاهر فهو طاهر في نفسه لكنه لا يطهر غيره، كالماء الذي تغير لونه أو طعمه بشيء طاهر كالشاي. والماء النجس هو الذي خالطته نجاسة فغيرت أحد أوصافه.",reference:"بداية المجتهد لابن رشد."},{id:2004,question:"متى يجوز التيمم؟",options:["عند عدم وجود صابون","عند شدة البرد مع وجود الماء","عند فقدان الماء أو العجز عن استعماله","في جميع حالات السفر"],correctAnswer:"عند فقدان الماء أو العجز عن استعماله",shortExplanation:"التيمم رخصة شرعية تجوز عند عدم وجود الماء، أو عند وجوده مع العجز عن استعماله لمرض أو خوف ضرر.",detailedExplanation:"التيمم طهارة ترابية بديلة عن الطهارة المائية عند وجود العذر. وأسبابه الرئيسية هي: فقدان الماء بعد البحث عنه، أو وجود الماء ولكن لا يمكن استعماله بسبب مرض يخشى معه زيادة المرض أو تأخر الشفاء، أو بسبب الخوف من عدو، أو الحاجة الشديدة للماء للشرب. ويكون التيمم بضربتين على التراب الطاهر: ضربة للوجه وضربة للكفين.",reference:"القرآن الكريم، سورة النساء: 43."},{id:2005,question:"ما حكم مسح الرأس في الوضوء؟",options:["سنة مؤكدة","واجب (فرض)","مستحب","مباح"],correctAnswer:"واجب (فرض)",shortExplanation:"مسح الرأس هو الفرض الرابع من فروض الوضوء كما نص القرآن الكريم.",detailedExplanation:"نصت آية الوضوء في سورة المائدة على وجوب مسح الرأس: (وَامْسَحُوا بِرُءُوسِكُمْ). وقد أجمع العلماء على أن مسح الرأس ركن من أركان الوضوء لا يصح بدونه. واختلفوا في القدر الواجب مسحه، فذهب المالكية والحنابلة إلى وجوب مسح الرأس كله، بينما يرى الشافعية إجزاء مسح بعض الرأس، ويرى الحنفية وجوب مسح ربع الرأس.",reference:"تفسير القرطبي، والمغني لابن قدامة."},{id:2006,question:"ما هو 'الاستنجاء'؟",options:["غسل اليدين قبل الطعام","إزالة ما يخرج من السبيلين بالماء","المضمضة في الوضوء","التلفظ بالنية"],correctAnswer:"إزالة ما يخرج من السبيلين بالماء",shortExplanation:"الاستنجاء هو تطهير مخرج البول أو الغائط بالماء الطهور حتى يزول أثر النجاسة.",detailedExplanation:"الاستنجاء واجب بعد قضاء الحاجة، وهو إزالة الخارج النجس من القبل أو الدبر بالماء. أما إزالته بالأحجار أو المناديل ونحوها فيسمى 'استجمارًا'. والأفضل هو الجمع بينهما، بأن يزيل عين النجاسة أولاً بالاستجمار ثم يتبع ذلك بالماء.",reference:"فقه السنة لسيد سابق."},{id:2007,question:"ما حكم النوم العميق من حيث نواقض الوضوء؟",options:["لا ينقض الوضوء مطلقًا","ينقض الوضوء مطلقًا","ينقض إذا كان المصلي مضطجعًا","مكروه فقط"],correctAnswer:"ينقض إذا كان المصلي مضطجعًا",shortExplanation:"النوم العميق الذي يزول معه الإحساس ينقض الوضوء، لأنه مظنة خروج الحدث دون شعور.",detailedExplanation:"النوم نفسه ليس حدثًا، ولكنه مظنة للحدث (خروج الريح). لذلك فرق الفقهاء بين النوم الخفيف الذي لا يغيب فيه الوعي تمامًا كنوم الجالس المتمكن من مقعدته، فهذا لا ينقض. والنوم الثقيل الذي يستغرق فيه الإنسان ويزول إدراكه، فهذا ناقض للوضوء لأنه لا يشعر بما قد يخرج منه.",reference:"صحيح مسلم، حديث صفوان بن عسال."},{id:2008,question:"ما هي مدة المسح على الخفين للمقيم؟",options:["ثلاثة أيام بلياليها","يوم وليلة","خمس صلوات","يوم واحد فقط"],correctAnswer:"يوم وليلة",shortExplanation:"يجوز للمقيم أن يمسح على خفيه مدة يوم وليلة (24 ساعة).",detailedExplanation:"المسح على الخفين رخصة ثابتة بالسنة المتواترة. مدة المسح للمقيم هي يوم وليلة، وللمسافر ثلاثة أيام بلياليها. وتبدأ مدة المسح من أول مسحة بعد الحدث، وليس من وقت لبس الخف.",reference:"صحيح مسلم."},{id:2009,question:"ما هو شرط صحة المسح على الجبيرة؟",options:["أن توضع على طهارة","أن تكون الجبيرة نظيفة","ليس له شروط","أن تكون مؤقتة"],correctAnswer:"أن توضع على طهارة",shortExplanation:"يشترط لصحة المسح على الجبيرة (الجبس أو اللفاف) أن يكون قد وضعها وهو على طهارة (متوضئ أو مغتسل).",detailedExplanation:"الجبيرة هي ما يوضع على الكسر أو الجرح. يشرع المسح عليها في الوضوء أو الغسل إذا كان هناك ضرر من غسل العضو أو نزعها. والمسح عليها عزيمة (واجب) وليس رخصة. ويمسح عليها كلها، ولا يشترط لها مدة محددة، بل يمسح عليها حتى يشفى العضو وتنزع.",reference:"فتاوى اللجنة الدائمة للبحوث العلمية والإفتاء."},{id:2010,question:"أي مما يلي لا يعتبر من موجبات الغسل؟",options:["الجنابة","الحيض","الموت","الوضوء"],correctAnswer:"الوضوء",shortExplanation:"الوضوء طهارة صغرى، بينما الجنابة والحيض والموت من موجبات الغسل (الطهارة الكبرى).",detailedExplanation:"موجبات الغسل هي الأمور التي إذا حصلت وجب على المسلم أن يغتسل لرفع الحدث الأكبر. وهي ستة: خروج المني، التقاء الختانين (الجماع)، الموت (يغسل الميت)، الحيض، النفاس، وإسلام الكافر على قول بعض الفقهاء.",reference:"كتب الفقه المعتمدة."},{id:2011,question:"ما حكم استخدام السواك عند كل صلاة؟",options:["واجب","سنة مؤكدة","مباح","مكروه"],correctAnswer:"سنة مؤكدة",shortExplanation:"استخدام السواك من السنن المؤكدة التي حث عليها النبي صلى الله عليه وسلم، خاصة عند الصلاة والوضوء.",detailedExplanation:"قال النبي صلى الله عليه وسلم: 'لولا أن أشق على أمتي لأمرتهم بالسواك عند كل صلاة'. وهذا يدل على شدة استحباب السواك وأهميته. وهو مرضاة للرب، مطهرة للفم.",reference:"صحيح البخاري ومسلم."},{id:2012,question:"هل لمس المرأة ينقض الوضوء؟",options:["نعم، مطلقًا","لا، مطلقًا","نعم، إن كان بشهوة","نعم، إن كانت أجنبية"],correctAnswer:"نعم، إن كان بشهوة",shortExplanation:"الراجح من أقوال العلماء أن مجرد لمس المرأة لا ينقض الوضوء، إلا إذا كان بشهوة أدى إلى خروج شيء.",detailedExplanation:"هذه المسألة من المسائل الخلافية. الشافعية يرون أن لمس بشرة المرأة الأجنبية ينقض مطلقًا. الحنفية يرون أنه لا ينقض مطلقًا. المالكية والحنابلة يفرقون، فيرون أنه ينقض إن كان بشهوة. والقول الراجح الذي تدل عليه الأدلة هو أنه لا ينقض إلا إذا خرج بسببه شيء (مذي مثلاً)، لأن الأصل بقاء الطهارة.",reference:"مجموع فتاوى ابن تيمية."},{id:2013,question:"ما هو 'الاستحاضة'؟",options:["دم الحيض","دم النفاس","دم يخرج في غير أوقات الحيض والنفاس","دم الجروح"],correctAnswer:"دم يخرج في غير أوقات الحيض والنفاس",shortExplanation:"الاستحاضة هي نزول دم من المرأة في غير أوقات الدورة الشهرية المعتادة، وهو دم علة ومرض لا يمنع الصلاة والصيام.",detailedExplanation:"دم الاستحاضة يختلف عن دم الحيض والنفاس في حكمه وصفته. هو دم عرق لا يمنع من العبادات. المستحاضة تتوضأ لكل صلاة بعد دخول وقتها، وتتحفظ جيدًا ثم تصلي، ولا يضرها ما خرج بعد ذلك.",reference:"صحيح البخاري، حديث فاطمة بنت أبي حبيش."},{id:2014,question:"ما حكم المذي من حيث الطهارة؟",options:["طاهر","نجس ويجب غسله","نجس معفو عنه","طاهر لكن يستحب غسله"],correctAnswer:"نجس ويجب غسله",shortExplanation:"المذي سائل لزج شفاف يخرج عند الشهوة، وهو نجس نجاسة مخففة، يوجب غسل الذكر والأنثيين والوضوء.",detailedExplanation:"المذي نجس باتفاق العلماء، ويجب غسل ما أصابه من البدن والثوب. لكن نجاسته مخففة، فيكفي في تطهير الثوب منه أن ينضح بالماء (يرش). وهو ناقض للوضوء.",reference:"صحيح البخاري ومسلم."},{id:2015,question:"ما حكم من شك في انتقاض وضوئه؟",options:["يعيد الوضوء احتياطًا","يبني على اليقين وهو الطهارة","يصلي ثم يعيد الصلاة","يسأل من بجانبه"],correctAnswer:"يبني على اليقين وهو الطهارة",shortExplanation:"قاعدة فقهية هامة: 'اليقين لا يزول بالشك'. فمن كان متأكدًا أنه توضأ وشك هل أحدث أم لا، فالأصل أنه باقٍ على طهارته.",detailedExplanation:"هذه القاعدة مستنبطة من حديث النبي صلى الله عليه وسلم في الرجل الذي يُخيل إليه أنه يجد الشيء في الصلاة، فقال: 'لا ينصرف حتى يسمع صوتًا أو يجد ريحًا'. فما لم يتيقن من خروج الحدث، فالأصل بقاء الوضوء.",reference:"صحيح البخاري ومسلم."},{id:2016,question:"كم مرة يُسن تثليث غسل أعضاء الوضوء؟",options:["مرة واحدة","مرتين","ثلاث مرات","أربع مرات"],correctAnswer:"ثلاث مرات",shortExplanation:"الواجب في الوضوء غسل الأعضاء مرة واحدة، والسنة غسلها ثلاث مرات.",detailedExplanation:"ثبت عن النبي صلى الله عليه وسلم أنه توضأ مرة مرة، ومرتين مرتين، وثلاثًا ثلاثًا. فالمرة الواحدة مجزئة وهي الفرض، والثلاث هي الكمال والسنة. ولا تجوز الزيادة على ثلاث، فقد ورد النهي عن ذلك.",reference:"صحيح البخاري."},{id:2017,question:"ما حكم غسل الجمعة؟",options:["واجب على كل مسلم","سنة مؤكدة","مباح","فرض كفاية"],correctAnswer:"سنة مؤكدة",shortExplanation:"الراجح عند جمهور العلماء أن غسل يوم الجمعة سنة مؤكدة، ويتأكد في حق من له رائحة تتأذى بها الملائكة والمصلون.",detailedExplanation:"لقوله صلى الله عليه وسلم: 'من توضأ يوم الجمعة فبها ونعمت، ومن اغتسل فالغسل أفضل'. بينما ذهب بعض أهل العلم إلى وجوبه لحديث: 'غسل الجمعة واجب على كل محتلم'. وجمع الجمهور بين الأحاديث بأن الوجوب هنا بمعنى شدة التأكيد وليس بمعنى الفرض الذي يأثم تاركه.",reference:"سنن الترمذي، صحيح البخاري."},{id:2018,question:"هل أكل لحم الإبل ينقض الوضوء؟",options:["نعم، ينقض الوضوء","لا ينقض الوضوء","ينقض إذا كان مطبوخًا","مكروه فقط"],correctAnswer:"نعم، ينقض الوضوء",shortExplanation:"أكل لحم الإبل من نواقض الوضوء على القول الراجح، سواء كان نيئًا أو مطبوخًا.",detailedExplanation:"هذه من المسائل التي تفرد بها مذهب الحنابلة عن بقية المذاهب، وهو القول الراجح لقوة الدليل. فقد سئل النبي صلى الله عليه وسلم: 'أنتوضأ من لحوم الغنم؟ قال: إن شئت فتوضأ، وإن شئت فلا توضأ. قال: أنتوضأ من لحوم الإبل؟ قال: نعم، فتوضأ من لحوم الإبل'. وهذا أمر صريح.",reference:"صحيح مسلم."},{id:2019,question:"ما هو 'الاستجمار'؟",options:["التطيب بالبخور","إزالة النجاسة بالأحجار أو ما في حكمها","النظر في النجوم","رمي الجمرات في الحج"],correctAnswer:"إزالة النجاسة بالأحجار أو ما في حكمها",shortExplanation:"الاستجمار هو تطهير مخرج البول والغائط باستخدام ثلاثة أحجار طاهرة فأكثر أو ما يقوم مقامها كالمناديل.",detailedExplanation:"الاستجمار بديل عن الاستنجاء بالماء عند عدم وجوده أو وجود عذر. ويشترط له أن يكون بثلاثة مسحات منقية فأكثر، وأن يكون بمادة طاهرة، مباحة، تزيل النجاسة وليست طعامًا أو شيئًا محترمًا كالعظم.",reference:"صحيح البخاري ومسلم."},{id:2020,question:"ما هو الدعاء المأثور بعد الوضوء؟",options:["سبحانك اللهم وبحمدك...","بسم الله، توكلت على الله...","أشهد أن لا إله إلا الله وحده لا شريك له...","اللهم إني أعوذ بك من الخبث والخبائث"],correctAnswer:"أشهد أن لا إله إلا الله وحده لا شريك له...",shortExplanation:"الدعاء المشروع بعد الفراغ من الوضوء هو قول: 'أشهد أن لا إله إلا الله وحده لا شريك له، وأشهد أن محمدًا عبده ورسوله'.",detailedExplanation:"قال النبي صلى الله عليه وسلم: 'ما منكم من أحد يتوضأ فيبلغ - أو فيسبغ - الوضوء ثم يقول: أشهد أن لا إله إلا الله وأن محمدًا عبد الله ورسوله، إلا فتحت له أبواب الجنة الثمانية يدخل من أيها شاء'. وفي رواية الترمذي زيادة: 'اللهم اجعلني من التوابين واجعلني من المتطهرين'.",reference:"صحيح مسلم."},{id:2021,question:"هل خروج الدم من غير السبيلين (مثل جرح) ينقض الوضوء؟",options:["نعم، إذا كان كثيرًا","نعم، مطلقًا","لا ينقض الوضوء","ينقض إذا كان من الرأس"],correctAnswer:"لا ينقض الوضوء",shortExplanation:"القول الراجح أن خروج الدم من غير السبيلين (القبل والدبر) لا ينقض الوضوء، سواء كان قليلاً أو كثيرًا.",detailedExplanation:"هذه مسألة خلافية، فالحنفية والحنابلة يرون أنه ينقض إذا كان كثيرًا. والمالكية والشافعية والقول الراجح عند المحققين أنه لا ينقض مطلقًا، لعدم وجود دليل صحيح صريح على ذلك، ولأن الأصل بقاء الطهارة. وقد ثبت أن الصحابة كانوا يصلون وجراحهم تثعب دمًا.",reference:"مجموع فتاوى ابن باز."},{id:2022,question:"ما حكم الموالاة في الوضوء؟",options:["سنة","مستحبة","واجبة (شرط)","مباحة"],correctAnswer:"واجبة (شرط)",shortExplanation:"الموالاة، وهي غسل الأعضاء متتابعة دون فاصل زمني طويل، شرط لصحة الوضوء على المذهب الراجح.",detailedExplanation:"الموالاة تعني أن يغسل العضو التالي قبل أن يجف العضو الذي قبله في زمن معتدل. وهي واجبة عند المالكية والحنابلة، وسنة عند الحنفية والشافعية. والقول بالوجوب أرجح، لأن وضوء النبي صلى الله عليه وسلم كان دائمًا متواليًا، ولأن الوضوء عبادة واحدة لا ينبغي تفريق أجزائها.",reference:"المغني لابن قدامة."},{id:2023,question:"ماذا يفعل من نسي عضوًا في الوضوء وتذكره بعد فترة قصيرة؟",options:["يعيد الوضوء كاملاً","يغسل العضو المنسي وما بعده فقط","يغسل العضو المنسي فقط","وضوؤه صحيح ولا شيء عليه"],correctAnswer:"يغسل العضو المنسي وما بعده فقط",shortExplanation:"من نسي غسل عضو وتذكر قريبًا، يلزمه غسل ذلك العضو وما بعده فقط، مراعاةً للترتيب والموالاة.",detailedExplanation:"إذا كان الفاصل الزمني قصيرًا ولم تجف الأعضاء، فإنه يغسل العضو الذي نسيه ثم يغسل الأعضاء التي تليه بالترتيب. أما إذا طال الفاصل الزمني وجفت الأعضاء، فيجب عليه إعادة الوضوء من جديد لفوَات شرط الموالاة.",reference:"فتاوى الشيخ ابن عثيمين."},{id:2024,question:"ما حكم الغسل للمرأة إذا انقطع دم الحيض؟",options:["تنتظر يومًا كاملاً","يجب عليها الغسل فورًا","تغتسل بعد ثلاث أيام","يجوز لها تأخير الغسل"],correctAnswer:"يجب عليها الغسل فورًا",shortExplanation:"بمجرد أن ترى المرأة علامة الطهر (الجفاف التام أو القصة البيضاء)، يجب عليها أن تبادر بالغسل لتصلي.",detailedExplanation:"متى انقطع دم الحيض وتحققت المرأة من طهرها، وجب عليها الغسل فورًا لتتمكن من أداء الصلاة والعبادات الأخرى التي يمنعها الحيض. ولا يجوز لها تأخير الغسل بدون عذر.",reference:"فقه المرأة المسلمة للدكتور محمد متولي الشعراوي."},{id:2025,question:"هل القيء ينقض الوضوء؟",options:["نعم، إذا كان كثيرًا","نعم، مطلقًا","لا ينقض الوضوء","ينقض إذا كان عمدًا"],correctAnswer:"لا ينقض الوضوء",shortExplanation:"القول الراجح عند أهل العلم أن القيء لا ينقض الوضوء، سواء كان قليلاً أو كثيرًا، لعدم وجود دليل صحيح على ذلك.",detailedExplanation:"يرى الحنفية والحنابلة أن القيء الكثير ينقض الوضوء، بينما يرى المالكية والشافعية أنه لا ينقض. والقول بعدم النقض هو الأقوى، لأن الأحاديث الواردة في ذلك ضعيفة، والأصل بقاء الطهارة حتى يثبت الناقض بدليل صحيح.",reference:"تمام المنة في التعليق على فقه السنة للألباني."}]},{id:"prayer",title:"الصلاة",color:"green",icon:"🕌",questions:[{id:3001,question:"ما هو أول ما يحاسب عليه العبد يوم القيامة؟",options:["الصيام","الزكاة","الصلاة","بر الوالدين"],correctAnswer:"الصلاة",shortExplanation:"أول عمل يحاسب عليه العبد من أعماله يوم القيامة هو الصلاة، فإن صلحت صلح سائر عمله.",detailedExplanation:"لقول النبي صلى الله عليه وسلم: 'إن أول ما يحاسب به العبد يوم القيامة من عمله صلاته، فإن صلحت فقد أفلح وأنجح، وإن فسدت فقد خاب وخسر'. وهذا يدل على عظم مكانة الصلاة وأهميتها، فهي عمود الدين.",reference:"سنن الترمذي، وصححه الألباني."},{id:3002,question:"كم عدد أركان الصلاة؟",options:["9","12","14","15"],correctAnswer:"14",shortExplanation:"أركان الصلاة أربعة عشر ركنًا على المذهب الحنبلي، وهي التي لا تصح الصلاة بترك أحدها عمدًا أو سهوًا.",detailedExplanation:"أركان الصلاة هي أجزاؤها الأساسية التي تتكون منها هيئتها. وهي: القيام مع القدرة، تكبيرة الإحرام، قراءة الفاتحة، الركوع، الرفع منه، السجود على الأعضاء السبعة، الاعتدال منه، الجلسة بين السجدتين، الطمأنينة في جميع الأفعال، الترتيب، التشهد الأخير، الجلوس له، الصلاة على النبي فيه، والتسليمتان.",reference:"شرح أركان الصلاة وواجباتها وسننها للشيخ محمد بن عبد الوهاب."},{id:3003,question:"ما حكم من ترك الصلاة عمدًا؟",options:["فاسق","كافر","عاصٍ فقط","مبتدع"],correctAnswer:"كافر",shortExplanation:"تارك الصلاة عمدًا بالكلية كافر خارج عن ملة الإسلام على القول الراجح من أقوال أهل العلم.",detailedExplanation:"لقول النبي صلى الله عليه وسلم: 'العهد الذي بيننا وبينهم الصلاة، فمن تركها فقد كفر'. وقوله: 'بين الرجل وبين الشرك والكفر ترك الصلاة'. وهذا هو قول جمع من الصحابة وعليه المذهب الحنبلي واختيار كثير من المحققين، لأن الصلاة هي أعظم شعائر الإسلام الظاهرة بعد الشهادتين.",reference:"صحيح مسلم، وسنن الترمذي."},{id:3004,question:"ما هي صلاة 'الأوابين'؟",options:["صلاة الضحى","صلاة قيام الليل","صلاة بعد المغرب","صلاة الاستخارة"],correctAnswer:"صلاة الضحى",shortExplanation:"صلاة الأوابين هي صلاة الضحى حين ترمض الفصال، أي حين تشتد حرارة الشمس.",detailedExplanation:"الأواب هو كثير الرجوع إلى الله. وقد ورد في الحديث أن النبي صلى الله عليه وسلم قال: 'صلاة الأوابين حين ترمض الفصال'، أي حين تحترق أخفاف صغار الإبل من شدة حرارة الرمال، وهذا يكون في وقت الضحى المرتفع، وهو أفضل أوقات صلاة الضحى.",reference:"صحيح مسلم."},{id:3005,question:"ما حكم سجود السهو؟",options:["سنة دائمًا","واجب للزيادة أو النقص أو الشك","مباح","مستحب فقط"],correctAnswer:"واجب للزيادة أو النقص أو الشك",shortExplanation:"سجود السهو واجب لجبر الخلل الذي يحدث في الصلاة بسبب السهو، سواء كان بزيادة أو نقص أو شك.",detailedExplanation:"شرع سجود السهو رحمة من الله وتيسيرًا على عباده. وهو سجدتان يسجدهما المصلي قبل السلام أو بعده حسب سبب السهو. يجب عند ترك واجب سهوًا، أو زيادة فعل سهوًا، أو الشك في عدد الركعات ولم يترجح لديه شيء.",reference:"فتاوى الشيخ ابن عثيمين."},{id:3006,question:"ماذا يقول المصلي في سجود التلاوة؟",options:["سبحان ربي الأعلى","نفس دعاء سجود الصلاة","لا يقول شيئًا","سجد وجهي للذي خلقه..."],correctAnswer:"سجد وجهي للذي خلقه...",shortExplanation:"الدعاء المأثور في سجود التلاوة هو: 'سجد وجهي للذي خلقه، وشق سمعه وبصره، بحوله وقوته'.",detailedExplanation:"سجود التلاوة سنة عند قراءة آية فيها سجدة. ويقال فيه ما يقال في سجود الصلاة من التسبيح والدعاء. وقد ورد دعاء خاص به وهو: 'سجد وجهي للذي خلقه، وشق سمعه وبصره، بحوله وقوته، فتبارك الله أحسن الخالقين'.",reference:"سنن الترمذي، وصححه الحاكم."},{id:3007,question:"ما حكم الصلاة في الثوب الذي عليه صورة؟",options:["صحيحة مع الكراهة","باطلة","صحيحة ولا كراهة","محرمة"],correctAnswer:"صحيحة مع الكراهة",shortExplanation:"الصلاة في ثوب فيه صورة لذوات الأرواح صحيحة، ولكنها مكروهة لأنها قد تلهي المصلي وتشغل عن الخشوع.",detailedExplanation:"يكره للمصلي أن يصلي في ثوب فيه تصاوير أو نقوش، أو أن يصلي تجاه شيء يلهيه. وقد ثبت أن النبي صلى الله عليه وسلم صلى في خميصة لها أعلام، فنظر إلى أعلامها نظرة، فلما انصرف قال: 'اذهبوا بخميصتي هذه إلى أبي جهم وأتوني بأنبجانية أبي جهم، فإنها ألهتني آنفًا عن صلاتي'. والصلاة صحيحة لأن النهي يعود لأمر خارج عن ذات الصلاة.",reference:"صحيح البخاري."},{id:3008,question:"متى يبدأ وقت صلاة العشاء؟",options:["عند غروب الشمس","عند مغيب الشفق الأحمر","عند منتصف الليل","عندما يصبح ظل كل شيء مثله"],correctAnswer:"عند مغيب الشفق الأحمر",shortExplanation:"يبدأ وقت صلاة العشاء من مغيب الشفق الأحمر في الأفق، ويمتد إلى منتصف الليل اختيارًا، وإلى طلوع الفجر ضرورة.",detailedExplanation:"وقت العشاء يبدأ بعد انتهاء وقت المغرب مباشرة، وعلامة ذلك هي غياب الشفق الأحمر من السماء. وينتهي وقتها الاختياري (الأفضل) عند منتصف الليل. ومن أخرها بعد منتصف الليل لعذر كنوم أو نسيان، فإنه يصليها ما لم يطلع الفجر.",reference:"صحيح مسلم، حديث أوقات الصلاة."},{id:3009,question:"ما هو 'القنوت' في الصلاة؟",options:["جلسة الاستراحة","دعاء خاص في صلاة الوتر أو النوازل","رفع اليدين في التكبير","التورك في التشهد الأخير"],correctAnswer:"دعاء خاص في صلاة الوتر أو النوازل",shortExplanation:"القنوت هو دعاء مخصوص يكون في الركعة الأخيرة من صلاة الوتر بعد الرفع من الركوع، أو في الصلوات المفروضة عند حدوث نازلة بالمسلمين.",detailedExplanation:"القنوت له معانٍ عدة في اللغة منها الطاعة والسكوت. وفي الشرع هو دعاء في محل مخصوص من الصلاة. وهو مسنون في صلاة الوتر. ويشرع أيضًا في الفرائض عند النوازل العامة (قنوت النازلة) كالحروب أو الأوبئة، فيدعو الإمام على الأعداء وللمسلمين.",reference:"زاد المعاد لابن القيم."},{id:3010,question:"كم عدد تكبيرات صلاة العيد؟",options:["خمس في الأولى وأربع في الثانية","سبع في الأولى وخمس في الثانية","أربع في الأولى وثلاث في الثانية","ست في الأولى وست في الثانية"],correctAnswer:"سبع في الأولى وخمس في الثانية",shortExplanation:"صلاة العيد ركعتان، يكبر في الركعة الأولى سبع تكبيرات بعد تكبيرة الإحرام، وفي الثانية خمس تكبيرات بعد تكبيرة الانتقال.",detailedExplanation:"صفة صلاة العيد أن يصلي الإمام ركعتين. يبدأ الأولى بتكبيرة الإحرام ثم بست تكبيرات بعدها (المجموع سبع). ثم يقرأ الفاتحة وسورة. وفي الركعة الثانية يقوم فيكبر خمس تكبيرات (غير تكبيرة القيام) ثم يقرأ. وهذا هو الثابت عن النبي صلى الله عليه وسلم.",reference:"سنن أبي داود."},{id:3011,question:"ما حكم قراءة الفاتحة للمأموم في الصلاة الجهرية؟",options:["واجبة","سنة","لا تجب، ويستمع للإمام","مكروهة"],correctAnswer:"لا تجب، ويستمع للإمام",shortExplanation:"القول الراجح أن المأموم في الصلاة الجهرية يستمع لقراءة إمامه، وقراءة الإمام قراءة له، ولا تجب عليه قراءة الفاتحة.",detailedExplanation:"هذه مسألة خلافية كبيرة. الشافعية يرون وجوبها على المأموم في كل الصلوات لعموم حديث: 'لا صلاة لمن لم يقرأ بفاتحة الكتاب'. والجمهور (الحنفية والمالكية والحنابلة) يرون أنها لا تجب عليه في الجهرية، لقوله تعالى: (وَإِذَا قُرِئَ الْقُرْآنُ فَاسْتَمِعُوا لَهُ وَأَنصِتُوا)، ولقول النبي: 'من كان له إمام فقراءة الإمام له قراءة'. وهذا القول أرجح.",reference:"مجموع فتاوى ابن تيمية."},{id:3012,question:"ما هو 'السترة' في الصلاة؟",options:["غطاء الرأس للمرأة","ما يضعه المصلي أمامه ليمنع المرور بين يديه","سجادة الصلاة","نوع من اللباس"],correctAnswer:"ما يضعه المصلي أمامه ليمنع المرور بين يديه",shortExplanation:"السترة هي حاجز يضعه المصلي أمامه كجدار أو عمود أو عصا، لمنع الناس من المرور أمامه ولقطع مرور الشيطان.",detailedExplanation:"اتخاذ السترة سنة مؤكدة للمصلي المنفرد والإمام. وتكون قريبة منه (قدر ثلاثة أذرع). وتحرم المرور بين المصلي وسترته، لقول النبي صلى الله عليه وسلم: 'لو يعلم المار بين يدي المصلي ماذا عليه، لكان أن يقف أربعين خيرًا له من أن يمر بين يديه'.",reference:"صحيح البخاري."},{id:3013,question:"ما حكم الصلاة في مرابض الغنم؟",options:["جائزة","محرمة","مكروهة","باطلة"],correctAnswer:"جائزة",shortExplanation:"تجوز الصلاة في مرابض (أماكن مبيت) الغنم لأنها طاهرة.",detailedExplanation:"سئل النبي صلى الله عليه وسلم عن الصلاة في مرابض الغنم فقال: 'صلوا فيها فإنها بركة'. وسئل عن الصلاة في معاطن الإبل فقال: 'لا تصلوا في معاطن الإبل فإنها خلقت من الشياطين'. فدل الحديث على جواز الصلاة في أماكن الغنم والنهي عن الصلاة في أماكن الإبل.",reference:"صحيح مسلم."},{id:3014,question:"ماذا تفعل إذا دخلت المسجد والإمام راكع؟",options:["تنتظر حتى يقوم","تكبر تكبيرة الإحرام ثم تركع مباشرة","تدخل في الصف ثم تركع","تبدأ صلاة جديدة"],correctAnswer:"تكبر تكبيرة الإحرام ثم تركع مباشرة",shortExplanation:"من أدرك الإمام راكعًا، فإنه يكبر تكبيرة الإحرام وهو قائم ثم يركع مع الإمام، وبذلك يكون قد أدرك الركعة.",detailedExplanation:"لقول النبي صلى الله عليه وسلم: 'من أدرك الركوع فقد أدرك الركعة'. فإذا دخل المسبوق المسجد ووجد الإمام راكعًا، فيجب عليه أن يكبر تكبيرة الإحرام أولاً وهو قائم، ثم يكبر للركوع ويركع. وإذا اطمأن في الركوع قبل أن يرفع الإمام، فقد أدرك الركعة كاملة.",reference:"سنن أبي داود."},{id:3015,question:"ما هي 'صلاة الاستسقاء'؟",options:["صلاة لطلب الزواج","صلاة لطلب نزول المطر","صلاة عند الخوف","صلاة عند رؤية الهلال"],correctAnswer:"صلاة لطلب نزول المطر",shortExplanation:"صلاة الاستسقاء هي صلاة وخطبة تؤدى جماعة عند انقطاع المطر وحدوث الجفاف، لطلب السقيا من الله.",detailedExplanation:"الاستسقاء هو طلب السقيا. وهو سنة مؤكدة إذا أجدبت الأرض واحتاج الناس للمطر. وصفتها كصلاة العيد، ركعتان جهريتان، يكبر في الأولى سبعًا وفي الثانية خمسًا، ثم يخطب الإمام خطبة واحدة يدعو فيها ويكثر من الاستغفار، ومن السنة أن يقلب رداءه تفاؤلاً بتغير الحال.",reference:"صحيح البخاري."},{id:3016,question:"ما هو حكم استقبال القبلة في الصلاة؟",options:["ركن من أركان الصلاة","واجب من واجبات الصلاة","سنة من سنن الصلاة","مستحب"],correctAnswer:"ركن من أركان الصلاة",shortExplanation:"استقبال القبلة (الكعبة المشرفة) شرط من شروط صحة الصلاة لا تصح بدونه إلا في حالات معينة.",detailedExplanation:"استقبال القبلة شرط لصحة الصلاة المفروضة والنافلة، لقوله تعالى: (فَوَلِّ وَجْهَكَ شَطْرَ الْمَسْجِدِ الْحَرَامِ). ويسقط هذا الشرط في حالتين: عند العجز الشديد كالمرض، وفي صلاة النافلة على الراحلة (وسيلة النقل) في السفر.",reference:"القرآن الكريم، سورة البقرة: 144."},{id:3017,question:"على كم عظم يجب السجود في الصلاة؟",options:["خمسة","ستة","سبعة","ثمانية"],correctAnswer:"سبعة",shortExplanation:"أمر النبي صلى الله عليه وسلم بالسجود على سبعة أعضاء.",detailedExplanation:"قال النبي صلى الله عليه وسلم: 'أمرت أن أسجد على سبعة أعظم: على الجبهة - وأشار بيده على أنفه - واليدين، والركبتين، وأطراف القدمين'. وهذه الأعضاء السبعة هي: الجبهة مع الأنف، الكفان، الركبتان، وأطراف أصابع القدمين.",reference:"صحيح البخاري ومسلم."},{id:3018,question:"ما حكم الكلام في الصلاة عمدًا؟",options:["مكروه","يبطل الصلاة","جائز للحاجة","ينقص الأجر فقط"],correctAnswer:"يبطل الصلاة",shortExplanation:"الكلام العمد في الصلاة من غير جنسها لمصلحة خارجة عنها يبطلها بالإجماع.",detailedExplanation:"كان الكلام في الصلاة جائزًا في أول الإسلام للحاجة، ثم نسخ. والدليل على ذلك حديث زيد بن أرقم: 'كنا نتكلم في الصلاة يكلم الرجل صاحبه وهو إلى جنبه في الصلاة حتى نزلت: (وَقُومُوا لِلَّهِ قَانِتِينَ) فأمرنا بالسكوت ونهينا عن الكلام'.",reference:"صحيح البخاري ومسلم."},{id:3019,question:"ما هي 'تحية المسجد'؟",options:["السلام على المصلين","ركعتان قبل صلاة الفجر","ركعتان يصليهما من دخل المسجد قبل أن يجلس","دعاء دخول المسجد"],correctAnswer:"ركعتان يصليهما من دخل المسجد قبل أن يجلس",shortExplanation:"تحية المسجد هي صلاة ركعتين، وهي سنة مؤكدة في حق من دخل المسجد ويريد الجلوس فيه.",detailedExplanation:"لقول النبي صلى الله عليه وسلم: 'إذا دخل أحدكم المسجد فلا يجلس حتى يصلي ركعتين'. وهذا الأمر للاستحباب المؤكد عند جمهور العلماء. وتجزئ عنها صلاة الفريضة أو السنة الراتبة إذا دخل المسجد وقتها.",reference:"صحيح البخاري ومسلم."},{id:3020,question:"ما هو 'التورك' و 'الافتراش' في الصلاة؟",options:["نوعان من الركوع","جلستان في التشهد","طريقتان للسجود","نوعان من القيام"],correctAnswer:"جلستان في التشهد",shortExplanation:"الافتراش هو نصب القدم اليمنى والجلوس على اليسرى، والتورك هو إخراج القدم اليسرى من تحت اليمنى والجلوس على المقعدة.",detailedExplanation:"الافتراش هو السنة في الجلوس بين السجدتين وفي التشهد الأول. أما التورك فهو السنة في التشهد الأخير في الصلاة الثلاثية والرباعية. والحكمة من التفريق بينهما هي التمييز بين التشهدين.",reference:"صحيح البخاري."},{id:3021,question:"ما حكم صلاة الجماعة للرجال؟",options:["سنة مؤكدة","فرض عين","فرض كفاية","مستحبة"],correctAnswer:"فرض عين",shortExplanation:"القول الراجح أن صلاة الجماعة في المسجد فرض عين على الرجال القادرين.",detailedExplanation:"الأدلة على وجوب صلاة الجماعة كثيرة، منها أمر الله بها في حالة الخوف والحرب، وحديث الأعمى الذي طلب الرخصة ليصلي في بيته فقال له النبي: 'هل تسمع النداء؟ قال: نعم. قال: فأجب'. فإذا لم يرخص للأعمى، فغيره من باب أولى.",reference:"القرآن الكريم، سورة النساء: 102، وصحيح مسلم."},{id:3022,question:"متى يجوز الجمع بين الصلاتين؟",options:["في السفر والمطر الشديد","عند النوم","عند الانشغال بالعمل","في أي وقت للحاجة"],correctAnswer:"في السفر والمطر الشديد",shortExplanation:"يجوز الجمع بين الظهر والعصر، وبين المغرب والعشاء، في حالات معينة كالسفر والمطر الشديد الذي يبل الثياب والمرض.",detailedExplanation:"الجمع رخصة من الله لتيسير على عباده. فيجوز للمسافر أن يجمع بين الظهر والعصر (جمع تقديم أو تأخير)، وبين المغرب والعشاء. ويجوز الجمع في الحضر للمطر الشديد الذي يشق معه الذهاب للمسجد، وللمرض الشديد، وللحاجة الملحة على ألا يتخذ عادة.",reference:"صحيح مسلم."},{id:3023,question:"ما هي الصلوات التي لها سنن رواتب؟",options:["جميع الصلوات الخمس","الظهر، المغرب، العشاء","الفجر، الظهر، المغرب، العشاء","الفجر والظهر فقط"],correctAnswer:"الفجر، الظهر، المغرب، العشاء",shortExplanation:"السنن الرواتب المؤكدة هي 12 ركعة مرتبطة بالصلوات المفروضة، وهي سبب لبناء بيت في الجنة.",detailedExplanation:"السنن الرواتب هي: ركعتان قبل الفجر، وأربع ركعات قبل الظهر وركعتان بعده، وركعتان بعد المغرب، وركعتان بعد العشاء. مجموعها 12 ركعة. قال النبي صلى الله عليه وسلم: 'من صلى في يوم وليلة ثنتي عشرة ركعة بني له بهن بيت في الجنة'.",reference:"صحيح مسلم."},{id:3024,question:"ما حكم من أكل أو شرب ناسيًا وهو في الصلاة؟",options:["صلاته باطلة","صلاته صحيحة","يسجد للسهو","عليه كفارة"],correctAnswer:"صلاته باطلة",shortExplanation:"الأكل والشرب في الصلاة عمدًا أو نسيانًا يبطلها، لأنه فعل كثير من غير جنس الصلاة.",detailedExplanation:"أجمع العلماء على أن من أكل أو شرب في صلاة الفرض عمدًا بطلت صلاته. واختلفوا في الناسي، والجمهور على أنها تبطل أيضًا، بخلاف الصيام الذي يعذر فيه الناسي. والفرق أن هيئة الصلاة من قيام وركوع وسجود منبهة، فيندر النسيان فيها جدًا، فلم يعذر به.",reference:"الإجماع لابن المنذر، والمغني لابن قدامة."},{id:3025,question:"ما هي 'صلاة الكسوف'؟",options:["صلاة عند رؤية قوس قزح","صلاة عند خسوف القمر أو كسوف الشمس","صلاة عند نزول المطر","صلاة عند هبوب الريح"],correctAnswer:"صلاة عند خسوف القمر أو كسوف الشمس",shortExplanation:"صلاة الكسوف (للشمس) والخسوف (للقمر) سنة مؤكدة، تصلى عند حدوث هذه الظاهرة الكونية تخويفًا من الله لعباده.",detailedExplanation:"عندما تنكسف الشمس أو يخسف القمر، يشرع للمسلمين أن يفزعوا إلى الصلاة والدعاء والصدقة. وصفتها أنها ركعتان، في كل ركعة قيامان وقراءتان وركوعان وسجودان. وهي صلاة جهرية.",reference:"صحيح البخاري ومسلم."}]},{id:"zakat",title:"الزكاة",color:"amber",icon:"💰",questions:[{id:4001,question:"على من تجب الزكاة؟",options:["على كل مسلم غني أو فقير","على المسلم الحر المالك للنصاب","على الرجال فقط","على من يعمل بالتجارة فقط"],correctAnswer:"على المسلم الحر المالك للنصاب",shortExplanation:"تجب الزكاة على كل مسلم، حر، يملك نصابًا (مقدار معين من المال) حال عليه الحول (مر عليه عام هجري).",detailedExplanation:"شروط وجوب الزكاة هي: الإسلام، والحرية، وملك النصاب ملكًا تامًا، وحولان الحول (مرور سنة قمرية على امتلاك النصاب). والنصاب هو الحد الأدنى من المال الذي تجب فيه الزكاة، ويختلف باختلاف نوع المال.",reference:"كتب الفقه الإسلامي."},{id:4002,question:"ما هو نصاب الذهب الذي تجب فيه الزكاة؟",options:["20 دينارًا (85 جرامًا)","40 دينارًا (170 جرامًا)","100 جرام","50 جرامًا"],correctAnswer:"20 دينارًا (85 جرامًا)",shortExplanation:"نصاب الذهب هو 20 دينارًا ذهبيًا، وهو ما يعادل 85 جرامًا من الذهب الخالص.",detailedExplanation:"إذا بلغ الذهب الذي يملكه المسلم 85 جرامًا من عيار 24، أو ما يعادلها في العيارات الأخرى، وحال عليه الحول، وجب عليه إخراج ربع العشر (2.5%) من قيمته.",reference:"فقه الزكاة للقرضاوي."},{id:4003,question:"ما مقدار زكاة المال (عروض التجارة والنقود)؟",options:["العشر (10%)","نصف العشر (5%)","ربع العشر (2.5%)","الخمس (20%)"],correctAnswer:"ربع العشر (2.5%)",shortExplanation:"مقدار الزكاة الواجب إخراجه في النقود وعروض التجارة والذهب والفضة هو ربع العشر، أي 2.5%.",detailedExplanation:"لقول النبي صلى الله عليه وسلم في زكاة الفضة: '...فهاتوا صدقة الرقة، من كل مائتي درهم خمسة دراهم'. وخمسة دراهم هي ربع عشر المائتين. وقاس العلماء الذهب والنقود وعروض التجارة على ذلك.",reference:"سنن أبي داود."},{id:4004,question:"ما هو 'الحول' في الزكاة؟",options:["حول العالم","مرور سنة هجرية كاملة","مرور سنة ميلادية","قوة الإنسان"],correctAnswer:"مرور سنة هجرية كاملة",shortExplanation:"الحول هو مرور عام هجري كامل على امتلاك المال البالغ للنصاب.",detailedExplanation:"من شروط وجوب الزكاة في الأموال النقدية وعروض التجارة والأنعام السائمة هو حولان الحول. لقول النبي صلى الله عليه وسلم: 'لا زكاة في مال حتى يحول عليه الحول'.",reference:"سنن ابن ماجه."},{id:4005,question:"من هم الأصناف الثمانية الذين تصرف لهم الزكاة؟",options:["الأقارب والجيران والأصدقاء","بناء المساجد والمدارس","الفقراء والمساكين والعاملون عليها...","الأيتام والأرامل فقط"],correctAnswer:"الفقراء والمساكين والعاملون عليها...",shortExplanation:"مصارف الزكاة محددة في القرآن الكريم وهم ثمانية أصناف.",detailedExplanation:"قال تعالى: (إِنَّمَا الصَّدَقَاتُ لِلْفُقَرَاءِ وَالْمَسَاكِينِ وَالْعَامِلِينَ عَلَيْهَا وَالْمُؤَلَّفَةِ قُلُوبُهُمْ وَفِي الرِّقَابِ وَالْغَارِمِينَ وَفِي سَبِيلِ اللَّهِ وَابْنِ السَّبِيلِ). فلا يجوز صرف الزكاة لغير هذه الأصناف الثمانية.",reference:"القرآن الكريم، سورة التوبة: 60."},{id:4006,question:"ما حكم زكاة الفطر؟",options:["سنة مؤكدة","فرض على كل مسلم","مستحبة","فرض على الأغنياء فقط"],correctAnswer:"فرض على كل مسلم",shortExplanation:"زكاة الفطر فريضة على كل مسلم، صغير أو كبير، ذكر أو أنثى، حر أو عبد.",detailedExplanation:"فرض رسول الله صلى الله عليه وسلم زكاة الفطر طهرة للصائم من اللغو والرفث، وطعمة للمساكين. وهي صاع من طعام من غالب قوت أهل البلد، وتجب على كل مسلم يملك قوت يوم العيد وليلته فاضلاً عن حاجته الأصلية.",reference:"صحيح البخاري ومسلم."},{id:4007,question:"متى يخرج وقت إخراج زكاة الفطر؟",options:["قبل صلاة العيد","طوال يوم العيد","في أي يوم من رمضان","بعد صلاة العيد"],correctAnswer:"قبل صلاة العيد",shortExplanation:"أفضل وقت لإخراج زكاة الفطر هو صباح يوم العيد قبل الخروج إلى الصلاة، ويجوز إخراجها قبل العيد بيوم أو يومين.",detailedExplanation:"أمر النبي صلى الله عليه وسلم أن تؤدى زكاة الفطر قبل خروج الناس إلى الصلاة. ومن أداها بعد الصلاة فهي صدقة من الصدقات وليست زكاة فطر. والحكمة من ذلك هي إغناء الفقراء عن السؤال في يوم العيد.",reference:"سنن أبي داود."},{id:4008,question:"هل تجب الزكاة في حلي المرأة (الذهب والفضة) الذي تستعمله للزينة؟",options:["نعم، مطلقًا","لا، مطلقًا","مسألة خلافية والراجح وجوبها","نعم، إذا كان للاستثمار فقط"],correctAnswer:"مسألة خلافية والراجح وجوبها",shortExplanation:"اختلف العلماء في زكاة حلي المرأة، والقول الراجح والأحوط هو وجوب الزكاة فيها إذا بلغت النصاب وحال عليها الحول.",detailedExplanation:"جمهور العلماء (المالكية والشافعية والحنابلة) على أنه لا زكاة في حلي المرأة المعد للاستعمال المباح. والحنفية وقول عند الحنابلة وهو اختيار الشيخ ابن باز وابن عثيمين، يرون وجوب الزكاة فيها، لعموم الأدلة الموجبة للزكاة في الذهب والفضة، وعدم وجود مخصص قوي. وهذا القول أحوط وأبرأ للذمة.",reference:"مجموع فتاوى ابن باز."},{id:4009,question:"ما هو نصاب زكاة الزروع والثمار التي تسقى بماء المطر؟",options:["العشر (10%)","نصف العشر (5%)","ربع العشر (2.5%)","لا زكاة فيها"],correctAnswer:"العشر (10%)",shortExplanation:"ما سقي بماء السماء والأنهار (بدون تكلفة) فزكاته العشر، أي 10%.",detailedExplanation:"لقول النبي صلى الله عليه وسلم: 'فيما سقت السماء والعيون أو كان عثريًا العشر، وفيما سقي بالنضح نصف العشر'. والنصاب هو خمسة أوسق، والوسق ستون صاعًا، أي حوالي 612 كيلوجرام.",reference:"صحيح البخاري."},{id:4010,question:"هل يجوز إعطاء الزكاة للأقارب الفقراء؟",options:["لا يجوز مطلقًا","نعم، وهو أولى من غيرهم","يجوز للإخوة فقط","لا يجوز للأصول والفروع"],correctAnswer:"نعم، وهو أولى من غيرهم",shortExplanation:"يجوز إعطاء الزكاة للقريب الفقير الذي لا تجب عليك نفقته، والصدقة عليه لها أجران: أجر الصدقة وأجر صلة الرحم.",detailedExplanation:"لا يجوز دفع الزكاة للأصول (الآباء والأجداد) ولا للفروع (الأبناء والأحفاد) ولا للزوجة، لأن نفقتهم واجبة على المزكي. أما بقية الأقارب كالإخوة والأعمام والأخوال، إذا كانوا فقراء، فهم من أولى الناس بالزكاة.",reference:"فتاوى اللجنة الدائمة."},{id:4011,question:"ما هو نصاب بهيمة الأنعام (الإبل)؟",options:["5 رؤوس","10 رؤوس","30 رأسًا","40 رأسًا"],correctAnswer:"5 رؤوس",shortExplanation:"أقل نصاب تجب فيه الزكاة من الإبل هو خمس من الإبل، وفيها شاة واحدة.",detailedExplanation:"تبدأ زكاة الإبل من 5 رؤوس، ففيها شاة. وفي 10 شاتان، وفي 15 ثلاث شياه، وفي 20 أربع شياه. فإذا بلغت 25 ففيها بنت مخاض (أنثى الإبل عمرها سنة). وتتغير المقادير بعد ذلك حسب الأعداد.",reference:"صحيح البخاري، كتاب الزكاة."},{id:4012,question:"هل تجب الزكاة على الراتب الشهري؟",options:["نعم، عند استلامه مباشرة","لا تجب عليه زكاة","نعم، إذا حال الحول على ما بلغ النصاب منه","نعم، في نهاية كل شهر"],correctAnswer:"نعم، إذا حال الحول على ما بلغ النصاب منه",shortExplanation:"الراتب الشهري لا تجب فيه الزكاة عند قبضه، بل يضم إلى بقية الأموال، ويزكى الجميع عندما يحول الحول على النصاب.",detailedExplanation:"الطريقة الأسهل لزكاة الراتب هي أن يحدد المزكي يومًا معينًا في السنة (مثلاً 1 رمضان) وينظر إلى كل ما يملكه من نقود بلغت النصاب في هذا اليوم، فيخرج زكاتها 2.5%، بغض النظر متى استفاد هذا المال. وهذا أيسر للمحاسبة وأعظم للأجر.",reference:"فتاوى الشيخ ابن عثيمين."},{id:4013,question:"ما حكم من عليه دين وله مال بلغ النصاب؟",options:["يسدد الدين أولاً ثم يزكي الباقي","يزكي جميع المال ولا علاقة للدين","مسألة خلافية والأرجح أنه يزكي","لا زكاة عليه حتى يسدد الدين"],correctAnswer:"يسدد الدين أولاً ثم يزكي الباقي",shortExplanation:"اختلف العلماء، والقول الراجح أن الدين يمنع وجوب الزكاة في الأموال الباطنة (النقود)، فيخصم مقدار الدين من المال ثم يزكي ما تبقى إن بلغ نصابًا.",detailedExplanation:"إذا كان الدين يستغرق النصاب أو ينقصه، فلا زكاة على المدين. أما إذا كان الدين لا ينقص المال عن النصاب، فإنه يخصم الدين ثم يزكي الباقي. هذا في الأموال الباطنة. أما الزروع والثمار والماشية فتجب فيها الزكاة ولا يمنعها الدين.",reference:"المغني لابن قدامة."},{id:4014,question:"هل يجوز نقل الزكاة من بلد إلى آخر؟",options:["لا يجوز مطلقًا","يجوز للمصلحة الراجحة","يجوز دائمًا","مكروه"],correctAnswer:"يجوز للمصلحة الراجحة",shortExplanation:"الأصل أن زكاة كل بلد توزع على فقرائه، لكن يجوز نقلها إذا كان هناك مصلحة شرعية معتبرة، كوجود أقارب أشد فقرًا في بلد آخر، أو حدوث مجاعة.",detailedExplanation:"لقول النبي صلى الله عليه وسلم لمعاذ حين أرسله إلى اليمن: '...فأعلمهم أن الله افترض عليهم صدقة تؤخذ من أغنيائهم فترد على فقرائهم'. فدل على أن الأصل صرفها في نفس البلد. لكن استثنى العلماء حالات للمصلحة، كعدم وجود فقراء في البلد، أو وجود حاجة أشد في بلد آخر.",reference:"فتاوى اللجنة الدائمة."},{id:4015,question:"ما هو 'زكاة الركاز'؟",options:["زكاة التجارة","زكاة المعادن","زكاة كنوز الجاهلية","زكاة الأسهم"],correctAnswer:"زكاة كنوز الجاهلية",shortExplanation:"الركاز هو دفين الجاهلية (كنز من زمن الكفار قبل الإسلام) يوجد في أرض غير مملوكة، وزكاته الخمس (20%).",detailedExplanation:"لقول النبي صلى الله عليه وسلم: 'وفي الركاز الخمس'. ويجب إخراج زكاته فور العثور عليه، ولا يشترط له نصاب ولا حول. ويصرف مصرف الفيء، أي في مصالح المسلمين العامة.",reference:"صحيح البخاري."},{id:4016,question:"هل تجب الزكاة في مال اليتيم والمجنون؟",options:["لا تجب","تجب على الولي فقط","نعم، تجب في مالهما","تجب عند البلوغ والعقل"],correctAnswer:"نعم، تجب في مالهما",shortExplanation:"تجب الزكاة في مال الصغير (اليتيم) والمجنون إذا بلغ نصابًا وحال عليه الحول، ويخرجها الولي عنهما.",detailedExplanation:"الزكاة حق يتعلق بالمال نفسه، لا بشخص المالك. لعموم قوله تعالى: (خُذْ مِنْ أَمْوَالِهِمْ صَدَقَةً). ولقول عمر بن الخطاب: 'اتجروا في أموال اليتامى لا تأكلها الصدقة'. وهذا مذهب جمهور العلماء.",reference:"موطأ الإمام مالك."},{id:4017,question:"هل يجوز تعجيل الزكاة قبل وقتها؟",options:["لا يجوز","يجوز لعام واحد فقط","يجوز لعامين","يجوز إذا وجدت حاجة ماسة"],correctAnswer:"يجوز إذا وجدت حاجة ماسة",shortExplanation:"يجوز تقديم الزكاة وتعجيلها عن وقتها المحدد إذا كان النصاب مكتملًا ودعت إلى ذلك مصلحة أو حاجة، كوجود مجاعة أو فقراء مضطرين.",detailedExplanation:"ثبت أن النبي صلى الله عليه وسلم استسلف من عمه العباس زكاة عامين. وهذا يدل على جواز التعجيل للمصلحة. لكن لا يجوز تعجيلها قبل اكتمال النصاب.",reference:"سنن الترمذي."},{id:4018,question:"كيف تُحسب زكاة عروض التجارة؟",options:["تقوّم بسعر الشراء","تقوّم بسعر البيع عند نهاية الحول","تُخرج من نفس السلع","لا زكاة عليها"],correctAnswer:"تقوّم بسعر البيع عند نهاية الحول",shortExplanation:"عندما يحول الحول، يقوم التاجر بجرد بضاعته وتقويمها بسعر السوق الحالي (سعر البيع)، ثم يضيف إليها السيولة النقدية والديون المرجوة، ويخرج 2.5% من المجموع.",detailedExplanation:"زكاة عروض التجارة تشمل كل ما أعد للبيع والشراء بقصد الربح. طريقة حسابها: (قيمة البضاعة بسعر السوق + النقد المتوفر + الديون التي على الآخرين ويرجى سدادها - الديون التي على التاجر) × 2.5%.",reference:"فقه الزكاة للقرضاوي."},{id:4019,question:"هل تجب الزكاة في العقارات المؤجرة؟",options:["نعم، على قيمة العقار","لا، الزكاة على الأجرة فقط","لا تجب الزكاة فيها مطلقًا","نعم، على الأجرة وقيمة العقار معًا"],correctAnswer:"لا، الزكاة على الأجرة فقط",shortExplanation:"العقارات المعدة للإيجار لا تجب الزكاة في قيمتها الأصلية، وإنما تجب في الأجرة (الإيراد) إذا بلغت نصابًا بنفسها أو بما يضم إليها وحال عليها الحول.",detailedExplanation:"العقارات المؤجرة (المستغلات) مثلها مثل المصانع وسيارات الأجرة، الزكاة لا تجب في أصلها (عينها)، بل في ريعها وإيرادها. فيضم هذا الإيراد إلى بقية أموال المالك ويزكى الجميع عند حولان الحول.",reference:"فتاوى الشيخ ابن باز."},{id:4020,question:"ما الفرق بين الفقير والمسكين؟",options:["لا فرق بينهما","الفقير أشد حاجة من المسكين","المسكين أشد حاجة من الفقير","الفقير يسأل والمسكين لا يسأل"],correctAnswer:"الفقير أشد حاجة من المسكين",shortExplanation:"على القول الراجح، الفقير هو من لا يجد شيئًا أو يجد أقل من نصف كفايته. أما المسكين فهو من يجد نصف كفايته فأكثر ولكن لا يجد تمام الكفاية.",detailedExplanation:"كلا الصنفين من مصارف الزكاة. وقد بدأ الله بالفقراء في آية مصارف الزكاة لأنهم الأشد حاجة. الفقير هو المعدم أو شبه المعدم، أما المسكين فله بعض المال لكنه لا يكفيه.",reference:"تفسير ابن كثير."}]},{id:"fasting",title:"الصيام",color:"blue",icon:"🌙",questions:[{id:5001,question:"ما هو تعريف الصيام شرعًا؟",options:["الامتناع عن الكلام","الإمساك عن المفطرات من طلوع الفجر إلى غروب الشمس بنية","الامتناع عن الطعام فقط","الاعتكاف في المسجد"],correctAnswer:"الإمساك عن المفطرات من طلوع الفجر إلى غروب الشمس بنية",shortExplanation:"الصيام هو التعبد لله تعالى بالإمساك عن الأكل والشرب والجماع وسائر المفطرات من طلوع الفجر الصادق إلى غروب الشمس.",detailedExplanation:"أركان الصيام اثنان: الأول هو النية، ومحلها القلب، ويجب تبييتها من الليل في صيام الفرض. والركن الثاني هو الإمساك عن جميع المفطرات (الأكل، الشرب، الجماع، وكل ما في حكمها) في الوقت المحدد وهو من طلوع الفجر الثاني إلى غروب الشمس.",reference:"فقه السنة لسيد سابق."},{id:5002,question:"ما حكم من أكل أو شرب ناسيًا وهو صائم؟",options:["بطل صومه وعليه القضاء","صومه صحيح ويتمه","عليه كفارة","عليه القضاء فقط"],correctAnswer:"صومه صحيح ويتمه",shortExplanation:"من أكل أو شرب ناسيًا في نهار رمضان فصومه صحيح ولا شيء عليه.",detailedExplanation:"لقول النبي صلى الله عليه وسلم: 'من نسي وهو صائم، فأكل أو شرب، فليتم صومه، فإنما أطعمه الله وسقاه'. وهذا من رحمة الله وتيسيره على عباده.",reference:"صحيح البخاري ومسلم."},{id:5003,question:"ما حكم استعمال قطرة العين للصائم؟",options:["تفطر مطلقًا","لا تفطر","تفطر إن وجد طعمها في حلقه","مكروهة"],correctAnswer:"لا تفطر",shortExplanation:"قطرة العين والأذن لا تفطر الصائم على القول الراجح، لأن العين ليست منفذًا معتادًا للطعام والشراب.",detailedExplanation:"الأصل صحة الصيام حتى يثبت ما يفسده بدليل شرعي. والعين ليست منفذًا للأكل والشرب، وما يصل منها إلى الحلق (إن وصل) فهو يسير جدًا ومعفو عنه. وهذا اختيار الشيخ ابن باز والشيخ ابن عثيمين.",reference:"مجموع فتاوى ابن باز."},{id:5004,question:"متى يجب تبييت النية في الصيام؟",options:["في صيام الفرض والنفل","في صيام الفرض فقط","في صيام النفل فقط","لا يجب مطلقًا"],correctAnswer:"في صيام الفرض فقط",shortExplanation:"يجب عقد النية وتبييتها من الليل (قبل طلوع الفجر) في كل صيام واجب كرمضان والقضاء والنذر.",detailedExplanation:"لقول النبي صلى الله عليه وسلم: 'من لم يبيت الصيام من الليل فلا صيام له'. أما صيام النفل فيجوز بنية من النهار إذا لم يكن قد أكل أو شرب شيئًا بعد الفجر.",reference:"سنن النسائي، وصححه الألباني."},{id:5005,question:"ما حكم صيام يوم الشك؟",options:["واجب","سنة","مباح","محرم"],correctAnswer:"محرم",shortExplanation:"يحرم صيام يوم الشك، وهو يوم الثلاثين من شعبان إذا لم ير الهلال ليلة الثلاثين بسبب غيم أو قتر.",detailedExplanation:"لقول عمار بن ياسر رضي الله عنه: 'من صام اليوم الذي يشك فيه فقد عصى أبا القاسم صلى الله عليه وسلم'. والحكمة من ذلك هي المبالغة في الاحتياط لدخول الشهر، وهو من التنطع المنهي عنه.",reference:"علقه البخاري ووصله أصحاب السنن."},{id:5006,question:"ما كفارة من جامع زوجته في نهار رمضان عمدًا؟",options:["إطعام 60 مسكينًا","صيام شهرين متتابعين","عتق رقبة، فإن لم يجد فصيام شهرين، فإن لم يستطع فإطعام 60 مسكينًا","القضاء فقط"],correctAnswer:"عتق رقبة، فإن لم يجد فصيام شهرين، فإن لم يستطع فإطعام 60 مسكينًا",shortExplanation:"كفارة الجماع في نهار رمضان هي كفارة مغلظة على الترتيب.",detailedExplanation:"يجب على من جامع في نهار رمضان متعمدًا: القضاء، والإمساك بقية اليوم، والكفارة المغلظة. وهي عتق رقبة مؤمنة، فإن عجز انتقل إلى صيام شهرين هجريين متتابعين، فإن عجز انتقل إلى إطعام ستين مسكينًا، لكل مسكين نصف صاع من طعام.",reference:"صحيح البخاري ومسلم."},{id:5007,question:"ما حكم المبالغة في المضمضة والاستنشاق للصائم؟",options:["مستحبة","مباحة","مكروهة","محرمة"],correctAnswer:"مكروهة",shortExplanation:"تكره المبالغة في المضمضة والاستنشاق أثناء الوضوء للصائم، خشية أن يسبق الماء إلى حلقه فيفطر.",detailedExplanation:"لقول النبي صلى الله عليه وسلم للقيط بن صبرة: '...وبالغ في الاستنشاق إلا أن تكون صائمًا'. فدل على أن الصائم يتمضمض ويستنشق لكن دون مبالغة.",reference:"سنن أبي داود والترمذي."},{id:5008,question:"من هم الذين يباح لهم الفطر في رمضان؟",options:["المسافر والمريض","العامل في مهنة شاقة","الطالب الذي عنده اختبار","كل من وجد مشقة"],correctAnswer:"المسافر والمريض",shortExplanation:"يباح الفطر للمسافر سفر قصر، وللمريض الذي يضره الصوم أو يشق عليه مشقة شديدة، وعليهما القضاء.",detailedExplanation:"قال تعالى: (وَمَن كَانَ مَرِيضًا أَوْ عَلَىٰ سَفَرٍ فَعِدَّةٌ مِّنْ أَيَّامٍ أُخَرَ). ويلحق بهما الحامل والمرضع إذا خافتا على نفسيهما أو ولديهما، والشيخ الكبير العاجز عن الصيام.",reference:"القرآن الكريم، سورة البقرة: 185."},{id:5009,question:"ما حكم من أخر قضاء رمضان حتى دخل رمضان التالي بدون عذر؟",options:["عليه القضاء فقط","عليه القضاء مع إطعام مسكين عن كل يوم","عليه كفارة مغلظة","لا شيء عليه"],correctAnswer:"عليه القضاء مع إطعام مسكين عن كل يوم",shortExplanation:"من أخر قضاء ما عليه من رمضان حتى دخل عليه رمضان آخر بلا عذر شرعي، فإنه يصوم الحاضر ثم يقضي ما عليه، مع إطعام مسكين عن كل يوم أخره.",detailedExplanation:"هذا هو ما أفتى به عدد من الصحابة كابن عباس وابن عمر وأبي هريرة. فالقضاء واجب على الفور، وتأخيره لغير عذر إثم يوجب التوبة، وجبره يكون بهذه الفدية (الإطعام) مع القضاء.",reference:"فتاوى الصحابة."},{id:5010,question:"ما هي ليلة القدر؟",options:["ليلة الإسراء والمعراج","ليلة النصف من شعبان","ليلة في العشر الأواخر من رمضان","أول ليلة من رمضان"],correctAnswer:"ليلة في العشر الأواخر من رمضان",shortExplanation:"ليلة القدر هي ليلة عظيمة في العشر الأواخر من رمضان، وهي خير من ألف شهر، وتلتمس في ليالي الوتر منها.",detailedExplanation:"قال تعالى: (لَيْلَةُ الْقَدْرِ خَيْرٌ مِّنْ أَلْفِ شَهْرٍ). وقال النبي صلى الله عليه وسلم: 'تحروا ليلة القدر في الوتر من العشر الأواخر من رمضان'. ومن قامها إيمانًا واحتسابًا غفر له ما تقدم من ذنبه.",reference:"القرآن الكريم، سورة القدر، وصحيح البخاري."},{id:5011,question:"ما حكم استخدام معجون الأسنان للصائم؟",options:["يفطر مطلقًا","جائز بشرط عدم بلع شيء","مكروه","محرم"],correctAnswer:"جائز بشرط عدم بلع شيء",shortExplanation:"يجوز للصائم تنظيف أسنانه بالفرشاة والمعجون، مع التحرز من وصول شيء منه إلى جوفه.",detailedExplanation:"استعمال المعجون لا يفطر، لأنه ليس أكلًا ولا شربًا ولا في معناهما. وهو من جنس المضمضة، فيجوز مع الحذر من بلعه. والأولى تركه في النهار واستعمال السواك بدلاً منه خروجًا من الخلاف.",reference:"فتاوى الشيخ ابن باز."},{id:5012,question:"ماذا يفعل الشيخ الكبير العاجز عن الصيام؟",options:["لا شيء عليه","يصوم عنه ولده","يطعم عن كل يوم مسكينًا","يقضي بعد رمضان"],correctAnswer:"يطعم عن كل يوم مسكينًا",shortExplanation:"الشيخ الكبير والمريض الذي لا يرجى شفاؤه، يفطران ويطعمان عن كل يوم أفطراه مسكينًا.",detailedExplanation:"لقوله تعالى: (وَعَلَى الَّذِينَ يُطِيقُونَهُ فِدْيَةٌ طَعَامُ مِسْكِينٍ). قال ابن عباس: هي للشيخ الكبير والمرأة الكبيرة لا يستطيعان أن يصوما، فيطعمان مكان كل يوم مسكينًا. ومقدار الإطعام نصف صاع من غالب قوت البلد (حوالي كيلو ونصف).",reference:"صحيح البخاري."},{id:5013,question:"ما حكم صيام يومي العيد؟",options:["سنة","مباح","مكروه","محرم"],correctAnswer:"محرم",shortExplanation:"يحرم صيام يوم عيد الفطر ويوم عيد الأضحى بالإجماع.",detailedExplanation:"نهى النبي صلى الله عليه وسلم عن صيام يومين: يوم الفطر ويوم الأضحى. فهي أيام أكل وشرب وذكر لله، وإظهار للفرح والسرور بنعمة الله.",reference:"صحيح البخاري ومسلم."},{id:5014,question:"هل الحجامة تفطر الصائم؟",options:["نعم، تفطر","لا تفطر","تفطر الحاجم والمحجوم","مسألة خلافية والراجح أنها لا تفطر"],correctAnswer:"مسألة خلافية والراجح أنها لا تفطر",shortExplanation:"اختلف العلماء في ذلك، والقول الراجح أن الحجامة لا تفطر الصائم، لكن الأولى تركها في النهار إن كانت تضعف الصائم.",detailedExplanation:"كانت الحجامة مفطرة في أول الأمر لحديث: 'أفطر الحاجم والمحجوم'. ثم نسخ هذا الحكم، وثبت أن النبي صلى الله عليه وسلم احتجم وهو صائم. وهذا هو اختيار شيخ الإسلام ابن تيمية والشيخ ابن عثيمين.",reference:"صحيح البخاري."},{id:5015,question:"ما حكم بلع الريق للصائم؟",options:["يفطر","مكروه","جائز ولا يفطر","يفطر إن كان كثيرًا"],correctAnswer:"جائز ولا يفطر",shortExplanation:"بلع الريق المعتاد لا يفطر الصائم بالإجماع، لأنه مما لا يمكن التحرز منه.",detailedExplanation:"لا يفطر الصائم ببلع ريقه، ولو كثر. أما بلع النخامة (البلغم) بعد وصولها إلى الفم، ففيه خلاف، والأحوط لفظها وعدم بلعها.",reference:"المغني لابن قدامة."},{id:5016,question:"ما هو أفضل الصيام بعد رمضان؟",options:["صيام شهر الله المحرم","صيام ستة من شوال","صيام يوم عرفة","صيام الإثنين والخميس"],correctAnswer:"صيام شهر الله المحرم",shortExplanation:"أفضل الصيام تطوعًا بعد شهر رمضان هو صيام شهر الله المحرم، وآكده يوم عاشوراء.",detailedExplanation:"لقول النبي صلى الله عليه وسلم: 'أفضل الصيام بعد رمضان شهر الله المحرم، وأفضل الصلاة بعد الفريضة صلاة الليل'.",reference:"صحيح مسلم."},{id:5017,question:"ما فضل صيام ستة أيام من شوال؟",options:["كصيام الدهر","غفران الذنوب","بناء بيت في الجنة","لا فضل خاص لها"],correctAnswer:"كصيام الدهر",shortExplanation:"من صام رمضان ثم أتبعه ستًا من شوال، كان كصيام الدهر كله.",detailedExplanation:"لقول النبي صلى الله عليه وسلم: 'من صام رمضان ثم أتبعه ستًا من شوال، كان كصيام الدهر'. والحسنة بعشر أمثالها، فرمضان بعشرة أشهر، والستة أيام بستين يومًا (شهرين)، فالمجموع اثنا عشر شهرًا.",reference:"صحيح مسلم."},{id:5018,question:"ما حكم من طلع عليه الفجر وهو جنب؟",options:["بطل صومه","صومه صحيح ويغتسل ويصلي","عليه قضاء ذلك اليوم","عليه كفارة"],correctAnswer:"صومه صحيح ويغتسل ويصلي",shortExplanation:"من أدركه الفجر وهو على جنابة من جماع ليلي، فصومه صحيح، ويجب عليه أن يغتسل ليصلي الفجر.",detailedExplanation:"ثبت عن النبي صلى الله عليه وسلم أنه كان يدركه الفجر وهو جنب من أهله ثم يغتسل ويصوم. فالجنابة ليست من المفطرات، وإنما يجب الاغتسال منها لأجل الصلاة.",reference:"صحيح البخاري ومسلم."},{id:5019,question:"هل القيء عمدًا يفطر الصائم؟",options:["نعم، يفطر وعليه القضاء","لا يفطر","يفطر وعليه كفارة","مكروه فقط"],correctAnswer:"نعم، يفطر وعليه القضاء",shortExplanation:"من تعمد القيء (الاستقاءة) فقد أفطر وعليه قضاء ذلك اليوم، أما من غلبه القيء فلا شيء عليه.",detailedExplanation:"لقول النبي صلى الله عليه وسلم: 'من ذرعه القيء (غلبه) فليس عليه قضاء، ومن استقاء عمدًا فليقضِ'.",reference:"سنن الترمذي."},{id:5020,question:"ما هو الاعتكاف وأين يكون؟",options:["عزلة في البيت","صيام متواصل","لزوم المسجد لطاعة الله","السفر للعبادة"],correctAnswer:"لزوم المسجد لطاعة الله",shortExplanation:"الاعتكاف هو لزوم المسلم للمسجد بنية التقرب إلى الله تعالى، وهو سنة في كل وقت، ويتأكد في العشر الأواخر من رمضان.",detailedExplanation:"الاعتكاف هو الانقطاع عن الناس والتفرغ للعبادة في بيت من بيوت الله. ويكون في مسجد تقام فيه صلاة الجماعة. والسنة اعتكاف العشر الأواخر من رمضان كاملة، اقتداء بالنبي صلى الله عليه وسلم.",reference:"صحيح البخاري."}]},{id:"hajj",title:"الحج والعمرة",color:"slate",icon:"🕋",questions:[{id:6001,question:"ما هو ركن الحج الأعظم الذي لا يصح الحج بدونه؟",options:["طواف الوداع","الوقوف بعرفة","رمي الجمرات","المبيت بمنى"],correctAnswer:"الوقوف بعرفة",shortExplanation:"الوقوف بعرفة هو ركن الحج الأعظم، لقول النبي صلى الله عليه وسلم: 'الحج عرفة'.",detailedExplanation:"أركان الحج هي التي يبطل الحج بترك أحدها. وأعظمها هو الوقوف بعرفة في اليوم التاسع من ذي الحجة، ولو للحظة واحدة، في أي جزء من أرض عرفة، ما بين زوال الشمس إلى طلوع فجر يوم النحر. فمن فاته الوقوف بعرفة فقد فاته الحج.",reference:"سنن الترمذي، وصححه الألباني."},{id:6002,question:"ما هي أركان الحج الأربعة؟",options:["الإحرام، الوقوف بعرفة، طواف الإفاضة، السعي","الإحرام، الطواف، السعي، الحلق","الوقوف بعرفة، رمي الجمار، المبيت بمنى، الطواف","النية، الإحرام، الطواف، رمي الجمار"],correctAnswer:"الإحرام، الوقوف بعرفة، طواف الإفاضة، السعي",shortExplanation:"أركان الحج عند جمهور العلماء هي: الإحرام (نية الدخول في النسك)، والوقوف بعرفة، وطواف الإفاضة، والسعي بين الصفا والمروة.",detailedExplanation:"الأركان لا يصح الحج إلا بالإتيان بها جميعًا، ولا تجبر بدم (ذبح فدية). من ترك ركنًا لم يتم حجه حتى يأتي به. والإحرام هو نية الدخول، والوقوف بعرفة في وقته المحدد، وطواف الإفاضة بعد عرفة، والسعي بعد طواف القدوم أو الإفاضة.",reference:"المغني لابن قدامة."},{id:6003,question:"ما هي أنواع النسك (الحج) الثلاثة؟",options:["المفرد، المقرن، المتمتع","العام، الخاص، الكامل","المكي، المدني، العراقي","الأول، الأوسط، الأخير"],correctAnswer:"المفرد، المقرن، المتمتع",shortExplanation:"أنساك الحج ثلاثة: الإفراد (حج فقط)، والقِران (حج وعمرة معًا بإحرام واحد)، والتمتع (عمرة ثم حج بإحرامين).",detailedExplanation:"التمتع: هو أن يحرم بالعمرة في أشهر الحج، ويفرغ منها، ثم يحرم بالحج من مكة في نفس العام. وهو أفضل الأنساك. القِران: هو أن يحرم بالحج والعمرة معًا. الإفراد: هو أن يحرم بالحج وحده. والقارن والمتمتع عليهما هدي (ذبح شاة)، أما المفرد فلا هدي عليه.",reference:"صحيح البخاري ومسلم."},{id:6004,question:"ما هو 'يوم التروية'؟",options:["اليوم السابع من ذي الحجة","اليوم الثامن من ذي الحجة","يوم عرفة","يوم العيد"],correctAnswer:"اليوم الثامن من ذي الحجة",shortExplanation:"يوم التروية هو اليوم الثامن من ذي الحجة، وفيه يتوجه الحجاج إلى منى للمبيت بها استعدادًا للوقوف بعرفة.",detailedExplanation:"سمي بيوم التروية لأن الحجاج كانوا يتروون فيه من الماء (أي يتزودون) لما بعده من الأيام في المشاعر التي لم يكن بها ماء آنذاك. ومن السنة للحاج المتمتع أن يحرم بالحج ضحى هذا اليوم من مكانه في مكة ثم يتوجه إلى منى فيصلي بها الظهر والعصر والمغرب والعشاء والفجر.",reference:"صحيح مسلم."},{id:6005,question:"ما هي 'محظورات الإحرام'؟",options:["الأكل والشرب","النوم","تغطية الرأس للرجل ولبس المخيط","الكلام"],correctAnswer:"تغطية الرأس للرجل ولبس المخيط",shortExplanation:"محظورات الإحرام هي أمور ممنوعة على الحاج أو المعتمر بعد إحرامه، منها ما هو مشترك بين الرجال والنساء ومنها ما يخص الرجال فقط.",detailedExplanation:"المحظورات المشتركة: حلق الشعر، تقليم الأظافر، استعمال الطيب، قتل الصيد، عقد النكاح، الجماع ومقدماته. ويختص الرجل بلبس المخيط (الملابس المفصلة على الجسم) وتغطية الرأس. وتختص المرأة بلبس النقاب والقفازين.",reference:"كتب مناسك الحج."},{id:6006,question:"كم عدد أشواط الطواف حول الكعبة؟",options:["ثلاثة","خمسة","سبعة","عشرة"],correctAnswer:"سبعة",shortExplanation:"الطواف حول الكعبة سبعة أشواط كاملة، تبدأ من الحجر الأسود وتنتهي به.",detailedExplanation:"يشترط لصحة الطواف: الطهارة من الحدثين، وستر العورة، وأن يجعل البيت عن يساره، وأن يكون سبعة أشواط، وأن يكون داخل المسجد الحرام. يبدأ كل شوط من محاذاة الحجر الأسود وينتهي عنده.",reference:"فقه السنة لسيد سابق."},{id:6007,question:"ماذا يفعل الحاج ليلة العاشر من ذي الحجة (ليلة العيد)؟",options:["يبقى في عرفة","يرجع إلى مكة","يبيت في مزدلفة","يبيت في منى"],correctAnswer:"يبيت في مزدلفة",shortExplanation:"بعد غروب شمس يوم عرفة، يتوجه الحجاج إلى مزدلفة ويبيتون بها حتى يصلوا الفجر، وهو واجب من واجبات الحج.",detailedExplanation:"يجمع الحاج في مزدلفة بين صلاتي المغرب والعشاء جمع تأخير. والسنة أن يبيت بها حتى يصلي الفجر، ثم يقف عند المشعر الحرام للدعاء والذكر حتى يسفر الجو جدًا، ثم ينطلق إلى منى قبل طلوع الشمس. والمبيت بمزدلفة واجب، من تركه لغير عذر فعليه دم.",reference:"صحيح مسلم."},{id:6008,question:"ما هي أعمال يوم النحر (العاشر من ذي الحجة)؟",options:["الوقوف بعرفة فقط","رمي جمرة العقبة، النحر، الحلق، طواف الإفاضة","السعي فقط","طواف الوداع"],correctAnswer:"رمي جمرة العقبة، النحر، الحلق، طواف الإفاضة",shortExplanation:"أعمال يوم النحر أربعة بالترتيب الأفضل: رمي جمرة العقبة الكبرى، ثم نحر الهدي، ثم الحلق أو التقصير، ثم طواف الإفاضة.",detailedExplanation:"هذا هو الترتيب الذي فعله النبي صلى الله عليه وسلم. وإذا فعل الحاج اثنين من هذه الأربعة (مثل الرمي والحلق) فقد حصل له التحلل الأول، فيباح له كل شيء من محظورات الإحرام إلا النساء. وإذا أتى ببقية الأعمال مع السعي، حصل له التحلل الثاني وحلت له النساء.",reference:"صحيح البخاري."},{id:6009,question:"ما الفرق بين الحج والعمرة؟",options:["لا فرق بينهما","الحج في رمضان والعمرة في ذي الحجة","الحج له وقت محدد وفيه وقوف بعرفة","العمرة واجبة والحج سنة"],correctAnswer:"الحج له وقت محدد وفيه وقوف بعرفة",shortExplanation:"الحج فرض مرة في العمر وله وقت معين (أشهر الحج) وأعماله أكثر، وأهمها الوقوف بعرفة. أما العمرة فتصح في كل وقت وأعمالها أقل (طواف وسعي وحلق).",detailedExplanation:"أعمال العمرة هي: الإحرام، والطواف، والسعي، والحلق أو التقصير. أما الحج فيزيد على ذلك: الوقوف بعرفة، والمبيت بمزدلفة، والمبيت بمنى، ورمي الجمار. والعمرة جائزة طوال العام، أما الحج فلا يكون إلا في أشهر الحج (شوال، ذو القعدة، ذو الحجة).",reference:"مجموع فتاوى ابن باز."},{id:6010,question:"ما حكم طواف الوداع؟",options:["ركن من أركان الحج","واجب على الحاج غير الحائض","سنة مؤكدة","مستحب"],correctAnswer:"واجب على الحاج غير الحائض",shortExplanation:"طواف الوداع واجب على كل حاج يريد مغادرة مكة، ويسقط عن المرأة الحائض والنفساء.",detailedExplanation:"لقول النبي صلى الله عليه وسلم: 'لا ينفرن أحد حتى يكون آخر عهده بالبيت'. فمن ترك طواف الوداع لعذر كالحيض فلا شيء عليه، ومن تركه لغير عذر فعليه دم (ذبح شاة) يوزع على فقراء الحرم.",reference:"صحيح مسلم."},{id:6011,question:"ما هي 'أيام التشريق'؟",options:["الأيام الثلاثة قبل عرفة","الأيام الثلاثة بعد يوم العيد","أول عشرة أيام من ذي الحجة","يوم عرفة ويوم العيد"],correctAnswer:"الأيام الثلاثة بعد يوم العيد",shortExplanation:"أيام التشريق هي اليوم الحادي عشر والثاني عشر والثالث عشر من شهر ذي الحجة.",detailedExplanation:"هذه الأيام هي أيام أكل وشرب وذكر لله، ويحرم صيامها لغير الحاج المتمتع أو القارن الذي لم يجد الهدي. وفيها يقوم الحجاج برمي الجمرات الثلاث والمبيت بمنى.",reference:"صحيح مسلم."},{id:6012,question:"من أين يحرم أهل مكة للحج؟",options:["من بيوتهم","من التنعيم","من السيل الكبير","من الجحفة"],correctAnswer:"من بيوتهم",shortExplanation:"من كان مقيمًا في مكة، فإنه يحرم بالحج من مكانه الذي هو فيه (بيته أو سكنه).",detailedExplanation:"المواقيت المكانية للإحرام حددها النبي صلى الله عليه وسلم للقادمين إلى مكة. أما من كان داخل هذه المواقيت (أهل مكة ومن بها من المقيمين)، فميقاتهم للحج هو نفس المكان الذي هم فيه. أما للعمرة، فيجب عليهم الخروج إلى أدنى الحل (خارج حدود الحرم) كالتنعيم أو الجعرانة ليحرموا منها.",reference:"صحيح البخاري."},{id:6013,question:"ما حكم من ترك واجبًا من واجبات الحج سهوًا؟",options:["حجه باطل","عليه دم (ذبح شاة)","لا شيء عليه","يصوم ثلاثة أيام"],correctAnswer:"عليه دم (ذبح شاة)",shortExplanation:"من ترك واجبًا من واجبات الحج (مثل المبيت بمزدلفة أو رمي الجمار) فإن حجه صحيح، ولكن يجب عليه جبره بدم.",detailedExplanation:"واجبات الحج تختلف عن الأركان. فالركن لا ينجبر إلا بفعله، أما الواجب فيجبر تركه بفدية (ذبح شاة في مكة وتوزيعها على الفقراء). وهذا من تيسير الشريعة.",reference:"فتاوى اللجنة الدائمة."},{id:6014,question:"ما هو 'الرَّمَل' في الطواف؟",options:["لمس الركن اليماني","الإسراع في المشي مع تقارب الخطى","الدعاء عند الملتزم","تقبيل الحجر الأسود"],correctAnswer:"الإسراع في المشي مع تقارب الخطى",shortExplanation:"الرمل هو سنة للرجال فقط في الأشواط الثلاثة الأولى من طواف القدوم أو طواف العمرة.",detailedExplanation:"الرمل هو إسراع المشي مع هز الكتفين وتقارب الخطى، لإظهار القوة والجلد. فعله النبي صلى الله عليه وسلم وأصحابه عند دخول مكة ليُروا المشركين قوتهم. وهو سنة في طواف القدوم للحاج، وطواف العمرة للمعتمر.",reference:"صحيح مسلم."},{id:6015,question:"ما هي 'التلبية' ومتى تقطع؟",options:["دعاء عند رؤية الكعبة","ذكر يردده المحرم، ويقطعه عند رمي جمرة العقبة","صلاة عند الميقات","نوع من اللباس"],correctAnswer:"ذكر يردده المحرم، ويقطعه عند رمي جمرة العقبة",shortExplanation:"التلبية هي شعار الحج والعمرة، وهي قول 'لبيك اللهم لبيك...'. ويبدأ بها المحرم من الميقات، ويقطعها الحاج عند بدء رمي جمرة العقبة يوم العيد، ويقطعها المعتمر عند بدء الطواف.",detailedExplanation:"صيغة التلبية المأثورة: 'لبيك اللهم لبيك، لبيك لا شريك لك لبيك، إن الحمد والنعمة لك والملك، لا شريك لك'. يسن للرجال الجهر بها، أما النساء فيقلنها سرًا.",reference:"صحيح البخاري ومسلم."}]},{id:"transactions",title:"المعاملات المالية",color:"amber",icon:"⚖️",questions:[{id:7001,question:"ما هو 'الربا' في الإسلام؟",options:["الربح في التجارة","الزيادة المشروطة في أحد عوضي العقد","بيع السلعة بأكثر من سعرها","أخذ فائدة على القرض"],correctAnswer:"أخذ فائدة على القرض",shortExplanation:"الربا هو كل زيادة مشروطة في عقد القرض أو في بيع الأموال الربوية بعضها ببعض، وهو من أكبر الكبائر.",detailedExplanation:"الربا نوعان رئيسيان: ربا الديون (وهو زيادة مشروطة على أصل الدين مقابل الأجل، وهو ربا الجاهلية)، وربا البيوع (وهو بيع مال ربوي بمال ربوي من نفس الجنس مع زيادة، أو مع تأخير القبض). وقد حرمه الله تحريمًا قاطعًا وتوعد فاعله بالحرب.",reference:"القرآن الكريم، سورة البقرة: 275-279."},{id:7002,question:"ما هي شروط صحة عقد البيع؟",options:["التراضي، العاقدان، المعقود عليه، الصيغة","وجود شاهدين","الكتابة والتوثيق","أن يكون في السوق"],correctAnswer:"التراضي، العاقدان، المعقود عليه، الصيغة",shortExplanation:"لصحة البيع شروط تتعلق بأطراف العقد (العاقدان)، وبمحل العقد (المعقود عليه)، وبطريقة العقد (الصيغة)، وبالرضا بين الطرفين.",detailedExplanation:"شروط صحة البيع هي: 1. التراضي بين المتبايعين. 2. أن يكون العاقدان جائزا التصرف (بالغين، عاقلين، راشدين). 3. أن يكون المبيع مملوكًا للبائع أو مأذونًا له فيه. 4. أن يكون المبيع مقدورًا على تسليمه. 5. أن يكون المبيع والثمن معلومين. 6. أن يكون المبيع مباح النفع.",reference:"زاد المستقنع في اختصار المقنع."},{id:7003,question:"ما هو 'بيع الغرر'؟",options:["البيع بالتقسيط","البيع الذي فيه جهالة أو مخاطرة","بيع المسروق","البيع في المسجد"],correctAnswer:"البيع الذي فيه جهالة أو مخاطرة",shortExplanation:"بيع الغرر هو البيع الذي يشتمل على جهالة كبيرة في المبيع أو الثمن أو الأجل، مما قد يؤدي إلى النزاع. وهو محرم.",detailedExplanation:"نهى النبي صلى الله عليه وسلم عن بيع الغرر. ومن أمثلته: بيع السمك في الماء، أو الطير في الهواء، أو بيع الثمار قبل أن يبدو صلاحها، أو بيع سلعة لا يملكها البائع. فكل بيع فيه مخاطرة أو جهالة غير يسيرة فهو من الغرر المنهي عنه.",reference:"صحيح مسلم."},{id:7004,question:"ما حكم بيع ما لا يملك؟",options:["جائز إذا ضمنه","محرم","مكروه","جائز للتاجر الخبير"],correctAnswer:"محرم",shortExplanation:"لا يجوز للمسلم أن يبيع سلعة لا يملكها وقت العقد.",detailedExplanation:"لقول النبي صلى الله عليه وسلم لحكيم بن حزام: 'لا تبع ما ليس عندك'. وهذا شرط أساسي من شروط صحة البيع، وهو أن يكون البائع مالكًا للمبيع أو وكيلاً عن مالكه. ويستثنى من ذلك بيع السلم بشروطه.",reference:"سنن الترمذي."},{id:7005,question:"ما هو 'خيار المجلس'؟",options:["حق اختيار أفضل مكان في السوق","حق المتبايعين في فسخ العقد ما داما في مكان البيع","الاختيار بين الدفع نقدًا أو بالتقسيط","خيار التاجر في تحديد السعر"],correctAnswer:"حق المتبايعين في فسخ العقد ما داما في مكان البيع",shortExplanation:"خيار المجلس هو حق يثبت للمشتري والبائع في إمضاء العقد أو فسخه ما داما لم يتفرقا بأبدانهما عن مكان العقد.",detailedExplanation:"لقول النبي صلى الله عليه وسلم: 'البيعان بالخيار ما لم يتفرقا'. وهذا الخيار يعطي فرصة للتروي والتفكير قبل لزوم العقد. وينتهي هذا الخيار بتفرقهما أو باختيارهما إمضاء العقد.",reference:"صحيح البخاري ومسلم."},{id:7006,question:"ما هو بيع 'العينة' المحرم؟",options:["بيع عينة من المنتج قبل بيع الكمية","بيع سلعة بثمن مؤجل ثم شراؤها نقدًا بثمن أقل","بيع السلعة قبل رؤيتها","البيع بالمزاد"],correctAnswer:"بيع سلعة بثمن مؤجل ثم شراؤها نقدًا بثمن أقل",shortExplanation:"بيع العينة هو حيلة للحصول على قرض بفائدة، وهو من صور الربا المحرم.",detailedExplanation:"صورته: أن يبيع شخص سلعة على آخر بثمن مؤجل (مثلاً 1200)، ثم يشتريها البائع نفسه من المشتري في نفس المجلس بثمن حالٍّ أقل (مثلاً 1000). فتكون النتيجة أن المشتري حصل على 1000 نقدًا وسيردها 1200 مؤجلة، والسلعة مجرد حيلة، فهذا ربا.",reference:"فتاوى اللجنة الدائمة."},{id:7007,question:"ما حكم الرهن في الدين؟",options:["محرم","جائز","واجب","مكروه"],correctAnswer:"جائز",shortExplanation:"الرهن عقد جائز ومشروع، وهو توثيق للدين بعين يمكن استيفاء الدين منها عند تعذر السداد.",detailedExplanation:"الرهن جائز بالكتاب والسنة والإجماع. قال تعالى: (وَإِن كُنتُمْ عَلَىٰ سَفَرٍ وَلَمْ تَجِدُوا كَاتِبًا فَرِهَانٌ مَّقْبُوضَةٌ). وقد ثبت أن النبي صلى الله عليه وسلم مات ودرعه مرهونة عند يهودي في شعير أخذه لأهله.",reference:"القرآن الكريم، سورة البقرة: 283، وصحيح البخاري."},{id:7008,question:"ما حكم بيع التقسيط بسعر أعلى من سعر النقد؟",options:["محرم لأنه ربا","جائز إذا كان معلوماً عند العقد","مكروه","جائز في السلع الضرورية فقط"],correctAnswer:"جائز إذا كان معلوماً عند العقد",shortExplanation:"يجوز بيع السلعة بالتقسيط بسعر أعلى من سعرها النقدي، بشرط أن يتم تحديد السعر وطريقة الدفع (نقد أو تقسيط) بشكل باتٍّ عند إبرام العقد.",detailedExplanation:"هذا البيع ليس من الربا، لأن الزيادة هنا في مقابل الأجل (الزمن)، وهي زيادة في ثمن السلعة لا في أصل الدين. والمحرم هو أن يتم العقد دون تحديد السعر، كأن يقول: 'هي بالنقد بألف وبالتقسيط بألف ومائتين'، دون أن يختارا أحدهما.",reference:"فتاوى اللجنة الدائمة."},{id:7009,question:"ما هو 'بيع السلم'؟",options:["البيع بالسلام والمصافحة","بيع شيء موصوف في الذمة بثمن معجل","البيع عند باب المسجد","البيع بثمن رمزي"],correctAnswer:"بيع شيء موصوف في الذمة بثمن معجل",shortExplanation:"بيع السلم (أو السلف) هو استثناء من بيع ما لا يملك، وهو تعجيل الثمن وتأجيل المبيع الموصوف وصفًا دقيقًا.",detailedExplanation:"صورته: أن يدفع المشتري الثمن كاملاً في مجلس العقد، على أن يسلمه البائع سلعة (كالتمر أو القمح) موصوفة وصفًا يرفع الجهالة، في أجل معلوم. وقد شرع لحاجة الناس إليه، خاصة المزارعين الذين يحتاجون للمال قبل نضج الثمار.",reference:"صحيح البخاري."},{id:7010,question:"ما حكم التأمين التجاري (مثل تأمين السيارات والحياة)؟",options:["جائز","محرم لاشتماله على الغرر والقمار","مستحب","واجب"],correctAnswer:"محرم لاشتماله على الغرر والقمار",shortExplanation:"التأمين التجاري بصورته الحالية محرم شرعًا، لأنه يشتمل على الغرر (الجهالة) والميسر (القمار). والبديل الشرعي هو التأمين التعاوني.",detailedExplanation:"وجه الغرر في التأمين التجاري أن المؤمن لا يدري كم سيدفع وكم سيأخذ. ووجه القمار أنه إما أن يأخذ أكثر مما دفع (إذا وقع الحادث) أو يذهب ماله دون مقابل (إذا لم يقع الحادث). أما التأمين التعاوني فمبني على التبرع والتعاون على جبر المصائب، والفائض يعود على المشتركين، وهذا جائز.",reference:"قرارات مجمع الفقه الإسلامي."}]},{id:"family",title:"أحكام الأسرة",color:"sky",icon:"👨‍👩‍👧‍👦",questions:[{id:8001,question:"ما هي أركان عقد النكاح؟",options:["الإيجاب والقبول، الزوجان الخاليان من الموانع، الولي، الشاهدان","المهر والوليمة","الزوج والزوجة فقط","الكفاءة بين الزوجين"],correctAnswer:"الإيجاب والقبول، الزوجان الخاليان من الموانع، الولي، الشاهدان",shortExplanation:"أركان عقد النكاح التي لا يصح إلا بها هي: وجود الزوجين، وحصول الإيجاب والقبول، وموافقة الولي، وحضور الشاهدين.",detailedExplanation:"لا يصح النكاح إلا بولي وشاهدي عدل. فالولي (والد المرأة أو الأقرب فالأقرب من عصبتها) هو الذي يزوجها. والإيجاب هو قوله 'زوجتك ابنتي'، والقبول هو قول الزوج 'قبلت'. والشهادة شرط لتوثيق العقد وإعلانه.",reference:"حديث: 'لا نكاح إلا بولي وشاهدي عدل'."},{id:8002,question:"من هن النساء المحرمات على الرجل تحريمًا مؤبدًا؟",options:["بنات العم وبنات الخال","الأصول والفروع والحواشي","زوجة الأخ وأخت الزوجة","المطلقة ثلاثًا"],correctAnswer:"الأصول والفروع والحواشي",shortExplanation:"المحرمات تحريمًا أبديًا هن المحرمات بالنسب (كالأم والبنت والأخت)، والمحرمات بالرضاع، والمحرمات بالمصاهرة (كزوجة الأب وزوجة الابن).",detailedExplanation:"فصلت سورة النساء المحرمات: (حُرِّمَتْ عَلَيْكُمْ أُمَّهَاتُكُمْ وَبَنَاتُكُمْ وَأَخَوَاتُكُمْ...). فالأصول هن الأمهات والجدات، والفروع هن البنات والحفيدات، والحواشي هن الأخوات والعمات والخالات وبنات الأخ وبنات الأخت. ويحرم من الرضاع ما يحرم من النسب.",reference:"القرآن الكريم، سورة النساء: 23."},{id:8003,question:"ما حكم 'نكاح الشغار'؟",options:["جائز","مكروه","محرم وباطل","جائز للضرورة"],correctAnswer:"محرم وباطل",shortExplanation:"نكاح الشغار هو أن يزوج الرجل موليته (ابنته أو أخته) لرجل آخر، على أن يزوجه الآخر موليته، وليس بينهما مهر. وهو نكاح باطل.",detailedExplanation:"نهى النبي صلى الله عليه وسلم عن الشغار. وفسره ابن عمر بأنه جعل بضع كل واحدة منهما صداقًا للأخرى. وسبب التحريم هو خلوه من المهر الذي هو حق للمرأة، وجعل المرأة كأنها سلعة للمبادلة.",reference:"صحيح البخاري ومسلم."},{id:8004,question:"ما هو 'الطلاق الرجعي'؟",options:["الطلاق قبل الدخول","الطلاق الذي لا يمكن الرجوع فيه","الطلقة الأولى والثانية ما دامت الزوجة في العدة","الطلقة الثالثة"],correctAnswer:"الطلقة الأولى والثانية ما دامت الزوجة في العدة",shortExplanation:"الطلاق الرجعي هو الذي يوقعه الزوج على زوجته المدخول بها لأول أو ثاني مرة، ويحق له مراجعتها خلال فترة العدة دون عقد جديد.",detailedExplanation:"في الطلاق الرجعي، تبقى الزوجة في حكم الزوجات، فلها النفقة والسكنى، ويرث كل منهما الآخر لو مات في العدة. ويملك الزوج مراجعتها بالقول (كقوله: راجعتك) أو بالفعل (كالوطء) ما لم تنقض عدتها.",reference:"القرآن الكريم، سورة البقرة: 228."},{id:8005,question:"ما هي 'العدة' للمرأة المطلقة التي تحيض؟",options:["شهر واحد","ثلاث حيضات كاملة","أربعة أشهر وعشرة أيام","سنة كاملة"],correctAnswer:"ثلاث حيضات كاملة",shortExplanation:"عدة المطلقة المدخول بها من ذوات الحيض هي ثلاث حيضات كاملة.",detailedExplanation:"قال تعالى: (وَالْمُطَلَّقَاتُ يَتَرَبَّصْنَ بِأَنفُسِهِنَّ ثَلَاثَةَ قُرُوءٍ). والقرء يطلق على الحيض والطهر، والراجح أنه الحيض. فبمجرد أن تبدأ في الحيضة الثالثة وتغتسل منها، تنقضي عدتها.",reference:"القرآن الكريم، سورة البقرة: 228."},{id:8006,question:"ما هي عدة المرأة المتوفى عنها زوجها؟",options:["ثلاث حيضات","ستة أشهر","سنة كاملة","أربعة أشهر وعشرة أيام"],correctAnswer:"أربعة أشهر وعشرة أيام",shortExplanation:"عدة المتوفى عنها زوجها هي أربعة أشهر وعشرة أيام، سواء كانت مدخولاً بها أم لا، حائضًا أم لا، إلا إذا كانت حاملاً.",detailedExplanation:"لقوله تعالى: (وَالَّذِينَ يُتَوَفَّوْنَ مِنكُمْ وَيَذَرُونَ أَزْوَاجًا يَتَرَبَّصْنَ بِأَنفُسِهِنَّ أَرْبَعَةَ أَشْهُرٍ وَعَشْرًا). أما إذا كانت حاملاً، فعدتها تنتهي بوضع حملها، ولو كان بعد وفاة زوجها بساعة.",reference:"القرآن الكريم، سورة البقرة: 234."},{id:8007,question:"ما هو 'الخلع'؟",options:["نوع من الطلاق يوقعه القاضي","أن تفارق الزوجة زوجها مقابل عوض مالي تدفعه له","فسخ النكاح بسبب عيب","الطلاق قبل الدخول"],correctAnswer:"أن تفارق الزوجة زوجها مقابل عوض مالي تدفعه له",shortExplanation:"الخلع هو فراق الزوج لزوجته بلفظ معين مقابل عوض (مال) تأخذه منه. وهو طلاق بائن.",detailedExplanation:"إذا كرهت المرأة زوجها وخشيت ألا تؤدي حقه، فيجوز لها أن تطلب منه الفراق مقابل أن ترد عليه المهر الذي دفعه لها أو أقل أو أكثر حسب الاتفاق. ودليله قصة امرأة ثابت بن قيس التي جاءت للنبي تطلب فراق زوجها، فأمره أن يقبل حديقته (مهره) ويطلقها.",reference:"صحيح البخاري."},{id:8008,question:"ما حكم تعدد الزوجات في الإسلام؟",options:["محرم","مباح بشروط العدل والقدرة","واجب","مكروه"],correctAnswer:"مباح بشروط العدل والقدرة",shortExplanation:"أباح الإسلام للرجل أن يتزوج بأكثر من واحدة حتى أربع، بشرط أن يثق من نفسه في العدل بينهن في النفقة والمبيت، وأن يكون قادرًا على الإنفاق عليهن.",detailedExplanation:"قال تعالى: (فَانكِحُوا مَا طَابَ لَكُم مِّنَ النِّسَاءِ مَثْنَىٰ وَثُلَاثَ وَرُبَاعَ ۖ فَإِنْ خِفْتُمْ أَلَّا تَعْدِلُوا فَوَاحِدَةً). فالعدل شرط أساسي في إباحة التعدد، ومن لم يستطعه حرم عليه الزواج بأكثر من واحدة.",reference:"القرآن الكريم، سورة النساء: 3."},{id:8009,question:"من هم 'أصحاب الفروض' في الميراث؟",options:["كل الورثة","الورثة الذين لهم نصيب مقدر شرعًا في القرآن أو السنة","الورثة الذكور فقط","الأبناء والآباء فقط"],correctAnswer:"الورثة الذين لهم نصيب مقدر شرعًا في القرآن أو السنة",shortExplanation:"أصحاب الفروض هم ورثة حُددت لهم أنصبة ثابتة في التركة، كالنصف والربع والثمن والثلثين والثلث والسدس.",detailedExplanation:"أصحاب الفروض هم: الزوج، الزوجة، الأب، الأم، الجد، الجدة، البنات، بنات الابن، الأخوات الشقيقات، الأخوات لأب، الإخوة لأم. لكل واحد من هؤلاء نصيب مقدر في حالات معينة، ويبدأ بهم في تقسيم التركة.",reference:"علم الفرائض والمواريث."},{id:8010,question:"ما هي 'الحضانة' ولمن تكون الأولوية فيها؟",options:["الرضاعة، وللأب","تربية الطفل، وللأم","النفقة، وللأب","التعليم، وللجد"],correctAnswer:"تربية الطفل، وللأم",shortExplanation:"الحضانة هي حفظ الطفل وتربيته ورعايته. والأم هي الأحق بحضانة طفلها الصغير ما لم تتزوج.",detailedExplanation:"إذا حصل فراق بين الزوجين، فالأم هي الأولى بحضانة أولادها الصغار ما لم يكن بها مانع أو تتزوج. لقول النبي صلى الله عليه وسلم للمرأة التي جاءت تشكو زوجها الذي أراد أخذ ابنها: 'أنت أحق به ما لم تنكحي'.",reference:"سنن أبي داود."}]},{id:"foods_oaths",title:"الأطعمة والأيمان",color:"green",icon:"🍽️",questions:[{id:9001,question:"ما هو الأصل في الأطعمة والأشربة؟",options:["الحرمة إلا ما ورد حله","الإباحة إلا ما ورد تحريمه","الكراهة","التوقف"],correctAnswer:"الإباحة إلا ما ورد تحريمه",shortExplanation:"القاعدة الفقهية أن الأصل في جميع الأطعمة والأشربة الحل والإباحة، ولا يحرم منها إلا ما جاء النص بتحريمه.",detailedExplanation:"لقوله تعالى: (هُوَ الَّذِي خَلَقَ لَكُم مَّا فِي الْأَرْضِ جَمِيعًا). فكل ما في الأرض من أطعمة وأشربة حلال لنا، إلا ما استثناه الشارع بالنص، كالخمر والميتة ولحم الخنزير والسباع وغيرها.",reference:"القرآن الكريم، سورة البقرة: 29."},{id:9002,question:"ما هي شروط الذكاة الشرعية للحيوان؟",options:["أن يكون الذابح مسلمًا أو كتابيًا، التسمية، قطع الحلقوم والمريء والودجين","قطع الرأس","استقبال القبلة فقط","أن يكون الحيوان سمينًا"],correctAnswer:"أن يكون الذابح مسلمًا أو كتابيًا، التسمية، قطع الحلقوم والمريء والودجين",shortExplanation:"لحل أكل الحيوان البري، لا بد من تذكيته بشروط: أهلية الذابح، واستخدام آلة حادة، والتسمية، وقطع ما يجب قطعه.",detailedExplanation:"شروط الذكاة هي: 1. أن يكون الذابح مسلمًا أو كتابيًا (يهودي أو نصراني). 2. أن تكون الآلة حادة تقطع وتُنهر الدم. 3. أن يقول 'بسم الله' عند الذبح. 4. أن يقطع الحلقوم (مجرى النفس) والمريء (مجرى الطعام) وأحد الودجين أو كليهما (العرقان المحيطان بالعنق).",reference:"فقه السنة لسيد سابق."},{id:9003,question:"ما حكم أكل لحوم السباع التي لها ناب؟",options:["حلال","مكروه","حرام","جائز للضرورة"],correctAnswer:"حرام",shortExplanation:"حرم النبي صلى الله عليه وسلم أكل كل ذي ناب من السباع، وكل ذي مخلب من الطير.",detailedExplanation:"السباع التي لها ناب تفترس به (كالأسد والنمر والذئب والكلب) محرم أكلها. وكذلك الطيور التي لها مخلب تصطاد به (كالصقر والنسر والبازي) محرم أكلها. وهذا مذهب جمهور العلماء.",reference:"صحيح مسلم."},{id:9004,question:"هل يحل أكل جميع حيوانات البحر؟",options:["نعم، كلها حلال","لا، يحل السمك فقط","لا، يحرم ما كان مفترسًا","لا، يحرم ما ليس له قشر"],correctAnswer:"نعم، كلها حلال",shortExplanation:"الأصل أن جميع ما في البحر من حيوانات حلال أكله، سواء كان سمكًا أو غيره.",detailedExplanation:"لقول النبي صلى الله عليه وسلم عن البحر: 'هو الطهور ماؤه، الحل ميتته'. فميتة البحر حلال، ويشمل ذلك جميع أنواع الكائنات البحرية، إلا ما كان فيه ضرر أو كان سامًا.",reference:"سنن أبي داود والترمذي."},{id:9005,question:"ما هي 'اليمين الغموس'؟",options:["اليمين على فعل في المستقبل","اليمين الكاذبة على أمر ماضٍ عمدًا","اليمين التي لا يقصدها الحالف","يمين الاستثناء"],correctAnswer:"اليمين الكاذبة على أمر ماضٍ عمدًا",shortExplanation:"اليمين الغموس هي التي تغمس صاحبها في الإثم ثم في النار، وهي الحلف كذبًا على أمر في الماضي لاقتطاع حق أو مال.",detailedExplanation:"اليمين الغموس من أكبر الكبائر، ولا كفارة لها عند جمهور العلماء إلا التوبة الصادقة ورد الحقوق إلى أهلها، لعظم إثمها. مثالها: أن يحلف شخص أنه لم يأخذ مال فلان، وهو يعلم أنه أخذه.",reference:"صحيح البخاري."},{id:9006,question:"ما هي كفارة اليمين المنعقدة إذا حنث فيها؟",options:["صيام ثلاثة أيام فقط","إطعام عشرة مساكين أو كسوتهم أو تحرير رقبة، فإن لم يجد فصيام ثلاثة أيام","الاستغفار والتوبة","التصدق بمال"],correctAnswer:"إطعام عشرة مساكين أو كسوتهم أو تحرير رقبة، فإن لم يجد فصيام ثلاثة أيام",shortExplanation:"كفارة اليمين تكون على التخيير بين ثلاثة أمور، فإن عجز عنها انتقل إلى الصيام.",detailedExplanation:"قال تعالى: (فَكَفَّارَتُهُ إِطْعَامُ عَشَرَةِ مَسَاكِينَ مِنْ أَوْسَطِ مَا تُطْعِمُونَ أَهْلِيكُمْ أَوْ كِسْوَتُهُمْ أَوْ تَحْرِيرُ رَقَبَةٍ ۖ فَمَن لَّمْ يَجِدْ فَصِيَامُ ثَلَاثَةِ أَيَّامٍ). فالحانث مخير بين الإطعام أو الكسوة أو العتق، فإن لم يستطع أيًا منها، صام ثلاثة أيام.",reference:"القرآن الكريم، سورة المائدة: 89."},{id:9007,question:"ما حكم لبس الذهب والحرير للرجال؟",options:["جائز","مكروه","حرام","جائز في المناسبات"],correctAnswer:"حرام",shortExplanation:"يحرم على الرجال لبس الذهب ولبس الحرير الخالص، وهما حلال للنساء.",detailedExplanation:"لقول النبي صلى الله عليه وسلم، وقد أخذ حريرًا فجعله في يمينه، وذهبًا فجعله في شماله، ثم قال: 'إن هذين حرام على ذكور أمتي، حل لإناثهم'. ويستثنى من ذلك ما كان للضرورة كالحكة، أو اليسير جدًا كالزر أو الخيط.",reference:"سنن أبي داود."},{id:9008,question:"ما هو 'النذر' وما حكم الوفاء به؟",options:["دعاء، ويستحب فعله","عهد، والوفاء به مكروه","إلزام النفس بطاعة لم تكن واجبة، والوفاء به واجب","وعد، والوفاء به سنة"],correctAnswer:"إلزام النفس بطاعة لم تكن واجبة، والوفاء به واجب",shortExplanation:"النذر هو أن يلزم المكلف نفسه بقربة (طاعة) غير واجبة عليه. والوفاء بنذر الطاعة واجب.",detailedExplanation:"مدح الله الموفين بالنذر فقال: (يُوفُونَ بِالنَّذْرِ وَيَخَافُونَ يَوْمًا كَانَ شَرُّهُ مُسْتَطِيرًا). فإذا نذر شخص طاعة كصيام أو صدقة، وجب عليه الوفاء بها. أما نذر المعصية فيحرم الوفاء به. ويبدأ الإنسان بالنذر مكروه، لأنه إلزام للنفس بما لم يلزمها الله به.",reference:"القرآن الكريم، سورة الإنسان: 7."},{id:9009,question:"ما هي آداب الطعام في الإسلام؟",options:["الأكل باليسار","الأكل من وسط الطبق","التسمية في أوله والأكل باليمين والأكل مما يلي الإنسان","الكلام أثناء الأكل"],correctAnswer:"التسمية في أوله والأكل باليمين والأكل مما يلي الإنسان",shortExplanation:"من أهم آداب الطعام التسمية، والأكل باليد اليمنى، والأكل من الجزء الذي أمامك من الطبق.",detailedExplanation:"لقول النبي صلى الله عليه وسلم لعمر بن أبي سلمة: 'يا غلام، سم الله، وكل بيمينك، وكل مما يليك'. ومن الآداب أيضًا: تصغير اللقمة، وإجادة المضغ، وعدم عيب الطعام، وحمد الله بعد الفراغ منه.",reference:"صحيح البخاري ومسلم."},{id:9010,question:"ما حكم حلق اللحية للرجل؟",options:["جائز","مكروه","سنة","محرم"],correctAnswer:"محرم",shortExplanation:"حلق اللحية محرم عند جمهور العلماء، ويجب إعفاؤها وتوفيرها.",detailedExplanation:"لقول النبي صلى الله عليه وسلم: 'خالفوا المشركين: وفروا اللحى، وأحفوا الشوارب'. والأمر هنا للوجوب، فيكون الحلق محرمًا. وهذا هو مذهب الأئمة الأربعة.",reference:"صحيح البخاري ومسلم."}]},{id:"inheritance",title:"الميراث",color:"slate",icon:"📊",questions:[{id:10001,question:"ما هي أول خطوة يجب القيام بها من تركة المتوفى؟",options:["تقسيم الميراث","تنفيذ الوصية","تجهيز الميت ودفنه","سداد الديون"],correctAnswer:"تجهيز الميت ودفنه",shortExplanation:"الحقوق المتعلقة بالتركة تبدأ بتكاليف تجهيز الميت ودفنه بالمعروف، ثم سداد ديونه، ثم تنفيذ وصاياه، ثم تقسيم الباقي على الورثة.",detailedExplanation:"أجمع الفقهاء على أن الحقوق المتعلقة بالتركة لها ترتيب. أولاً: مؤن التجهيز والدفن. ثانيًا: قضاء ديون المتوفى. ثالثًا: تنفيذ وصاياه في حدود ثلث ما تبقى. رابعًا: توزيع بقية التركة على الورثة حسب أنصبتهم الشرعية.",reference:"الإجماع الفقهي، كتب علم الفرائض."},{id:10002,question:"أي مما يلي يعتبر من موانع الإرث؟",options:["الفقر","صغر السن","القتل","العيش في بلد آخر"],correctAnswer:"القتل",shortExplanation:"من موانع الإرث المتفق عليها القتل، فلا يرث القاتل من المقتول.",detailedExplanation:"موانع الإرث هي أوصاف تمنع الشخص من الميراث. وأهمها ثلاثة: 1. القتل: لقول النبي صلى الله عليه وسلم 'القاتل لا يرث'. 2. اختلاف الدين: فلا يرث المسلم من الكافر ولا الكافر من المسلم. 3. الرق (في السياق التاريخي).",reference:"سنن الترمذي، حديث 'القاتل لا يرث'."},{id:10003,question:"توفي رجل عن زوجة وابن، ما نصيب الزوجة؟",options:["النصف (1/2)","الربع (1/4)","الثمن (1/8)","السدس (1/6)"],correctAnswer:"الثمن (1/8)",shortExplanation:"نصيب الزوجة هو الثمن في حال وجود فرع وارث (ابن أو بنت) للزوج.",detailedExplanation:"قال تعالى في سورة النساء: (فَإِن كَانَ لَكُمْ وَلَدٌ فَلَهُنَّ الثُّمُنُ مِمَّا تَرَكْتُم). والولد هنا يشمل الابن والبنت وابن الابن وبنت الابن وإن نزلوا. والباقي يأخذه الابن تعصيبًا.",reference:"القرآن الكريم، سورة النساء: 12."},{id:10004,question:"من هم 'العصبة بالنفس'؟",options:["الورثة الإناث فقط","الورثة الذين لهم فرض مقدر","كل ذكر لا تدخل في نسبته إلى الميت أنثى","الأخوال والأعمام"],correctAnswer:"كل ذكر لا تدخل في نسبته إلى الميت أنثى",shortExplanation:"العصبة بالنفس هم ورثة ذكور يرثون ما تبقى بعد أصحاب الفروض، أو كل التركة عند عدم وجودهم. أقواهم الابن ثم الأب.",detailedExplanation:"العصبة بالنفس لهم جهات مرتبة: 1. البنوة (الابن وابن الابن). 2. الأبوة (الأب والجد). 3. الأخوة (الأخ الشقيق ثم لأب وأبناؤهم). 4. العمومة (العم الشقيق ثم لأب وأبناؤهم). ويقدم الأقرب جهة، ثم الأقرب درجة، ثم الأقوى قرابة.",reference:"حديث: 'ألحقوا الفرائض بأهلها، فما بقي فهو لأولى رجل ذكر' (صحيح البخاري)."},{id:10005,question:"توفيت امرأة عن زوج وبنت، ما نصيب الزوج؟",options:["النصف (1/2)","الربع (1/4)","الثمن (1/8)","السدس (1/6)"],correctAnswer:"الربع (1/4)",shortExplanation:"نصيب الزوج هو الربع في حال وجود فرع وارث للزوجة.",detailedExplanation:"قال تعالى في سورة النساء: (وَلَكُمْ نِصْفُ مَا تَرَكَ أَزْوَاجُكُمْ إِن لَّمْ يَكُن لَّهُنَّ وَلَدٌ ۚ فَإِن كَانَ لَهُنَّ وَلَدٌ فَلَكُمُ الرُّبُعُ مِمَّا تَرَكْنَ). في هذه المسألة تأخذ البنت النصف فرضًا، والزوج الربع فرضًا، والباقي يرد عليهما.",reference:"القرآن الكريم، سورة النساء: 12."},{id:10006,question:"توفي رجل عن بنتين وأم وأب، ما نصيب البنتين؟",options:["النصف (1/2)","الثلثان (2/3)","الثلث (1/3)","لهما الباقي"],correctAnswer:"الثلثان (2/3)",shortExplanation:"نصيب البنتين فأكثر هو الثلثان، بشرط عدم وجود ابن (معصب).",detailedExplanation:"لقوله تعالى: (فَإِن كُنَّ نِسَاءً فَوْقَ اثْنَتَيْنِ فَلَهُنَّ ثُلُثَا مَا تَرَكَ). وفي هذه المسألة: للبنتين الثلثان، وللأم السدس لوجود الفرع الوارث، وللأب السدس فرضًا والباقي تعصيبًا.",reference:"القرآن الكريم، سورة النساء: 11."},{id:10007,question:"ما هو 'الحجب' في الميراث؟",options:["إخفاء جزء من التركة","منع وارث من الإرث لوجود من هو أقرب منه","كتابة وصية لأحد الورثة","تأخير قسمة التركة"],correctAnswer:"منع وارث من الإرث لوجود من هو أقرب منه",shortExplanation:"الحجب هو منع شخص معين من الميراث إما كليًا (حجب حرمان) أو جزئيًا (حجب نقصان) بسبب وجود وارث آخر أقرب منه درجة.",detailedExplanation:"مثال حجب الحرمان: الابن يحجب الأخ من الميراث تمامًا. مثال حجب النقصان: الابن يحجب الأم من الثلث إلى السدس، ويحجب الزوج من النصف إلى الربع. وهناك ورثة لا يحجبون حجب حرمان أبدًا وهم: الابن، والبنت، والأب، والأم، والزوج، والزوجة.",reference:"متن الرحبية في علم الفرائض."},{id:10008,question:"ما مقدار الوصية الجائزة شرعًا؟",options:["النصف","الربع","الثلث فأقل","أي مقدار يراه الموصي"],correctAnswer:"الثلث فأقل",shortExplanation:"تصح الوصية لغير وارث في حدود ثلث التركة، وما زاد عن الثلث يتوقف على إجازة الورثة.",detailedExplanation:"لقول النبي صلى الله عليه وسلم لسعد بن أبي وقاص حين أراد أن يوصي بأكثر من الثلث: 'الثلث، والثلث كثير أو كبير'. ولا تجوز الوصية لوارث إلا إذا أجازها بقية الورثة، لقوله صلى الله عليه وسلم: 'إن الله قد أعطى كل ذي حق حقه، فلا وصية لوارث'.",reference:"صحيح البخاري، وسنن أبي داود."},{id:10009,question:"توفي رجل عن أم وأب فقط، كيف تقسم التركة؟",options:["للأم الثلث والباقي للأب","للأم السدس والباقي للأب","مناصفة بينهما","للأب كل التركة"],correctAnswer:"للأم الثلث والباقي للأب",shortExplanation:"في هذه الحالة، تأخذ الأم ثلث التركة فرضًا، ويأخذ الأب الباقي (الثلثين) تعصيبًا.",detailedExplanation:"هذه المسألة هي إحدى المسألتين العمريتين (الغراوين). تأخذ الأم الثلث لقوله تعالى: (فَإِن لَّمْ يَكُن لَّهُ وَلَدٌ وَوَرِثَهُ أَبَوَاهُ فَلِأُمِّهِ الثُّلُثُ). والأب يأخذ الباقي لأنه أولى رجل ذكر. فتكون القسمة بنسبة 1 للأم و 2 للأب.",reference:"القرآن الكريم، سورة النساء: 11."},{id:10010,question:"ما هو 'الرد' في الميراث؟",options:["رد التركة إلى بيت المال","رد جزء من الميراث للدولة","إعادة توزيع ما بقي من التركة على أصحاب الفروض","رفض الورثة قبول نصيبهم"],correctAnswer:"إعادة توزيع ما بقي من التركة على أصحاب الفروض",shortExplanation:"الرد هو عكس العول، وهو أن يزيد في أنصبة أصحاب الفروض بنسبة فروضهم إذا بقي شيء من التركة ولم يوجد عاصب.",detailedExplanation:"مثال: توفيت امرأة عن أم (لها السدس) وبنت (لها النصف). مجموع الفروض (1/6 + 1/2 = 4/6 = 2/3). يبقى ثلث التركة لا يوجد عاصب ليأخذه. فيرد هذا الثلث الباقي على الأم والبنت بنسبة فرضيهما. ولا يرد على الزوجين.",reference:"مذاهب الأئمة الأربعة."},{id:10011,question:"ما نصيب الأخوة لأم (إخوة الميت من أمه فقط)؟",options:["لا يرثون أبدًا","للواحد السدس، وللاثنين فأكثر الثلث","يرثون الباقي دائمًا","يرثون مثل نصيب الأخ الشقيق"],correctAnswer:"للواحد السدس، وللاثنين فأكثر الثلث",shortExplanation:"الإخوة لأم يرثون بالفرض، فيأخذ الواحد منهم السدس، وإن كانوا اثنين فأكثر فإنهم يشتركون في الثلث بالتساوي بين ذكورهم وإناثهم.",detailedExplanation:"يرث الإخوة لأم بشرطين: 1. عدم وجود فرع وارث (ابن أو بنت). 2. عدم وجود أصل ذكر وارث (أب أو جد). وهم حالة فريدة حيث يتساوى ذكرهم وأنثاهم في الميراث. قال تعالى: (وَإِن كَانَ رَجُلٌ يُورَثُ كَلَالَةً أَوِ امْرَأَةٌ وَلَهُ أَخٌ أَوْ أُخْتٌ فَلِكُلِّ وَاحِدٍ مِّنْهُمَا السُّدُسُ ۚ فَإِن كَانُوا أَكْثَرَ مِن ذَٰلِكَ فَهُمْ شُرَكَاءُ فِي الثُّلُثِ).",reference:"القرآن الكريم، سورة النساء: 12."},{id:10012,question:"من الذي يرث بالتعصيب مع الغير؟",options:["الأب مع الابن","الأخت الشقيقة مع البنت","الزوج مع الابن","العم مع الأخ"],correctAnswer:"الأخت الشقيقة مع البنت",shortExplanation:"الأخوات الشقائق أو لأب يصبحن عصبة مع البنات أو بنات الابن، فيأخذن ما تبقى بعد فروضهن.",detailedExplanation:"هذه قاعدة في الميراث تسمى 'اجعلوا الأخوات مع البنات عصبة'. فإذا وجد في المسألة بنت (أو بنات) وأخت (أو أخوات)، تأخذ البنت (أو البنات) فرضها، ثم تأخذ الأخت (أو الأخوات) الباقي تعصيبًا، وتسمى هذه الحالة 'عصبة مع الغير'.",reference:"قضاء ابن مسعود الذي أقره النبي، وهو مذهب الجمهور."},{id:10013,question:"ما هو 'العول' في مسائل الميراث؟",options:["زيادة في أنصبة الورثة عن أصل المسألة (مجموع السهام أكبر من المقام)","نقص في أنصبة الورثة","وجود وارث مفقود","وجود حمل في بطن الأم"],correctAnswer:"زيادة في أنصبة الورثة عن أصل المسألة (مجموع السهام أكبر من المقام)",shortExplanation:"العول هو أن يكون مجموع فروض الورثة أكبر من الواحد الصحيح، فيدخل النقص على كل الورثة بنسبة فرض كل واحد منهم.",detailedExplanation:"مثال: توفيت امرأة عن زوج (له النصف 1/2) وأختين شقيقتين (لهما الثلثان 2/3). مجموع الفروض هنا (1/2 + 2/3 = 3/6 + 4/6 = 7/6)، وهو أكبر من التركة. في هذه الحالة، يعال أصل المسألة من 6 إلى 7، فيأخذ الزوج 3/7 بدل 3/6، وتأخذ الأختان 4/7 بدل 4/6، وبهذا يوزع النقص على الجميع.",reference:"قضاء عمر بن الخطاب الذي أجمع عليه الصحابة."},{id:10014,question:"هل يرث ابن الابن مع وجود الابن؟",options:["نعم، يرث معه","لا يرث، لأنه محجوب بالابن","يرث السدس","يرث مثل نصيب البنت"],correctAnswer:"لا يرث، لأنه محجوب بالابن",shortExplanation:"ابن الابن لا يرث إذا وجد ابن مباشر للمتوفى، لأن الابن أقرب درجة فيحجبه حجب حرمان.",detailedExplanation:"قاعدة الحجب في الميراث هي 'الأقرب يحجب الأبعد'. فالابن هو أقرب عصبة للميت، وابن الابن أبعد منه درجة، لذلك فإن وجود الابن يمنع ابن الابن من الميراث تمامًا. أما إذا لم يوجد ابن، فإن ابن الابن يقوم مقامه.",reference:"الإجماع الفقهي."},{id:10015,question:"ما هو ميراث الجد الصحيح (أبو الأب)؟",options:["لا يرث أبدًا","يرث السدس دائمًا","يقوم مقام الأب عند عدم وجوده","يرث مثل الأخ"],correctAnswer:"يقوم مقام الأب عند عدم وجوده",shortExplanation:"الجد الصحيح (أبو الأب وإن علا) يرث ميراث الأب في جميع أحواله بشرط عدم وجود الأب.",detailedExplanation:"إذا لم يوجد الأب، فإن الجد يأخذ نصيبه. فيأخذ السدس مع الفرع الوارث المذكر، ويأخذ السدس + الباقي تعصيبًا مع الفرع الوارث المؤنث، ويأخذ كل المال تعصيبًا عند عدم وجود فرع وارث. لكنه يختلف عن الأب في مسألة واحدة وهي أنه لا يحجب الإخوة حجب حرمان بل يقاسمهم على القول الراجح.",reference:"مذاهب الأئمة الأربعة."}]}],cx={blue:{bg:"bg-blue-500",text:"text-blue-500",ring:"ring-blue-500",bgHover:"hover:bg-blue-600",lightBg:"bg-blue-500/10",lightText:"text-blue-600 dark:text-blue-400"},green:{bg:"bg-green-500",text:"text-green-500",ring:"ring-green-500",bgHover:"hover:bg-green-600",lightBg:"bg-green-500/10",lightText:"text-green-600 dark:text-green-400"},amber:{bg:"bg-amber-500",text:"text-amber-500",ring:"ring-amber-500",bgHover:"hover:bg-amber-600",lightBg:"bg-amber-500/10",lightText:"text-amber-600 dark:text-amber-400"},sky:{bg:"bg-sky-500",text:"text-sky-500",ring:"ring-sky-500",bgHover:"hover:bg-sky-600",lightBg:"bg-sky-500/10",lightText:"text-sky-600 dark:text-sky-400"},slate:{bg:"bg-slate-500",text:"text-slate-500",ring:"ring-slate-500",bgHover:"hover:bg-slate-600",lightBg:"bg-slate-500/10",lightText:"text-slate-600 dark:text-slate-400"}},Cf=({questions:e,progress:t,updateProgress:n,title:a,themeColor:i})=>{const[o,s]=T.useState(null),[u,d]=T.useState(null),[f,m]=T.useState(!1),[p,h]=T.useState(!1),g=cx[i];T.useEffect(()=>{if(f)return;const b=e.filter(y=>!t.answeredQuestionIds.includes(y.id));b.length>0?s(b[Math.floor(Math.random()*b.length)]):s(null)},[e,t.answeredQuestionIds,f]);const v=()=>{if(!u||!o)return;m(!0);const b=u===o.correctAnswer;n(b,o.id)},N=()=>{d(null),m(!1),h(!1)};return o?l.jsxs("div",{className:"bg-card p-6 rounded-xl shadow-xl",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h3",{className:`text-lg font-bold ${g.lightText}`,children:a}),l.jsxs("div",{className:"text-sm font-mono bg-background px-3 py-1 rounded-md",children:[l.jsx("span",{className:`font-bold ${g.text}`,children:t.correctAnswers})," إجابات صحيحة"]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("p",{className:"text-sm text-text-secondary mb-2",children:"سؤال جديد"}),l.jsx("h2",{className:"text-xl font-semibold text-text-primary leading-relaxed",children:o.question})]}),l.jsx("div",{className:"space-y-3 mb-6",children:o.options.map((b,y)=>{const x=b===o.correctAnswer,S=b===u;let E="bg-background hover:bg-border-color";return f?x?E="bg-green-500/20 text-green-700 dark:text-green-400 border-2 border-green-500":S&&(E="bg-red-500/20 text-red-700 dark:text-red-400 border-2 border-red-500"):S&&(E=`${g.lightBg} ring-2 ${g.ring}`),l.jsx("button",{onClick:()=>!f&&d(b),disabled:f,className:`w-full text-right p-4 rounded-lg text-text-primary transition-all duration-200 ${E}`,children:b},y)})}),f&&l.jsxs("div",{className:"bg-background p-4 rounded-lg mb-6 animate-fade-in",children:[l.jsx("p",{className:"text-sm font-semibold text-primary mb-1",children:"توضيح:"}),l.jsx("p",{className:"text-text-secondary whitespace-pre-wrap leading-relaxed",children:p?o.detailedExplanation:o.shortExplanation}),l.jsx("div",{className:"text-left mt-2",children:l.jsx("button",{onClick:()=>h(!p),className:"text-xs font-semibold text-primary hover:underline",children:p?"عرض الشرح المختصر":"عرض الشرح المفصل"})}),l.jsxs("p",{className:"text-xs text-text-secondary mt-3 pt-2 border-t border-border-color",children:[l.jsx("span",{className:"font-semibold",children:"المصدر:"})," ",o.reference]})]}),l.jsx("div",{className:"text-center",children:f?l.jsx("button",{onClick:N,className:`w-full text-white font-bold py-3 px-4 rounded-md ${g.bg} ${g.bgHover}`,children:"السؤال التالي"}):l.jsx("button",{onClick:v,disabled:!u,className:`w-full text-white font-bold py-3 px-4 rounded-md ${g.bg} ${g.bgHover} disabled:opacity-50`,children:"تأكيد الإجابة"})})]}):l.jsxs("div",{className:"bg-card p-8 rounded-lg shadow-xl text-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"مبارك!"}),l.jsx("p",{className:"text-text-primary text-lg mb-2",children:"لقد أتممت جميع الأسئلة في هذا القسم."})]})},pS=()=>{const[e,t]=T.useState("home"),[n,a]=T.useState(null),[i,o]=T.useState(()=>{const h=typeof window<"u"?localStorage.getItem("generalQuizProgress"):null;return h?JSON.parse(h):{correctAnswers:0,answeredQuestionIds:[]}}),[s,u]=T.useState(()=>{const h=typeof window<"u"?localStorage.getItem("fiqhQuizProgress"):null;return h?JSON.parse(h):{}});T.useEffect(()=>{localStorage.setItem("generalQuizProgress",JSON.stringify(i))},[i]),T.useEffect(()=>{localStorage.setItem("fiqhQuizProgress",JSON.stringify(s))},[s]);const d=T.useCallback((h,g)=>{o(v=>({correctAnswers:v.correctAnswers+(h?1:0),answeredQuestionIds:[...v.answeredQuestionIds,g]}))},[]),f=T.useCallback((h,g)=>{if(!n)return;const v=n.id;u(N=>{const b=N[v]||{correctAnswers:0,answeredQuestionIds:[]};return{...N,[v]:{correctAnswers:b.correctAnswers+(h?1:0),answeredQuestionIds:[...b.answeredQuestionIds,g]}}})},[n]),m=T.useMemo(()=>{const h=Vo.reduce((b,y)=>b+y.questions.length,0),g=Object.values(s).reduce((b,y)=>b+y.correctAnswers,0),v=Vo.filter(b=>{var y;return((y=s[b.id])==null?void 0:y.answeredQuestionIds.length)===b.questions.length}).length;return{overallProgress:h>0?Math.round(g/h*100):0,completedSections:v}},[s]),p=()=>{switch(e){case"general":return l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>t("home"),className:"flex items-center gap-2 text-text-secondary hover:text-text-primary mb-4",children:[l.jsx(Ee,{className:"w-5 h-5"}),l.jsx("span",{children:"العودة"})]}),l.jsx(Cf,{questions:hS,progress:i,updateProgress:d,title:"أسئلة إسلامية عامة",themeColor:"blue"})]});case"fiqh_topics":return l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>t("home"),className:"flex items-center gap-2 text-text-secondary hover:text-text-primary mb-4",children:[l.jsx(Ee,{className:"w-5 h-5"}),l.jsx("span",{children:"العودة"})]}),l.jsxs("div",{className:"bg-card p-4 rounded-lg shadow-md mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-3 text-center",children:"تقدمك في الفقه"}),l.jsxs("div",{className:"flex justify-around items-center",children:[l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-2xl font-bold text-primary",children:[m.overallProgress,"%"]}),l.jsx("p",{className:"text-sm text-text-secondary",children:"التقدم الإجمالي"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-2xl font-bold text-primary",children:[m.completedSections," ",l.jsxs("span",{className:"text-base",children:["/ ",Vo.length]})]}),l.jsx("p",{className:"text-sm text-text-secondary",children:"قسم مكتمل"})]})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Vo.map(h=>{const g=s[h.id]||{correctAnswers:0,answeredQuestionIds:[]},v=Math.floor(g.correctAnswers/20),N=wf[Math.min(v,wf.length-1)],b=g.answeredQuestionIds.length===h.questions.length,y=cx[h.color];return l.jsxs("div",{onClick:()=>{a(h),t("fiqh_quiz")},className:"bg-card p-4 rounded-lg shadow-md cursor-pointer hover:shadow-lg transition-shadow",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-12 h-12 rounded-md flex items-center justify-center text-2xl ${y.lightBg}`,children:h.icon}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-text-primary",children:h.title}),l.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${y.lightBg} ${y.lightText}`,children:N})]})]}),b&&l.jsx(Zn,{className:"w-6 h-6 text-green-500"})]}),l.jsxs("div",{className:"mt-4",children:[l.jsxs("div",{className:"flex justify-between text-xs text-text-secondary mb-1",children:[l.jsxs("span",{children:["مستوى ",v+1]}),l.jsxs("span",{children:[g.correctAnswers," إجابة صحيحة"]})]}),l.jsx("div",{className:"w-full bg-border-color rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full ${y.bg}`,style:{width:`${g.correctAnswers%20/20*100}%`}})})]})]},h.id)})})]});case"fiqh_quiz":return n&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>t("fiqh_topics"),className:"flex items-center gap-2 text-text-secondary hover:text-text-primary mb-4",children:[l.jsx(Ee,{className:"w-5 h-5"}),l.jsx("span",{children:"أقسام الفقه"})]}),l.jsx(Cf,{questions:n.questions,progress:s[n.id]||{correctAnswers:0,answeredQuestionIds:[]},updateProgress:f,title:n.title,themeColor:n.color})]});case"home":default:return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{onClick:()=>t("general"),className:"bg-card p-6 rounded-lg shadow-md cursor-pointer hover:bg-border-color transition-colors",children:[l.jsx("h3",{className:"text-xl font-bold text-text-primary mb-2",children:"أسئلة إسلامية عامة"}),l.jsx("p",{className:"text-text-secondary",children:"اختبر معلوماتك في مختلف جوانب الدين الإسلامي في رحلة معرفية لا تنتهي."}),l.jsxs("div",{className:"mt-4 text-sm font-mono bg-background px-3 py-1 rounded-md inline-block",children:[l.jsx("span",{className:"font-bold text-primary",children:i.correctAnswers})," إجابة صحيحة"]})]}),l.jsxs("div",{onClick:()=>t("fiqh_topics"),className:"bg-card p-6 rounded-lg shadow-md cursor-pointer hover:bg-border-color transition-colors",children:[l.jsx("h3",{className:"text-xl font-bold text-text-primary mb-2",children:"أسئلة فقهية متخصصة"}),l.jsx("p",{className:"text-text-secondary",children:"تعمق في أبواب الفقه، وتابع تقدمك في كل قسم على حدة، وارتقِ في مستويات العلم."}),l.jsxs("div",{className:"mt-4 text-sm font-mono bg-background px-3 py-1 rounded-md inline-block",children:[l.jsxs("span",{className:"font-bold text-primary",children:[m.overallProgress,"%"]})," تقدم إجمالي"]})]})]})}};return l.jsx("div",{className:"max-w-2xl mx-auto p-4 sm:p-6 animate-fade-in",children:p()})},gS=[{surahId:1,surahName:"سورة الفاتحة",stories:[{ayahRange:"1-7",shortSummary:"سورة الفاتحة ليس لها سبب نزول محدد متعلق بحادثة، بل نزلت ابتداءً لبيان مقاصد القرآن الأساسية وهي أساس الصلاة.",detailedVersion:`**التفسير المفصل:**
سورة الفاتحة هي أول سورة كاملة نزلت من القرآن، وهي ركن أساسي في الصلاة لا تصح إلا بها. لم يذكر العلماء سبب نزول خاص بها مرتبط بحادثة معينة، لأنها نزلت كبيان أساسي لمنهج الإسلام، وتتضمن أصول الدين من التوحيد، والعبادة، والاستعانة بالله، وطلب الهداية، وبيان طريق المؤمنين وطريق المغضوب عليهم والضالين. لذا، فهي بمثابة مقدمة شاملة للقرآن الكريم كله.

**تفسير ابن كثير:**
يقول ابن كثير: 'يقال لها الفاتحة، أي فاتحة الكتاب خطًا، وبها تفتح القراءة في الصلوات... وهي مكية. قال ابن عباس وغيره: هي أم القرآن، وأم الكتاب، والسبع المثاني، والقرآن العظيم'. ويستدل بحديث: 'لا صلاة لمن لم يقرأ بفاتحة الكتاب'.`,source:"أسباب النزول للواحدي، لباب النقول للسيوطي"}]},{surahId:2,surahName:"سورة البقرة",stories:[{ayahRange:"104",shortSummary:"نزلت لنهي المؤمنين عن استخدام كلمة 'راعنا' التي كان اليهود يستخدمونها بمعنى سيء.",detailedVersion:`**التفسير المفصل:**
كان المسلمون يقولون للنبي صلى الله عليه وسلم: 'راعنا'، أي انتظرنا وأمهلنا لنفهم، وكانت هذه الكلمة عند اليهود سبًا قبيحًا (من الرعونة). فكانوا يستخدمونها لمخاطبة النبي وهم يقصدون السب. فأنزل الله تعالى: (يَا أَيُّهَا الَّذِينَ آمَنُوا لَا تَقُولُوا رَاعِنَا وَقُولُوا انظُرْنَا وَاسْمَعُوا)، وعلّم المؤمنين كلمة بديلة وهي 'انظرنا' التي تؤدي نفس المعنى الطيب، سدًا لهذا الباب.

**تفسير ابن كثير:**
نهى الله تعالى عباده المؤمنين أن يتشبهوا بالكافرين في مقالهم وفعالهم، وذلك أن اليهود كانوا يعلنون من الكلام ما فيه تورية لما يقصدونه من التنقيص، فكانوا يقولون: 'راعنا' ويقصدون الرعونة.`,source:"أسباب النزول للواحدي"},{ayahRange:"144",shortSummary:"نزلت هذه الآية استجابةً لرغبة النبي صلى الله عليه وسلم في تغيير القبلة من بيت المقدس إلى الكعبة المشرفة في مكة.",detailedVersion:`**التفسير المفصل:**
كان رسول الله صلى الله عليه وسلم في بداية الإسلام يصلي متجهاً إلى بيت المقدس في فلسطين امتثالاً لأمر الله، ولكنه كان يحب ويتمنى أن تكون قبلته الكعبة، قبلة أبيه إبراهيم عليه السلام. فكان كثيرًا ما يقلب وجهه في السماء، منتظرًا الوحي من ربه بشأن هذا الأمر. فأنزل الله تعالى هذه الآية: (قَدْ نَرَىٰ تَقَلُّبَ وَجْهِكَ فِي السَّمَاءِ ۖ فَلَنُوَلِّيَنَّكَ قِبْلَةً تَرْضَاهَا ۚ فَوَلِّ وَجْهَكَ شَطْرَ الْمَسْجِدِ الْحَرَامِ)، محققًا له رغبته ومُكرّمًا له، ومُعيدًا القبلة إلى البيت الحرام.

**تفسير ابن كثير:**
قال علي بن أبي طلحة، عن ابن عباس: كان أول ما نسخ من القرآن القبلة، وذلك أن رسول الله صلى الله عليه وسلم لما هاجر إلى المدينة، وكان أكثر أهلها اليهود، أمره الله أن يستقبل بيت المقدس، ففرحت اليهود. فاستقبلها رسول الله صلى الله عليه وسلم بضعة عشر شهرا، وكان يحب قبلة إبراهيم، فكان يدعو إلى الله وينظر إلى السماء، فأنزل الله: (قد نرى تقلب وجهك في السماء).`,source:"أسباب النزول للواحدي"},{ayahRange:"185",shortSummary:"نزلت آية (وَمَن كَانَ مَرِيضًا أَوْ عَلَىٰ سَفَرٍ فَعِدَّةٌ مِّنْ أَيَّامٍ أُخَرَ) تيسيرًا على المسلمين في الصيام.",detailedVersion:`**التفسير المفصل:**
روى معاذ بن جبل: لما فرض الصيام، كان من شاء صام ومن شاء أفطر وأطعم مسكيناً. ثم أنزل الله (شَهْرُ رَمَضَانَ الَّذِي أُنزِلَ فِيهِ الْقُرْآنُ...) فأوجب الصيام على المقيم الصحيح، ورخص للمريض والمسافر في الإفطار والقضاء.

**تفسير ابن كثير:**
هذا إيجاب حتم على من شهد استهلال الشهر، أي كان مقيماً في البلد حين دخل شهر رمضان وهو صحيح في بدنه أن يصوم لا محالة. وقوله (ومن كان مريضاً أو على سفر) هذا رخصة له في أن يفطر، فإذا أفطر فعليه عدة ما أفطر في أيام أخر.`,source:"لباب النقول للسيوطي"},{ayahRange:"219",shortSummary:"نزلت الآية ردًا على سؤال بعض الصحابة عن حكم الخمر والميسر (القمار).",detailedVersion:`**التفسير المفصل:**
سأل عمر بن الخطاب ومعاذ بن جبل ونفر من الأنصار رسول الله صلى الله عليه وسلم عن الخمر والميسر، فأنزل الله تعالى: (يَسْأَلُونَكَ عَنِ الْخَمْرِ وَالْمَيْسِرِ ۖ قُلْ فِيهِمَا إِثْمٌ كَبِيرٌ وَمَنَافِعُ لِلنَّاسِ وَإِثْمُهُمَا أَكْبَرُ مِن نَّفْعِهِمَا). كانت هذه الآية تمهيدًا للتحريم النهائي، حيث بينت أن ضررهما أكبر من نفعهما، مما جعل بعض الصحابة يتركونهما فورًا.

**تفسير ابن كثير:**
قال ابن عمر وغيره: لما نزلت هذه الآية، قال عمر: 'اللهم بيّن لنا في الخمر بياناً شافياً'. فنزلت الآية التي في النساء: (يا أيها الذين آمنوا لا تقربوا الصلاة وأنتم سكارى). ثم قال عمر: 'اللهم بيّن لنا في الخمر بياناً شافياً'. فنزلت الآية التي في المائدة (إنما الخمر والميسر...) إلى آخرها، وفيها التحريم القاطع.`,source:"أسباب النزول للواحدي"},{ayahRange:"255",shortSummary:"نزلت آية الكرسي لبيان عظمة الله وجلاله وصفاته الكاملة، وهي أعظم آية في كتاب الله.",detailedVersion:`**التفسير المفصل:**
سأل أُبيّ بن كعب النبي صلى الله عليه وسلم: أي آية في كتاب الله أعظم؟ قال: 'الله ورسوله أعلم'. فرددها مرارًا، ثم قال أُبيّ: آية الكرسي. فقال النبي: 'ليهنك العلم أبا المنذر'. لم يرد سبب نزول خاص متعلق بحادثة معينة لهذه الآية، بل نزلت ابتداءً لتعليم الأمة عظمة الخالق سبحانه وتعالى، وتوحيده، وكماله في ذاته وأسمائه وصفاته وأفعاله. فهي تشتمل على عشر جمل مستقلة كلها تدور حول التوحيد وبيان عظمة الله.

**تفسير ابن كثير:**
هذه آية الكرسي، ولها شأن عظيم، قد صح الحديث عن رسول الله صلى الله عليه وسلم بأنها أفضل آية في كتاب الله. وفيها اسم الله الأعظم (الحي القيوم). وهي تشتمل على توحيد الألوهية والربوبية والأسماء والصفات.`,source:"لباب النقول للسيوطي، وتفسير ابن كثير"}]},{surahId:3,surahName:"سورة آل عمران",stories:[{ayahRange:"61",shortSummary:"نزلت آية المباهلة بعد مجادلة وفد نصارى نجران للنبي صلى الله عليه وسلم في شأن عيسى عليه السلام.",detailedVersion:`**التفسير المفصل:**
قدم وفد من نصارى نجران إلى المدينة المنورة وجادلوا النبي صلى الله عليه وسلم في شأن عيسى عليه السلام، زاعمين ألوهيته. وبعد أن أقام عليهم النبي الحجة بالقرآن، وأصروا على كفرهم، دعاهم إلى المباهلة. والمباهلة هي أن يجتمع الطرفان ويدعو كل منهما الله أن ينزل لعنته على الكاذب. فأنزل الله تعالى: (فَمَنْ حَاجَّكَ فِيهِ مِن بَعْدِ مَا جَاءَكَ مِنَ الْعِلْمِ فَقُلْ تَعَالَوْا نَدْعُ أَبْنَاءَنَا وَأَبْنَاءَكُمْ...) الآية. فلما رأى الوفد جدية الأمر، خافوا وامتنعوا عن المباهلة وصالحوا النبي على الجزية.

**تفسير ابن كثير:**
كان سبب نزولها وما قبلها في وفد نجران، حين قدموا فجعلوا يحاجون في عيسى ويزعمون ما يزعمون من البنوة والإلهية. فأنزل الله صدر هذه السورة بياناً لذلك، ودعاهم النبي صلى الله عليه وسلم للمباهلة بعد إصرارهم على الكفر، فلما رأوا ذلك قال بعضهم لبعض: 'والله لئن باهلتم هذا النبي لا يبقى منكم عين تطرف'، فصالحوه على الجزية.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"},{ayahRange:"121-122",shortSummary:"نزلت هذه الآيات تذكيرًا بأحداث غزوة أحد، وما حدث فيها من ابتلاء للمؤمنين.",detailedVersion:`**التفسير المفصل:**
تتحدث الآيات عن خروج النبي صلى الله عليه وسلم لترتيب صفوف المسلمين في غزوة أحد، وتشير إلى الطائفتين من الأنصار (بني سلمة وبني حارثة) اللتين فكرتا في الانسحاب والتراجع عن القتال بسبب الخوف والاضطراب بعد انسحاب عبد الله بن أبي بن سلول بثلث الجيش، ولكن الله ثبتهما وحفظهما. قال تعالى: (إِذْ هَمَّت طَّائِفَتَانِ مِنكُمْ أَن تَفْشَلَا وَاللَّهُ وَلِيُّهُمَا ۗ وَعَلَى اللَّهِ فَلْيَتَوَكَّلِ الْمُؤْمِنُونَ).

**تفسير ابن كثير:**
قال جابر بن عبد الله: فينا نزلت (إذ همت طائفتان منكم أن تفشلا والله وليهما)، قال: نحن الطائفتان بنو حارثة وبنو سلمة، وما نحب أنها لم تنزل لقول الله (والله وليهما).`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:4,surahName:"سورة النساء",stories:[{ayahRange:"11",shortSummary:"نزلت آيات المواريث في هذه السورة لتحديد الأنصبة الشرعية للورثة، وكان سبب نزولها متعلقًا ببنات الصحابي سعد بن الربيع.",detailedVersion:`**التفسير المفصل:**
جاءت امرأة سعد بن الربيع إلى رسول الله صلى الله عليه وسلم بابنتيها من سعد، وقالت: يا رسول الله، هاتان ابنتا سعد بن الربيع، قُتل أبوهما معك يوم أحد شهيداً، وإن عمهما أخذ مالهما فلم يدع لهما مالاً. فقال رسول الله: 'يقضي الله في ذلك'. فنزلت آية المواريث، فأرسل رسول الله إلى عمهما فقال: 'أعطِ ابنتي سعد الثلثين، وأعطِ أمهما الثمن، وما بقي فهو لك'.

**تفسير ابن كثير:**
سبب نزول هذه الآية الكريمة حديث جابر، حيث قال: 'عادتني رسول الله صلى الله عليه وسلم وأبو بكر في بني سلمة ماشيين، فوجدني النبي صلى الله عليه وسلم لا أعقل، فدعا بماء فتوضأ ثم رش علي فأفقت، فقلت: ما تأمرني أن أصنع في مالي يا رسول الله؟ فنزلت: (يوصيكم الله في أولادكم للذكر مثل حظ الأنثيين)'.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"},{ayahRange:"59",shortSummary:"نزلت الآية في عبد الله بن حذافة السهمي حينما أرسله النبي أميرًا على سرية وأمرهم بالطاعة، ثم أمرهم أمرًا فيه معصية لاختبارهم.",detailedVersion:`**التفسير المفصل:**
بعث النبي صلى الله عليه وسلم سرية وأمّر عليهم عبد الله بن حذافة السهمي، فأوقد نارًا وقال لأصحابه: 'ادخلوها'. فأراد بعضهم الدخول، ومنعهم آخرون وقالوا: 'إنما فررنا إلى رسول الله من النار'. فلما ذكروا ذلك للنبي قال: 'لو دخلوها ما خرجوا منها أبدًا، إنما الطاعة في المعروف'. فنزلت الآية: (يَا أَيُّهَا الَّذِينَ آمَنُوا أَطِيعُوا اللَّهَ وَأَطِيعُوا الرَّسُولَ وَأُولِي الْأَمْرِ مِنكُمْ)، مبينة أن طاعة أولي الأمر مقيدة بطاعة الله ورسوله.

**تفسير ابن كثير:**
روى البخاري عن ابن عباس: (أطيعوا الله وأطيعوا الرسول وأولي الأمر منكم) قال: نزلت في عبد الله بن حذافة بن قيس بن عدي، إذ بعثه النبي صلى الله عليه وسلم في سرية.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:5,surahName:"سورة المائدة",stories:[{ayahRange:"3",shortSummary:"نزل هذا الجزء من الآية (الْيَوْمَ أَكْمَلْتُ لَكُمْ دِينَكُمْ...) في حجة الوداع يوم عرفة، معلنًا اكتمال الدين وتمام النعمة.",detailedVersion:`**التفسير المفصل:**
بينما كان النبي صلى الله عليه وسلم واقفًا بعرفة في حجة الوداع يوم الجمعة، نزلت عليه هذه الآية: (الْيَوْمَ أَكْمَلْتُ لَكُمْ دِينَكُمْ وَأَتْمَمْتُ عَلَيْكُمْ نِعْمَتِي وَرَضِيتُ لَكُمُ الْإِسْلَامَ دِينًا). فلما سمعها عمر بن الخطاب بكى، فقيل له: ما يبكيك؟ قال: 'إنه ليس بعد الكمال إلا النقصان'، مشيرًا إلى قرب وفاة النبي صلى الله عليه وسلم. وتعتبر هذه الآية من أواخر ما نزل من القرآن الكريم.

**تفسير ابن كثير:**
هذه أكبر نعم الله تعالى على هذه الأمة، حيث أكمل تعالى لهم دينهم، فلا يحتاجون إلى دين غيره، ولا إلى نبي غير نبيهم صلوات الله وسلامه عليه. ولهذا جعله الله خاتم الأنبياء، وبعثه إلى الإنس والجن، فلا حلال إلا ما أحله، ولا حرام إلا ما حرمه، ولا دين إلا ما شرعه.`,source:"لباب النقول للسيوطي، تفسير ابن كثير"}]},{surahId:6,surahName:"سورة الأنعام",stories:[{ayahRange:"52",shortSummary:"نزلت في شأن فقراء المسلمين كابن مسعود وبلال وصهيب، عندما طلب كبراء قريش من النبي أن يطردهم من مجلسه ليجلسوا هم.",detailedVersion:`**التفسير المفصل:**
جاء بعض زعماء قريش إلى النبي صلى الله عليه وسلم وعرضوا عليه أن يؤمنوا به بشرط أن يطرد من مجلسه ضعفاء وفقراء الصحابة، استكبارًا منهم أن يجلسوا معهم في مكان واحد. فهمّ النبي بذلك طمعًا في إسلامهم، فأنزل الله تعالى: (وَلَا تَطْرُدِ الَّذِينَ يَدْعُونَ رَبَّهُم بِالْغَدَاةِ وَالْعَشِيِّ يُرِيدُونَ وَجْهَهُ)، ينهى نبيه عن طردهم ويبين أن مكانتهم عند الله عظيمة بإخلاصهم.

**تفسير ابن كثير:**
روى الإمام مسلم في صحيحه عن سعد بن أبي وقاص قال: كنا مع النبي صلى الله عليه وسلم في ستة نفر، فقال المشركون للنبي: اطرد هؤلاء لا يجترئون علينا. وكنت أنا وابن مسعود ورجل من هذيل وبلال ورجلان لست أسميهما. فوقع في نفس رسول الله صلى الله عليه وسلم ما شاء الله أن يقع، فحدث نفسه، فأنزل الله عز وجل: (ولا تطرد الذين يدعون ربهم بالغداة والعشي).`,source:"لباب النقول للسيوطي، تفسير ابن كثير"}]},{surahId:7,surahName:"سورة الأعراف",stories:[{ayahRange:"204",shortSummary:"نزلت الآية لتأمر المسلمين بالإنصات والاستماع عند قراءة القرآن، خاصة في الصلاة.",detailedVersion:`**التفسير المفصل:**
كان المسلمون في بداية الإسلام يتكلمون في الصلاة للحاجة، ويرد أحدهم السلام. فنزلت هذه الآية: (وَإِذَا قُرِئَ الْقُرْآنُ فَاسْتَمِعُوا لَهُ وَأَنصِتُوا لَعَلَّكُمْ تُرْحَمُونَ)، فأمروا بالسكوت التام والإنصات للإمام في الصلاة الجهرية، وشمل الأمر الإنصات عند تلاوة القرآن خارج الصلاة أيضًا تعظيمًا لكلام الله.

**تفسير ابن كثير:**
بعد أن ذكر تعالى أن القرآن بصائر للناس وهدى ورحمة، أمر تعالى بالإنصات عند تلاوته إعظامًا له واحترامًا، لا كما كان يعتمده كفار قريش المشركون في قولهم: (لا تسمعوا لهذا القرآن والغوا فيه). وقال ابن مسعود: كنا يسلم بعضنا على بعض في الصلاة، فجاء قوله تعالى: (وإذا قرئ القرآن فاستمعوا له وأنصتوا).`,source:"لباب النقول للسيوطي"}]},{surahId:8,surahName:"سورة الأنفال",stories:[{ayahRange:"1",shortSummary:"نزلت هذه الآية بعد غزوة بدر، حين اختلف الصحابة في كيفية تقسيم الغنائم.",detailedVersion:`**التفسير المفصل:**
بعد انتصار المسلمين في غزوة بدر، اختلفوا في شأن الغنائم. حيث قالت طائفة ممن جمعوها: هي لنا. وقالت طائفة ممن كانوا يطاردون العدو: لولا نحن ما أصبتموها. وقالت طائفة ممن كانوا يحرسون النبي صلى الله عليه وسلم: نحن أحق بها. فسألوا النبي عن ذلك، فأنزل الله تعالى: (يَسْأَلُونَكَ عَنِ الْأَنفَالِ ۖ قُلِ الْأَنفَالُ لِلَّهِ وَالرَّسُولِ ۖ فَاتَّقُوا اللَّهَ وَأَصْلِحُوا ذَاتَ بَيْنِكُمْ)، فجعل الله أمرها إليه ورسوله، فقسمها النبي بينهم بالسوية.

**تفسير ابن كثير:**
قال ابن عباس: لما كان يوم بدر، قال رسول الله صلى الله عليه وسلم: 'من صنع كذا وكذا فله كذا وكذا'. فتسارع فيه شبان القوم، وبقي الشيوخ تحت الرايات، فلما فتح الله عليهم، جاء الشبان يطلبون ما جعل لهم، فقال الشيوخ: لا تستأثروا علينا، فإنا كنا ردءاً لكم. فأنزل الله هذه الآية.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:9,surahName:"سورة التوبة",stories:[{ayahRange:"40",shortSummary:"نزلت الآية في شأن هجرة النبي صلى الله عليه وسلم وأبي بكر الصديق، حين كانا في غار ثور والمشركون يطاردونهم.",detailedVersion:`**التفسير المفصل:**
عندما هاجر النبي صلى الله عليه وسلم من مكة إلى المدينة، رافقه أبو بكر الصديق. واختبآ في غار ثور لمدة ثلاثة أيام. وصل المشركون الذين كانوا يتبعونهم إلى باب الغار، حتى قال أبو بكر: يا رسول الله، لو نظر أحدهم تحت قدميه لرآنا. فطمأنه النبي قائلاً: 'يا أبا بكر، ما ظنك باثنين الله ثالثهما؟'. فأنزل الله تعالى هذه الآية تصف هذا الموقف: (إِلَّا تَنصُرُوهُ فَقَدْ نَصَرَهُ اللَّهُ إِذْ أَخْرَجَهُ الَّذِينَ كَفَرُوا ثَانِيَ اثْنَيْنِ إِذْ هُمَا فِي الْغَارِ إِذْ يَقُولُ لِصَاحِبِهِ لَا تَحْزَنْ إِنَّ اللَّهَ مَعَنَا).

**تفسير ابن كثير:**
يقول تعالى (إلا تنصروه) أي تنصروا رسوله، فإن الله ناصره ومؤيده وكافيه وحافظه. وذكر قصة الغار، حيث قال أنس بن مالك: حدثني أبو بكر، قال: نظرت إلى أقدام المشركين على رؤوسنا ونحن في الغار، فقلت: يا رسول الله، لو أن أحدهم نظر إلى قدميه أبصرنا تحت قدميه. فقال: 'يا أبا بكر ما ظنك باثنين الله ثالثهما'.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"},{ayahRange:"118",shortSummary:"نزلت في شأن الثلاثة الذين تخلفوا عن غزوة تبوك بغير عذر، وهم: كعب بن مالك، ومرارة بن الربيع، وهلال بن أمية.",detailedVersion:`**التفسير المفصل:**
عندما تجهز النبي صلى الله عليه وسلم لغزوة تبوك، تخلف هؤلاء الثلاثة من الصحابة بغير عذر. وبعد عودة الجيش، أمر النبي بمقاطعتهم وعدم تكليمهم. فضاقت عليهم الأرض بما رحبت وضاقت عليهم أنفسهم، فبقوا على ذلك خمسين ليلة، حتى تاب الله عليهم وأنزل فيهم هذه الآية التي تعلن قبول توبتهم وفرح بها المسلمون.

**تفسير ابن كثير:**
هذا الحديث لقصة توبة كعب بن مالك وصاحبيه ثابت في الصحيحين، وهو من أعظم القصص التي تظهر صدق التوبة واللجوء إلى الله. فبعد أن صدقوا الله ورسوله ولم يعتذروا بالأعذار الكاذبة كالمنافقين، أنزل الله توبتهم في قرآن يتلى إلى يوم القيامة.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:10,surahName:"سورة يونس",stories:[{ayahRange:"99",shortSummary:"نزلت لبيان أن الإيمان قضاء من الله، ولو شاء لجعل الناس كلهم مؤمنين، فلا يكره النبي نفسه على عدم إيمان قومه.",detailedVersion:`**التفسير المفصل:**
كان النبي صلى الله عليه وسلم شديد الحرص على إيمان قومه، وكان يحزن حزنًا شديدًا لإعراضهم وكفرهم. فأنزل الله تعالى هذه الآية تسلية له وتوضيحًا لحقيقة المشيئة الإلهية: (وَلَوْ شَاءَ رَبُّكَ لَآمَنَ مَن فِي الْأَرْضِ كُلُّهُمْ جَمِيعًا ۚ أَفَأَنتَ تُكْرِهُ النَّاسَ حَتَّىٰ يَكُونُوا مُؤْمِنِينَ). والمعنى أنه لا قدرة لك يا محمد على هدايتهم، فالهداية بيد الله وحده يهدي من يشاء ويضل من يشاء.

**تفسير ابن كثير:**
يقول تعالى: (ولو شاء ربك) يا محمد لآذن لمن في الأرض كلهم في الإيمان بما جئتهم به فآمنوا كلهم، ولكن له حكمة فيما يفعله تعالى. (أفأنت تكره الناس حتى يكونوا مؤمنين) أي: ليس ذلك عليك ولا إليك، إنما عليك البلاغ، وليس عليك هداهم.`,source:"لباب النقول للسيوطي"}]},{surahId:11,surahName:"سورة هود",stories:[{ayahRange:"114",shortSummary:"نزلت في رجل من الصحابة أصاب ذنبًا (قبلة من امرأة لا تحل له)، فسأل النبي عن كفارتها.",detailedVersion:`**التفسير المفصل:**
أتى رجل إلى النبي صلى الله عليه وسلم فقال: يا رسول الله، إني عالجت امرأة في أقصى المدينة، وإني أصبت منها ما دون أن أمسها (أي قبلة ونحوها)، فأنا هذا فاقض فيّ ما شئت. فقال له عمر: لقد سترك الله لو سترت نفسك. فلم يرد النبي شيئًا. فقام الرجل فانطلق، فأتبعه النبي رجلاً دعاه وتلا عليه هذه الآية: (وَأَقِمِ الصَّلَاةَ طَرَفَيِ النَّهَارِ وَزُلَفًا مِّنَ اللَّيْلِ ۚ إِنَّ الْحَسَنَاتِ يُذْهِبْنَ السَّيِّئَاتِ). فقال رجل: يا رسول الله، أله خاصة؟ قال: 'بل للناس كافة'.

**تفسير ابن كثير:**
روى الإمام أحمد عن ابن عباس، أن رجلاً أتى النبي صلى الله عليه وسلم، فقال... فذكر القصة. ففي هذا الحديث دلالة على أن الصلاة من أعظم الحسنات التي تكفر صغائر الذنوب.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:12,surahName:"سورة يوسف",stories:[{ayahRange:"1-111",shortSummary:"نزلت السورة تسلية للنبي صلى الله عليه وسلم بعد عام الحزن، بعد أن سأل اليهود قريشًا أن يسألوه عن قصة انتقال آل يعقوب إلى مصر.",detailedVersion:`**التفسير المفصل:**
قالت اليهود لقريش: سلوا محمدًا: لم انتقل آل يعقوب من الشام إلى مصر؟ وعن قصة يوسف. فأنزل الله تعالى سورة يوسف كاملة، وفيها من التفاصيل ما لم يكن يعلمه إلا نبي، فكانت دليلاً على صدق نبوته صلى الله عليه وسلم. كما نزلت في وقت كان النبي فيه حزينًا على وفاة عمه أبي طالب وزوجته خديجة، فكانت قصة يوسف وصبره على أذى إخوته ثم تمكينه في الأرض، تسلية وتثبيتًا عظيمًا لقلب النبي صلى الله عليه وسلم.

**تفسير ابن كثير:**
ذكر محمد بن إسحاق عن بعض أهل العلم أن سبب نزولها هو سؤال اليهود. والسورة كلها تحكي قصة يوسف عليه السلام مع إخوته، وما لاقاه من أنواع المحن والشدائد، وكيف أن الله تعالى أنجاه منها ومكن له في الأرض، وفي ذلك عبرة عظيمة.`,source:"لباب النقول للسيوطي"}]},{surahId:13,surahName:"سورة الرعد",stories:[{ayahRange:"11",shortSummary:"نزلت لبيان سنة الله في تغيير حال الأقوام، وأن التغيير يبدأ من أنفسهم، وليس لها سبب نزول مرتبط بحادثة معينة.",detailedVersion:`**التفسير المفصل:**
هذه الآية الكريمة (إِنَّ اللَّهَ لَا يُغَيِّرُ مَا بِقَوْمٍ حَتَّىٰ يُغَيِّرُوا مَا بِأَنفُسِهِمْ) هي قاعدة وسنة إلهية عظيمة. لم يرد لها سبب نزول خاص بحادثة، بل هي تقرير لحقيقة كونية واجتماعية. معناها أن الله تعالى لا يغير نعمة أنعمها على قوم فيسلبها منهم، إلا إذا غيروا حالهم من الطاعة إلى المعصية. وكذلك لا يغير ما بقوم من شقاء وبلاء إلى سعادة ورخاء، حتى يغيروا ما بأنفسهم من الكفر والإعراض إلى الإيمان والطاعة. فالتغيير يبدأ من داخل الإنسان.

**تفسير ابن كثير:**
يخبر تعالى عن تمام عدله وحكمته في حكمه، بأنه تعالى لا يغير نعمة أنعمها على أحد إلا بسبب ذنب ارتكبه، كما قال في الآية الأخرى: (ذلك بأن الله لم يك مغيرا نعمة أنعمها على قوم حتى يغيروا ما بأنفسهم).`,source:"عامة كتب التفسير"}]},{surahId:14,surahName:"سورة إبراهيم",stories:[{ayahRange:"24-27",shortSummary:"نزلت الآيات لضرب مثل لكلمة التوحيد (لا إله إلا الله) وكلمة الكفر، وبيان ثبات المؤمن وخذلان الكافر.",detailedVersion:`**التفسير المفصل:**
روي أن هذه الآية (أَلَمْ تَرَ كَيْفَ ضَرَبَ اللَّهُ مَثَلًا كَلِمَةً طَيِّبَةً كَشَجَرَةٍ طَيِّبَةٍ) نزلت في المؤمن وكلامه الطيب وعمله الصالح، حيث شبهه الله بالنخلة الثابتة التي تؤتي ثمارها دائمًا. أما الكلمة الخبيثة (كلمة الكفر)، فشبهها بالشجرة الخبيثة (الحنظل) التي ليس لها أصل ثابت وتُقتلع بسهولة. وهذا مثل لبيان الفرق بين الإيمان والكفر.

**تفسير ابن كثير:**
قال علي بن أبي طلحة عن ابن عباس في قوله: (كلمة طيبة) شهادة أن لا إله إلا الله، (كشجرة طيبة) وهو المؤمن، (أصلها ثابت) يقول: لا إله إلا الله ثابتة في قلب المؤمن، (وفرعها في السماء) يقول: يرفع بها عمل المؤمن إلى السماء. وأما (كلمة خبيثة) فهي الشرك، (كشجرة خبيثة) وهو الكافر.`,source:"أسباب النزول للسيوطي، تفسير ابن كثير"}]},{surahId:15,surahName:"سورة الحجر",stories:[{ayahRange:"94",shortSummary:"نزلت الآية لتأمر النبي صلى الله عليه وسلم بالجهر بالدعوة بعد ثلاث سنوات من الدعوة السرية.",detailedVersion:`**التفسير المفصل:**
في بداية البعثة، كانت دعوة النبي صلى الله عليه وسلم سرية لمدة ثلاث سنوات، يبلغ فيها من يثق به فقط. فلما تكونت جماعة من المؤمنين، أمره الله تعالى أن يجهر بالدعوة ويعلنها للناس كافة، وأن يعرض عن أذى المشركين واستهزائهم. فأنزل الله: (فَاصْدَعْ بِمَا تُؤْمَرُ وَأَعْرِضْ عَنِ الْمُشْرِكِينَ). فصعد النبي على الصفا ونادى في قريش ودعاهم للإسلام علانية.

**تفسير ابن كثير:**
يأمر الله تعالى رسوله صلوات الله وسلامه عليه بإبلاغ ما أرسله به وبإنفاذه والصدع به، وهو مواجهة المشركين به. كما قال ابن عباس: (فاصدع بما تؤمر) أي: أمضه.`,source:"لباب النقول للسيوطي، تفسير ابن كثير"}]},{surahId:16,surahName:"سورة النحل",stories:[{ayahRange:"126",shortSummary:"نزلت يوم أحد بعد أن قُتل حمزة ومُثّل به، فأقسم النبي على أن يُمثل بسبعين منهم، فنهاه الله عن ذلك.",detailedVersion:`**التفسير المفصل:**
في غزوة أحد، بعد استشهاد حمزة بن عبد المطلب رضي الله عنه، والتمثيل بجسده، حزن النبي صلى الله عليه وسلم حزنًا شديدًا وقال: 'لئن أظهرني الله عليهم لأمثلن بثلاثين رجلاً منهم'. وفي رواية أخرى، 'بسبعين'. فأنزل الله تعالى: (وَإِنْ عَاقَبْتُمْ فَعَاقِبُوا بِمِثْلِ مَا عُوقِبْتُم بِهِ ۖ وَلَئِن صَبَرْتُمْ لَهُوَ خَيْرٌ لِّلصَّابِرِينَ)، فخيره الله بين المعاقبة بالمثل وبين الصبر، ورغّبه في الصبر. فقال النبي: 'بل نصبر'، وكفر عن يمينه.

**تفسير ابن كثير:**
قال أُبي بن كعب: لما كان يوم أحد أصيب من الأنصار أربعة وستون رجلاً، ومن المهاجرين ستة، منهم حمزة، فمثلوا بهم، فقالت الأنصار: لئن أصبنا منهم يوماً مثل هذا لنربين عليهم. فلما كان يوم فتح مكة، أنزل الله هذه الآية. فقال رسول الله صلى الله عليه وسلم: 'نصبر ولا نعاقب'.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:17,surahName:"سورة الإسراء",stories:[{ayahRange:"85",shortSummary:"نزلت الآية ردًا على سؤال اليهود للنبي صلى الله عليه وسلم عن حقيقة الروح.",detailedVersion:`**التفسير المفصل:**
سأل اليهود في المدينة النبي صلى الله عليه وسلم عن الروح لاختباره، فمكث النبي فترة لا يجيبهم منتظرًا الوحي، ثم أنزل الله تعالى قوله: (وَيَسْأَلُونَكَ عَنِ الرُّوحِ ۖ قُلِ الرُّوحُ مِنْ أَمْرِ رَبِّي وَمَا أُوتِيتُم مِّنَ الْعِلْمِ إِلَّا قَلِيلًا). وفي هذا جواب قاطع بأن حقيقة الروح من علم الله الذي استأثر به، وأن علم البشر محدود جدًا مقارنة بعلم الله.

**تفسير ابن كثير:**
روى البخاري عن عبد الله بن مسعود قال: بينا أنا أمشي مع النبي صلى الله عليه وسلم في خرب المدينة، وهو يتوكأ على عسيب معه، فمر بنفر من اليهود، فقال بعضهم لبعض: سلوه عن الروح. فسألوه، فقام النبي صلى الله عليه وسلم ساعة ورفع رأسه، فعرفت أنه يوحى إليه، حتى صعد الوحي، ثم قال: (ويسألونك عن الروح قل الروح من أمر ربي).`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:18,surahName:"سورة الكهف",stories:[{ayahRange:"9-26",shortSummary:"نزلت قصة أهل الكهف ردًا على سؤال المشركين للنبي صلى الله عليه وسلم، الذي تعلموه من أحبار اليهود لاختبار نبوته.",detailedVersion:`**التفسير المفصل:**
أرسلت قريش رجلين إلى أحبار اليهود في المدينة يسألونهم عن علامات النبي الصادق، فقال الأحبار: 'اسألوه عن ثلاث: عن فتية ذهبوا في الدهر الأول ما كان من أمرهم، وعن رجل طواف بلغ مشارق الأرض ومغاربها، وعن الروح'. فلما سألوا النبي، قال لهم: 'أخبركم غدًا' ولم يقل 'إن شاء الله'، فتأخر الوحي أيامًا حتى شق ذلك عليه، ثم نزلت سورة الكهف تحمل الجواب عن الفتية (أهل الكهف) والرجل الطواف (ذي القرنين)، ونزلت آية الروح في سورة الإسراء.

**تفسير ابن كثير:**
ذكر محمد بن إسحاق وغيره في السيرة أن قريشًا بعثوا إلى أحبار يهود بالمدينة أن يبعثوا إليهم بمسائل يمتحنون بها رسول الله صلى الله عليه وسلم، فكانت هذه الأسئلة الثلاثة منها. فكان نزول هذه السورة بيانًا شافيًا لصدق نبوته.`,source:"لباب النقول للسيوطي، تفسير ابن كثير"}]},{surahId:19,surahName:"سورة مريم",stories:[{ayahRange:"64",shortSummary:"نزلت الآية عندما تأخر جبريل عليه السلام عن النزول على النبي صلى الله عليه وسلم لفترة، فشق ذلك على النبي.",detailedVersion:`**التفسير المفصل:**
احتبس جبريل عليه السلام عن النبي صلى الله عليه وسلم فترة، فاشتاق النبي لمجيئه وحزن، فلما جاءه قال له: 'ما منعك أن تزورنا أكثر مما تزورنا؟'، فأنزل الله تعالى على لسان جبريل: (وَمَا نَتَنَزَّلُ إِلَّا بِأَمْرِ رَبِّكَ ۖ لَهُ مَا بَيْنَ أَيْدِينَا وَمَا خَلْفَنَا وَمَا بَيْنَ ذَٰلِكَ ۚ وَمَا كَانَ رَبُّكَ نَسِيًّا)، لبيان أن الملائكة لا تتصرف من تلقاء نفسها، بل بأمر الله وإذنه.

**تفسير ابن كثير:**
روى البخاري عن ابن عباس قال: قال رسول الله صلى الله عليه وسلم لجبريل: 'ألا تزورنا أكثر مما تزورنا؟' قال: فنزلت: (وما نتنزل إلا بأمر ربك).`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:20,surahName:"سورة طه",stories:[{ayahRange:"1-2",shortSummary:"نزلت الآيات الأولى لتسلية النبي صلى الله عليه وسلم وتخفيف العبء عنه، بعد أن قال المشركون إنه يشقى بسبب هذا القرآن.",detailedVersion:`**التفسير المفصل:**
كان النبي صلى الله عليه وسلم يطيل القيام في صلاة الليل حتى تتورم قدماه، وكان يجتهد في دعوة قومه ويحزن لإعراضهم حزنًا شديدًا. فقال المشركون: ما أُنزل هذا القرآن على محمد إلا ليشقى به. فأنزل الله تعالى: (طه * مَا أَنزَلْنَا عَلَيْكَ الْقُرْآنَ لِتَشْقَىٰ)، أي لم ننزله عليك لتتعب هذا التعب الشديد وتحمل نفسك ما لا تطيق، بل نزل رحمة وهداية وتذكرة.

**تفسير ابن كثير:**
قال مقاتل بن حيان: قال أبو جهل والنضر بن الحارث للنبي صلى الله عليه وسلم: إنك لشقي بتركك دين آبائك، فأنزل الله تعالى هذه الآية. وهي تخفيف من الله تعالى على نبيه لما كان يعانيه من مشقة القيام وأعباء الدعوة.`,source:"لباب النقول للسيوطي"}]},{surahId:21,surahName:"سورة الأنبياء",stories:[{ayahRange:"98",shortSummary:"نزلت ردًا على جدال المشركين حول الآية التي تخبر أن كل ما يُعبد من دون الله سيكون في النار، فسألوا عن مصير الأنبياء والصالحين الذين عُبدوا.",detailedVersion:`**التفسير المفصل:**
لما نزل قوله تعالى: (إِنَّكُمْ وَمَا تَعْبُدُونَ مِن دُونِ اللَّهِ حَصَبُ جَهَنَّمَ أَنتُمْ لَهَا وَارِدُونَ)، فرح المشركون وقالوا: 'قد خصمنا محمدًا'، وقالوا: 'أليست الملائكة تُعبد؟ وعيسى يُعبد؟ وعزير يُعبد؟ فهؤلاء في النار؟' فأنزل الله الآية التي تليها: (إِنَّ الَّذِينَ سَبَقَتْ لَهُم مِّنَّا الْحُسْنَىٰ أُولَٰئِكَ عَنْهَا مُبْعَدُونَ)، مبيناً أن الحكم على من رضي بالعبادة من دون الله كالأصنام والشياطين، أما الأنبياء والصالحون فهم مكرمون في الجنة.

**تفسير ابن كثير:**
روى ابن أبي حاتم عن ابن عباس، أن رسول الله صلى الله عليه وسلم دخل المسجد وقريش في الحجر جلوس، فلما رأوه قالوا: يا محمد، مازلت تذكر آلهتنا وتسبها؟ فقال: 'ما تقولون؟' قالوا: نقول إنها آلهة آبائنا. فقال: (إنكم وما تعبدون من دون الله حصب جهنم)، فغضب عبد الله بن الزبعرى وقال: أخاصة لنا ولآلهتنا أم لجميع الأمم؟ فقال: 'لكم ولهم'. فقال: 'غلبتك ورب الكعبة'. أليست النصارى تعبد المسيح واليهود تعبد عزيراً؟ فأنزل الله (إن الذين سبقت لهم منا الحسنى).`,source:"أسباب النزول للسيوطي، تفسير ابن كثير"}]},{surahId:22,surahName:"سورة الحج",stories:[{ayahRange:"39",shortSummary:"هي أول آية نزلت في الإذن بالقتال للمسلمين بعد أن كانوا منهيين عنه في مكة.",detailedVersion:`**التفسير المفصل:**
كان المسلمون في مكة يتعرضون لأذى المشركين الشديد، وكانوا يأتون إلى النبي صلى الله عليه وسلم مضروبين ومجروحين ويشكون إليه، فكان يقول لهم: 'اصبروا فإني لم أومر بالقتال'. فلما هاجر النبي إلى المدينة وصارت للمسلمين دولة وقوة، أنزل الله تعالى هذه الآية: (أُذِنَ لِلَّذِينَ يُقَاتَلُونَ بِأَنَّهُمْ ظُلِمُوا ۚ وَإِنَّ اللَّهَ عَلَىٰ نَصْرِهِمْ لَقَدِيرٌ)، فكانت هذه أول آية تسمح للمسلمين برد العدوان والدفاع عن أنفسهم.

**تفسير ابن كثير:**
قال ابن عباس: هذه أول آية نزلت في القتال. وقال الإمام أحمد: إنها أول آية نزلت في القتال بالمدينة. وقد كان المسلمون منهيين عن القتال في الفترة المكية لصبرهم على الأذى، فلما قامت لهم شوكة بالمدينة أذن لهم بالجهاد.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:23,surahName:"سورة المؤمنون",stories:[{ayahRange:"1-11",shortSummary:"نزلت هذه الآيات في بداية السورة لبيان صفات المؤمنين الذين يرثون الفردوس، ولم يذكر لها سبب نزول خاص.",detailedVersion:`**التفسير المفصل:**
بدأت السورة بإعلان فلاح المؤمنين، ثم فصلت صفاتهم التي استحقوا بها هذا الفلاح: الخشوع في الصلاة، الإعراض عن اللغو، إيتاء الزكاة، حفظ الفروج، رعاية الأمانات والعهود، والمحافظة على الصلوات. لم يرد سبب نزول محدد لهذه الآيات، بل نزلت ابتداءً لتربية المؤمنين على هذه الأخلاق العظيمة وبيان جزائهم وهو الفردوس الأعلى.

**تفسير ابن كثير:**
روى الإمام أحمد عن عمر بن الخطاب قال: كان إذا نزل على رسول الله صلى الله عليه وسلم الوحي، يسمع عند وجهه كدوي النحل. فأنزل عليه يومًا، فمكثنا ساعة، فسري عنه فاستقبل القبلة ورفع يديه وقال: 'اللهم زدنا ولا تنقصنا، وأكرمنا ولا تهنا...' ثم قال: 'لقد أنزلت علي عشر آيات، من أقامهن دخل الجنة'، ثم قرأ: (قد أفلح المؤمنون) حتى ختم عشر آيات.`,source:"لباب النقول للسيوطي، تفسير ابن كثير"}]},{surahId:24,surahName:"سورة النور",stories:[{ayahRange:"11-20",shortSummary:"نزلت هذه الآيات لتبرئة السيدة عائشة رضي الله عنها من حديث الإفك، وهو اتهام باطل رماه به المنافقون.",detailedVersion:`**التفسير المفصل:**
في طريق العودة من غزوة بني المصطلق، تخلفت السيدة عائشة عن الجيش لتبحث عن عقد لها، وعندما عادت كان الجيش قد رحل. فمكثت مكانها حتى مر بها الصحابي صفوان بن المعطل السلمي فحملها على بعيره وأوصلها. استغل المنافقون هذا الموقف ولفقوا شائعة تمس شرف أم المؤمنين. تألم النبي والمسلمون ألمًا شديدًا، وانقطع الوحي شهرًا، ثم أنزل الله هذه الآيات من سورة النور، معلنًا براءتها من فوق سبع سماوات، وتوعد الذين يرمون المحصنات بالعذاب الشديد.

**تفسير ابن كثير:**
هذه الآيات العشر كلها نزلت في شأن عائشة أم المؤمنين، رضي الله عنها، حين رماها أهل الإفك والبهتان من المنافقين بما قالوه من الكذب البحت، فغار الله لها ولنبيه، فأنزل براءتها صيانة لعرض الرسول صلى الله عليه وسلم.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:25,surahName:"سورة الفرقان",stories:[{ayahRange:"32",shortSummary:"نزلت ردًا على شبهة المشركين الذين تساءلوا لماذا لم ينزل القرآن جملة واحدة كالتوراة والإنجيل.",detailedVersion:`**التفسير المفصل:**
قال الكفار: هلا نُزل هذا القرآن على محمد جملة واحدة كما أُنزلت التوراة على موسى والإنجيل على عيسى؟ فأنزل الله تعالى قوله: (وَقَالَ الَّذِينَ كَفَرُوا لَوْلَا نُزِّلَ عَلَيْهِ الْقُرْآنُ جُمْلَةً وَاحِدَةً ۚ كَذَٰلِكَ لِنُثَبِّتَ بِهِ فُؤَادَكَ ۖ وَرَتَّلْنَاهُ تَرْتِيلًا). فبين الله الحكمة من تنزيله منجمًا (مفرقًا) على مدى 23 عامًا، وهي تثبيت قلب النبي صلى الله عليه وسلم، وتيسير حفظه وفهمه، ومواكبته للأحداث والوقائع.

**تفسير ابن كثير:**
هذا إخبار من الله تعالى عن كثرة اعتراض الكفار وعنادهم، حيث قالوا هذا القول. فأجابهم الله بأن هذا إنما كان لينزل على رسوله حسب الوقائع والحوادث، وليثبت به فؤاده، وهو الأنسب لحفظه وفهمه والعمل بمقتضاه.`,source:"لباب النقول للسيوطي، تفسير ابن كثير"}]},{surahId:26,surahName:"سورة الشعراء",stories:[{ayahRange:"214",shortSummary:"نزلت لتأمر النبي صلى الله عليه وسلم ببدء دعوة عشيرته الأقربين إلى الإسلام.",detailedVersion:`**التفسير المفصل:**
بعد ثلاث سنوات من الدعوة السرية، أمر الله نبيه أن يخص عشيرته الأقربين بالدعوة قبل غيرهم، فأنزل: (وَأَنذِرْ عَشِيرَتَكَ الْأَقْرَبِينَ). فجمع النبي صلى الله عليه وسلم بني هاشم ودعاهم إلى الإسلام، فكان أول من استجاب له علي بن أبي طالب، بينما عارضه عمه أبو لهب بشدة. وهذه الآية كانت بداية المرحلة الجهرية من الدعوة.

**تفسير ابن كثير:**
روى الإمام أحمد عن ابن عباس قال: لما نزلت هذه الآية، صعد النبي صلى الله عليه وسلم على الصفا، فقال: 'يا بني فهر، يا بني عدي' لبطون قريش، حتى اجتمعوا. فقال: 'أرأيتكم لو أخبرتكم أن خيلاً بالوادي تريد أن تغير عليكم، أكنتم مصدقي؟' قالوا: 'نعم، ما جربنا عليك إلا صدقاً'. قال: 'فإني نذير لكم بين يدي عذاب شديد'. فقال أبو لهب: 'تباً لك سائر اليوم، ألهذا جمعتنا؟' فنزلت سورة المسد.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:27,surahName:"سورة النمل",stories:[{ayahRange:"1-93",shortSummary:"السورة مكية، وليس لها سبب نزول محدد. تتناول قصص الأنبياء كداود وسليمان وصالح ولوط عليهم السلام لبيان عاقبة الشكر والكفر.",detailedVersion:`**التفسير المفصل:**
سورة النمل، كغيرها من السور المكية، تركز على أصول العقيدة والتوحيد والنبوة والبعث. لم يرد سبب نزول خاص بها مرتبط بحادثة معينة. السورة تعرض نماذج من قصص الأنبياء السابقين، خاصة قصة سليمان عليه السلام مع ملكة سبأ، وقصة صالح مع ثمود، ولوط مع قومه، لتكون عبرة وعظة لقريش، ولتبين أن منهج الأنبياء واحد، وعاقبة المكذبين هي الهلاك، وعاقبة المؤمنين هي النجاة والفلاح.

**تفسير ابن كثير:**
يذكر ابن كثير في تفسيره لهذه السورة القصص بالتفصيل ويستخرج منها العبر، كبيان ما أنعم الله به على داود وسليمان من العلم والنبوة والملك، وكيف قابلا ذلك بالشكر. وفي المقابل، يذكر عاقبة قوم صالح وقوم لوط الذين كذبوا وكفروا فكان مصيرهم الدمار.`,source:"عامة كتب التفسير"}]},{surahId:28,surahName:"سورة القصص",stories:[{ayahRange:"85",shortSummary:"نزلت الآية على النبي صلى الله عليه وسلم وهو في طريقه مهاجرًا من مكة إلى المدينة، تبشره بالعودة إلى مكة فاتحًا.",detailedVersion:`**التفسير المفصل:**
عندما خرج النبي صلى الله عليه وسلم من مكة مهاجرًا، ووصل إلى مكان يسمى 'الجحفة'، اشتاق إلى بلده مكة وحزن لفراقها، فنزل عليه جبريل عليه السلام بهذه الآية: (إِنَّ الَّذِي فَرَضَ عَلَيْكَ الْقُرْآنَ لَرَادُّكَ إِلَىٰ مَعَادٍ)، أي أن الذي كلفك بتبليغ القرآن، سيردك إلى مكة ظافرًا منتصرًا. فكانت هذه الآية بشارة عظيمة ووعدًا صادقًا تحقق يوم فتح مكة.

**تفسير ابن كثير:**
قال ابن عباس: (لرادك إلى معاد) أي: إلى مكة. وهذا من أعظم دلائل النبوة، حيث أخبره الله بخروجه من مكة وعودته إليها وهو في بداية هجرته مطاردًا، وقد تحقق هذا الوعد كما أخبر.`,source:"أسباب النزول للسيوطي، تفسير ابن كثير"}]},{surahId:29,surahName:"سورة العنكبوت",stories:[{ayahRange:"1-3",shortSummary:"نزلت في بعض المسلمين الذين أسلموا في مكة، فلما تعرضوا للأذى والفتنة من المشركين، ظنوا أن هذا سيستمر، فنزلت الآية لتصبرهم.",detailedVersion:`**التفسير المفصل:**
لما أسلم بعض الناس في مكة، تعرضوا لابتلاءات وفتن شديدة من المشركين ليصدوهم عن دينهم. فكان بعضهم يتألم ويظن أن الإيمان لا يتطلب هذا العناء. فأنزل الله تعالى: (أَحَسِبَ النَّاسُ أَن يُتْرَكُوا أَن يَقُولُوا آمَنَّا وَهُمْ لَا يُفْتَنُونَ)، لبيان أن الابتلاء سنة إلهية لتمحيص المؤمنين وتمييز الصادق من الكاذب، وأن الإيمان ليس مجرد كلمة تقال باللسان.

**تفسير ابن كثير:**
قوله تعالى: (أحسب الناس أن يتركوا...) استفهام إنكار، ومعناه: أن الله سبحانه وتعالى لا بد أن يبتلي عباده المؤمنين بحسب ما عندهم من الإيمان، كما جاء في الحديث الصحيح: 'أشد الناس بلاء الأنبياء ثم الصالحون، ثم الأمثل فالأمثل، يبتلى الرجل على حسب دينه، فإن كان في دينه صلابة زيد في بلائه'.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:30,surahName:"سورة الروم",stories:[{ayahRange:"1-4",shortSummary:"نزلت الآيات بعد هزيمة الروم (أهل كتاب) من الفرس (مجوس)، فحزن المسلمون وفرح المشركون، فبشر القرآن بانتصار الروم خلال بضع سنين.",detailedVersion:`**التفسير المفصل:**
كانت هناك حرب بين الروم والفرس، وكان الروم أهل كتاب (نصارى) والفرس مجوس (يعبدون النار). انتصر الفرس انتصارًا ساحقًا، ففرح مشركو مكة وقالوا للمسلمين: 'أنتم والنصارى أهل كتاب، ونحن والفرس أميون، وقد ظهر إخواننا على إخوانكم، ولنظهرن نحن عليكم'. فحزن المسلمون لذلك، فأنزل الله هذه الآيات التي تبشر بانتصار الروم في المستقبل القريب (في بضع سنين)، وقد تحقق هذا الوعد الإلهي المعجز.

**تفسير ابن كثير:**
كان المشركون يحبون أن تظهر فارس على الروم لأنهم أهل أوثان مثلهم، وكان المسلمون يحبون أن تظهر الروم على فارس لأنهم أهل كتاب. فراهن أبو بكر الصديق المشركين على أن الروم ستنتصر، وتحقق ذلك كما أخبر القرآن، فكان من دلائل صدقه.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:31,surahName:"سورة لقمان",stories:[{ayahRange:"6",shortSummary:"نزلت في النضر بن الحارث الذي كان يشتري كتب الأعاجم وقصصهم ليصد الناس عن سماع القرآن.",detailedVersion:`**التفسير المفصل:**
كان النضر بن الحارث من أشد أعداء الإسلام في مكة. سافر إلى بلاد فارس وتعلم أخبار ملوكهم وقصصهم، ثم عاد إلى مكة. فكان إذا جلس النبي صلى الله عليه وسلم مجلسًا يدعو فيه إلى الله ويتلو القرآن، يقوم النضر بعده ويقول: 'أنا والله يا معشر قريش أحسن حديثًا منه، هلموا فأنا أحدثكم أحسن من حديثه'، ثم يحدثهم عن ملوك فارس. فأنزل الله فيه: (وَمِنَ النَّاسِ مَن يَشْتَرِي لَهْوَ الْحَدِيثِ لِيُضِلَّ عَن سَبِيلِ اللَّهِ بِغَيْرِ عِلْمٍ).

**تفسير ابن كثير:**
قال ابن عباس: (لهو الحديث) هو الغناء وأشباهه. وقال مجاهد: هو الغناء أو كل لهو. والآية نزلت في النضر بن الحارث، كان يشتري كتبًا فيها أخبار العجم ويحدث بها قريشًا ليصدهم عن سماع القرآن.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:32,surahName:"سورة السجدة",stories:[{ayahRange:"16",shortSummary:"نزلت في فضل قيام الليل، في أناس من الصحابة كانوا يصلون ما بين المغرب والعشاء.",detailedVersion:`**التفسير المفصل:**
نزلت هذه الآية: (تَتَجَافَىٰ جُنُوبُهُمْ عَنِ الْمَضَاجِعِ يَدْعُونَ رَبَّهُمْ خَوْفًا وَطَمَعًا) في مدح الذين يقومون من فرشهم في الليل للصلاة والدعاء، تاركين لذة النوم لمناجاة ربهم. قال أنس بن مالك: نزلت في انتظار الصلاة التي تدعى العتمة (صلاة العشاء). وقال آخرون: نزلت في صلاة التطوع بين المغرب والعشاء، وفي قيام الليل بشكل عام.

**تفسير ابن كثير:**
يعني بذلك قيام الليل وترك النوم والاضطجاع على الفرش الوطيئة. قال أنس: كانوا يتنفلون ما بين المغرب والعشاء. وهذا يدل على فضل التهجد وقيام الليل، وهو من أعظم صفات المؤمنين المتقين.`,source:"لباب النقول للسيوطي"}]},{surahId:33,surahName:"سورة الأحزاب",stories:[{ayahRange:"37",shortSummary:"نزلت هذه الآية في قصة زواج النبي صلى الله عليه وسلم من زينب بنت جحش بعد طلاقها من زيد بن حارثة، لإبطال عادة التبني.",detailedVersion:`**التفسير المفصل:**
كان زيد بن حارثة متبنى للنبي صلى الله عليه وسلم قبل الإسلام وكان يُدعى زيد بن محمد. زوّجه النبي من ابنة عمته زينب بنت جحش. حدثت مشاكل بينهما أدت إلى طلاقها. فأمر الله نبيه بالزواج منها لإبطال عادة التبني وآثارها، حيث كان العرب يحرمون زواج الرجل من مطلقة ابنه بالتبني. وكان النبي يخشى قول الناس 'تزوج محمد امرأة ابنه'، فأنزل الله الآية تعاتبه عتابًا لطيفًا وتعلن أن قضاء الله نافذ.

**تفسير ابن كثير:**
كان رسول الله صلى الله عليه وسلم قد تبنى زيد بن حارثة قبل النبوة، فكان يقال له: زيد بن محمد. فأراد الله تعالى أن يقطع هذا التحريم وهذا الإلحاق، بقوله (وما جعل أدعياءكم أبناءكم). ثم لما طلقها زيد، أمره الله أن يتزوجها، وكان يخشى من قالة الناس، فأنزل الله هذه الآية.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:34,surahName:"سورة سبأ",stories:[{ayahRange:"3",shortSummary:"نزلت ردًا على إنكار المشركين ليوم القيامة والبعث.",detailedVersion:`**التفسير المفصل:**
كان كفار قريش ينكرون قيام الساعة والبعث بعد الموت، ويقولون استهزاءً: (لَا تَأْتِينَا السَّاعَةُ). فأنزل الله تعالى هذه الآية وأمر نبيه أن يقسم بربه على أن الساعة آتية لا ريب فيها، وأن علم الله محيط بكل شيء، صغير أو كبير، في السماوات والأرض، وأن كل ذلك مسجل في كتاب مبين.

**تفسير ابن كثير:**
هذا إخبار عن الكفار في استبعادهم وقوع الساعة. فأمر الله تعالى رسوله صلى الله عليه وسلم أن يقسم بربه على وقوعها وحصولها، فقال: (قل بلى وربي لتأتينكم)، وهو الله الذي لا يخفى عليه شيء، بل يعلم كل ما في السماوات والأرض.`,source:"عامة كتب التفسير"}]},{surahId:35,surahName:"سورة فاطر",stories:[{ayahRange:"1-45",shortSummary:"سورة فاطر مكية، تركز على دلائل قدرة الله في الخلق، ووظيفة الملائكة، وعاقبة الكافرين، وليس لها سبب نزول معين.",detailedVersion:`**التفسير المفصل:**
لم يرد سبب نزول خاص بسورة فاطر. السورة تتناول موضوعات العقيدة الأساسية. تبدأ ببيان عظمة خلق الله للسماوات والأرض، وخلقه للملائكة كرسل أولي أجنحة، مما يدل على قدرته. وتذكر الناس بفقرهم إلى الله وغناه عنهم، وتؤكد على صدق وعد الله بالبعث، وتحذر من فتنة الدنيا والشيطان. كما تضرب الأمثال لبيان الفرق بين المؤمن والكافر، وتختم ببيان حلم الله وصبره على عباده.

**تفسير ابن كثير:**
يقول ابن كثير عند تفسير مطلع السورة: يمدح تبارك وتعالى نفسه الكريمة على خلقه السماوات والأرض، وأنه جاعل الملائكة رسلاً إلى الأنبياء أو في تنفيذ أوامره الكونية. ويشرح معنى (أولي أجنحة مثنى وثلاث ورباع) بأن منهم من له جناحان ومنهم ثلاثة ومنهم أربعة، ومنهم أكثر من ذلك كما جاء في الحديث أن جبريل له ستمائة جناح.`,source:"عامة كتب التفسير"}]},{surahId:36,surahName:"سورة يس",stories:[{ayahRange:"78-79",shortSummary:"نزلت في أُبيّ بن خلف الذي جاء إلى النبي بعظم بالٍ وفتته، وسأله مستهزئًا: من يحيي العظام وهي رميم؟",detailedVersion:`**التفسير المفصل:**
جاء المشرك أُبيّ بن خلف إلى رسول الله صلى الله عليه وسلم وفي يده عظم قد بلي وتفتت، ففته في وجه النبي وقال: 'يا محمد، أتزعم أن الله يبعث هذا بعدما أرم؟'. فقال النبي صلى الله عليه وسلم: 'نعم، يبعثه الله ويميتك ثم يدخلك النار'. فأنزل الله تعالى: (وَضَرَبَ لَنَا مَثَلًا وَنَسِيَ خَلْقَهُ ۖ قَالَ مَن يُحْيِي الْعِظَامَ وَهِيَ رَمِيمٌ * قُلْ يُحْيِيهَا الَّذِي أَنشَأَهَا أَوَّلَ مَرَّةٍ ۖ وَهُوَ بِكُلِّ خَلْقٍ عَلِيمٌ).

**تفسير ابن كثير:**
روي عن ابن عباس وغيره أن أبي بن خلف جاء إلى رسول الله صلى الله عليه وسلم بعظم رميم، ففته بين يديه، وقال... فنزلت هذه الآيات. والجواب هو أن الذي خلق الإنسان من العدم قادر على إعادته بعد أن يصبح عظامًا بالية، فالإعادة أهون من الابتداء.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:37,surahName:"سورة الصافات",stories:[{ayahRange:"1-182",shortSummary:"سورة مكية، تركز على وحدانية الله، والبعث، وقصص الأنبياء، وليس لها سبب نزول خاص.",detailedVersion:`**التفسير المفصل:**
لم يرد سبب نزول محدد لسورة الصافات. السورة تبدأ بالقسم بالملائكة على أن الله واحد، ثم تنتقل إلى مشاهد يوم القيامة وعاقبة الكافرين ونعيم المؤمنين. وتحكي بالتفصيل أجزاء من قصص نوح وإبراهيم وموسى وهارون وإلياس ولوط ويونس عليهم السلام، لتثبيت المؤمنين وإنذار المشركين. وتختم بتنزيه الله تعالى عما يصفه به الكافرون، والسلام على المرسلين، والحمد لله رب العالمين.

**تفسير ابن كثير:**
يذكر ابن كثير الأقوال في تفسير القسم في أول السورة، ويرجح أنها الملائكة. ثم يشرح أحوال أهل النار وحوارهم مع من أضلوهم، وأحوال أهل الجنة ونعيمهم، ويستعرض قصص الأنبياء المذكورين في السورة بالتفصيل، مبينًا العبر المستفادة من كل قصة.`,source:"عامة كتب التفسير"}]},{surahId:38,surahName:"سورة ص",stories:[{ayahRange:"1-8",shortSummary:"نزلت في وفد من زعماء قريش جاءوا إلى أبي طالب في مرضه، يطلبون منه أن يكف ابن أخيه عن سب آلهتهم، فتعجبوا من دعوته لتوحيد الله.",detailedVersion:`**التفسير المفصل:**
لما مرض أبو طالب، دخل عليه أشراف قريش، وقالوا: يا أبا طالب، إنك منا حيث قد علمت، وقد حضرك ما ترى، وإن ابن أخيك هذا يسب آلهتنا، فادعه ومره أن يكف عنا. فدعاه النبي صلى الله عليه وسلم، وعرض عليه أبو طالب ما قالوا. فقال النبي: 'أرأيتم إن أعطيتكم كلمة واحدة ملكتم بها العرب ودانت لكم بها العجم؟' فقال أبو جهل: نعم وأبيك وعشر كلمات. قال: 'تقولون لا إله إلا الله'. فقاموا فزعين وهم يقولون: (أَجَعَلَ الْآلِهَةَ إِلَٰهًا وَاحِدًا ۖ إِنَّ هَٰذَا لَشَيْءٌ عُجَابٌ). فنزلت الآيات فيهم.

**تفسير ابن كثير:**
روى الإمام أحمد عن ابن عباس، قال: لما مرض أبو طالب دخل عليه رهط من قريش... فذكر القصة. فكان نزول هذه الآيات تعقيبًا على هذا الموقف الذي أظهر عنادهم واستكبارهم عن قبول الحق.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:39,surahName:"سورة الزمر",stories:[{ayahRange:"53",shortSummary:"نزلت في أناس من المشركين قتلوا وزنوا كثيرًا، ثم أتوا النبي يسألون هل لهم من توبة، فنزلت الآية تبشر بسعة رحمة الله.",detailedVersion:`**التفسير المفصل:**
روى ابن عباس أن ناسًا من أهل الشرك كانوا قد قتلوا فأكثروا، وزنوا فأكثروا، فأتوا محمدًا صلى الله عليه وسلم فقالوا: إن الذي تقول وتدعو إليه لحسن، لو تخبرنا أن لما عملنا كفارة. فنزلت هذه الآية: (قُلْ يَا عِبَادِيَ الَّذِينَ أَسْرَفُوا عَلَىٰ أَنفُسِهِمْ لَا تَقْنَطُوا مِن رَّحْمَةِ اللَّهِ ۚ إِنَّ اللَّهَ يَغْفِرُ الذُّنُوبَ جَمِيعًا ۚ إِنَّهُ هُوَ الْغَفُورُ الرَّحِيمُ). وهي أرجى آية في القرآن، تفتح باب الأمل والتوبة لكل عاصٍ مهما بلغت ذنوبه.

**تفسير ابن كثير:**
هذه الآية الكريمة دعوة لجميع العصاة من الكفرة وغيرهم إلى التوبة والإنابة، وإخبار بأن الله تبارك وتعالى يغفر الذنوب جميعًا لمن تاب منها ورجع عنها، وإن كانت مهما كانت، وإن كثرت وكانت مثل زبد البحر.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:40,surahName:"سورة غافر",stories:[{ayahRange:"28",shortSummary:"نزلت في قصة مؤمن آل فرعون الذي كان يكتم إيمانه ويدافع عن موسى عليه السلام.",detailedVersion:`**التفسير المفصل:**
عندما دعا موسى عليه السلام فرعون وقومه إلى توحيد الله، كذبوه وأرادوا قتله. فقام رجل من آل فرعون كان قد آمن بموسى سرًا، يدافع عنه ويحذر قومه من عاقبة قتل الأنبياء. فقال لهم: (أَتَقْتُلُونَ رَجُلًا أَن يَقُولَ رَبِّيَ اللَّهُ وَقَدْ جَاءَكُم بِالْبَيِّنَاتِ مِن رَّبِّكُمْ). لم يرد سبب نزول خاص لهذه الآية، بل هي جزء من قصة موسى التي قصها القرآن للعبرة وتثبيت المؤمنين.

**تفسير ابن كثير:**
هذا الرجل هو مؤمن آل فرعون، كان قبطيًا، وكان يكتم إيمانه عن قومه خوفًا منهم. فلما عزم فرعون على قتل موسى، لم يجد الرجل بدًا من إظهار إيمانه والدفاع عن نبي الله. قال ابن عباس: لم يؤمن من آل فرعون إلا هذا الرجل وامرأة فرعون.`,source:"عامة كتب التفسير"}]},{surahId:41,surahName:"سورة فصلت",stories:[{ayahRange:"30",shortSummary:"نزلت تبشر المؤمنين الذين استقاموا على التوحيد بأن الملائكة تتنزل عليهم عند الموت وفي القبر ويوم القيامة لتثبيتهم وتبشيرهم بالجنة.",detailedVersion:`**التفسير المفصل:**
ليس لهذه الآية سبب نزول محدد بحادثة، بل هي بيان لحال المؤمنين المستقيمين على طاعة الله وجزائهم. معنى قوله تعالى: (إِنَّ الَّذِينَ قَالُوا رَبُّنَا اللَّهُ ثُمَّ اسْتَقَامُوا) أي أخلصوا العمل لله وعملوا بطاعته على ما شرع لهم. (تَتَنَزَّلُ عَلَيْهِمُ الْمَلَائِكَةُ) أي عند الموت، يقولون لهم: (أَلَّا تَخَافُوا) مما تقدمون عليه من أمر الآخرة، (وَلَا تَحْزَنُوا) على ما خلفتموه من أمر الدنيا من ولد وأهل ومال، (وَأَبْشِرُوا بِالْجَنَّةِ الَّتِي كُنتُمْ تُوعَدُونَ).

**تفسير ابن كثير:**
يقول تعالى: إن الذين وحدوا الله واستقاموا على أمره، تتنزل عليهم الملائكة عند الاحتضار لتبشرهم وتؤمنهم من الخوف والفزع، وتعدهم بالجنة، وتخبرهم بأنهم كانوا أولياءهم في الدنيا وسيكونون معهم في الآخرة.`,source:"عامة كتب التفسير"}]},{surahId:42,surahName:"سورة الشورى",stories:[{ayahRange:"23",shortSummary:"نزلت ردًا على سؤال بعض الصحابة عن كيفية مكافأة النبي على هدايته لهم، فأمرهم الله بمودة أقاربه.",detailedVersion:`**التفسير المفصل:**
قال الصحابة: يا رسول الله، لو كان هذا الذي جئتنا به تريد به مالاً جمعنا لك من أموالنا. فأنزل الله تعالى: (قُل لَّا أَسْأَلُكُمْ عَلَيْهِ أَجْرًا إِلَّا الْمَوَدَّةَ فِي الْقُرْبَىٰ). اختلف المفسرون في معنى (القربى)، والقول الأرجح عن ابن عباس هو: إلا أن تصلوا قرابتي منكم، أي لا تؤذوني لقرابتي بكم يا معشر قريش. وقيل المعنى: أن تودوا قرابتي وعترتي وتحفظوني فيهم.

**تفسير ابن كثير:**
روى البخاري عن ابن عباس أنه سئل عن هذه الآية، فقال سعيد بن جبير: قربى آل محمد صلى الله عليه وسلم. فقال ابن عباس: عجلت، إن النبي صلى الله عليه وسلم لم يكن بطن من قريش إلا كان له فيهم قرابة، فقال: إلا أن تصلوا ما بيني وبينكم من القرابة. وهذا هو القول الراجح.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:43,surahName:"سورة الزخرف",stories:[{ayahRange:"31",shortSummary:"نزلت الآية حكاية لقول كفار مكة الذين اعترضوا على نبوة محمد صلى الله عليه وسلم، واقترحوا أن ينزل القرآن على رجل عظيم من مكة أو الطائف.",detailedVersion:`**التفسير المفصل:**
اعترض زعماء قريش على اختيار الله لمحمد صلى الله عليه وسلم ليكون نبيًا، لأنه كان يتيمًا وفقيرًا في نظرهم. فقالوا: (لَوْلَا نُزِّلَ هَٰذَا الْقُرْآنُ عَلَىٰ رَجُلٍ مِّنَ الْقَرْيَتَيْنِ عَظِيمٍ)، أي هلا نزل على رجل غني وذي جاه من مكة (كالوليد بن المغيرة) أو من الطائف (كعروة بن مسعود الثقفي). فنزلت الآية تحكي قولهم وترد عليهم في الآية التي تليها: (أَهُمْ يَقْسِمُونَ رَحْمَتَ رَبِّكَ).

**تفسير ابن كثير:**
يخبر تعالى عن المشركين في قولهم هذا، اعتراضًا على من أنزل عليه الكتاب. يعنون بالرجل العظيم من القريتين الوليد بن المغيرة من مكة، أو عروة بن مسعود الثقفي من الطائف. فرد الله عليهم بأن هذا الأمر ليس إليهم، بل الله أعلم حيث يجعل رسالته.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:44,surahName:"سورة الدخان",stories:[{ayahRange:"10-16",shortSummary:"نزلت الآيات في شأن الجوع الشديد والقحط الذي أصاب قريشًا بدعوة النبي صلى الله عليه وسلم عليهم.",detailedVersion:`**التفسير المفصل:**
لما استعصت قريش على النبي صلى الله عليه وسلم، دعا عليهم قائلاً: 'اللهم أعني عليهم بسبع كسبع يوسف'. فأصابهم قحط وجوع شديد حتى أكلوا الجيف والعظام، وكان الرجل يرى ما بينه وبين السماء كهيئة الدخان من شدة الجهد. فأتوا النبي صلى الله عليه وسلم وطلبوا منه أن يدعو الله ليكشف عنهم العذاب، ووعدوا بالإيمان. فدعا لهم، فلما كشف عنهم عادوا إلى كفرهم. فتوعدهم الله بالبطشة الكبرى يوم بدر.

**تفسير ابن كثير:**
روى البخاري عن ابن مسعود قال: إن قريشًا لما استعصوا على النبي، دعا عليهم بسنين كسني يوسف، فأصابهم قحط وجهد حتى أكلوا العظام، فجعل الرجل ينظر إلى السماء فيرى ما بينه وبينها كهيئة الدخان من الجهد. فأنزل الله (فارتقب يوم تأتي السماء بدخان مبين).`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:45,surahName:"سورة الجاثية",stories:[{ayahRange:"23",shortSummary:"نزلت فيمن يعبد هواه ويتبع ما يشتهيه دون هدى من الله، وقيل نزلت في شخص معين من المشركين.",detailedVersion:`**التفسير المفصل:**
نزلت هذه الآية: (أَفَرَأَيْتَ مَنِ اتَّخَذَ إِلَٰهَهُ هَوَاهُ) في كل من يقدم هواه ورغباته على طاعة الله. فكلما استحسن شيئًا وهواه، فعله غير مكترث أيرضي الله أم يسخطه. وقيل إنها نزلت في الحارث بن قيس، أحد المستهزئين، الذي كان يعبد ما يستحسنه، فإذا رأى حجرًا أفضل من الذي يعبده، رمى الأول وعبد الثاني.

**تفسير ابن كثير:**
أي: إنما يأتمر بهواه، فمهما رآه حسنا فعله، ومهما رآه قبيحا تركه، وهذا هو معنى اتخاذ الهوى إلهًا. ولهذا قال تعالى: (وأضله الله على علم)، أي مع علمه بأنه لا يستحق الهداية.`,source:"لباب النقول للسيوطي"}]},{surahId:46,surahName:"سورة الأحقاف",stories:[{ayahRange:"29",shortSummary:"نزلت الآية في قصة نفر من الجن استمعوا إلى القرآن من النبي صلى الله عليه وسلم وهو يصلي ببطن نخلة، فآمنوا به وعادوا إلى قومهم منذرين.",detailedVersion:`**التفسير المفصل:**
عندما كان النبي صلى الله عليه وسلم عائدًا من الطائف حزينًا بعد أن صده أهلها، نزل بمكان يسمى 'بطن نخلة' وقام يصلي في جوف الليل. فصرف الله إليه سبعة نفر من جن 'نصيبين'، فاستمعوا لقراءته وأعجبوا بالقرآن. فلما انتهى من صلاته، آمنوا به وعادوا إلى قومهم دعاة إلى الإسلام. فنزلت هذه الآيات تحكي قصتهم.

**تفسير ابن كثير:**
روى البخاري عن ابن عباس قال: انطلق رسول الله صلى الله عليه وسلم في طائفة من أصحابه عامدين إلى سوق عكاظ، وقد حيل بين الشياطين وبين خبر السماء. فرجعت الشياطين إلى قومهم، فقالوا: ما لكم؟ فقالوا: حيل بيننا وبين خبر السماء. قالوا: ما حال بينكم إلا شيء حدث، فاضربوا مشارق الأرض ومغاربها. فمر النفر الذين توجهوا نحو تهامة بالنبي صلى الله عليه وسلم وهو بنخلة يصلي بأصحابه صلاة الفجر، فلما سمعوا القرآن استمعوا له، فقالوا: هذا الذي حال بينكم وبين خبر السماء. فرجعوا إلى قومهم فقالوا: (يا قومنا إنا سمعنا قرآنا عجبا).`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:47,surahName:"سورة محمد",stories:[{ayahRange:"1-47",shortSummary:"سورة مدنية، تعرف بسورة القتال، تركز على أحكام الجهاد والفرق بين المؤمنين والكافرين، وليس لها سبب نزول واحد.",detailedVersion:`**التفسير المفصل:**
سورة محمد نزلت في المدينة بعد الهجرة، وموضوعها الرئيسي هو القتال في سبيل الله. لم يرد لها سبب نزول شامل، بل نزلت آياتها متفرقة تعالج شؤون الدولة الإسلامية الناشئة وعلاقتها بأعدائها. تبدأ السورة بمقارنة مصير الكفار الذين صدوا عن سبيل الله، ومصير المؤمنين الذين آمنوا وعملوا الصالحات. وتتضمن أحكامًا واضحة حول التعامل مع الأسرى في الحرب، وتحث على الإنفاق في سبيل الله، وتحذر من النفاق والتردد في الجهاد.

**تفسير ابن كثير:**
يذكر ابن كثير أن هذه السورة تبين حال الكافرين الذين كفروا وصدوا عن سبيل الله، وكيف أن الله أبطل أعمالهم. وفي المقابل، المؤمنون الذين آمنوا بما نزل على محمد، كفر الله عنهم سيئاتهم وأصلح بالهم. ثم تتوالى الآيات في الحث على قتال الكفار والإثخان فيهم.`,source:"عامة كتب التفسير"}]},{surahId:48,surahName:"سورة الفتح",stories:[{ayahRange:"1-3",shortSummary:"نزلت السورة على النبي صلى الله عليه وسلم بعد عودته من صلح الحديبية، تبشره بأن هذا الصلح هو فتح مبين.",detailedVersion:`**التفسير المفصل:**
في السنة السادسة للهجرة، خرج النبي صلى الله عليه وسلم مع 1400 من أصحابه متجهين إلى مكة لأداء العمرة. منعتهم قريش من الدخول، وجرت مفاوضات انتهت بـ'صلح الحديبية'. كانت بعض شروط الصلح تبدو في ظاهرها مجحفة للمسلمين، فحزنوا لذلك حزنًا شديدًا. وفي طريق العودة إلى المدينة، أنزل الله تعالى هذه السورة: (إِنَّا فَتَحْنَا لَكَ فَتْحًا مُّبِينًا)، معتبرًا هذا الصلح فتحًا عظيمًا، لما ترتب عليه من اعتراف قريش بالمسلمين، وتفرغهم للدعوة، ودخول الناس في دين الله أفواجًا.

**تفسير ابن كثير:**
روى الإمام أحمد عن أنس بن مالك، قال: نزلت على النبي صلى الله عليه وسلم (إنا فتحنا لك فتحا مبينا) مرجعه من الحديبية. فقال أصحابه: هنيئًا مريئًا، فما لنا؟ فأنزل الله (ليدخل المؤمنين والمؤمنات جنات).`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:49,surahName:"سورة الحجرات",stories:[{ayahRange:"1-2",shortSummary:"نزلت الآيات لتعليم الصحابة أدب الحديث مع النبي صلى الله عليه وسلم، بعد أن رفع أبو بكر وعمر أصواتهما عنده.",detailedVersion:`**التفسير المفصل:**
قدم وفد من بني تميم على النبي صلى الله عليه وسلم، فأشار أبو بكر بتأمير القعقاع بن معبد، وأشار عمر بتأمير الأقرع بن حابس. فتجادلا حتى ارتفعت أصواتهما في حضرة النبي. فأنزل الله تعالى: (يَا أَيُّهَا الَّذِينَ آمَنُوا لَا تُقَدِّمُوا بَيْنَ يَدَيِ اللَّهِ وَرَسُولِهِ) و (يَا أَيُّهَا الَّذِينَ آمَنُوا لَا تَرْفَعُوا أَصْوَاتَكُمْ فَوْقَ صَوْتِ النَّبِيِّ...). فكان أبو بكر بعد ذلك يكلم النبي كأخي السرار، وكان عمر لا يُسمع النبي كلامه حتى يستفهمه.

**تفسير ابن كثير:**
قال البخاري: كاد الخيّران أن يهلكا، أبو بكر وعمر، رفعا أصواتهما عند النبي صلى الله عليه وسلم حين قدم عليه ركب بني تميم... فأنزل الله (يا أيها الذين آمنوا لا ترفعوا أصواتكم).`,source:"أسباب النزول للواحدي، تفسير ابن كثير"},{ayahRange:"6",shortSummary:"نزلت في الوليد بن عقبة حين أرسله النبي لجمع الزكاة من بني المصطلق، فرجع وأخبر أنهم ارتدوا ومنعوا الزكاة، وكان خبره غير صحيح.",detailedVersion:`**التفسير المفصل:**
بعث النبي الوليد بن عقبة إلى بني المصطلق ليأخذ منهم الصدقات، فلما سمعوا به خرجوا لاستقباله، فخاف منهم وظن أنهم يريدون قتله، فرجع إلى النبي وأخبره أنهم منعوا الصدقة وأرادوا قتله. فغضب النبي وهمّ أن يرسل إليهم جيشًا. فبينما هو كذلك، قدم وفدهم على النبي وقالوا: 'يا رسول الله، سمعنا برسولك فخرجنا نكرمه ونؤدي إليه ما قبلنا من حق الله، فرجع'. فأنزل الله الآية تعلم المسلمين وجوب التثبت من الأخبار قبل الحكم عليها.

**تفسير ابن كثير:**
ذكر كثير من المفسرين أن هذه الآية نزلت في الوليد بن عقبة بن أبي معيط، حين بعثه رسول الله صلى الله عليه وسلم على صدقات بني المصطلق.`,source:"لباب النقول للسيوطي، تفسير ابن كثير"}]},{surahId:50,surahName:"سورة ق",stories:[{ayahRange:"1-45",shortSummary:"سورة مكية، تتناول قضية البعث والنشور بشكل رئيسي، وكان النبي يقرأ بها في الخطب والأعياد لأهميتها.",detailedVersion:`**التفسير المفصل:**
لم يرد سبب نزول خاص لسورة 'ق'. هي من السور المكية التي تركز بقوة على إثبات عقيدة البعث بعد الموت، والرد على منكريها. تبدأ بالقسم بالقرآن المجيد، وتذكر تعجب الكفار من إرسال نبي ومن البعث. ثم تستعرض دلائل القدرة الإلهية في الكون كخلق السماء والأرض والجبال والنبات، كدليل على أن من خلق هذا كله قادر على إعادة الخلق. وتصف أهوال الموت وسكراته، ومشاهد يوم القيامة. كان النبي صلى الله عليه وسلم يكثر من قراءتها في المحافل الكبرى كالجمع والأعياد لتذكير الناس بهذا اليوم العظيم.

**تفسير ابن كثير:**
روى الإمام مسلم عن أم هشام بنت حارثة، قالت: ما أخذت (ق والقرآن المجيد) إلا عن لسان رسول الله صلى الله عليه وسلم، يقرؤها كل يوم جمعة على المنبر إذا خطب الناس. وهذا يدل على أهمية هذه السورة في التذكير بأصول الإيمان.`,source:"عامة كتب التفسير، تفسير ابن كثير"}]},{surahId:51,surahName:"سورة الذاريات",stories:[{ayahRange:"1-60",shortSummary:"سورة مكية، محورها الأساسي هو صدق خبر البعث والجزاء، وليس لها سبب نزول معين.",detailedVersion:`**التفسير المفصل:**
لم يرد سبب نزول محدد لسورة الذاريات. تبدأ السورة بالقسم بأنواع من الرياح والملائكة على أن وعد الله بالبعث والحساب حق وواقع لا محالة. ثم تصف حال المتقين في الجنة، وفي المقابل تذكر قصص بعض الأمم المكذبة كقوم إبراهيم ولوط وعاد وثمود وقوم فرعون، لبيان أن سنة الله في إهلاك المكذبين وإنجاء المؤمنين ماضية. وتختم السورة بالتأكيد على أن الهدف من خلق الجن والإنس هو العبادة.

**تفسير ابن كثير:**
يذكر ابن كثير الأقوال المختلفة في تفسير المقسم به في أول السورة (الذاريات، فالحاملات، فالجاريات، فالمقسمات)، ويرجح أنها الرياح والسحاب والسفن والملائكة. ويبين أن جواب القسم هو قوله تعالى (إنما توعدون لصادق وإن الدين لواقع).`,source:"عامة كتب التفسير"}]},{surahId:52,surahName:"سورة الطور",stories:[{ayahRange:"1-49",shortSummary:"سورة مكية، تتناول دلائل التوحيد وصدق الرسالة والبعث، وقد أسلم جبير بن مطعم عند سماعها من النبي.",detailedVersion:`**التفسير المفصل:**
ليس للسورة سبب نزول مباشر، ولكن يروى أن جبير بن مطعم قدم إلى المدينة ليفاوض في أسرى بدر وهو لا يزال مشركًا، فسمع النبي صلى الله عليه وسلم يقرأ سورة الطور في صلاة المغرب، فلما بلغ قوله تعالى: (أَمْ خُلِقُوا مِنْ غَيْرِ شَيْءٍ أَمْ هُمُ الْخَالِقُونَ * أَمْ خَلَقُوا السَّمَاوَاتِ وَالْأَرْضَ ۚ بَل لَّا يُوقِنُونَ)، قال جبير: 'كاد قلبي أن يطير'. فكان ذلك أول ما وقر الإيمان في قلبه. والسورة تقيم الحجج القوية على المشركين وتصف عذابهم ونعيم المؤمنين.

**تفسير ابن كثير:**
روى البخاري عن جبير بن مطعم قال: سمعت النبي صلى الله عليه وسلم يقرأ في المغرب بالطور، فلما بلغ هذه الآية: (أم خلقوا من غير شيء...) إلى آخرها، كاد قلبي أن يطير. وهذا يدل على قوة تأثير القرآن وبلاغته في إقامة الحجة.`,source:"لباب النقول للسيوطي، تفسير ابن كثير"}]},{surahId:53,surahName:"سورة النجم",stories:[{ayahRange:"1-18",shortSummary:"نزلت الآيات لتأكيد صدق الوحي الذي ينزل على النبي، وتبرئته مما اتهمه به المشركون من أنه يقول الشعر أو يتلقى من الشياطين.",detailedVersion:`**التفسير المفصل:**
لما اتهم المشركون النبي صلى الله عليه وسلم بأن ما يأتيه من القرآن ليس وحيًا من الله، بل هو شعر أو كهانة أو من إلقاء الشياطين، أنزل الله تعالى هذه السورة التي تبدأ بقسم عظيم (وَالنَّجْمِ إِذَا هَوَىٰ) على أن النبي ما ضل وما غوى، وما ينطق عن هوى نفسه، بل كل ما يقوله هو وحي يوحى إليه. ثم تصف الآيات رؤية النبي لجبريل عليه السلام على صورته الحقيقية، تأكيدًا على مصدر الوحي الإلهي.

**تفسير ابن كثير:**
يقسم تعالى بالنجم عند هويه أي سقوطه، على صحة ما جاء به الرسول من الوحي الإلهي. قال تعالى: (ما ضل صاحبكم) وهو محمد صلى الله عليه وسلم، (وما غوى) أي ليس غاويًا، بل هو راشد على استقامة. (وما ينطق عن الهوى) أي ليس قوله صادرًا عن هوى نفس ورغبة. (إن هو إلا وحي يوحى).`,source:"عامة كتب التفسير، تفسير ابن كثير"}]},{surahId:54,surahName:"سورة القمر",stories:[{ayahRange:"1",shortSummary:"نزلت الآية بعد أن طلب أهل مكة من النبي آية تدل على صدقه، فأراهم انشقاق القمر بأمر الله.",detailedVersion:`**التفسير المفصل:**
اجتمع المشركون في مكة وطلبوا من النبي صلى الله عليه وسلم أن يريهم آية خارقة تثبت نبوته. فسأل ربه، فأشار إلى القمر فانشق فلقتين، فلقة فوق الجبل وفلقة دونه، حتى رأوا جبل حراء بينهما. فقالوا: 'سحرنا محمد'. وقال بعضهم: 'اسألوا المسافرين القادمين، فإن كان السحر لا يؤثر عليهم'. فسألوهم، فأخبروهم أنهم رأوا نفس الشيء. فأنزل الله تعالى: (اقْتَرَبَتِ السَّاعَةُ وَانشَقَّ الْقَمَرُ * وَإِن يَرَوْا آيَةً يُعْرِضُوا وَيَقُولُوا سِحْرٌ مُّسْتَمِرٌّ).

**تفسير ابن كثير:**
هذا قد كان في زمان رسول الله صلى الله عليه وسلم، كما ورد ذلك في الأحاديث المتواترة بالأسانيد الصحيحة. روى البخاري عن أنس بن مالك أن أهل مكة سألوا رسول الله صلى الله عليه وسلم أن يريهم آية، فأراهم القمر شقتين، حتى رأوا حراء بينهما.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:55,surahName:"سورة الرحمن",stories:[{ayahRange:"1-78",shortSummary:"سورة مكية، تعرف بـ'عروس القرآن'، تتحدث عن آلاء الله ونعمه على الخلق في الدنيا والآخرة، وليس لها سبب نزول خاص.",detailedVersion:`**التفسير المفصل:**
لم يرد سبب نزول خاص لسورة الرحمن. هي سورة فريدة في أسلوبها، حيث تتكرر فيها آية (فَبِأَيِّ آلَاءِ رَبِّكُمَا تُكَذِّبَانِ) 31 مرة، في خطاب موجه للإنس والجن. السورة تستعرض نعم الله العظيمة بداية من تعليم القرآن وخلق الإنسان، إلى خلق الشمس والقمر والأرض وما فيها من فاكهة ونخل وحب. ثم تنتقل لوصف مشاهد يوم القيامة، وجزاء المجرمين، ونعيم المؤمنين في جنتين عظيمتين، ثم جنتين دونهما، مع وصف تفصيلي لما فيهما من النعيم.

**تفسير ابن كثير:**
يخبر تعالى عن فضله ورحمته بخلقه أن أنزل على عباده القرآن، ويسر حفظه وفهمه لمن رحمه. وفي الحديث أن النبي صلى الله عليه وسلم قرأها على الجن فكانوا أحسن ردًا من الإنس، كلما قرأ (فبأي آلاء ربكما تكذبان) قالوا: 'ولا بشيء من نعمك ربنا نكذب، فلك الحمد'.`,source:"عامة كتب التفسير، تفسير ابن كثير"}]},{surahId:56,surahName:"سورة الواقعة",stories:[{ayahRange:"1-96",shortSummary:"سورة مكية، تتناول أهوال يوم القيامة وأصناف الناس فيه: السابقون، وأصحاب اليمين، وأصحاب الشمال.",detailedVersion:`**التفسير المفصل:**
ليس للسورة سبب نزول محدد. موضوعها الرئيسي هو يوم القيامة (الواقعة). تصف السورة أحداثه العظيمة، وكيف أنه يقسم الناس إلى ثلاثة أصناف: السابقون المقربون، وأصحاب الميمنة (أهل الجنة)، وأصحاب المشأمة (أهل النار). ثم تفصل في وصف نعيم كل فريق من أهل الجنة، وعذاب أهل النار. وبعد ذلك، تقيم الحجج على إمكانية البعث من خلال لفت النظر إلى خلق الإنسان، وإنزال المطر، وإنبات الزرع، وإيقاد النار، كدليل على قدرة الله.

**تفسير ابن كثير:**
الواقعة من أسماء يوم القيامة، سميت بذلك لتحقق كونها ووقوعها. السورة تفصل أحوال الناس يوم القيامة، وتبدأ بوصف أهوال هذا اليوم. قال ابن عباس: كان عمر بن الخطاب لا يصلي صلاة إلا قرأ فيها بالواقعة ونحوها.`,source:"عامة كتب التفسير"}]},{surahId:57,surahName:"سورة الحديد",stories:[{ayahRange:"16",shortSummary:"نزلت الآية عتابًا للمؤمنين على شيء من الفتور والجفاء الذي أصاب قلوبهم بعد فترة من نزول القرآن.",detailedVersion:`**التفسير المفصل:**
روى عبد الله بن مسعود رضي الله عنه قال: 'ما كان بين إسلامنا وبين أن عاتبنا الله بهذه الآية (أَلَمْ يَأْنِ لِلَّذِينَ آمَنُوا أَن تَخْشَعَ قُلُوبُهُمْ لِذِكْرِ اللَّهِ) إلا أربع سنين'. فالآية نزلت تعاتب الصحابة وتحثهم على تجديد إيمانهم وزيادة خشوع قلوبهم عند سماع القرآن، وتحذرهم من أن يطول عليهم الأمد فتقسو قلوبهم كما قست قلوب أهل الكتاب من قبلهم.

**تفسير ابن كثير:**
يعاتب الله تعالى المؤمنين على عدم الخشوع عند سماع القرآن، وينهاهم أن يتشبهوا باليهود والنصارى في قسوة قلوبهم. وهذا يدل على أهمية المداومة على ذكر الله وتلاوة القرآن لتبقى القلوب لينة خاشعة.`,source:"لباب النقول للسيوطي، تفسير ابن كثير"}]},{surahId:58,surahName:"سورة المجادلة",stories:[{ayahRange:"1-4",shortSummary:"نزلت هذه الآيات في خولة بنت ثعلبة التي جاءت تشتكي زوجها أوس بن الصامت إلى النبي صلى الله عليه وسلم بعد أن ظاهر منها.",detailedVersion:`**التفسير المفصل:**
الظهار هو أن يقول الرجل لزوجته: 'أنتِ عليَّ كظهر أمي'، وكان طلاقًا في الجاهلية. ظاهر أوس بن الصامت من زوجته خولة، فجاءت إلى النبي صلى الله عليه وسلم تجادله وتشتكي إلى الله حالها وحال صغارها. قالت السيدة عائشة: 'تبارك الذي وسع سمعه كل شيء، إني لأسمع كلام خولة بنت ثعلبة ويخفى علي بعضه، وهي تشتكي زوجها إلى رسول الله'. فأنزل الله تعالى: (قَدْ سَمِعَ اللَّهُ قَوْلَ الَّتِي تُجَادِلُكَ فِي زَوْجِهَا وَتَشْتَكِي إِلَى اللَّهِ)، وشرع كفارة الظهار.

**تفسير ابن كثير:**
سبب نزول هذه الآيات قصة المرأة التي ظاهر منها زوجها. قال الإمام أحمد عن عائشة، قالت: الحمد لله الذي وسع سمعه الأصوات، لقد جاءت المجادلة إلى النبي صلى الله عليه وسلم تكلمه وأنا في ناحية البيت ما أسمع ما تقول، فأنزل الله عز وجل: (قد سمع الله قول التي تجادلك في زوجها).`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:59,surahName:"سورة الحشر",stories:[{ayahRange:"1-24",shortSummary:"نزلت السورة بأكملها في غزوة بني النضير، وهم قبيلة من اليهود نقضوا عهدهم مع النبي وحاولوا قتله، فأجلاهم عن المدينة.",detailedVersion:`**التفسير المفصل:**
كان بنو النضير قبيلة يهودية تسكن حول المدينة، وكان بينهم وبين المسلمين عهد. لكنهم نقضوا العهد وتآمروا على قتل النبي صلى الله عليه وسلم. فحاصرهم النبي والمسلمون، وقذف الله في قلوبهم الرعب، فطلبوا الصلح على أن يخرجوا من ديارهم ويأخذوا ما تحمله إبلهم من الأمتعة إلا السلاح. فكانوا يخربون بيوتهم بأيديهم ليأخذوا الأخشاب والأبواب. فأنزل الله السورة تحكي تفاصيل هذه الغزوة، وتبين حكم 'الفيء' (الغنائم التي تؤخذ دون قتال).

**تفسير ابن كثير:**
قال ابن عباس: كانت هذه السورة تسمى سورة بني النضير. روى البخاري عن سعيد بن جبير قال: قلت لابن عباس: سورة الحشر؟ قال: قل سورة النضير. وهذا يدل على أن السورة نزلت خصيصًا في هذه الواقعة.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:60,surahName:"سورة الممتحنة",stories:[{ayahRange:"1",shortSummary:"نزلت في الصحابي حاطب بن أبي بلتعة الذي أرسل رسالة سرية إلى قريش يخبرهم بتجهز النبي لفتح مكة.",detailedVersion:`**التفسير المفصل:**
عندما كان النبي صلى الله عليه وسلم يتجهز سرًا لفتح مكة، كتب الصحابي حاطب بن أبي بلتعة رسالة إلى قريش يحذرهم فيها، وأرسلها مع امرأة. فأخبر الوحي النبي بذلك، فأرسل عليًا والزبير والمقداد فأدركوا المرأة وأخذوا منها الكتاب. استدعى النبي حاطبًا وسأله، فاعتذر بأنه لم يفعل ذلك كفرًا أو ردة، بل أراد أن تكون له يد عند قريش يحمون بها أهله وماله هناك. فصدقه النبي وعفا عنه، ونزلت الآية: (يَا أَيُّهَا الَّذِينَ آمَنُوا لَا تَتَّخِذُوا عَدُوِّي وَعَدُوَّكُمْ أَوْلِيَاءَ).

**تفسير ابن كثير:**
ثبت في الصحيحين أن سبب نزول هذه الآية في قصة حاطب بن أبي بلتعة. وفيها درس عظيم في النهي عن موالاة الكفار، وفي نفس الوقت بيان لسعة عفو النبي وقبوله لأعذار الصادقين.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:61,surahName:"سورة الصف",stories:[{ayahRange:"2-3",shortSummary:"نزلت في بعض المؤمنين الذين كانوا يقولون 'سنفعل كذا وكذا' في الجهاد، ثم لا يفعلون، فعاتبهم الله على مخالفة القول للفعل.",detailedVersion:`**التفسير المفصل:**
اختلف في سبب نزولها. قيل إنها نزلت في قوم من المؤمنين قالوا: لو نعلم أي الأعمال أحب إلى الله لعملناها. فلما فرض الجهاد، كرهه بعضهم وتثاقلوا عنه. وقيل نزلت في قول بعضهم في غزوة أحد: 'سنقاتل حتى الموت'، فلما بدأت المعركة انكشف بعضهم. فأنزل الله تعالى: (يَا أَيُّهَا الَّذِينَ آمَنُوا لِمَ تَقُولُونَ مَا لَا تَفْعَلُونَ * كَبُرَ مَقْتًا عِندَ اللَّهِ أَن تَقُولُوا مَا لَا تَفْعَلُونَ)، وفيها توبيخ شديد لمن يخالف قوله فعله.

**تفسير ابن كثير:**
قال ابن عباس: كان أناس من المؤمنين قبل أن يفرض الجهاد يقولون: لوددنا أن الله عز وجل دلنا على أحب الأعمال إليه فنعمل به. فأخبر الله نبيه أن أحب الأعمال إيمان به وجهاد أهل معصيته. فلما نزل الجهاد، كره ذلك أناس من المؤمنين وشق عليهم. فأنزل الله هذه الآية.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:62,surahName:"سورة الجمعة",stories:[{ayahRange:"9-11",shortSummary:"نزلت الآيات في حادثة انفضاض بعض المسلمين عن خطبة الجمعة وتركهم النبي قائمًا، عندما جاءت قافلة تجارية إلى المدينة.",detailedVersion:`**التفسير المفصل:**
بينما كان النبي صلى الله عليه وسلم يخطب يوم الجمعة، قدمت قافلة تجارية (عير) لدحية الكلبي من الشام، وكان أهل المدينة في حالة غلاء وجوع، فضربوا بالدفوف إعلانًا بقدومها. فخرج كثير من المصلين من المسجد وهرعوا نحو القافلة، ولم يبق مع النبي إلا اثنا عشر رجلاً. فأنزل الله تعالى معاتبًا: (وَإِذَا رَأَوْا تِجَارَةً أَوْ لَهْوًا انفَضُّوا إِلَيْهَا وَتَرَكُوكَ قَائِمًا ۚ قُلْ مَا عِندَ اللَّهِ خَيْرٌ مِّنَ اللَّهْوِ وَمِنَ التِّجَارَةِ).

**تفسير ابن كثير:**
روى الإمام أحمد عن جابر بن عبد الله، قال: أقبلت عير ونحن نصلي مع رسول الله صلى الله عليه وسلم الجمعة، فانفض الناس إليها، فما بقي غير اثني عشر رجلاً، فنزلت هذه الآية.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:63,surahName:"سورة المنافقون",stories:[{ayahRange:"1-8",shortSummary:"نزلت السورة لتفضح زعيم المنافقين عبد الله بن أبي بن سلول بعد قوله في غزوة بني المصطلق: 'لئن رجعنا إلى المدينة ليخرجن الأعز منها الأذل'.",detailedVersion:`**التفسير المفصل:**
في غزوة بني المصطلق، حدثت مناوشة بين رجل من المهاجرين ورجل من الأنصار. فغضب عبد الله بن أبي بن سلول وقال لمن معه من قومه: 'أوقد فعلوها؟ والله لئن رجعنا إلى المدينة ليخرجن الأعز -يقصد نفسه- منها الأذل -يقصد النبي صلى الله عليه وسلم-'. فسمع ذلك الصحابي الشاب زيد بن أرقم وأخبر النبي. فأنكر ابن سلول قوله وحلف بالله ما قال. فأنزل الله سورة المنافقون كاملة، تصدق زيدًا وتكذب ابن سلول وتفضح ما في قلوب المنافقين.

**تفسير ابن كثير:**
روى البخاري عن زيد بن أرقم قال: كنت مع عمي فسمعت عبد الله بن أبي بن سلول يقول: لا تنفقوا على من عند رسول الله حتى ينفضوا. وقال: لئن رجعنا إلى المدينة ليخرجن الأعز منها الأذل. فذكرت ذلك لعمي فذكره للنبي صلى الله عليه وسلم، فدعاني فحدثته، فأنزل الله تصديقي.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:64,surahName:"سورة التغابن",stories:[{ayahRange:"14",shortSummary:"نزلت في قوم من أهل مكة أسلموا وأرادوا الهجرة، فمنعهم أزواجهم وأولادهم، فلما هاجروا لاحقًا وجدوا من سبقهم قد فقه في الدين، فهموا أن يعاقبوا أهليهم.",detailedVersion:`**التفسير المفصل:**
أسلم رجال بمكة وأرادوا أن يهاجروا إلى المدينة، فثبطهم ومنعهم زوجاتهم وأولادهم وقالوا: 'أتذهبون وتتركوننا؟'. فرقوا لهم وجلسوا. فلما هاجروا بعد فترة، وجدوا أن من سبقهم قد تعلموا الكثير من أمور الدين. فأرادوا أن يعاقبوا زوجاتهم وأولادهم الذين كانوا سبب تأخرهم، فأنزل الله تعالى: (يَا أَيُّهَا الَّذِينَ آمَنُوا إِنَّ مِنْ أَزْوَاجِكُمْ وَأَوْلَادِكُمْ عَدُوًّا لَّكُمْ فَاحْذَرُوهُمْ ۚ وَإِن تَعْفُوا وَتَصْفَحُوا وَتَغْفِرُوا فَإِنَّ اللَّهَ غَفُورٌ رَّحِيمٌ)، يحثهم على العفو والصفح.

**تفسير ابن كثير:**
قال ابن عباس: هؤلاء رجال أسلموا من أهل مكة، فأبى أزواجهم وأولادهم أن يدعوهم يأتوا المدينة. فلما أتوا المدينة ورأوا الناس قد فقهوا في الدين، هموا أن يعاقبوهم، فأنزل الله هذه الآية.`,source:"أسباب النزول للسيوطي، تفسير ابن كثير"}]},{surahId:65,surahName:"سورة الطلاق",stories:[{ayahRange:"1",shortSummary:"نزلت في عبد الله بن عمر رضي الله عنهما حين طلق امرأته وهي حائض، فأمره النبي أن يراجعها.",detailedVersion:`**التفسير المفصل:**
طلق عبد الله بن عمر زوجته وهي في فترة حيضها، فذكر عمر بن الخطاب ذلك للنبي صلى الله عليه وسلم، فتغيظ رسول الله وقال: 'مره فليراجعها، ثم ليمسكها حتى تطهر، ثم تحيض فتطهر، ثم إن شاء أمسك بعد وإن شاء طلق قبل أن يمس، فتلك العدة التي أمر الله أن تطلق لها النساء'. وقرأ النبي: (يَا أَيُّهَا النَّبِيُّ إِذَا طَلَّقْتُمُ النِّسَاءَ فَطَلِّقُوهُنَّ لِعِدَّتِهِنَّ).

**تفسير ابن كثير:**
ثبت في الصحيحين أن عبد الله بن عمر طلق امرأته وهي حائض، فسأل عمر عن ذلك، فأمره النبي صلى الله عليه وسلم بمراجعتها. وفي هذا بيان للطريقة الشرعية للطلاق، وهو أن يكون في طهر لم يجامعها فيه.`,source:"لباب النقول للسيوطي، تفسير ابن كثير"}]},{surahId:66,surahName:"سورة التحريم",stories:[{ayahRange:"1",shortSummary:"نزلت الآية عتابًا للنبي صلى الله عليه وسلم عندما حرم على نفسه شيئًا أحله الله له إرضاءً لبعض زوجاته.",detailedVersion:`**التفسير المفصل:**
الرواية الأشهر أن النبي صلى الله عليه وسلم كان يشرب عسلاً عند زوجته زينب بنت جحش، فتواطأت عائشة وحفصة أن تقولا له إذا دخل عليهما: 'إنا نجد منك ريح مغافير' (وهو صمغ كريه الرائحة). فظن النبي أن العسل هو السبب، فأقسم ألا يشربه مرة أخرى، إرضاءً لهما. فأنزل الله تعالى: (يَا أَيُّهَا النَّبِيُّ لِمَ تُحَرِّمُ مَا أَحَلَّ اللَّهُ لَكَ ۖ تَبْتَغِي مَرْضَاتَ أَزْوَاجِكَ ۚ وَاللَّهُ غَفُورٌ رَّحِيمٌ).

**تفسير ابن كثير:**
اختلف في سبب نزول صدر هذه السورة، فقيل في قصة مارية، وقيل في شرب العسل. والصحيح ما رواه البخاري عن عائشة أن النبي صلى الله عليه وسلم كان يمكث عند زينب بنت جحش فيشرب عندها عسلاً، فتواصيت أنا وحفصة أن أيّتنا دخل عليها النبي صلى الله عليه وسلم فلتقل: إني أجد منك ريح مغافير. ففعلت، فحرمه على نفسه، فنزلت الآية.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:67,surahName:"سورة الملك",stories:[{ayahRange:"1-30",shortSummary:"سورة مكية، تتحدث عن كمال ملك الله وقدرته، وهي المانعة من عذاب القبر، وليس لها سبب نزول خاص.",detailedVersion:`**التفسير المفصل:**
لم يرد سبب نزول خاص لسورة الملك. هي سورة عظيمة تبدأ بتمجيد الله الذي بيده الملك وهو على كل شيء قدير، والذي خلق الموت والحياة ليبتلي الناس أيهم أحسن عملاً. وتدعو السورة إلى التفكر في إتقان خلق السماء والكون كدليل على عظمة الخالق. وتحذر الكافرين من عذاب جهنم، وتذكرهم بنعم الله كجعل الأرض سهلة للمشي فيها والأكل من رزقها. وقد ورد في فضلها أحاديث كثيرة، منها أنها تشفع لصاحبها وتنجيه من عذاب القبر.

**تفسير ابن كثير:**
يذكر ابن كثير الأحاديث الواردة في فضل هذه السورة، منها حديث: 'إن سورة من القرآن ثلاثون آية شفعت لرجل حتى غفر له، وهي سورة تبارك الذي بيده الملك'. ويشرح الآيات التي تدل على قدرة الله وعظمته.`,source:"عامة كتب التفسير، تفسير ابن كثير"}]},{surahId:68,surahName:"سورة القلم",stories:[{ayahRange:"1-4",shortSummary:"نزلت في بداية البعثة ردًا على المشركين الذين اتهموا النبي صلى الله عليه وسلم بالجنون.",detailedVersion:`**التفسير المفصل:**
لما جهر النبي صلى الله عليه وسلم بالدعوة، قال كفار قريش عنه: 'إنه مجنون'. فأنزل الله تعالى هذه السورة التي تبدأ بالقسم بالقلم وما يسطره الكُتّاب، لتبرئة النبي من هذه التهمة. فقال تعالى: (ن ۚ وَالْقَلَمِ وَمَا يَسْطُرُونَ * مَا أَنتَ بِنِعْمَةِ رَبِّكَ بِمَجْنُونٍ). ثم أثنى الله على خلقه العظيم فقال: (وَإِنَّكَ لَعَلَىٰ خُلُقٍ عَظِيمٍ).

**تفسير ابن كثير:**
هذا قسم من الله تعالى بالقلم وما يسطر به من الكتابة، على براءة رسوله مما نسبه إليه المشركون من الجنون، ونفي لهذه التهمة الباطلة. وقوله (وإنك لعلى خلق عظيم) هو شهادة من الله لنبيه بكمال أخلاقه.`,source:"أسباب النزول للواحدي"}]},{surahId:69,surahName:"سورة الحاقة",stories:[{ayahRange:"1-52",shortSummary:"سورة مكية، تتناول أهوال يوم القيامة (الحاقة)، ومصير الأمم المكذبة، وتؤكد أن القرآن كلام الله وليس قول شاعر أو كاهن.",detailedVersion:`**التفسير المفصل:**
لم يرد سبب نزول معين للسورة. موضوعها الرئيسي هو القيامة، التي سميت هنا 'الحاقة' لأنها تحق فيها الأمور وتظهر الحقائق. تذكر السورة بإهلاك الأمم السابقة كثمود وعاد وفرعون وقوم لوط، ثم تصف مشاهد القيامة وانقسام الناس إلى من يأخذ كتابه بيمينه ومن يأخذ كتابه بشماله. وفي آخرها، تؤكد السورة بقوة على أن القرآن الكريم هو وحي من الله، وليس قول شاعر كما زعم المشركون، ولا قول كاهن، وتتوعد من يفتري على الله الكذب.

**تفسير ابن كثير:**
الحاقة من أسماء يوم القيامة، لأن فيها يتحقق الوعد والوعيد. يشرح ابن كثير كيف أهلك الله الأمم الطاغية، ثم يصف حال السعداء والأشقياء يوم القيامة، ويؤكد على صدق الرسالة المحمدية في ختام السورة.`,source:"عامة كتب التفسير"}]},{surahId:70,surahName:"سورة المعارج",stories:[{ayahRange:"1",shortSummary:"نزلت الآية ردًا على النضر بن الحارث الذي استعجل العذاب استهزاءً بدعوة النبي.",detailedVersion:`**التفسير المفصل:**
لما بلغ المشركين قول النبي صلى الله عليه وسلم في علي بن أبي طالب يوم غدير خم: 'من كنت مولاه فعلي مولاه'، قال النضر بن الحارث: 'اللهم إن كان هذا هو الحق من عندك فأمطر علينا حجارة من السماء أو ائتنا بعذاب أليم'. فما لبث أن سقط عليه حجر من السماء فقتله. فأنزل الله تعالى: (سَأَلَ سَائِلٌ بِعَذَابٍ وَاقِعٍ).

**تفسير ابن كثير:**
يذكر ابن كثير أن الآية تشير إلى من استعجل عذاب الله. ويقول إن العذاب سيقع حتمًا على الكافرين يوم القيامة، وليس له دافع يدفعه. السورة تصف هذا العذاب وأهواله، ثم تصف صفات المؤمنين الذين ينجون منه.`,source:"أسباب النزول للواحدي"}]},{surahId:71,surahName:"سورة نوح",stories:[{ayahRange:"1-28",shortSummary:"سورة مكية، تحكي قصة دعوة نوح عليه السلام لقومه وصبره الطويل عليهم وإصرارهم على الكفر، تسلية للنبي صلى الله عليه وسلم.",detailedVersion:`**التفسير المفصل:**
لم يرد للسورة سبب نزول خاص، بل نزلت لتحكي قصة أول رسول أُرسل إلى أهل الأرض بعد أن عبدوا الأصنام. تعرض السورة تفاصيل دعوة نوح لقومه ليلاً ونهارًا، سرًا وجهارًا، وكيف استخدم معهم كل أساليب الترغيب والترهيب. لكنهم أصروا على الكفر والعناد. وفي ذلك تسلية للنبي محمد صلى الله عليه وسلم على ما يلقاه من أذى قومه، وبيان أن سنة الله في إهلاك المكذبين وإنجاء المؤمنين واحدة.

**تفسير ابن كثير:**
هذه السورة الكريمة تتضمن قصة نوح عليه السلام من أولها إلى آخرها، وكيف صبر على قومه مدة ألف سنة إلا خمسين عامًا، وكيف أنذروهم من عذاب الله، وفي النهاية كيف أغرقهم الله بالطوفان ونجى نوحًا ومن معه من المؤمنين.`,source:"عامة كتب التفسير"}]},{surahId:72,surahName:"سورة الجن",stories:[{ayahRange:"1",shortSummary:"نزلت السورة لتخبر النبي صلى الله عليه وسلم عن استماع نفر من الجن للقرآن وإيمانهم به.",detailedVersion:`**التفسير المفصل:**
لم يكن النبي صلى الله عليه وسلم يعلم باستماع الجن للقرآن في المرة الأولى. فبينما كان يصلي بأصحابه الفجر في 'بطن نخلة'، استمع إليه نفر من الجن، فلما سمعوا القرآن، قالوا: هذا الذي حال بيننا وبين خبر السماء. فرجعوا إلى قومهم دعاة للإسلام. فأنزل الله تعالى هذه السورة: (قُلْ أُوحِيَ إِلَيَّ أَنَّهُ اسْتَمَعَ نَفَرٌ مِّنَ الْجِنِّ فَقَالُوا إِنَّا سَمِعْنَا قُرْآنًا عَجَبًا)، مخبرًا نبيه بما حدث.

**تفسير ابن كثير:**
روى البخاري ومسلم عن ابن عباس أن النبي صلى الله عليه وسلم انطلق في طائفة من أصحابه إلى سوق عكاظ، وقد حيل بين الشياطين وخبر السماء. فلما استمعوا للقرآن، عرفوا أن هذا هو سبب منعهم، فآمنوا ورجعوا إلى قومهم. فأنزل الله على نبيه خبرهم.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:73,surahName:"سورة المزمل",stories:[{ayahRange:"1-4",shortSummary:"نزلت في بداية البعثة، تأمر النبي صلى الله عليه وسلم بقيام الليل استعدادًا لتحمل أعباء الرسالة.",detailedVersion:`**التفسير المفصل:**
في بداية نزول الوحي، جاء النبي صلى الله عليه وسلم إلى بيته خائفًا يرتجف بعد لقائه الأول بجبريل في غار حراء، وقال لزوجته خديجة: 'زملوني، زملوني' (غطوني). فأنزل الله تعالى: (يَا أَيُّهَا الْمُزَّمِّلُ * قُمِ اللَّيْلَ إِلَّا قَلِيلًا)، يأمره بالقيام للصلاة في الليل، لأنها من أعظم وسائل التثبيت والقوة الروحية التي تعينه على تحمل القول الثقيل (القرآن والدعوة).

**تفسير ابن كثير:**
يأمر الله تعالى رسوله صلى الله عليه وسلم أن يترك التزمل وهو التغطي في الليل، وينهض إلى قيام الليل لمناجاة ربه، كما قال تعالى: (تتجافى جنوبهم عن المضاجع). وهكذا كان رسول الله صلى الله عليه وسلم ممتثلاً لما أمره الله به من قيام الليل.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:74,surahName:"سورة المدثر",stories:[{ayahRange:"1-3",shortSummary:"نزلت بعد فترة انقطاع الوحي (فترة الوحي)، لتأمر النبي بالقيام بالدعوة وإنذار الناس.",detailedVersion:`**التفسير المفصل:**
بعد نزول أول آيات من سورة العلق، انقطع الوحي عن النبي صلى الله عليه وسلم فترة، فحزن لذلك. ثم بينما هو يمشي، رأى جبريل عليه السلام مرة أخرى، فرجع إلى بيته خائفًا وقال: 'دثروني، دثروني' (غطوني). فأنزل الله تعالى: (يَا أَيُّهَا الْمُدَّثِّرُ * قُمْ فَأَنذِرْ * وَرَبَّكَ فَكَبِّرْ). وبهذه الآيات بدأت رسالته صلى الله عليه وسلم للناس كافة، حيث أُمر بالإنذار والدعوة إلى الله.

**تفسير ابن كثير:**
ثبت في الصحيحين عن جابر بن عبد الله أنه سمع رسول الله صلى الله عليه وسلم يحدث عن فترة الوحي، فقال في حديثه: 'فبينا أنا أمشي إذ سمعت صوتا من السماء... فإذا الملك الذي جاءني بحراء... فرجعت فقلت: دثروني'، فأنزل الله تعالى: (يا أيها المدثر * قم فأنذر).`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:75,surahName:"سورة القيامة",stories:[{ayahRange:"16-19",shortSummary:"نزلت الآيات لتعليم النبي صلى الله عليه وسلم كيفية تلقي الوحي، بعد أن كان يحرك شفتيه ولسانه بالقرآن استعجالاً لحفظه.",detailedVersion:`**التفسير المفصل:**
كان النبي صلى الله عليه وسلم إذا نزل عليه جبريل بالوحي، يعالج من تنزيله شدة، وكان يحرك شفتيه ولسانه بالقرآن بسرعة قبل أن ينتهي جبريل، خوفًا من أن ينساه. فأنزل الله تعالى هذه الآيات لتعليمه وتطمينه: (لَا تُحَرِّكْ بِهِ لِسَانَكَ لِتَعْجَلَ بِهِ * إِنَّ عَلَيْنَا جَمْعَهُ وَقُرْآنَهُ)، فوعده الله بأن يجمعه في صدره وييسر له قراءته. فكان بعد ذلك إذا أتاه جبريل، أطرق واستمع، فإذا ذهب قرأه كما وعده الله.

**تفسير ابن كثير:**
هذا تعليم من الله عز وجل لرسوله صلى الله عليه وسلم في كيفية تلقيه الوحي من الملك. روى البخاري عن ابن عباس في قوله: (لا تحرك به لسانك لتعجل به) قال: كان رسول الله صلى الله عليه وسلم يعالج من التنزيل شدة، فكان يحرك شفتيه، فقال لي ابن عباس: فأنا أحركهما لك كما كان رسول الله صلى الله عليه وسلم يحركهما. فأنزل الله هذه الآية.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:76,surahName:"سورة الإنسان",stories:[{ayahRange:"8",shortSummary:"نزلت الآية في مدح علي بن أبي طالب وفاطمة وفضة جاريتهما، حين آثروا بطعامهم مسكينًا ويتيمًا وأسيرًا لمدة ثلاثة أيام متتالية.",detailedVersion:`**التفسير المفصل:**
مرض الحسن والحسين، فنذر علي وفاطمة وفضة صيام ثلاثة أيام إن شفاهما الله. فلما شفاهما الله، صاموا. في اليوم الأول، عند الإفطار، جاءهم مسكين يسأل الطعام، فآثروه بطعامهم وباتوا جائعين. وفي اليوم الثاني، جاءهم يتيم، ففعلوا نفس الشيء. وفي اليوم الثالث، جاءهم أسير، ففعلوا نفس الشيء. فأنزل الله تعالى هذه الآيات تمجيدًا لفعلهم وإخلاصهم: (وَيُطْعِمُونَ الطَّعَامَ عَلَىٰ حُبِّهِ مِسْكِينًا وَيَتِيمًا وَأَسِيرًا).

**تفسير ابن كثير:**
يذكر ابن كثير أن هذه الآية تتحدث عن الأبرار وصفاتهم، ومنها إطعام الطعام مع حبه والحاجة إليه، للفئات الضعيفة في المجتمع. ويذكر أنهم يفعلون ذلك لوجه الله وحده، لا يطلبون جزاءً ولا شكورًا.`,source:"أسباب النزول للواحدي"}]},{surahId:77,surahName:"سورة المرسلات",stories:[{ayahRange:"1-50",shortSummary:"سورة مكية، تتناول إثبات البعث والجزاء، وتكرر آية (ويل يومئذ للمكذبين) عشر مرات لتهديد المنكرين.",detailedVersion:`**التفسير المفصل:**
لم يرد سبب نزول خاص للسورة. تبدأ بالقسم بالرياح والملائكة على وقوع يوم القيامة. ثم تستعرض أدلة القدرة الإلهية على البعث (خلق الإنسان من ماء مهين، جعل الأرض مستقرًا للأحياء والأموات، خلق الجبال الشامخة). وتصف أهوال يوم الفصل وعاقبة المكذبين. وتتكرر فيها آية (وَيْلٌ يَوْمَئِذٍ لِّلْمُكَذِّبِينَ) عشر مرات، لزيادة التهديد والوعيد لمن يكذب بهذا اليوم.

**تفسير ابن كثير:**
روى البخاري عن ابن مسعود قال: بينا نحن مع النبي صلى الله عليه وسلم في غار بمنى، إذ نزلت عليه (والمرسلات)، وإنه ليتلوها وإني لأتلقاها من فيه، وإن فاه لرطب بها، إذ وثبت علينا حية، فقال النبي: 'اقتلوها'. فابتدرناها فذهبت. فقال: 'وقيت شركم كما وقيتم شرها'.`,source:"عامة كتب التفسير، تفسير ابن كثير"}]},{surahId:78,surahName:"سورة النبأ",stories:[{ayahRange:"1-3",shortSummary:"نزلت الآيات ردًا على تساؤل المشركين فيما بينهم عن حقيقة البعث الذي أخبر به النبي صلى الله عليه وسلم.",detailedVersion:`**التفسير المفصل:**
لما بُعث النبي صلى الله عليه وسلم وأخبرهم عن التوحيد والبعث بعد الموت، جعل المشركون يتساءلون فيما بينهم عن هذا الخبر العظيم (النبأ العظيم)، فمنهم المصدق ومنهم المكذب والمستهزئ. فأنزل الله تعالى: (عَمَّ يَتَسَاءَلُونَ * عَنِ النَّبَإِ الْعَظِيمِ * الَّذِي هُمْ فِيهِ مُخْتَلِفُونَ)، ثم هددهم بقوله: (كَلَّا سَيَعْلَمُونَ).

**تفسير ابن كثير:**
يقول تعالى منكرًا على المشركين في تساؤلهم عن يوم القيامة إنكارًا لوقوعها. والنبأ العظيم هو خبر يوم القيامة. ثم ينتقل القرآن لعرض دلائل القدرة الإلهية في الكون لإثبات إمكانية البعث.`,source:"لباب النقول للسيوطي"}]},{surahId:79,surahName:"سورة النازعات",stories:[{ayahRange:"1-46",shortSummary:"سورة مكية، تؤكد حتمية وقوع القيامة، وتذكر قصة موسى مع فرعون كعبرة للمكذبين.",detailedVersion:`**التفسير المفصل:**
لم يرد سبب نزول خاص للسورة. تبدأ بالقسم بالملائكة التي تنزع أرواح الكفار بشدة، والتي تقبض أرواح المؤمنين برفق، على أن القيامة ستقع. وتصف أهوالها ورجفة القلوب يومئذ. ثم تسوق قصة موسى عليه السلام مع فرعون الطاغية، لتكون إنذارًا لمشركي مكة بأن عاقبة التكذيب هي الهلاك. ثم تعود للفت أنظارهم إلى عظمة خلق السماء والأرض كدليل على قدرة الله على البعث، وتختم ببيان أن علم الساعة عند الله وحده.

**تفسير ابن كثير:**
يقسم تعالى بالملائكة حين تنزع أرواح بني آدم. فالنازعات غرقًا هي الملائكة التي تنزع أرواح الكفار بعنف، والناشطات نشطًا هي التي تقبض أرواح المؤمنين بسهولة ويسر. وجواب القسم محذوف تقديره: لتبعثن.`,source:"عامة كتب التفسير"}]},{surahId:80,surahName:"سورة عبس",stories:[{ayahRange:"1-10",shortSummary:"نزلت هذه الآيات عتابًا لطيفًا للنبي صلى الله عليه وسلم عندما أعرض عن الصحابي الأعمى عبد الله بن أم مكتوم، لانشغاله بدعوة كبار قريش.",detailedVersion:`**التفسير المفصل:**
كان النبي صلى الله عليه وسلم منشغلًا بدعوة بعض وجهاء قريش وسادتها، طمعًا في إسلامهم. وفي هذه الأثناء، جاءه الصحابي الأعمى عبد الله بن أم مكتوم رضي الله عنه يسأله ويريد أن يتعلم من القرآن، وألح في سؤاله. فعبس النبي في وجهه وأعرض عنه. فأنزل الله تعالى هذه الآيات: (عَبَسَ وَتَوَلَّىٰ * أَن جَاءَهُ الْأَعْمَىٰ...)، معاتبًا نبيه وموجهًا إياه إلى أن الأعمى الفقير الحريص على الهداية خير وأولى بالاهتمام من الغني المستكبر. فكان النبي بعد ذلك يكرم ابن أم مكتوم ويقول له: 'أهلاً بمن عاتبني فيه ربي'.

**تفسير ابن كثير:**
ذكر غير واحد من المفسرين أن رسول الله صلى الله عليه وسلم كان يومًا يخاطب بعض عظماء قريش، وقد طمع في إسلامه، فبينما هو في ذلك أقبل ابن أم مكتوم، وكان ممن أسلم قديمًا، فجعل يسأل رسول الله صلى الله عليه وسلم عن شيء ويلح عليه، فكره رسول الله صلى الله عليه وسلم ذلك وعبس في وجهه، فأنزل الله هذه الآيات.`,source:"لباب النقول للسيوطي، تفسير ابن كثير"}]},{surahId:81,surahName:"سورة التكوير",stories:[{ayahRange:"1-29",shortSummary:"سورة مكية، تصف الأهوال العظيمة التي تحدث للكون يوم القيامة، وتؤكد صدق الوحي.",detailedVersion:`**التفسير المفصل:**
لم يرد سبب نزول خاص للسورة. هي من السور التي تصور مشاهد يوم القيامة بأسلوب مؤثر. تبدأ بوصف التغيرات الكونية الهائلة: تكوير الشمس، انكدار النجوم، تسيير الجبال، تعطيل الإبل، حشر الوحوش، تسجير البحار. ثم تنتقل إلى أحوال الناس، حيث تُسأل الموءودة بأي ذنب قتلت، وتُنشر الصحف، وتُكشف الحقائق. وقد قال النبي صلى الله عليه وسلم: 'من سره أن ينظر إلى يوم القيامة كأنه رأي عين فليقرأ (إذا الشمس كورت) و (إذا السماء انفطرت) و (إذا السماء انشقت)'.

**تفسير ابن كثير:**
روى الإمام أحمد عن ابن عمر قال: قال رسول الله صلى الله عليه وسلم: 'من سره أن ينظر إلى يوم القيامة...' الحديث. و(كورت) أي جمع بعضها إلى بعض ثم لفت فرمي بها، وإذا فعل بها ذلك ذهب ضوؤها.`,source:"عامة كتب التفسير، تفسير ابن كثير"}]},{surahId:82,surahName:"سورة الإنفطار",stories:[{ayahRange:"1-19",shortSummary:"سورة مكية، تصف أهوال القيامة وتخاطب الإنسان الغافل الذي غره كرم ربه.",detailedVersion:`**التفسير المفصل:**
كسابقتها، لم يرد سبب نزول خاص للسورة. هي جزء من مجموعة السور التي تصف القيامة بأسلوب يهز القلوب. تبدأ بوصف انفطار السماء وانتثار الكواكب وتفجير البحار وبعثرة القبور. ثم توجه خطابًا مباشرًا للإنسان: (يَا أَيُّهَا الْإِنسَانُ مَا غَرَّكَ بِرَبِّكَ الْكَرِيمِ)، توبيخًا له على غفلته وتقصيره في حق من خلقه وسواه وعدله. وتؤكد السورة على وجود ملائكة كرام كاتبين يسجلون كل الأعمال، وأن مصير الناس إما إلى نعيم أو إلى جحيم.

**تفسير ابن كثير:**
يقول تعالى: (إذا السماء انفطرت) أي انشقت، (وإذا الكواكب انتثرت) أي تساقطت، (وإذا البحار فجرت) أي فتح بعضها في بعض فصارت بحرًا واحدًا. وقوله (يا أيها الإنسان ما غرك بربك الكريم) هذا تهديد، لا كما يتوهمه بعض الناس من أنه تلقين للحجة، بل المعنى: ما الذي غرك في مقابلة ربك الكريم بالمعاصي والتقصير؟`,source:"عامة كتب التفسير"}]},{surahId:83,surahName:"سورة المطففين",stories:[{ayahRange:"1-3",shortSummary:"نزلت في أهل المدينة عند قدوم النبي صلى الله عليه وسلم، حيث كانوا من أخبث الناس كيلاً، فنزلت السورة لتهديد من يطفف في الميزان.",detailedVersion:`**التفسير المفصل:**
قال ابن عباس: لما قدم النبي صلى الله عليه وسلم المدينة، كانوا من أخبث الناس كيلاً، فأنزل الله تعالى: (وَيْلٌ لِّلْمُطَفِّفِينَ). فصاروا بعد ذلك من أوفى الناس كيلاً. والتطفيف هو البخس في المكيال والميزان، بأن يأخذ حقه وافيًا عند الشراء، وينقص حق غيره عند البيع. فتوعدهم الله بالويل، وهو واد في جهنم أو الهلاك الشديد، وذكرهم بالوقوف بين يدي الله يوم القيامة.

**تفسير ابن كثير:**
المراد بالتطفيف هنا البخس في المكيال والميزان، إما بالازدياد إن اقتضى من الناس، وإما بالنقصان إن قضاهم. ولهذا بين تعالى أن المطففين هم الذين إذا اكتالوا على الناس يستوفون، أي يأخذون حقهم بالوافي والزائد، وإذا كالوهم أو وزنوهم يخسرون، أي ينقصون.`,source:"أسباب النزول للسيوطي، تفسير ابن كثير"}]},{surahId:84,surahName:"سورة الإنشقاق",stories:[{ayahRange:"1-25",shortSummary:"سورة مكية، تصف انشقاق السماء يوم القيامة، وانقسام الناس إلى فريقين حسب كتاب أعمالهم.",detailedVersion:`**التفسير المفصل:**
ليس للسورة سبب نزول محدد، وهي تواصل الحديث عن أهوال يوم القيامة. تبدأ بوصف انشقاق السماء ومد الأرض، وإلقائها ما في بطنها من الأموات والكنوز. ثم تبين حال الإنسان ومصيره المحتوم لملاقاة ربه، وكيف ينقسم الناس إلى فريقين: من يؤتى كتابه بيمينه فيحاسب حسابًا يسيرًا ويعود لأهله مسرورًا، ومن يؤتى كتابه وراء ظهره فيدعو بالهلاك ويصلى سعيرًا.

**تفسير ابن كثير:**
يقول تعالى (إذا السماء انشقت) أي يوم القيامة، (وأذنت لربها وحقت) أي استمعت لأمر ربها وأطاعت، وحق لها أن تطيع أمره. وقوله (يا أيها الإنسان إنك كادح إلى ربك كدحا فملاقيه) أي ساع إلى ربك سعيا وعامل عملا، ثم ستلاقي ما عملت من خير أو شر.`,source:"عامة كتب التفسير"}]},{surahId:85,surahName:"سورة البروج",stories:[{ayahRange:"1-10",shortSummary:"نزلت السورة تحكي قصة أصحاب الأخدود، وهم قوم مؤمنون أحرقهم ملك كافر في خنادق من النار لثباتهم على دينهم، تسلية للمسلمين في مكة.",detailedVersion:`**التفسير المفصل:**
كان المسلمون في مكة يعانون من اضطهاد شديد من قريش. فأنزل الله هذه السورة تسلية لهم وتثبيتًا، حيث قص عليهم قصة أصحاب الأخدود. وهم قوم آمنوا بالله في زمن ملك كافر، فأمر الملك بحفر خنادق (أخاديد) وإضرام النار فيها، ثم ألقى فيها كل من رفض الرجوع عن دينه. فصبروا وثبتوا حتى الموت. وفي هذا بيان أن الابتلاء سنة في طريق الإيمان، وتهديد للكفار بأن عذاب الله أشد.

**تفسير ابن كثير:**
(قتل أصحاب الأخدود) أي لعن أصحاب الأخدود. ويذكر الحديث الطويل في قصة الغلام المؤمن والملك الساحر، وكيف آمن الناس بسبب كرامات الغلام، فأمر الملك بحفر الأخدود وإحراق من آمن.`,source:"لباب النقول للسيوطي، تفسير ابن كثير"}]},{surahId:86,surahName:"سورة الطارق",stories:[{ayahRange:"1-17",shortSummary:"سورة مكية، تؤكد أن كل نفس عليها حافظ من الملائكة، وتقيم الدليل على البعث من خلال خلق الإنسان.",detailedVersion:`**التفسير المفصل:**
لم يرد سبب نزول خاص للسورة. تبدأ بالقسم بالسماء وبالنجم الثاقب (الطارق) على أن كل نفس عليها حافظ يسجل أعمالها. ثم تلفت نظر الإنسان إلى أصل خلقته (من ماء دافق يخرج من بين الصلب والترائب) كدليل على أن الذي خلقه أول مرة قادر على إعادته يوم القيامة، يوم تُكشف السرائر. وتختم السورة بالتأكيد على أن القرآن قول فصل وليس بالهزل، وتأمر النبي بإمهال الكافرين لوقت قصير حتى يأتيهم عذاب الله.

**تفسير ابن كثير:**
يقسم تعالى بالسماء وما جعل فيها من الكواكب النيرة، ولهذا قال (والسماء والطارق). ثم فسره بقوله (النجم الثاقب). وقوله (إن كل نفس لما عليها حافظ) أي كل إنسان موكل به من يحفظه ويحرسه من الآفات ويكتب عمله.`,source:"عامة كتب التفسير"}]},{surahId:87,surahName:"سورة الأعلى",stories:[{ayahRange:"1-19",shortSummary:"سورة مكية، كان النبي يحبها ويقرأ بها في الجمعة والعيدين والوتر، وليس لها سبب نزول معين.",detailedVersion:`**التفسير المفصل:**
لم يرد سبب نزول خاص للسورة. هي سورة يحبها النبي صلى الله عليه وسلم ويحث على قراءتها. تبدأ بأمر بتسبيح الله الأعلى، ثم تذكر بعض صفاته وأفعاله: الخلق والتسوية، والتقدير والهداية، وإنبات المرعى. ثم تطمئن النبي بأن الله سيقرئه القرآن فلا ينسى إلا ما شاء الله. وتختم السورة ببيان أن الفلاح لمن تزكى وذكر اسم ربه فصلى، وأن هذا المبدأ موجود في الصحف الأولى، صحف إبراهيم وموسى.

**تفسير ابن كثير:**
ثبت في الصحيحين أن رسول الله صلى الله عليه وسلم كان يقرأ في صلاة العيدين والجمعة بسورة الأعلى والغاشية. وهي تبدأ بتنزيه الله عن النقائص، وتثبت له صفات الكمال.`,source:"عامة كتب التفسير، تفسير ابن كثير"}]},{surahId:88,surahName:"سورة الغاشية",stories:[{ayahRange:"1-26",shortSummary:"سورة مكية، تصف أهوال يوم القيامة (الغاشية) وأحوال أهل النار وأهل الجنة.",detailedVersion:`**التفسير المفصل:**
لا يوجد سبب نزول خاص بالسورة. هي تتحدث عن القيامة التي تغشى الناس بأهوالها. تصف حال أهل النار ووجوههم الخاشعة الذليلة، وعذابهم من طعام الضريع والماء الحميم. ثم تنتقل لوصف حال أهل الجنة ووجوههم الناعمة الراضية، ونعيمهم في الجنة العالية التي لا يُسمع فيها لغو. ثم توجه الخطاب إلى النبي ليلفت نظر الناس إلى دلائل القدرة في خلق الإبل والسماء والجبال والأرض، وتؤكد أن مهمة النبي هي التذكير فقط، وأن حساب الناس على الله.

**تفسير ابن كثير:**
الغاشية من أسماء يوم القيامة. قال ابن عباس: تغشى الناس. السورة تصف هذا اليوم بالتفصيل، وقد كان النبي يقرأ بها مع سورة الأعلى في صلاة العيدين والجمعة.`,source:"عامة كتب التفسير"}]},{surahId:89,surahName:"سورة الفجر",stories:[{ayahRange:"1-30",shortSummary:"سورة مكية، تقسم بأوقات مباركة على أن الله يراقب أعمال العباد، وتذكر بمصير الأمم الطاغية.",detailedVersion:`**التفسير المفصل:**
لم يرد سبب نزول خاص للسورة. تبدأ بالقسم بأوقات عظيمة كالفجر والليالي العشر (قيل هي العشر من ذي الحجة) على أن الله لبالمرصاد، أي يراقب أعمال العباد ويجازيهم عليها. ثم تذكر بقصص أمم قوية أهلكها الله بسبب طغيانها كعاد وثمود وقوم فرعون. ثم تذم طبيعة الإنسان في حبه الشديد للمال وعدم إكرامه لليتيم. وتختم بوصف أهوال يوم القيامة، وندم الإنسان على تفريطه، ثم تبشر النفس المطمئنة بالعودة إلى ربها راضية مرضية ودخولها في جنته.

**تفسير ابن كثير:**
يذكر ابن كثير الأقوال في تفسير المقسم به، ويرجح أن الليالي العشر هي عشر ذي الحجة. وقوله (إن ربك لبالمرصاد) أي يراقب خلقه فيما يعملون ويجازي كلا بسعيه في الدنيا والآخرة.`,source:"عامة كتب التفسير"}]},{surahId:90,surahName:"سورة البلد",stories:[{ayahRange:"1-20",shortSummary:"سورة مكية، تقسم بمكة على أن الإنسان خلق في تعب ومشقة، وتحثه على اقتحام العقبات الصعبة بفعل الخير.",detailedVersion:`**التفسير المفصل:**
لا يوجد سبب نزول خاص للسورة. تبدأ بقسم بمكة المكرمة (هذا البلد) على حقيقة أن حياة الإنسان مليئة بالكبد والمشقة منذ ولادته حتى موته. ثم توبخ الإنسان الذي يغتر بقوته وماله. ثم تبين له طريق الخير (اقتحام العقبة)، وتفسر هذه العقبة بأنها فك رقبة (تحرير عبد) أو إطعام في يوم مجاعة ليتيم أو مسكين. وتصف من يفعل ذلك بأنهم أصحاب الميمنة، ومن يكفر بآيات الله بأنهم أصحاب المشأمة.

**تفسير ابن كثير:**
(لا أقسم بهذا البلد) يعني مكة. (وأنت حل بهذا البلد) أي وأنت يا محمد مقيم به. (لقد خلقنا الإنسان في كبد) أي في مشقة ونصب. ثم تحثه الآيات على إنفاق ماله في طاعة الله.`,source:"عامة كتب التفسير"}]},{surahId:91,surahName:"سورة الشمس",stories:[{ayahRange:"1-15",shortSummary:"سورة مكية، تقسم بآيات كونية عظيمة على أن فلاح الإنسان في تزكية نفسه وخيبته في تدنيسها، وتذكر قصة ثمود كنموذج.",detailedVersion:`**التفسير المفصل:**
لم يرد سبب نزول خاص للسورة. تبدأ السورة بأطول قسم في القرآن، حيث يقسم الله بسبعة أشياء من مخلوقاته العظيمة (الشمس، القمر، النهار، الليل، السماء، الأرض، النفس البشرية) على قضية واحدة محورية، وهي: (قَدْ أَفْلَحَ مَن زَكَّاهَا * وَقَدْ خَابَ مَن دَسَّاهَا). أي أن الفلاح والنجاح لمن يطهر نفسه بالطاعة، والخسارة والخيبة لمن يدنسها بالمعصية. ثم تضرب السورة مثلاً على ذلك بقوم ثمود الذين طغوا وكذبوا نبيهم صالحًا وعقروا الناقة، فكانت عاقبتهم الهلاك الشامل.

**تفسير ابن كثير:**
هذا قسم من الله تعالى بمخلوقاته الدالة على قدرته العظيمة، على أن من زكى نفسه بطاعة الله فقد أفلح، ومن دساها في المعاصي فقد خاب وخسر.`,source:"عامة كتب التفسير"}]},{surahId:92,surahName:"سورة الليل",stories:[{ayahRange:"1-21",shortSummary:"نزلت الآيات الأولى في أبي بكر الصديق الذي كان يشتري العبيد الضعفاء ويعتقهم، وفي أمية بن خلف الذي كان بخيلاً.",detailedVersion:`**التفسير المفصل:**
نزلت الآيات الأولى من السورة للثناء على من ينفق ماله في سبيل الله ابتغاء وجهه، وذم من يبخل به. قال المفسرون إن قوله تعالى: (فَأَمَّا مَنْ أَعْطَىٰ وَاتَّقَىٰ) إلى قوله (فَسَنُيَسِّرُهُ لِلْيُسْرَىٰ) نزلت في أبي بكر الصديق الذي أنفق ماله في شراء العبيد المؤمنين كبلال بن رباح وأعتقهم. أما قوله تعالى: (وَأَمَّا مَن بَخِلَ وَاسْتَغْنَىٰ) إلى قوله (فَسَنُيَسِّرُهُ لِلْعُسْرَىٰ) فنزلت في أمية بن خلف وغيره من بخلاء المشركين.

**تفسير ابن كثير:**
يقسم تعالى بالليل والنهار وخلقه للذكر والأنثى، على أن سعي الناس مختلف. فمنهم من يسعى في الخير ومنهم من يسعى في الشر. ثم يفصل جزاء كل فريق. وذكر كثير من المفسرين أن الآيات المتعلقة بالإنفاق نزلت في أبي بكر وأمية بن خلف.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:93,surahName:"سورة الضحى",stories:[{ayahRange:"1-3",shortSummary:"نزلت السورة بعد فترة من انقطاع الوحي عن النبي، وبعد أن قالت قريش إن ربه قد تركه وكرهه.",detailedVersion:`**التفسير المفصل:**
احتبس الوحي (جبريل) عن النزول على النبي صلى الله عليه وسلم فترة، فشق ذلك عليه وحزن. فقال المشركون، وقيل امرأة أبي لهب: 'ما أرى صاحبك إلا قد قلاك' (أي أبغضك وتركك). فأنزل الله تعالى سورة الضحى كاملة، يقسم فيها بالضحى والليل على أنه ما تركه وما أبغضه: (مَا وَدَّعَكَ رَبُّكَ وَمَا قَلَىٰ). ثم بشره بأن الآخرة خير له من الدنيا، وأنه سيعطيه حتى يرضى، وذكره بنعمه عليه في يتمه وضلاله وفقره.

**تفسير ابن كثير:**
روى البخاري ومسلم عن جندب بن سفيان قال: اشتكى رسول الله صلى الله عليه وسلم فلم يقم ليلتين أو ثلاثًا، فجاءت امرأة فقالت: يا محمد، إني لأرجو أن يكون شيطانك قد تركك. فأنزل الله عز وجل: (والضحى * والليل إذا سجى * ما ودعك ربك وما قلى).`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:94,surahName:"سورة الشرح",stories:[{ayahRange:"1-8",shortSummary:"سورة مكية، نزلت لتسلية النبي صلى الله عليه وسلم وتذكيره بنعم الله عليه، وتأكيد أن مع العسر يسرًا.",detailedVersion:`**التفسير المفصل:**
لم يرد سبب نزول خاص بالسورة، ويعتقد كثير من المفسرين أنها نزلت بعد سورة الضحى مباشرة استكمالاً لتسلية النبي صلى الله عليه وسلم وتطييب خاطره. السورة تعدد نعم الله على نبيه: شرح الصدر، ووضع الوزر (تخفيف أعباء الرسالة)، ورفع الذكر (حيث يذكر اسمه مع اسم الله في الشهادتين والأذان). ثم تبشره بقاعدة عظيمة وهي أن كل عسر يتبعه يسر، وتكررها للتأكيد. وتختم بتوجيهه إلى الاجتهاد في العبادة بعد الفراغ من أمور الدعوة، وإلى الرغبة فيما عند الله وحده.

**تفسير ابن كثير:**
يقول تعالى: (ألم نشرح لك صدرك) أي أما شرحنا لك صدرك، يعني نورناه وجعلناه فسيحًا رحيبًا واسعًا. (ووضعنا عنك وزرك) أي غفرنا لك ما تقدم من ذنبك وما تأخر. (ورفعنا لك ذكرك) قال مجاهد: لا أُذكر إلا ذُكرت معي: أشهد أن لا إله إلا الله، وأشهد أن محمدًا رسول الله.`,source:"عامة كتب التفسير"}]},{surahId:95,surahName:"سورة التين",stories:[{ayahRange:"1-8",shortSummary:"سورة مكية، تقسم بأماكن مقدسة على أن الله خلق الإنسان في أحسن صورة، ثم يرد إلى أسفل سافلين إلا المؤمنين.",detailedVersion:`**التفسير المفصل:**
لا يوجد سبب نزول خاص للسورة. تبدأ بالقسم بالتين والزيتون (قيل هما الثمرتان، وقيل إشارة إلى أرض الشام حيث بعث عيسى)، وبطور سينين (الجبل الذي كلم الله عليه موسى)، وبهذا البلد الأمين (مكة المكرمة حيث بعث محمد). وجواب القسم هو: (لَقَدْ خَلَقْنَا الْإِنسَانَ فِي أَحْسَنِ تَقْوِيمٍ)، أي في أجمل صورة وشكل. ثم يرد إلى أرذل العمر أو إلى النار إن لم يؤمن، ويستثني من ذلك الذين آمنوا وعملوا الصالحات فلهم أجر غير مقطوع. وتختم بسؤال تقريري: (أَلَيْسَ اللَّهُ بِأَحْكَمِ الْحَاكِمِينَ؟).

**تفسير ابن كثير:**
قال بعض الأئمة: هذه محال ثلاثة، بعث الله في كل واحد منها نبيًا مرسلاً من أولي العزم أصحاب الشرائع الكبار. فالأول: محلة التين والزيتون، وهي بيت المقدس التي بعث الله فيها عيسى ابن مريم. والثاني: طور سينين، وهو طور سيناء الذي كلم الله عليه موسى. والثالث: مكة، وهو البلد الأمين الذي من دخله كان آمنًا، وهو الذي أرسل فيه محمدًا صلى الله عليه وسلم.`,source:"عامة كتب التفسير، تفسير ابن كثير"}]},{surahId:96,surahName:"سورة العلق",stories:[{ayahRange:"1-5",shortSummary:"هذه الآيات هي أول ما نزل من القرآن الكريم على الإطلاق، نزلت على النبي وهو يتعبد في غار حراء.",detailedVersion:`**التفسير المفصل:**
كان النبي صلى الله عليه وسلم يخلو بنفسه في غار حراء يتعبد ويتفكر. فجاءه الملك جبريل عليه السلام وقال له: 'اقرأ'. قال النبي: 'ما أنا بقارئ'. فأخذه جبريل فضمه ضمة شديدة ثم أرسله وقال: 'اقرأ'. قال: 'ما أنا بقارئ'. فضمه الثانية ثم الثالثة ثم قال: (اقْرَأْ بِاسْمِ رَبِّكَ الَّذِي خَلَقَ * خَلَقَ الْإِنسَانَ مِنْ عَلَقٍ * اقْرَأْ وَرَبُّكَ الْأَكْرَمُ * الَّذِي عَلَّمَ بِالْقَلَمِ * عَلَّمَ الْإِنسَانَ مَا لَمْ يَعْلَمْ). فرجع بها النبي إلى زوجته خديجة يرتجف فؤاده، فكانت هذه بداية نبوته ورسالته.

**تفسير ابن كثير:**
أول شيء نزل من القرآن هذه الآيات الكريمات المباركات، وهن أول رحمة رحم الله بها العباد، وأول نعمة أنعم الله بها عليهم. وفيها التنبيه على ابتداء خلق الإنسان من علقة، وأن من كرمه تعالى أن علم الإنسان ما لم يكن يعلم.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:97,surahName:"سورة القدر",stories:[{ayahRange:"1-5",shortSummary:"نزلت السورة لبيان فضل ليلة القدر، وأنها خير من ألف شهر، وأن القرآن نزل فيها.",detailedVersion:`**التفسير المفصل:**
اختلف في سبب نزولها. قيل إن النبي صلى الله عليه وسلم ذكر رجلاً من بني إسرائيل لبس السلاح في سبيل الله ألف شهر، فتعجب المسلمون من ذلك، فأنزل الله: (إِنَّا أَنزَلْنَاهُ فِي لَيْلَةِ الْقَدْرِ * وَمَا أَدْرَاكَ مَا لَيْلَةُ الْقَدْرِ * لَيْلَةُ الْقَدْرِ خَيْرٌ مِّنْ أَلْفِ شَهْرٍ)، أي أن العمل في هذه الليلة الواحدة أفضل من عبادة ألف شهر ليس فيها ليلة القدر. وقيل نزلت ابتداءً لبيان عظمة هذه الليلة التي بدأ فيها نزول القرآن.

**تفسير ابن كثير:**
يخبر تعالى أنه أنزل القرآن ليلة القدر، وهي ليلة مباركة. وفضلها عظيم، فالعبادة فيها خير من عبادة ألف شهر. وتتنزل الملائكة فيها بكثرة، وهي سلام حتى مطلع الفجر.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:98,surahName:"سورة البينة",stories:[{ayahRange:"1-8",shortSummary:"سورة مدنية، تتحدث عن موقف أهل الكتاب والمشركين من بعثة النبي، وبيان جزاء كل فريق.",detailedVersion:`**التفسير المفصل:**
لم يرد سبب نزول خاص بالسورة. هي تتحدث عن حال أهل الكتاب (اليهود والنصارى) والمشركين قبل بعثة النبي، وأنهم كانوا ينتظرون نبيًا، لكن لما جاءهم محمد صلى الله عليه وسلم بالبينة الواضحة (القرآن)، تفرقوا واختلفوا، فمنهم من آمن ومنهم من كفر. ثم تبين السورة أن جوهر دعوة جميع الأنبياء هو إخلاص العبادة لله وإقامة الصلاة وإيتاء الزكاة. وتختم ببيان مصير الفريقين: الكفار في نار جهنم وهم شر الخليقة، والمؤمنون في جنات عدن وهم خير الخليقة.

**تفسير ابن كثير:**
يخبر تعالى عن الكفار من أهل الكتاب والمشركين أنهم كانوا على ضلالهم حتى جاءهم الرسول محمد صلى الله عليه وسلم يتلو صحفًا مطهرة، وهي القرآن العظيم. ثم يبين جزاء كل فريق في الآخرة.`,source:"عامة كتب التفسير"}]},{surahId:99,surahName:"سورة الزلزلة",stories:[{ayahRange:"1-8",shortSummary:"سورة مدنية، تصف زلزال يوم القيامة العظيم، وتؤكد أن كل إنسان سيرى عمله مهما كان صغيرًا.",detailedVersion:`**التفسير المفصل:**
لا يوجد سبب نزول خاص بالسورة. هي تصف أحد أهوال يوم القيامة الكبرى، وهو زلزال الأرض العنيف الذي تخرج به ما في بطنها من أموات وكنوز. ويتساءل الإنسان في ذهول: ما لها؟ في ذلك اليوم، تخبر الأرض بكل ما عُمل عليها من خير وشر. ثم يصدر الناس من قبورهم ليروا أعمالهم. وتختم السورة بقاعدة الجزاء الدقيقة: (فَمَن يَعْمَلْ مِثْقَالَ ذَرَّةٍ خَيْرًا يَرَهُ * وَمَن يَعْمَلْ مِثْقَالَ ذَرَّةٍ شَرًّا يَرَهُ). قيل إنها نزلت لأن الصحابة كانوا يتساهلون في القليل من الخير أو الشر، فنزلت لتبين أن كل شيء مسجل.

**تفسير ابن كثير:**
روى الإمام أحمد أن هذه السورة تعدل نصف القرآن. وقوله (فمن يعمل مثقال ذرة خيرا يره ومن يعمل مثقال ذرة شرا يره) قال ابن عباس: ليس من مؤمن ولا كافر عمل خيرًا أو شرًا في الدنيا إلا يراه يوم القيامة.`,source:"عامة كتب التفسير، تفسير ابن كثير"}]},{surahId:100,surahName:"سورة العاديات",stories:[{ayahRange:"1-11",shortSummary:"سورة مكية، تقسم بالخيل المجاهدة على أن الإنسان كنود (جاحد) لربه، وحريص على المال، وتذكره بالبعث والحساب.",detailedVersion:`**التفسير المفصل:**
لا يوجد سبب نزول خاص. السورة تبدأ بقسم مثير بصوت أنفاس الخيل وحوافرها وهي تعدو في ساحة المعركة، إشارة إلى شرف الجهاد. وجواب القسم هو: (إِنَّ الْإِنسَانَ لِرَبِّهِ لَكَنُودٌ)، أي لجحود لنعم ربه. والدليل على ذلك حبه الشديد للمال (الخير). ثم تذكره السورة باليوم الذي تُبعثر فيه القبور وتُكشف فيه أسرار الصدور، ليجازي الله كل نفس بما كسبت.

**تفسير ابن كثير:**
يقسم تعالى بالخيل إذا أجريت في سبيله فعدت وضبحت، وهو الصوت الذي يسمع من الفرس حين تعدو. (إن الإنسان لربه لكنود) قال ابن عباس: أي لكفور. (وإنه لحب الخير لشديد) أي وإنه لحب المال لشديد.`,source:"عامة كتب التفسير"}]},{surahId:101,surahName:"سورة القارعة",stories:[{ayahRange:"1-11",shortSummary:"سورة مكية، تصف أهوال يوم القيامة (القارعة) وكيف توزن أعمال الناس.",detailedVersion:`**التفسير المفصل:**
لا يوجد سبب نزول خاص. القارعة اسم من أسماء يوم القيامة، لأنها تقرع القلوب بأهوالها. تبدأ السورة بسؤال للتهويل والتعظيم. ثم تصف حال الناس في ذلك اليوم بأنهم كالفراش المنتشر، وحال الجبال بأنها كالصوف المتطاير. ثم تبين أساس النجاة أو الهلاك، وهو ميزان الأعمال. فمن ثقلت موازينه بالحسنات فهو في عيشة راضية في الجنة، ومن خفت موازينه فطريقه إلى الهاوية (النار).

**تفسير ابن كثير:**
القارعة من أسماء يوم القيامة، كالحاقة والطامة والصاخة والغاشية وغير ذلك. ثم فسر ذلك بقوله (يوم يكون الناس كالفراش المبثوث) أي في انتشارهم وتفرقهم وذهابهم ومجيئهم من حيرتهم مما هم فيه كأنهم فراش منتشر.`,source:"عامة كتب التفسير"}]},{surahId:102,surahName:"سورة التكاثر",stories:[{ayahRange:"1-8",shortSummary:"نزلت في قبيلتين من الأنصار تفاخرتا بالكثرة في العدد والمال، حتى ذهبوا إلى المقابر ليعدوا موتاهم.",detailedVersion:`**التفسير المفصل:**
نزلت السورة في قبيلتي بني حارثة وبني الحارث من الأنصار، تفاخرتا وتكاثرتا، فقالت إحداهما: فيكم مثل فلان وفلان؟ وقالت الأخرى مثل ذلك. تفاخروا بالأحياء، ثم قالوا: انطلقوا بنا إلى القبور. فجعلت إحدى الطائفتين تقول: فيكم مثل فلان؟ تشير إلى القبر، وفعلت الأخرى مثل ذلك. فأنزل الله تعالى: (أَلْهَاكُمُ التَّكَاثُرُ * حَتَّىٰ زُرْتُمُ الْمَقَابِرَ)، تذمهم على انشغالهم بالدنيا والتفاخر بها حتى أتاهم الموت.

**تفسير ابن كثير:**
يقول تعالى: شغلكم حب الدنيا ونعيمها وزهرتها عن طلب الآخرة وابتغائها، وتمادى بكم ذلك حتى جاءكم الموت وزرتم المقابر، وصرتم من أهلها. ثم يهددهم بأنهم سيعلمون عاقبة فعلهم، وأنهم سيسألون يوم القيامة عن كل نعيم تمتعوا به.`,source:"أسباب النزول للواحدي"}]},{surahId:103,surahName:"سورة العصر",stories:[{ayahRange:"1-3",shortSummary:"سورة مكية، تقسم بالعصر على أن كل إنسان في خسران إلا من اتصف بأربع صفات: الإيمان، والعمل الصالح، والتواصي بالحق، والتواصي بالصبر.",detailedVersion:`**التفسير المفصل:**
لا يوجد سبب نزول خاص. هي من أوجز سور القرآن وأجمعها لسبل النجاة. يقسم الله تعالى بالزمن (العصر) على أن جنس الإنسان كله في خسارة وهلاك، إلا من استثناهم الله وهم الذين جمعوا أربعة أمور: 1- الإيمان بالله. 2- العمل الصالح. 3- التواصي بالحق (الدعوة إلى الله). 4- التواصي بالصبر (على الطاعة وعن المعصية وعلى أقدار الله). قال الإمام الشافعي: 'لو ما أنزل الله حجة على خلقه إلا هذه السورة لكفتهم'.

**تفسير ابن كثير:**
العصر هو الزمان الذي يقع فيه حركات بني آدم من خير وشر. والمقسم عليه هو أن الإنسان لفي خسر وهلاك. ثم استثنى من جنس الإنسان عن الخسران الذين آمنوا بقلوبهم، وعملوا الصالحات بجوارحهم، وتواصوا بالحق وهو أداء الطاعات وترك المحرمات، وتواصوا بالصبر على المصائب والأقدار وأذى من يؤذيهم.`,source:"عامة كتب التفسير"}]},{surahId:104,surahName:"سورة الهمزة",stories:[{ayahRange:"1",shortSummary:"نزلت في بعض زعماء المشركين كالأخنس بن شريق أو أمية بن خلف، الذين كانوا يغتابون النبي والمسلمين ويسخرون منهم.",detailedVersion:`**التفسير المفصل:**
نزلت السورة فيمن كان يغتاب الناس ويلمزهم ويسخر منهم. قيل إنها نزلت في الأخنس بن شريق الذي كان يهمز النبي صلى الله عليه وسلم ويلمزه في وجهه. وقيل نزلت في أمية بن خلف الذي كان يفعل ذلك. وقيل نزلت في الوليد بن المغيرة. والآية عامة في كل من اتصف بهذه الصفات الذميمة: الهمز (الغيبة في الخلف)، واللمز (الطعن في الوجه)، وجمع المال وتعديده، ظنًا منه أنه سيخلده. ثم تتوعده السورة بالنار (الحطمة).

**تفسير ابن كثير:**
(ويل لكل همزة لمزة) الهمزة بالفعل واللمزة بالقول. قال ابن عباس: همزة لمزة طعان معياب. (الذي جمع مالا وعدده) أي جمعه وكثر منه وأحصاه، وألهاه ذلك عن ذكر الله. (يحسب أن ماله أخلده) أي يظن أن جمعه للمال سيخلده في هذه الدار.`,source:"أسباب النزول للواحدي، لباب النقول للسيوطي"}]},{surahId:105,surahName:"سورة الفيل",stories:[{ayahRange:"1-5",shortSummary:"سورة مكية، تذكر قصة أصحاب الفيل (جيش أبرهة الحبشي) الذين أرادوا هدم الكعبة، وكيف أهلكهم الله بطير أبابيل.",detailedVersion:`**التفسير المفصل:**
لا يوجد سبب نزول متعلق بالنبي، بل هي تذكير بحادثة عظيمة وقعت في عام مولده صلى الله عليه وسلم، وهي من إرهاصات نبوته. أبرهة الحبشي، حاكم اليمن، بنى كنيسة عظيمة ليصرف العرب عن الحج إلى الكعبة. فلما لم يستجب له أحد، جهز جيشًا ضخمًا ومعه فيل عظيم لهدم الكعبة. فلما وصلوا إلى مشارف مكة، برك الفيل ورفض التقدم نحو الكعبة. فأرسل الله عليهم طيورًا صغيرة (أبابيل) تحمل في مناقيرها وأرجلها حجارة صغيرة من طين محروق، فرمتهم بها فأهلكتهم وجعلتهم كورق الشجر المأكول.

**تفسير ابن كثير:**
هذه من النعم التي امتن الله بها على قريش، فيما صرف عنهم من أصحاب الفيل، الذين كانوا قد عزموا على هدم الكعبة ومحو أثرها من الوجود، فأبادهم الله وأرغم آنافهم وخيب سعيهم.`,source:"عامة كتب التفسير وتفاسير السيرة النبوية"}]},{surahId:106,surahName:"سورة قريش",stories:[{ayahRange:"1-4",shortSummary:"سورة مكية، تذكر قريشًا بنعمة الله عليهم في تيسير رحلاتهم التجارية (رحلة الشتاء والصيف) وأمنهم عند البيت الحرام.",detailedVersion:`**التفسير المفصل:**
لا يوجد سبب نزول خاص. هذه السورة متصلة بسابقتها (سورة الفيل). فبعد أن ذكر الله كيف حمى البيت من أصحاب الفيل، يذكر قريشًا هنا بنعمه عليهم التي ترتبت على هذا الأمر. فبسبب مكانتهم كأهل بيت الله الحرام، كانوا آمنين في أسفارهم وتجارتهم، حيث كانت القبائل الأخرى تحترمهم ولا تتعرض لهم. فكانت لهم رحلتان تجاريتان: رحلة إلى اليمن في الشتاء، ورحلة إلى الشام في الصيف. فتدعوهم السورة إلى عبادة رب هذا البيت الذي أطعمهم من جوع وآمنهم من خوف، شكرًا له على هذه النعم.

**تفسير ابن كثير:**
هذه السورة مفصولة عن التي قبلها في المصحف. والمعنى عند الأكثرين أن اتصالها بما قبلها هو أننا أهلكنا أصحاب الفيل لتبقى قريش وأمنهم واستقرارهم في بلدهم.`,source:"عامة كتب التفسير"}]},{surahId:107,surahName:"سورة الماعون",stories:[{ayahRange:"1-7",shortSummary:"نزلت في بعض المشركين كالعاص بن وائل أو المنافقين الذين كانوا يمنعون الخير عن اليتامى والمساكين، ويصلون رياءً.",detailedVersion:`**التفسير المفصل:**
نزلت السورة فيمن يكذب بالدين ويمنع الخير. قيل نزلت في العاص بن وائل السهمي. وقيل في أبي جهل الذي كان وصيًا على يتيم، فجاءه يومًا وهو عريان يسأله من مال نفسه، فدفعه ومنعه. وقيل نزلت في المنافقين الذين يصلون مع المسلمين رياءً وهم ساهون عن صلاتهم (يؤخرونها عن وقتها أو لا يؤدونها كما ينبغي)، ويمنعون الماعون (الأشياء الصغيرة التي يستعيرها الجيران من بعضهم كالإناء والملح).

**تفسير ابن كثير:**
(أرأيت الذي يكذب بالدين) أي بالمعاد والجزاء والثواب. (فذلك الذي يدع اليتيم) أي يقهره ويظلمه حقه ولا يطعمه. (ولا يحض على طعام المسكين) أي لا يحث غيره على إطعامهم. (فويل للمصلين * الذين هم عن صلاتهم ساهون) وهم المنافقون.`,source:"أسباب النزول للواحدي، لباب النقول للسيوطي"}]},{surahId:108,surahName:"سورة الكوثر",stories:[{ayahRange:"1-3",shortSummary:"نزلت السورة ردًا على العاص بن وائل الذي قال عن النبي صلى الله عليه وسلم عندما مات ابنه القاسم، إنه 'أبتر' (مقطوع النسل).",detailedVersion:`**التفسير المفصل:**
لما توفي القاسم ابن النبي صلى الله عليه وسلم، قال العاص بن وائل السهمي: 'قد انقطع نسله، فهو أبتر'. وكان العرب يعتبرون من لا ينجب الذكور مقطوع الأثر. فشق ذلك على النبي صلى الله عليه وسلم، فأنزل الله هذه السورة تسلية له وبشارة. (إِنَّا أَعْطَيْنَاكَ الْكَوْثَرَ) وهو نهر في الجنة وخير كثير في الدنيا والآخرة. وأمره بشكر هذه النعمة بالصلاة والنحر. ثم ردت السورة على الشامت به: (إِنَّ شَانِئَكَ) أي مبغضك وعدوك (هُوَ الْأَبْتَرُ) أي هو المقطوع من كل خير وذكر حسن.

**تفسير ابن كثير:**
روي عن ابن عباس وغيره أن هذه السورة نزلت في العاص بن وائل، وذلك أنه رأى رسول الله صلى الله عليه وسلم يخرج من المسجد وهو يدخل، فالتقيا عند باب بني سهم وتحدثا، وأناس من صناديد قريش في المسجد جلوس. فلما دخل العاص قالوا له: من الذي كنت تحدث؟ قال: ذاك الأبتر. يعني النبي، وكان قد توفي قبل ذلك عبد الله ابن رسول الله صلى الله عليه وسلم. فأنزل الله هذه السورة.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:109,surahName:"سورة الكافرون",stories:[{ayahRange:"1-6",shortSummary:"نزلت ردًا على عرض قدمه زعماء قريش للنبي بأن يعبدوا إلهه سنة ويعبد آلهتهم سنة.",detailedVersion:`**التفسير المفصل:**
جاء رهط من زعماء قريش، منهم الوليد بن المغيرة والعاص بن وائل، إلى النبي صلى الله عليه وسلم وعرضوا عليه مساومة في الدين، فقالوا: 'يا محمد، هلم فلنعبد ما تعبد، وتعبد ما نعبد، فنشترك نحن وأنت في الأمر. فإن كان الذي تعبد خيرًا مما نعبد، كنا قد أخذنا بحظنا منه. وإن كان ما نعبد خيرًا مما تعبد، كنت قد أخذت بحظك منه'. فأنزل الله تعالى هذه السورة القاطعة: (قُلْ يَا أَيُّهَا الْكَافِرُونَ * لَا أَعْبُدُ مَا تَعْبُدُونَ...) إلى آخرها، وفيها براءة تامة من دين المشركين، وتأكيد على استحالة الخلط بين التوحيد والشرك.

**تفسير ابن كثير:**
هذه السورة سورة البراءة من عمل المشركين، وهي آمرة بالإخلاص فيه. فقوله: (لا أعبد ما تعبدون) يعني من الأصنام والأنداد. وقوله: (لكم دينكم ولي دين) أي لكم شرككم ولي توحيدي.`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:110,surahName:"سورة النصر",stories:[{ayahRange:"1-3",shortSummary:"نزلت السورة بعد فتح مكة، وهي آخر سورة نزلت كاملة، وفيها إشارة إلى قرب وفاة النبي صلى الله عليه وسلم.",detailedVersion:`**التفسير المفصل:**
هذه السورة من أواخر ما نزل من القرآن، وقيل هي آخر سورة نزلت بتمامها. نزلت في أوسط أيام التشريق في حجة الوداع. تبشر النبي بنصر الله وفتح مكة، ودخول الناس في دين الله أفواجًا، وتأمره بالتسبيح والحمد والاستغفار شكرًا لله على هذه النعمة. وفهم كبار الصحابة كابن عباس وعمر بن الخطاب من هذه السورة أنها نعي لرسول الله وإشارة إلى اكتمال رسالته وقرب أجله، فبكوا عندما سمعوها.

**تفسير ابن كثير:**
روى البخاري عن ابن عباس قال: كان عمر يدخلني مع أشياخ بدر، فكأن بعضهم وجد في نفسه، فقال: لم يدخل هذا معنا ولنا أبناء مثله؟ فقال عمر: إنه من حيث علمتم. فدعاهم ذات يوم فأدخلني معهم، فسألهم عن قوله تعالى: (إذا جاء نصر الله والفتح). فقال بعضهم: أمرنا أن نحمد الله ونستغفره إذا نصرنا وفتح علينا. وسكت بعضهم. فقال لي: أكذلك تقول يا ابن عباس؟ فقلت: لا. قال: فما تقول؟ قلت: هو أجل رسول الله صلى الله عليه وسلم أعلمه له. قال: (فسبح بحمد ربك واستغفره). فقال عمر: ما أعلم منها إلا ما تقول.`,source:"لباب النقول للسيوطي، تفسير ابن كثير"}]},{surahId:111,surahName:"سورة المسد",stories:[{ayahRange:"1-5",shortSummary:"نزلت هذه السورة في أبي لهب، عم النبي صلى الله عليه وسلم، وزوجته، بعد أن آذيا النبي ورفضا دعوته.",detailedVersion:`**التفسير المفصل:**
لما نزل قوله تعالى (وَأَنذِرْ عَشِيرَتَكَ الْأَقْرَبِينَ)، صعد النبي صلى الله عليه وسلم على الصفا، وجعل ينادي: 'يا بني فهر، يا بني عدي' - لبطون قريش - حتى اجتمعوا. فقال: 'أرأيتكم لو أخبرتكم أن خيلاً بالوادي تريد أن تغير عليكم، أكنتم مصدقي؟' قالوا: 'نعم، ما جربنا عليك إلا صدقاً'. قال: 'فإني نذير لكم بين يدي عذاب شديد'. فقال أبو لهب: 'تباً لك سائر اليوم، ألهذا جمعتنا؟' فأنزل الله تعالى: (تَبَّتْ يَدَا أَبِي لَهَبٍ وَتَبَّ).

**تفسير ابن كثير:**
روى البخاري عن ابن عباس أن النبي صلى الله عليه وسلم خرج إلى البطحاء فصعد الجبل فنادى: 'يا صباحاه'. فاجتمعت إليه قريش. فقال: 'أرأيتم إن حدثتكم أن العدو مصبحكم أو ممسيكم، أكنتم تصدقوني؟' قالوا: 'نعم'. قال: 'فإني نذير لكم بين يدي عذاب شديد'. فقال أبو لهب: 'تبًا لك، ألهذا جمعتنا؟' فأنزل الله: (تبت يدا أبي لهب وتب).`,source:"أسباب النزول للواحدي، تفسير ابن كثير"}]},{surahId:112,surahName:"سورة الإخلاص",stories:[{ayahRange:"1-4",shortSummary:"نزلت ردًا على المشركين واليهود الذين سألوا النبي صلى الله عليه وسلم أن يصف لهم ربه.",detailedVersion:`**التفسير المفصل:**
جاء المشركون إلى النبي صلى الله عليه وسلم وقالوا: 'يا محمد، انسب لنا ربك، صف لنا ربك، أمن ذهب هو أم من فضة؟' فأنزل الله تعالى سورة الإخلاص: (قُلْ هُوَ اللَّهُ أَحَدٌ)، وهي سورة تصف الله تعالى بصفات الوحدانية والكمال، وتنفي عنه كل نقص، كالوالد والولد والمثيل والنظير. وهي تعدل ثلث القرآن لما تضمنته من معاني التوحيد الخالص.

**تفسير ابن كثير:**
قال الإمام أحمد عن أبي بن كعب أن المشركين قالوا للنبي صلى الله عليه وسلم: يا محمد، انسب لنا ربك. فأنزل الله تعالى: (قل هو الله أحد الله الصمد لم يلد ولم يولد ولم يكن له كفوا أحد).`,source:"لباب النقول للسيوطي، تفسير ابن كثير"}]},{surahId:113,surahName:"سورة الفلق",stories:[{ayahRange:"1-5",shortSummary:"نزلت سورة الفلق وسورة الناس (المعوذتان) بعد أن تعرض النبي صلى الله عليه وسلم للسحر من قبل رجل يهودي يدعى لبيد بن الأعصم.",detailedVersion:`**التفسير المفصل:**
سحر لبيد بن الأعصم اليهودي النبي صلى الله عليه وسلم، فكان يُخيل إليه أنه يفعل الشيء وهو لا يفعله. فدعا النبي ربه، فأتاه ملكان في المنام وأخبراه بمكان السحر (في بئر ذروان). فأرسل النبي من يستخرجه، فوجدوا مشطًا ومشاطة وأسنان مشط في جف طلعة ذكر، معقودًا فيه أحد عشر عقدة. فأنزل الله المعوذتين، فجعل كلما يقرأ آية تنحل عقدة، حتى انحلت العقد كلها، فقام النبي كأنما نشط من عقال. وهما أعظم ما يتعوذ به المسلم.

**تفسير ابن كثير:**
ثبت في الصحيحين عن عائشة أن رسول الله صلى الله عليه وسلم سُحر، حتى كان يرى أنه يأتي النساء ولا يأتيهن. وفي رواية: كان يخيل إليه أنه فعل الشيء ولم يفعله. ثم بعد دعائه، أتاه ملكان وأخبراه بمكان السحر، فاستخرجه، وأنزل الله هاتين السورتين.`,source:"لباب النقول للسيوطي، تفسير ابن كثير"}]},{surahId:114,surahName:"سورة الناس",stories:[{ayahRange:"1-6",shortSummary:"نزلت سورة الناس مع سورة الفلق (المعوذتان) كرقية للنبي صلى الله عليه وسلم من السحر الذي أصابه.",detailedVersion:`**التفسير المفصل:**
بعد أن تعرض النبي صلى الله عليه وسلم لسحر لبيد بن الأعصم اليهودي، أنزل الله تعالى المعوذتين (الفلق والناس) شفاء ورقية له. وتختص سورة الناس بالاستعاذة بالله من شر أعظم عدو للإنسان، وهو الشيطان الذي يوسوس في صدور الناس بالشر والمعصية، سواء كان هذا الشيطان من الجن أو من الإنس. فهي حصن للمسلم من الوساوس والأفكار الخبيثة.

**تفسير ابن كثير:**
هذه السورة هي إحدى المعوذتين. قال الإمام أحمد عن عقبة بن عامر، قال: بينا أنا أقود برسول الله صلى الله عليه وسلم راحلته في غزاة، إذ قال: 'يا عقبة، قل'. فقلت: ماذا أقول؟ فسكت عني، ثم قال: 'قل'. قلت: ماذا أقول يا رسول الله؟ فسكت عني، ثم قال: 'قل'. قلت: ماذا أقول؟ قال: '(قل أعوذ برب الفلق)' فقرأتها حتى أتيت على آخرها. ثم قال: '(قل أعوذ برب الناس)' فقرأتها حتى أتيت على آخرها. ثم قال رسول الله صلى الله عليه وسلم عند ذلك: 'ما سأل سائل بمثلهما، ولا استعاذ مستعيذ بمثلهما'.`,source:"لباب النقول للسيوطي، تفسير ابن كثير"}]}],xS=({story:e})=>{const[t,n]=T.useState(!1);return l.jsxs("div",{className:"bg-card p-4 rounded-lg shadow-md",children:[l.jsxs("h4",{className:"text-lg font-semibold text-primary mb-2",children:["سبب نزول الآية: ",e.ayahRange]}),l.jsx("p",{className:"text-text-secondary mb-3 whitespace-pre-wrap leading-relaxed",children:t?e.detailedVersion:e.shortSummary}),l.jsxs("div",{className:"flex justify-between items-center mt-3 pt-2 border-t border-border-color",children:[l.jsxs("p",{className:"text-xs text-text-secondary",children:[l.jsx("span",{className:"font-semibold",children:"المصدر:"})," ",e.source]}),l.jsx("button",{onClick:()=>n(!t),className:"text-xs font-semibold text-primary hover:underline",children:t?"عرض الملخص":"عرض التفصيل"})]})]})},yS=()=>{const[e,t]=T.useState(null);return e?l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pt-6 pb-8 animate-fade-in",children:[l.jsxs("button",{onClick:()=>t(null),className:"flex items-center gap-2 text-text-secondary hover:text-text-primary mb-4",children:[l.jsx(Ee,{className:"w-5 h-5"}),l.jsx("span",{children:"كل السور"})]}),l.jsx("h2",{className:"text-3xl font-bold font-amiri-quran text-text-primary mb-6",children:e.surahName}),l.jsx("div",{className:"space-y-4",children:e.stories.map((n,a)=>l.jsx(xS,{story:n},a))})]}):l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pt-4 pb-8 animate-fade-in",children:[l.jsx("h2",{className:"text-xl font-bold text-text-primary mb-4",children:"اختر سورة لتدبر أسباب نزولها"}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:gS.map(n=>l.jsx("div",{onClick:()=>t(n),className:"p-4 rounded-lg shadow-md bg-card hover:bg-border-color transition-all duration-200 flex items-center justify-between cursor-pointer",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"w-10 h-10 flex items-center justify-center rounded-full text-sm font-medium ml-4 bg-background text-text-secondary",children:n.surahId}),l.jsx("p",{className:"font-semibold font-amiri-quran text-xl text-text-primary",children:n.surahName})]})},n.surahId))})]})},_f=[{id:1,title:"قصة الفيل",content:`في قديم الزمان, كان هناك رجل شرير اسمه أبرهة. بنى أبرهة بيتاً كبيراً وأراد أن يذهب الناس إليه بدلاً من الكعبة.

عندما لم يستمع له أحد, غضب أبرهة وقرر أن يهدم الكعبة. أحضر جيشاً كبيراً ومعه فيل ضخم جداً.

عندما اقترب الجيش من مكة, توقف الفيل ولم يتحرك. حاولوا دفعه لكنه رفض. فجأة, أرسل الله طيوراً صغيرة تحمل حجارة صغيرة, ورمت الحجارة على جيش أبرهة فهلكوا جميعاً وحمى الله الكعبة.`,moral:"الله قوي ويحمي بيته, وهو أقوى من أي شيء.",question:{text:"ماذا أرسل الله ليحمي الكعبة؟",options:["جيشاً كبيراً","طيوراً صغيرة","فيلاً آخر"],correctAnswer:"طيوراً صغيرة"},ageGroup:"3-5",illustration:"🐘"},{id:2,title:"قصة يونس في بطن الحوت",content:`كان هناك نبي اسمه يونس عليه السلام. أرسله الله إلى قومه ليدعوهم إلى عبادة الله وحده, لكنهم لم يستمعوا له.

غضب يونس وتركهم وركب سفينة. في البحر, هبت عاصفة قوية, وقرر الناس في السفينة أن يلقوا رجلاً منهم في البحر لتخف السفينة. وقع الاختيار على يونس, فألقوه في البحر.

ابتلع حوت ضخم يونس, وفي بطن الحوت المظلم, دعا يونس ربه وقال: "لا إله إلا أنت سبحانك إني كنت من الظالمين". فاستجاب الله له وأمر الحوت أن يخرجه إلى الشاطئ سالمًا.`,moral:"يجب أن نصبر وندعو الله دائمًا, خاصة عندما نكون في شدة.",question:{text:"ماذا فعل النبي يونس في بطن الحوت؟",options:["نام","دعا ربه","أكل"],correctAnswer:"دعا ربه"},ageGroup:"3-5",illustration:"🐳"},{id:3,title:"قصة نوح و السفينة",content:`كان نبي الله نوح عليه السلام يدعو قومه لعبادة الله وحده, لكنهم كانوا يسخرون منه ويعبدون الأصنام.

أمر الله نوحًا أن يصنع سفينة كبيرة جدًا. كان الناس يضحكون عليه وهو يبنيها في الصحراء. عندما اكتملت السفينة, أمره الله أن يأخذ معه المؤمنين وزوجين من كل حيوان وطائر.

ثم أمطرت السماء بغزارة, وخرج الماء من الأرض, وغرق كل الكافرين. ونجا نوح ومن معه في السفينة بفضل الله.`,moral:"طاعة الله تنجينا دائمًا من كل سوء.",question:{text:"لماذا بنى نوح عليه السلام السفينة؟",options:["ليسافر","لينجو من الطوفان","ليصطاد السمك"],correctAnswer:"لينجو من الطوفان"},ageGroup:"3-5",illustration:"🚢"},{id:4,title:"قصة إبراهيم و الأصنام",content:`في قديم الزمان, كان الناس يعبدون تماثيل يصنعونها بأيديهم تسمى الأصنام. كان نبي الله إبراهيم عليه السلام شابًا ذكيًا, وعرف أن هذه الأصنام لا تسمع ولا ترى ولا تنفع.

في يوم من الأيام, ذهب كل الناس للاحتفال خارج المدينة. دخل إبراهيم إلى المعبد وكسر كل الأصنام بفأس, إلا الصنم الأكبر, فقد علق الفأس في رقبته.

عندما عاد الناس ورأوا أصنامهم محطمة, غضبوا وعرفوا أن إبراهيم هو الفاعل. سألوه: "أأنت فعلت هذا؟". قال إبراهيم: "بل فعله كبيرهم هذا, فاسألوهم إن كانوا ينطقون!". لم تستطع الأصنام أن تتكلم, فعرف الناس أنهم كانوا على خطأ.`,moral:"يجب أن نعبد الله وحده, فهو الخالق القادر على كل شيء.",question:{text:"ماذا ترك إبراهيم عليه السلام سليمًا؟",options:["كل الأصنام","صنمًا صغيرًا","الصنم الأكبر"],correctAnswer:"الصنم الأكبر"},ageGroup:"6-8",illustration:"🗿"},{id:5,title:"قصة موسى و البحر",content:`كان هناك ملك ظالم اسمه فرعون. كان فرعون يعذب بني إسرائيل. أرسل الله نبيه موسى عليه السلام ليأخذهم ويخرج بهم من مصر.

لحق فرعون وجيشه بموسى وقومه حتى وصلوا إلى البحر. خاف الناس وقالوا: "البحر أمامنا وفرعون خلفنا!".

أمر الله موسى أن يضرب البحر بعصاه. فانشق البحر وأصبح طريقًا يابسًا, فعبر موسى وقومه بسلام. عندما حاول فرعون وجيشه العبور, عاد البحر كما كان وغرقوا جميعًا.`,moral:"الله قادر على كل شيء, وينصر عباده المؤمنين.",question:{text:"كيف نجا موسى عليه السلام وقومه من فرعون؟",options:["بالسفن","بالطيران","انشق لهم البحر"],correctAnswer:"انشق لهم البحر"},ageGroup:"6-8",illustration:"🌊"},{id:6,title:"قصة سليمان و النملة",content:`كان نبي الله سليمان عليه السلام يفهم لغة الحيوانات. في يوم من الأيام, كان يسير بجيشه الكبير, فمروا على وادٍ مليء بالنمل.

سمع سليمان نملة تقول لبقية النمل: "يا أيها النمل ادخلوا مساكنكم لا يحطمنكم سليمان وجنوده وهم لا يشعرون".

تبسم سليمان من قولها, وشكر الله على نعمته العظيمة, وأمر جيشه أن يغيروا طريقهم حتى لا يؤذوا النمل.`,moral:"يجب أن نكون رحماء بكل مخلوقات الله, حتى الصغيرة منها.",question:{text:"لماذا تبسم سليمان عليه السلام؟",options:["لأنه رأى نملة","لأنه سمع كلام النملة","لأنه كان سعيدًا"],correctAnswer:"لأنه سمع كلام النملة"},ageGroup:"3-5",illustration:"🐜"},{id:7,title:"قصة ناقة صالح",content:`أرسل الله النبي صالح عليه السلام إلى قوم ثمود. كانوا قومًا أقوياء يسكنون في بيوت منحوتة في الجبال, لكنهم كانوا يعبدون الأصنام.

طلب قوم ثمود من صالح معجزة ليؤمنوا به. فدعا صالح ربه, فأخرج الله لهم من صخرة كبيرة ناقة (أنثى الجمل) عظيمة. قال لهم صالح: "هذه ناقة الله لكم آية, فذروها تأكل في أرض الله ولا تمسوها بسوء".

لكنهم كذبوا صالحًا وقتلوا الناقة. فجاءهم عذاب شديد من الله, فأهلكهم جميعًا ونجى صالحًا والمؤمنين معه.`,moral:"عصيان أوامر الله ورسله يأتي بالعقاب.",question:{text:"ماذا فعل قوم ثمود بالناقة؟",options:["أطعموها","قتلوها","باعوها"],correctAnswer:"قتلوها"},ageGroup:"6-8",illustration:"🐪"},{id:8,title:"الطفل موسى في النهر",content:`عندما ولد النبي موسى عليه السلام, كان فرعون يقتل كل الأطفال الذكور. خافت أم موسى عليه, فأوحى الله إليها أن تضعه في صندوق وتلقيه في النهر.

فعلت أمه ما أمرها الله به, وهي حزينة. سار الصندوق في النهر حتى وصل إلى قصر فرعون. وجدته زوجة فرعون وأحبته, وأقنعت فرعون أن يتبنياه.

وهكذا, عاد موسى إلى أمه لترضعه بأجر من فرعون, وحفظه الله من القتل ونشأ في قصر عدوه.`,moral:"ثق بالله, فخطته دائمًا هي الأفضل لحمايتنا.",question:{text:"أين وضعت أم موسى ابنها لتحميه؟",options:["في كهف","في صندوق في النهر","عند جيرانها"],correctAnswer:"في صندوق في النهر"},ageGroup:"3-5",illustration:"🧺"},{id:9,title:"داود و جالوت",content:`كان هناك ملك قوي وظالم اسمه جالوت, وكان جيشه كبيرًا جدًا, ولم يستطع أحد هزيمته. كان في جيش المؤمنين فتى شجاع اسمه داود عليه السلام.

لم يكن داود جنديًا, بل كان راعيًا. خرج داود ليقاتل جالوت, ومعه فقط مقلاعه وبعض الحجارة. سخر جالوت من داود لصغر حجمه.

لكن داود قال: "أنت تأتيني بالسيف والرمح, وأنا آتيك باسم رب الجنود". ثم وضع حجرًا في مقلاعه ورماه بقوة, فأصاب جالوت في رأسه وقتله. فهرب جيش جالوت وانتصر المؤمنون.`,moral:"القوة الحقيقية تأتي من الإيمان بالله, وليس من حجم الجسم أو السلاح.",question:{text:"بماذا قتل داود عليه السلام جالوت؟",options:["بسيف","بحجر من مقلاع","برمح"],correctAnswer:"بحجر من مقلاع"},ageGroup:"9-12",illustration:"🪨"},{id:10,title:"مريم و عيسى عليهما السلام",content:`كانت السيدة مريم امرأة صالحة جدًا, وكانت تقضي وقتها في عبادة الله. وفي يوم من الأيام, جاءها الملك جبريل وبشرها بأنها ستلد طفلاً سيكون نبيًا, واسمه عيسى, من غير أب.

تعجبت مريم ولكنها آمنت بقدرة الله. عندما ولدت عيسى, اتهمها قومها بالسوء. فأشار الله عليها ألا تتكلم وأن تشير إلى الطفل.

فتكلم عيسى وهو في المهد وقال: "إني عبد الله آتاني الكتاب وجعلني نبيًا". فكانت هذه معجزة عظيمة, وبرأ الله السيدة مريم.`,moral:"الله قادر على فعل المعجزات, ويدافع دائمًا عن عباده الصالحين.",question:{text:"ماذا كانت أول كلمات نطق بها عيسى عليه السلام؟",options:["أنا جائع","إني عبد الله","أريد أمي"],correctAnswer:"إني عبد الله"},ageGroup:"6-8",illustration:"👶"},{id:11,title:"نصيحة لقمان لابنه",content:`كان هناك رجل حكيم اسمه لقمان. أعطاه الله الحكمة. في يوم من الأيام, أراد أن يعلم ابنه درسًا مهمًا.

قال له: "يا بني لا تشرك بالله إن الشرك لظلم عظيم". وعلمه أن يكون لطيفًا مع والديه, وأن يشكر الله دائمًا.

وعلمه أيضًا ألا يكون متكبرًا, وأن يمشي على الأرض بهدوء, وأن يخفض صوته. كانت نصائح لقمان مليئة بالحب والحكمة.`,moral:"يجب أن نعبد الله وحده, ونكون طيبين مع والدينا ومتواضعين مع الناس.",question:{text:"ما هو أعظم ظلم حذر منه لقمان ابنه؟",options:["الكذب","السرقة","الشرك بالله"],correctAnswer:"الشرك بالله"},ageGroup:"9-12",illustration:"❤️"},{id:12,title:"أصحاب الجنة",content:`كان هناك رجل صالح لديه حديقة جميلة مليئة بالثمار. كان دائمًا يعطي الفقراء والمساكين من ثمار حديقته.

عندما توفي الرجل, قرر أولاده أن يكونوا بخلاء وألا يعطوا الفقراء شيئًا. واتفقوا أن يذهبوا في الصباح الباكر لقطف الثمار قبل أن يأتي الفقراء.

لكن في الليل, أرسل الله نارًا على الحديقة فأحرقتها كلها. وفي الصباح, عندما ذهبوا, وجدوا حديقتهم سوداء محترقة. فعرفوا أنهم أخطأوا وندموا على بخلهم.`,moral:"العطاء والصدقة تبارك في رزقنا, والبخل يزيله.",question:{text:"لماذا احترقت حديقة الأولاد؟",options:["لأنهم كانوا بخلاء","بسبب الشمس الحارة","لأنهم نسوا سقيها"],correctAnswer:"لأنهم كانوا بخلاء"},ageGroup:"6-8",illustration:"🔥"},{id:13,title:"لطف النبي مع الجمل",content:`في يوم من الأيام, دخل النبي محمد صلى الله عليه وسلم حديقة لرجل من الأنصار. فجأة, رأى جملاً يركض نحوه وعيناه تدمعان ويصدر صوتًا حزينًا.

اقترب النبي من الجمل ومسح على رأسه برفق حتى هدأ. ثم سأل النبي: "من صاحب هذا الجمل؟". فجاء شاب وقال: "أنا يا رسول الله".

فقال له النبي: "ألا تتقي الله في هذه البهيمة التي ملكك الله إياها؟ فإنه شكا إلي أنك تجيعه وتتعبه". فتعلم الرجل درسه ووعد بأن يعتني بالجمل جيدًا.`,moral:"الإسلام يعلمنا أن نكون رحماء بالحيوانات.",question:{text:"ماذا كان يشتكي الجمل للنبي؟",options:["أنه يريد اللعب","أن صاحبه يجيعه ويتعبه","أنه يريد العودة للصحراء"],correctAnswer:"أن صاحبه يجيعه ويتعبه"},ageGroup:"3-5",illustration:"😢"},{id:14,title:"الولد الصادق",content:`في يوم من الأيام, كان النبي محمد صلى الله عليه وسلم يسير في بستان, فرأى ولدًا صغيرًا يرمي شجرة نخيل بالحجارة ليسقط التمر ويأكله.

اقترب منه النبي برفق وسأله: "يا بني, لماذا ترمي النخلة؟". قال الولد بخوف: "كنت جائعًا".

ابتسم النبي وقال له: "لا ترمها بالحجارة, ولكن كل ما يسقط منها على الأرض". ثم مسح على رأس الولد ودعا له بالبركة. تعلم الولد أن الصدق ينجي وأن طلب الإذن أفضل من الأخذ بدون استئذان.`,moral:"الصدق هو أفضل طريق, ويجب أن نطلب الإذن قبل أن نأخذ شيئًا ليس لنا.",question:{text:"ماذا علم النبي الولد أن يفعل؟",options:["أن يرمي المزيد من الحجارة","ألا يأكل التمر","أن يأكل ما يسقط على الأرض فقط"],correctAnswer:"أن يأكل ما يسقط على الأرض فقط"},ageGroup:"6-8",illustration:"🌴"},{id:15,title:"العنكبوت و الحمامة",content:`عندما هاجر النبي محمد صلى الله عليه وسلم من مكة إلى المدينة, لحقه الكفار ليمسكوا به. اختبأ النبي وصاحبه أبو بكر في كهف يسمى غار ثور.

بأمر الله, جاء عنكبوت صغير ونسج شبكة قوية على باب الكهف. وجاءت حمامة وبنت عشها ووضعت بيضها أمامه.

عندما وصل الكفار إلى الكهف, رأوا شبكة العنكبوت وعش الحمامة, فقالوا: "مستحيل أن يكون أحد قد دخل هنا, فالشبكة سليمة والعش في مكانه". وهكذا, حمى الله نبيه بجنود صغار لا يراها الناس.`,moral:"الله قادر على حمايتنا بأبسط الأشياء, فلا تستهن بأي مخلوق.",question:{text:"ماذا فعل العنكبوت ليحمي النبي؟",options:["قاتل الكفار","نسج شبكة على باب الكهف","أصدر صوتًا عاليًا"],correctAnswer:"نسج شبكة على باب الكهف"},ageGroup:"6-8",illustration:"🕸️"},{id:16,title:"النبي يحب الأطفال",content:`كان النبي محمد صلى الله عليه وسلم يحب الأطفال كثيرًا ويلعب معهم. كان حفيداه الحسن والحسين يلعبان معه دائمًا.

في مرة من المرات, كان النبي يصلي ويسجد, فجاء الحسن وركب على ظهره الشريف. أطال النبي السجود ولم يقم حتى نزل الحسن برفق من على ظهره.

بعد الصلاة, سأله الصحابة لماذا أطال السجود, فقال: "إن ابني هذا ارتحلني (ركب على ظهري) فكرهت أن أعجله حتى يقضي حاجته". كان النبي أرحم الناس بالأطفال.`,moral:"يجب أن نكون لطفاء ورحماء مع الأطفال ونلعب معهم.",question:{text:"لماذا أطال النبي سجوده؟",options:["لأنه كان متعبًا","لأن حفيده كان يلعب على ظهره","لأنه نسي"],correctAnswer:"لأن حفيده كان يلعب على ظهره"},ageGroup:"3-5",illustration:"😊"},{id:17,title:"الراعي الصغير الصادق",illustration:"🐑",content:'كان هناك راعٍ صغير يرعى الغنم. جاءه رجل وقال: "بعني شاة". قال الراعي: "إنها ليست لي, إنها لسيدي". قال الرجل: "قل لسيدك أكلها الذئب!". فرفض الراعي الصغير وقال: "فأين الله؟". أعجب الرجل بصدق الراعي وأمانته.',moral:"الله يرانا دائمًا, لذلك يجب أن نكون صادقين وأمناء.",question:{text:"لماذا لم يبع الراعي الشاة؟",options:["لأنه خاف من الذئب","لأنها لم تكن ملكه","لأنه لم يحب الرجل"],correctAnswer:"لأنها لم تكن ملكه"},ageGroup:"6-8"},{id:18,title:"قصة الإمام البخاري",content:"كان هناك عالم عظيم اسمه محمد بن إسماعيل البخاري. كان يحب حديث النبي محمد صلى الله عليه وسلم كثيرًا. سافر إلى بلاد كثيرة ليجمع الأحاديث ويتأكد من صحتها. كان قوي الذاكرة جدًا. جمع أصح الأحاديث في كتاب سماه 'صحيح البخاري'، وهو أصح كتاب بعد القرآن الكريم.",moral:"طلب العلم يحتاج إلى صبر وسفر وجهد، والله يبارك فيمن يخدم سنة نبيه.",question:{text:"ما هو اسم الكتاب الذي ألفه الإمام البخاري؟",options:["صحيح مسلم","صحيح البخاري","سنن الترمذي"],correctAnswer:"صحيح البخاري"},ageGroup:"13-15",illustration:"📚"}],vS=[{id:"prophets_quiz",title:"من هو النبي؟",type:"quiz",ageGroup:"6-8",questions:[{id:1,question:"من هو النبي الذي بنى الكعبة؟",options:["موسى","إبراهيم","نوح"],correctAnswer:"إبراهيم",explanation:"أحسنت! نبي الله إبراهيم وابنه إسماعيل عليهما السلام هما من بنيا الكعبة بأمر من الله. 🕋"},{id:2,question:"من هو النبي الذي كلمه الله عند جبل الطور؟",options:["عيسى","يوسف","موسى"],correctAnswer:"موسى",explanation:'صحيح! كلم الله سيدنا موسى عند جبل الطور في سيناء، لذلك يسمى "كليم الله". ⛰️'},{id:3,question:"من هو النبي الذي صنع سفينة كبيرة لينجو من الطوفان؟",options:["نوح","آدم","سليمان"],correctAnswer:"نوح",explanation:"إجابة رائعة! سيدنا نوح صنع السفينة ليحمي المؤمنين والحيوانات من الطوفان العظيم. 🚢"},{id:4,question:"من هو خاتم الأنبياء والمرسلين؟",options:["إسماعيل","محمد","يعقوب"],correctAnswer:"محمد",explanation:"ممتاز! سيدنا محمد صلى الله عليه وسلم هو آخر نبي أرسله الله لهداية الناس جميعًا. ❤️"},{id:5,question:"من هو النبي الذي ألقاه إخوته في البئر؟",options:["يونس","يوسف","إسحاق"],correctAnswer:"يوسف",explanation:"صحيح! إخوة سيدنا يوسف شعروا بالغيرة منه فألقوه في بئر، لكن الله حفظه وجعله عزيز مصر. ✨"},{id:6,question:"من هو أبو الأنبياء؟",options:["زكريا","آدم","إبراهيم"],correctAnswer:"إبراهيم",explanation:'أحسنت! سيدنا إبراهيم عليه السلام هو "أبو الأنبياء" لأن الكثير من الأنبياء جاءوا من نسله. 🙏'},{id:7,question:"من هو النبي الذي كان يفهم لغة الطير والنمل؟",options:["داود","سليمان","إدريس"],correctAnswer:"سليمان",explanation:"إجابة ممتازة! سيدنا سليمان أعطاه الله معجزة فهم لغة الحيوانات. 🐜"},{id:8,question:"من هو أول نبي؟",options:["إبراهيم","آدم","نوح"],correctAnswer:"آدم",explanation:"صحيح! سيدنا آدم عليه السلام هو أول إنسان وأول نبي خلقه الله. 👨"},{id:9,question:"من هو النبي الذي ولد من غير أب؟",options:["يحيى","عيسى","إسماعيل"],correctAnswer:"عيسى",explanation:"رائع! سيدنا عيسى عليه السلام ولد بمعجزة من أمه السيدة مريم من غير أب. 👶"},{id:10,question:"من هو النبي الذي ابتلعه الحوت؟",options:["يونس","صالح","موسى"],correctAnswer:"يونس",explanation:"إجابة صحيحة! سيدنا يونس دعا الله من بطن الحوت فنجاه. 🐳"},{id:11,question:"من هو النبي الذي كان أبوه يصنع الأصنام؟",options:["إبراهيم","يعقوب","لوط"],correctAnswer:"إبراهيم",explanation:"أحسنت! سيدنا إبراهيم كان أبوه آزر يصنع الأصنام، لكن إبراهيم كان يدعوه لعبادة الله وحده. 👍"},{id:12,question:"من هو النبي الذي أعطاه الله القدرة على تفسير الأحلام؟",options:["داود","يوسف","سليمان"],correctAnswer:"يوسف",explanation:"ممتاز! علم الله سيدنا يوسف تفسير الرؤى والأحلام، وبهذا استطاع أن ينقذ مصر من الجوع. 🌾"},{id:13,question:"من هو النبي الذي كان ملكًا أيضًا؟",options:["إدريس","شعيب","سليمان"],correctAnswer:"سليمان",explanation:"صحيح! سيدنا سليمان كان نبيًا وملكًا عظيمًا، وعلمه الله لغة الحيوانات وسخر له الجن والريح. 👑"}]},{id:"manners_quiz",title:"اختبر أخلاقك",type:"quiz",ageGroup:"3-5",questions:[{id:1,question:"ماذا نقول قبل أن نبدأ الأكل؟",options:["الحمد لله","بسم الله","شكرًا"],correctAnswer:"بسم الله",explanation:'أحسنت! نقول "بسم الله" لنبدأ طعامنا بذكر الله ليبارك لنا فيه. 😋'},{id:2,question:"بأي يد يجب أن نأكل؟",options:["اليمنى","اليسرى","لا يهم"],correctAnswer:"اليمنى",explanation:"صحيح! علمنا النبي أن نأكل بيدنا اليمنى. 👍"},{id:3,question:"إذا دخلت مكانًا, ماذا تفعل أولاً؟",options:["أجلس","آكل","أقول السلام عليكم"],correctAnswer:"أقول السلام عليكم",explanation:"ممتاز! إلقاء السلام تحية جميلة تزيد المحبة بيننا. 👋"},{id:4,question:"عندما يعطيك أحد شيئًا, ماذا تقول؟",options:["أريد المزيد","شكرًا لك","لا أريد"],correctAnswer:"شكرًا لك",explanation:'إجابة رائعة! قول "شكرًا لك" من الأدب الجميل ويجعل الآخرين سعداء. 😊'},{id:5,question:"ماذا تفعل قبل أن تنام؟",options:["ألعب","أقرأ دعاء النوم","أشاهد التلفاز"],correctAnswer:"أقرأ دعاء النوم",explanation:"أحسنت! قراءة دعاء النوم يحفظنا الله بها حتى نستيقظ. 😴"},{id:6,question:"إذا أخطأت في حق صديقك, ماذا تفعل؟",options:["أتجاهله","أقول أنا آسف","أضحك"],correctAnswer:"أقول أنا آسف",explanation:"صحيح! الاعتذار عند الخطأ من شجاعة الأخلاق ويحافظ على صداقتنا. ❤️"},{id:7,question:"كيف نتحدث مع والدينا؟",options:["بصوت عالٍ","بأدب واحترام","لا نتحدث معهم"],correctAnswer:"بأدب واحترام",explanation:"ممتاز! الله أمرنا بأن نكون طيبين مع والدينا ونتحدث معهم بأدب. 👨‍👩‍👧"},{id:8,question:"ماذا نقول عندما نعطس؟",options:["يا إلهي","الحمد لله","عفوًا"],correctAnswer:"الحمد لله",explanation:'صحيح! نقول "الحمد لله" لنشكر الله على نعمة العطاس. 🤗'},{id:9,question:"عندما تقابل صديقك في الصباح، ماذا تقول له؟",options:["تصبح على خير","مساء الخير","صباح الخير"],correctAnswer:"صباح الخير",explanation:"إلقاء التحية على أصدقائنا في الصباح يجعل يومهم ويومنا سعيدًا. 😊☀️"},{id:10,question:"إذا وجدت لعبة في ساحة اللعب ليست لك، ماذا تفعل؟",options:["آخذها لي","أبحث عن صاحبها","أتركها وأذهب"],correctAnswer:"أبحث عن صاحبها",explanation:"الأمانة خلق جميل، والله يحب الأمين الذي يعيد الأشياء لأصحابها. 👍"},{id:11,question:"عندما تريد أن تتكلم والآخرون يتحدثون، ماذا تفعل؟",options:["أرفع صوتي","أنتظر دوري بهدوء","أقاطعهم"],correctAnswer:"أنتظر دوري بهدوء",explanation:"من الأدب أن نستمع للآخرين وننتظر دورنا لنتكلم، هكذا تكون المحادثة جميلة ومنظمة. 🤫"},{id:12,question:"كيف نحافظ على نظافة مسجدنا أو بيتنا؟",options:["نرمي الأوراق على الأرض","نضع القمامة في سلتها","لا نهتم"],correctAnswer:"نضع القمامة في سلتها",explanation:"النظافة من الإيمان والله يحب النظيفين، والمكان النظيف يكون مريحًا وجميلاً للجميع. 🗑️✨"}]},{id:"places_quiz",title:"أماكن إسلامية",type:"quiz",ageGroup:"6-8",questions:[{id:1,question:"أين توجد الكعبة المشرفة؟",options:["المدينة المنورة","مكة المكرمة","القدس"],correctAnswer:"مكة المكرمة",explanation:"أحسنت! الكعبة هي بيت الله الحرام في مكة، وهي قبلة المسلمين في صلاتهم. 🕋"},{id:2,question:"ما هو أول مسجد بني في الإسلام؟",options:["المسجد الحرام","مسجد قباء","المسجد النبوي"],correctAnswer:"مسجد قباء",explanation:"صحيح! مسجد قباء هو أول مسجد بناه النبي محمد صلى الله عليه وسلم عندما وصل إلى المدينة. 🕌"},{id:3,question:"إلى أين هاجر النبي محمد صلى الله عليه وسلم؟",options:["الطائف","اليمن","المدينة المنورة"],correctAnswer:"المدينة المنورة",explanation:"إجابة ممتازة! هاجر النبي من مكة إلى المدينة لينشر الإسلام بسلام. ✨"},{id:4,question:"أين يقع المسجد الأقصى؟",options:["مكة","المدينة","القدس"],correctAnswer:"القدس",explanation:"صحيح! المسجد الأقصى هو أول قبلة للمسلمين ويقع في مدينة القدس الجميلة. 🇵🇸"},{id:5,question:"ما اسم الجبل الذي وقف عليه الحجاج في الحج؟",options:["جبل أحد","جبل عرفات","جبل النور"],correctAnswer:"جبل عرفات",explanation:"رائع! الوقوف بجبل عرفات هو أهم ركن في الحج. ⛰️"},{id:6,question:"في أي مدينة يوجد قبر النبي محمد صلى الله عليه وسلم؟",options:["مكة المكرمة","المدينة المنورة","القاهرة"],correctAnswer:"المدينة المنورة",explanation:"أحسنت! يوجد قبر نبينا الحبيب في مسجده الشريف في المدينة المنورة، التي نوّرها بقدومه. 💚"},{id:7,question:"ما اسم الغار الذي كان يتعبد فيه النبي قبل نزول الوحي؟",options:["غار ثور","غار حراء","كهف أهل الكهف"],correctAnswer:"غار حراء",explanation:"ممتاز! كان النبي يذهب إلى غار حراء ليتفكر في خلق الله، وهناك نزل عليه الملك جبريل لأول مرة. 🙏"},{id:8,question:"ما اسم الغار الذي اختبأ فيه النبي وأبو بكر أثناء الهجرة؟",options:["غار ثور","غار حراء","كهف الرقيم"],correctAnswer:"غار ثور",explanation:"صحيح! حمى الله النبي وصاحبه في غار ثور من الكفار بشبكة عنكبوت وعش حمامة. 🕸️🕊️"}]},{id:"quran_facts_quiz",title:"حقائق قرآنية",type:"quiz",ageGroup:"9-12",questions:[{id:1,question:"ما هي أطول سورة في القرآن؟",options:["الفاتحة","البقرة","آل عمران"],correctAnswer:"البقرة",explanation:"صحيح! سورة البقرة هي أطول سورة، وفيها آية الكرسي التي هي أعظم آية. 📖"},{id:2,question:"كم عدد سور القرآن الكريم؟",options:["100","114","120"],correctAnswer:"114",explanation:"ممتاز! يتكون القرآن الكريم من 114 سورة عظيمة. ✨"},{id:3,question:'ما هي السورة التي تسمى "قلب القرآن"؟',options:["يس","الرحمن","الملك"],correctAnswer:"يس",explanation:"أحسنت! سورة يس تسمى قلب القرآن لأهميتها ومواضيعها العظيمة. ❤️"},{id:4,question:"ما هي السورة التي لا تبدأ بالبسملة؟",options:["الأنفال","التوبة","المنافقون"],correctAnswer:"التوبة",explanation:'إجابة صحيحة! سورة التوبة هي السورة الوحيدة التي لا تبدأ بـ "بسم الله الرحمن الرحيم".'},{id:5,question:"ما هي أعظم آية في القرآن؟",options:["آخر آية من سورة البقرة","آية الكرسي","أول آية من سورة الفاتحة"],correctAnswer:"آية الكرسي",explanation:"رائع! آية الكرسي (آية 255 من سورة البقرة) هي أعظم آية لأنها تصف عظمة الله وقدرته. 👑"},{id:6,question:"كم سنة استمر نزول القرآن الكريم؟",options:["10 سنوات","23 سنة","30 سنة"],correctAnswer:"23 سنة",explanation:"أحسنت! نزل القرآن مفرقًا على مدى 23 سنة ليثبت قلوب المؤمنين ويكون سهل الحفظ والفهم. 👍"},{id:7,question:"ما هي أول سورة نزلت كاملة؟",options:["العلق","الفاتحة","البقرة"],correctAnswer:"الفاتحة",explanation:"صحيح! سورة الفاتحة هي أم القرآن وأول سورة نزلت كاملة، أما أول ما نزل من القرآن فهو أول خمس آيات من سورة العلق. 🙏"},{id:8,question:"ما هي السورة التي ذكرت فيها البسملة مرتين؟",options:["النمل","البقرة","يس"],correctAnswer:"النمل",explanation:"إجابة مميزة! سورة النمل هي السورة الوحيدة التي ذكرت فيها البسملة مرتين، مرة في أولها ومرة في رسالة سيدنا سليمان إلى ملكة سبأ. 🐜👑"},{id:9,question:'ما هي السورة التي تسمى "عروس القرآن"؟',options:["يوسف","مريم","الرحمن"],correctAnswer:"الرحمن",explanation:'رائع! تسمى سورة الرحمن عروس القرآن لجمالها وتكرار آية "فبأي آلاء ربكما تكذبان" فيها، التي تذكرنا بنعم الله الكثيرة. 💖'},{id:10,question:"في أي ليلة نزل القرآن الكريم؟",options:["ليلة الإسراء والمعراج","ليلة القدر","ليلة النصف من شعبان"],correctAnswer:"ليلة القدر",explanation:"ممتاز! بدأ نزول القرآن في ليلة القدر المباركة، وهي ليلة عظيمة في العشر الأواخر من رمضان، والعبادة فيها خير من ألف شهر. 🌙✨"}]},{id:"fiqh_for_youth_quiz",title:"فقه الشباب",type:"quiz",ageGroup:"13-15",questions:[{id:1,question:"ما هو أول ما يحاسب عليه العبد يوم القيامة؟",options:["الصيام","الصلاة","بر الوالدين"],correctAnswer:"الصلاة",explanation:"صحيح، الصلاة هي عمود الدين وأول ما يسأل عنه العبد."},{id:2,question:"ما حكم صلاة الجماعة للرجال في المسجد على القول الراجح؟",options:["سنة مؤكدة","فرض عين","فرض كفاية"],correctAnswer:"فرض عين",explanation:"الراجح من أقوال العلماء أنها فرض عين على كل رجل قادر يسمع النداء."},{id:3,question:"ما هي شروط وجوب الصيام؟",options:["الإسلام، البلوغ، العقل، القدرة","الإسلام فقط","البلوغ فقط"],correctAnswer:"الإسلام، البلوغ، العقل، القدرة",explanation:"تجب على المسلم البالغ العاقل القادر على الصيام (المقيم غير المريض)."},{id:4,question:"ما حكم من أكل أو شرب ناسياً في نهار رمضان؟",options:["فسد صومه","صومه صحيح","عليه كفارة"],correctAnswer:"صومه صحيح",explanation:'لقول النبي ﷺ: "من نسي وهو صائم، فأكل أو شرب، فليتم صومه، فإنما أطعمه الله وسقاه".'}]},{id:"matching_pillars",title:"طابق أركان الإسلام",type:"matching",ageGroup:"3-5",matchingPairs:[{id:1,item1:"الشهادتان",item2:"الركن الأول"},{id:2,item1:"إقامة الصلاة",item2:"الركن الثاني"},{id:3,item1:"إيتاء الزكاة",item2:"الركن الثالث"},{id:4,item1:"صوم رمضان",item2:"الركن الرابع"},{id:5,item1:"حج البيت",item2:"الركن الخامس"}]},{id:"matching_animals_quran",title:"حيوانات ذكرت في القرآن",type:"matching",ageGroup:"6-8",matchingPairs:[{id:1,item1:"الفيل",item2:"سورة الفيل"},{id:2,item1:"النملة",item2:"قصة سيدنا سليمان"},{id:3,item1:"الهدهد",item2:"جاء بخبر ملكة سبأ"},{id:4,item1:"الناقة",item2:"معجزة سيدنا صالح"},{id:5,item1:"العنكبوت",item2:"حمى النبي في الغار"}]}],SS=[{id:"wakeup",title:"عند الاستيقاظ",dhikr:"الحمدُ للهِ الذي أحيَانَا بعدَ مَا أمَاتَنَا وإليهِ النُّشُورُ.",audio:"",benefit:"نشكر الله أنه أعطانا يومًا جديدًا.",ageGroup:"3-5"},{id:"sleep",title:"قبل النوم",dhikr:"بِاسْمِكَ رَبِّـي وَضَعْـتُ جَنْـبِي, وَبِكَ أَرْفَعُـهُ.",audio:"",benefit:"نطلب من الله أن يحفظنا ونحن نائمون.",ageGroup:"3-5"},{id:"before_eating",title:"قبل الأكل",dhikr:"بِسْمِ اللهِ.",audio:"",benefit:"نبدأ طعامنا بذكر اسم الله ليبارك فيه.",ageGroup:"3-5"},{id:"after_eating",title:"بعد الأكل",dhikr:"الحمدُ للهِ الذي أطْعَمَنِي هذا ورَزَقَنِيهِ مِنْ غَيْرِ حَوْلٍ مِنِّي ولا قُوَّة.",audio:"",benefit:"نشكر الله على نعمة الطعام اللذيذ.",ageGroup:"6-8"},{id:"enter_home",title:"عند دخول المنزل",dhikr:"بِسْمِ اللهِ وَلَجْنَا, وَبِسْمِ اللهِ خَرَجْنَا, وَعَلَى رَبِّنَا تَوَكَّلْنَا.",audio:"",benefit:"ندخل بيتنا بذكر الله ليدخل معنا الخير.",ageGroup:"6-8"},{id:"exit_home",title:"عند الخروج من المنزل",dhikr:"بِسْمِ اللهِ, تَوَكَّلْتُ عَلَى اللهِ, وَلَا حَوْلَ وَلَا قُوَّةَ إِلَّا بِاللهِ.",audio:"",benefit:"نطلب من الله أن يحفظنا ونحن في الخارج.",ageGroup:"6-8"},{id:"enter_toilet",title:"قبل دخول الحمام",dhikr:"اللَّهُمَّ إِنِّي أَعُوذُ بِكَ مِنَ الْخُبُثِ وَالْخَبَائِثِ.",audio:"",benefit:"نستعيذ بالله من الشياطين.",ageGroup:"6-8"},{id:"exit_toilet",title:"بعد الخروج من الحمام",dhikr:"غُفْرَانَكَ.",audio:"",benefit:"نطلب المغفرة من الله.",ageGroup:"3-5"},{id:"subhanallah",title:"تسبيح",dhikr:"سبحان الله",audio:"",benefit:"ننزه الله عن كل نقص.",ageGroup:"3-5"},{id:"alhamdulillah",title:"تحميد",dhikr:"الحمد لله",audio:"",benefit:"نشكر الله على كل نعمه.",ageGroup:"3-5"},{id:"allahuakbar",title:"تكبير",dhikr:"الله أكبر",audio:"",benefit:"نعظم الله ونقول إنه أكبر من كل شيء.",ageGroup:"3-5"},{id:"lailahaillallah",title:"تهليل",dhikr:"لا إله إلا الله",audio:"",benefit:"هي أفضل كلمة, ومعناها لا معبود بحق إلا الله.",ageGroup:"6-8"},{id:"salah_nabi",title:"الصلاة على النبي",dhikr:"اللَّهُمَّ صَلِّ وَسَلِّمْ عَلَى نَبِيِّنَا مُحَمَّدٍ",audio:"",benefit:"نصلي على نبينا الحبيب لننال شفاعته.",ageGroup:"9-12"},{id:"istighfar",title:"الاستغفار",dhikr:"أَسْتَغْفِرُ اللهَ وَأَتُوبُ إِلَيْهِ",audio:"",benefit:"طلب المغفرة من الله يمحو الذنوب ويزيد الرزق.",ageGroup:"13-15"}],dx=[{id:"arabic_letters",title:"الحروف العربية",ageGroup:"3-5",cards:[{id:1,front:"أ",back:"ألف"},{id:2,front:"ب",back:"باء"},{id:3,front:"ت",back:"تاء"},{id:4,front:"ث",back:"ثاء"},{id:5,front:"ج",back:"جيم"},{id:6,front:"ح",back:"حاء"},{id:7,front:"خ",back:"خاء"},{id:8,front:"د",back:"دال"},{id:9,front:"ذ",back:"ذال"},{id:10,front:"ر",back:"راء"},{id:11,front:"ز",back:"زاي"},{id:12,front:"س",back:"سين"},{id:13,front:"ش",back:"شين"},{id:14,front:"ص",back:"صاد"},{id:15,front:"ض",back:"ضاد"},{id:16,front:"ط",back:"طاء"},{id:17,front:"ظ",back:"ظاء"},{id:18,front:"ع",back:"عين"},{id:19,front:"غ",back:"غين"},{id:20,front:"ف",back:"فاء"},{id:21,front:"ق",back:"قاف"},{id:22,front:"ك",back:"كاف"},{id:23,front:"ل",back:"لام"},{id:24,front:"م",back:"ميم"},{id:25,front:"ن",back:"نون"},{id:26,front:"هـ",back:"هاء"},{id:27,front:"و",back:"واو"},{id:28,front:"ي",back:"ياء"}]},{id:"pillars_of_islam",title:"أركان الإسلام",ageGroup:"3-5",cards:[{id:1,front:"1",back:"الشهادتان"},{id:2,front:"2",back:"إقامة الصلاة"},{id:3,front:"3",back:"إيتاء الزكاة"},{id:4,front:"4",back:"صوم رمضان"},{id:5,front:"5",back:"حج البيت"}]},{id:"names_of_allah",title:"أسماء الله الحسنى",ageGroup:"9-12",cards:[{id:1,front:"الله",back:"المألوه المعبود"},{id:2,front:"الرَّحْمَنُ",back:"واسع الرحمة"},{id:3,front:"الرَّحِيمُ",back:"دائم الرحمة"},{id:4,front:"الْمَلِكُ",back:"مالك كل شيء"},{id:5,front:"الْقُدُّوسُ",back:"المنزه عن كل نقص"},{id:6,front:"السَّلَامُ",back:"السالم من كل عيب"},{id:7,front:"الْمُؤْمِنُ",back:"الذي يمنح الأمان"},{id:8,front:"الْمُهَيْمِنُ",back:"الرقيب الحافظ"},{id:9,front:"الْعَزِيزُ",back:"الغالب الذي لا يغلب"},{id:10,front:"الْجَبَّارُ",back:"صاحب الجبروت والعظمة"},{id:11,front:"الْمُتَكَبِّرُ",back:"المنفرد بالكبرياء"},{id:12,front:"الْخَالِقُ",back:"الموجد من العدم"},{id:13,front:"الْبَارِئُ",back:"الذي خلق الخلق بريئًا من التفاوت"},{id:14,front:"الْمُصَوِّرُ",back:"الذي صور المخلوقات"},{id:15,front:"الْغَفَّارُ",back:"كثير المغفرة"},{id:16,front:"الْقَهَّارُ",back:"الذي قهر كل شيء"},{id:17,front:"الْوَهَّابُ",back:"كثير العطاء"},{id:18,front:"الرَّزَّاقُ",back:"المتكفل بالرزق"},{id:19,front:"الْفَتَّاحُ",back:"الذي يفتح أبواب الخير"},{id:20,front:"الْعَلِيمُ",back:"واسع العلم"},{id:21,front:"الْقَابِضُ",back:"الذي يقبض الأرزاق والأرواح"},{id:22,front:"الْبَاسِطُ",back:"الذي يبسط الرزق"},{id:23,front:"الْخَافِضُ",back:"الذي يخفض المتكبرين"},{id:24,front:"الرَّافِعُ",back:"الذي يرفع المؤمنين"},{id:25,front:"الْمُعِزُّ",back:"الذي يهب العزة"},{id:26,front:"الْمُذِلُّ",back:"الذي يلحق الذل بمن يشاء"},{id:27,front:"السَّمِيعُ",back:"الذي يسمع كل شيء"},{id:28,front:"الْبَصِيرُ",back:"الذي يرى كل شيء"},{id:29,front:"الْحَكَمُ",back:"الحاكم بالعدل"},{id:30,front:"الْعَدْلُ",back:"المنزه عن الظلم"},{id:31,front:"اللَّطِيفُ",back:"البر بعباده"},{id:32,front:"الْخَبِيرُ",back:"العالم بدقائق الأمور"},{id:33,front:"الْحَلِيمُ",back:"الذي لا يعاجل بالعقوبة"},{id:34,front:"الْعَظِيمُ",back:"ذو العظمة المطلقة"},{id:35,front:"الْغَفُورُ",back:"كثير المغفرة"},{id:36,front:"الشَّكُورُ",back:"الذي يجازي على القليل بالكثير"},{id:37,front:"الْعَلِيُّ",back:"الرفيع فوق خلقه"},{id:38,front:"الْكَبِيرُ",back:"الأكبر من كل شيء"},{id:39,front:"الْحَفِيظُ",back:"الذي يحفظ عباده"},{id:40,front:"الْمُقِيتُ",back:"خالق الأقوات"},{id:41,front:"الْحَسِيبُ",back:"الكافي والمحاسب"},{id:42,front:"الْجَلِيلُ",back:"المتصف بصفات الجلال"},{id:43,front:"الْكَرِيمُ",back:"كثير الخير والجود"},{id:44,front:"الرَّقِيبُ",back:"المطلع على كل شيء"},{id:45,front:"الْمُجِيبُ",back:"الذي يجيب الدعاء"},{id:46,front:"الْوَاسِعُ",back:"واسع الفضل والرحمة"},{id:47,front:"الْحَكِيمُ",back:"صاحب الحكمة"},{id:48,front:"الْوَدُودُ",back:"المحب لعباده"},{id:49,front:"الْمَجِيدُ",back:"ذو المجد والعظمة"},{id:50,front:"الْبَاعِثُ",back:"الذي يبعث الموتى"},{id:51,front:"الشَّهِيدُ",back:"الشاهد على كل شيء"},{id:52,front:"الْحَقُّ",back:"الثابت وجوده"},{id:53,front:"الْوَكِيلُ",back:"المتكفل بأمور خلقه"},{id:54,front:"الْقَوِيُّ",back:"صاحب القوة التامة"},{id:55,front:"الْمَتِينُ",back:"شديد القوة"},{id:56,front:"الْوَلِيُّ",back:"الناصر والمعين"},{id:57,front:"الْحَمِيدُ",back:"المحمود في كل حال"},{id:58,front:"الْمُحْصِي",back:"الذي أحصى كل شيء"},{id:59,front:"الْمُبْدِئُ",back:"الذي بدأ الخلق"},{id:60,front:"الْمُعِيدُ",back:"الذي يعيد الخلق بعد الموت"},{id:61,front:"الْمُحْيِي",back:"واهب الحياة"},{id:62,front:"الْمُمِيتُ",back:"خالق الموت"},{id:63,front:"الْحَيُّ",back:"ذو الحياة الكاملة"},{id:64,front:"الْقَيُّومُ",back:"القائم بنفسه والمقيم لغيره"},{id:65,front:"الْوَاجِدُ",back:"الغني الذي لا يفتقر"},{id:66,front:"الْمَاجِدُ",back:"ذو المجد والرفعة"},{id:67,front:"الْوَاحِدُ",back:"المنفرد في ذاته وصفاته"},{id:68,front:"الْأَحَدُ",back:"الذي لا نظير له"},{id:69,front:"الصَّمَدُ",back:"المقصود في الحوائج"},{id:70,front:"الْقَادِرُ",back:"صاحب القدرة"},{id:71,front:"الْمُقْتَدِرُ",back:"كامل القدرة"},{id:72,front:"الْمُقَدِّمُ",back:"الذي يقدم من يشاء"},{id:73,front:"الْمُؤَخِّرُ",back:"الذي يؤخر من يشاء"},{id:74,front:"الْأَوَّلُ",back:"الذي ليس قبله شيء"},{id:75,front:"الْآخِرُ",back:"الذي ليس بعده شيء"},{id:76,front:"الظَّاهِرُ",back:"الذي ليس فوقه شيء"},{id:77,front:"الْبَاطِنُ",back:"الذي ليس دونه شيء"},{id:78,front:"الْوَالِي",back:"المالك لكل شيء"},{id:79,front:"الْمُتَعَالِي",back:"المنزه عن صفات الخلق"},{id:80,front:"الْبَرُّ",back:"كثير الإحسان"},{id:81,front:"التَّوَّابُ",back:"الذي يقبل التوبة"},{id:82,front:"الْمُنتَقِمُ",back:"الذي ينتقم من العصاة"},{id:83,front:"الْعَفُوُّ",back:"الذي يمحو السيئات"},{id:84,front:"الرَّءُوفُ",back:"شديد الرحمة"},{id:85,front:"مَالِكُ الْمُلْكِ",back:"صاحب الملك المطلق"},{id:86,front:"ذُو الْجَلَالِ وَالْإِكْرَامِ",back:"صاحب العظمة والإكرام"},{id:87,front:"الْمُقْسِطُ",back:"العادل في حكمه"},{id:88,front:"الْجَامِعُ",back:"الذي يجمع الخلائق"},{id:89,front:"الْغَنِيُّ",back:"الذي لا يحتاج لشيء"},{id:90,front:"الْمُغْنِي",back:"الذي يغني عباده"},{id:91,front:"الْمَانِعُ",back:"الذي يمنع العطاء"},{id:92,front:"الضَّارُّ",back:"الذي يقدر الضر"},{id:93,front:"النَّافِعُ",back:"الذي يقدر النفع"},{id:94,front:"النُّورُ",back:"الذي يهدي بنوره"},{id:95,front:"الْهَادِي",back:"المرشد إلى الحق"},{id:96,front:"الْبَدِيعُ",back:"الخالق بلا مثال"},{id:97,front:"الْبَاقِي",back:"الدائم بلا فناء"},{id:98,front:"الْوَارِثُ",back:"الذي يبقى بعد فناء الخلق"},{id:99,front:"الرَّشِيدُ",back:"الذي يرشد إلى الصواب"},{id:100,front:"الصَّبُورُ",back:"الذي لا يستعجل بالعقوبة"}]},{id:"islamic_months",title:"الشهور الهجرية",ageGroup:"6-8",cards:[{id:1,front:"1",back:"محرّم"},{id:2,front:"2",back:"صفر"},{id:3,front:"3",back:"ربيع الأول"},{id:4,front:"4",back:"ربيع الآخر"},{id:5,front:"5",back:"جمادى الأولى"},{id:6,front:"6",back:"جمادى الآخرة"},{id:7,front:"7",back:"رجب"},{id:8,front:"8",back:"شعبان"},{id:9,front:"9",back:"رمضان"},{id:10,front:"10",back:"شوال"},{id:11,front:"11",back:"ذو القعدة"},{id:12,front:"12",back:"ذو الحجة"}]},{id:"prayer_times",title:"أوقات الصلوات",ageGroup:"6-8",cards:[{id:1,front:"الفجر",back:"صلاة الصباح الباكر"},{id:2,front:"الظهر",back:"صلاة منتصف النهار"},{id:3,front:"العصر",back:"صلاة بعد الظهر"},{id:4,front:"المغرب",back:"صلاة عند غروب الشمس"},{id:5,front:"العشاء",back:"صلاة الليل"}]},{id:"fiqh_terms",title:"مصطلحات فقهية",ageGroup:"13-15",cards:[{id:1,front:"فرض",back:"ما أمر به الشارع على وجه الإلزام، يثاب فاعله ويعاقب تاركه."},{id:2,front:"سنة",back:"ما فعله النبي ﷺ وداوم عليه، يثاب فاعله ولا يعاقب تاركه."},{id:3,front:"مباح",back:"ما استوى طرفاه، لا ثواب في فعله ولا عقاب في تركه."},{id:4,front:"مكروه",back:"ما طلب الشارع تركه طلبًا غير جازم، يثاب تاركه ولا يعاقب فاعله."},{id:5,front:"حرام",back:"ما نهى عنه الشارع على وجه الإلزام، يثاب تاركه ويعاقب فاعله."}]}],bS=()=>l.jsx("span",{className:"text-4xl",children:"📚"}),ES=()=>l.jsx("span",{className:"text-4xl",children:"🎲"}),TS=()=>l.jsx("span",{className:"text-4xl",children:"🤲"}),NS=()=>l.jsx("span",{className:"text-4xl",children:"📇"}),AS=()=>l.jsx("span",{className:"text-4xl",children:"🦸‍♂️"}),Sc=()=>l.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"})}),wS={"boy-young":{bg:"bg-sky-100",primary:"text-sky-600",accent:"bg-sky-200"},"girl-young":{bg:"bg-pink-100",primary:"text-pink-600",accent:"bg-pink-200"},"boy-explorer":{bg:"bg-teal-100",primary:"text-teal-700",accent:"bg-teal-200"},"girl-explorer":{bg:"bg-purple-100",primary:"text-purple-700",accent:"bg-purple-200"},"boy-gem":{bg:"bg-blue-100",primary:"text-blue-800",accent:"bg-blue-200"},"girl-gem":{bg:"bg-fuchsia-100",primary:"text-fuchsia-800",accent:"bg-fuchsia-200"}},CS=e=>e.age<=5?e.gender==="male"?"boy-young":"girl-young":e.age<=12?e.gender==="male"?"boy-explorer":"girl-explorer":e.gender==="male"?"boy-gem":"girl-gem",ru=(e,t)=>{const[n,a]=T.useState(()=>{try{const i=localStorage.getItem(e);return i?JSON.parse(i):t}catch(i){return console.error(i),t}});return T.useEffect(()=>{localStorage.setItem(e,JSON.stringify(n))},[e,n]),[n,a]},_S=e=>{const t=e?`kidsProgress_${e}`:"kidsProgress_guest",[n,a]=ru(t,{storiesCompleted:[],gamesCorrectAnswers:{},dhikrCompleted:[],flashcardsCompleted:[]});return T.useEffect(()=>{e===null&&a({storiesCompleted:[],gamesCorrectAnswers:{},dhikrCompleted:[],flashcardsCompleted:[]})},[e,a]),[n,a]},xi=(e,t)=>{const n=[];return t<=5&&n.push("3-5"),t>=6&&t<=8&&n.push("3-5","6-8"),t>=9&&t<=12&&n.push("6-8","9-12"),t>=13&&n.push("9-12","13-15"),e.filter(a=>n.includes(a.ageGroup))},uu=e=>[...e].sort(()=>Math.random()-.5),no=e=>{if("speechSynthesis"in window){window.speechSynthesis.cancel();const t=new SpeechSynthesisUtterance(e);t.lang="ar-SA",t.rate=.9,window.speechSynthesis.speak(t)}else alert("متصفحك لا يدعم نطق النصوص.")},Mf=({stories:e,progress:t,onComplete:n,onBack:a,theme:i})=>{const[o,s]=T.useState(null),[u,d]=T.useState(null),[f,m]=T.useState(null),p=g=>{if(f!==null)return;d(g);const v=g===(o==null?void 0:o.question.correctAnswer);m(v),v&&n(o.id)},h=()=>{s(null),d(null),m(null)};return o?l.jsxs("div",{children:[l.jsxs("button",{onClick:h,className:"flex items-center gap-2 text-text-secondary hover:text-text-primary mb-4 font-tajawal",children:[l.jsx(Ee,{className:"w-5 h-5"}),l.jsx("span",{children:"العودة للقصص"})]}),l.jsxs("div",{className:"bg-card p-6 rounded-lg shadow-lg",children:[l.jsx("div",{className:"text-6xl text-center mb-4",children:o.illustration}),l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:`text-2xl font-bold ${i.primary} font-tajawal`,children:o.title}),l.jsxs("button",{onClick:()=>no(o.title+". "+o.content),className:`p-2 ${i.primary} hover:${i.accent} rounded-full flex items-center gap-2`,"aria-label":"استمع للقصة",children:[l.jsx(Sc,{}),l.jsx("span",{className:"font-tajawal text-sm font-semibold hidden sm:inline",children:"استمع للقصة"})]})]}),l.jsx("p",{className:"text-text-primary whitespace-pre-line leading-relaxed font-tajawal text-lg mb-4",children:o.content}),l.jsxs("p",{className:"bg-yellow-100 text-yellow-800 p-3 rounded-lg font-semibold font-tajawal",children:["💡 الدرس المستفاد: ",o.moral]}),l.jsxs("div",{className:"mt-6 border-t border-border-color pt-4",children:[l.jsx("h4",{className:"font-bold text-text-primary font-tajawal mb-3",children:"سؤال عن القصة:"}),l.jsx("p",{className:"font-semibold text-text-primary font-tajawal mb-4",children:o.question.text}),l.jsx("div",{className:"space-y-2",children:o.question.options.map(g=>l.jsx("button",{onClick:()=>p(g),className:`w-full text-right p-3 rounded-lg font-tajawal transition-colors ${f!==null&&g===o.question.correctAnswer?"bg-green-200 ring-2 ring-green-500":f===!1&&u===g?"bg-red-200 ring-2 ring-red-500":"bg-background hover:bg-border-color"}`,children:g},g))}),f===!0&&l.jsx("p",{className:"text-green-600 font-bold text-center mt-4 font-tajawal",children:"أحسنت! إجابة صحيحة!"}),f===!1&&l.jsx("p",{className:"text-red-600 font-bold text-center mt-4 font-tajawal",children:"حاول مرة أخرى!"})]})]})]}):l.jsxs("div",{children:[l.jsxs("button",{onClick:a,className:"flex items-center gap-2 text-text-secondary hover:text-text-primary mb-4 font-tajawal",children:[l.jsx(Ee,{className:"w-5 h-5"}),l.jsx("span",{children:"العودة للقائمة"})]}),l.jsx("h2",{className:`text-2xl font-bold ${i.primary} mb-4 font-tajawal`,children:"قصص القرآن المبسطة"}),e.length>0?l.jsx("div",{className:"space-y-3",children:e.map(g=>l.jsxs("button",{onClick:()=>s(g),className:"w-full text-right bg-card p-4 rounded-lg shadow-md flex justify-between items-center hover:shadow-lg transition-shadow",children:[l.jsx("span",{className:"font-bold text-lg font-tajawal text-text-primary",children:g.title}),t.storiesCompleted.includes(g.id)&&l.jsx(Zn,{className:"w-6 h-6 text-green-500"})]},g.id))}):l.jsx("p",{className:"text-center text-text-secondary font-tajawal p-8 bg-card rounded-lg",children:"لا توجد قصص مناسبة لهذا العمر حاليًا."})]})},MS=({game:e,progress:t,onComplete:n,theme:a})=>{var y,x;const[i,o]=T.useState(()=>{var S;return uu(((S=e.questions)==null?void 0:S.filter(E=>!t.includes(E.id)))||[])}),[s,u]=T.useState(null),[d,f]=T.useState(!1),m=i[0],p=S=>{d||(u(S),f(!0),m&&S===m.correctAnswer&&n(m.id))},h=()=>{o(S=>S.slice(1)),u(null),f(!1)};if(!m)return l.jsx("div",{className:"bg-card p-6 rounded-lg text-center font-tajawal",children:l.jsx("h3",{className:`text-xl font-bold ${a.primary}`,children:"رائع! لقد أكملت كل الأسئلة في هذه اللعبة."})});const g=((y=e.questions)==null?void 0:y.length)||0,v=(((x=e.questions)==null?void 0:x.filter(S=>!t.includes(S.id)))||[]).length-i.length,N=t.length+v+1,b=d&&s===m.correctAnswer;return l.jsxs("div",{className:"bg-card p-6 rounded-lg shadow-lg font-tajawal",children:[l.jsxs("p",{className:"text-sm text-text-secondary mb-3",children:["سؤال ",N," / ",g]}),l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-xl font-bold text-text-primary",children:m.question}),l.jsx("button",{onClick:()=>no(m.question),className:`p-2 ${a.primary} hover:${a.accent} rounded-full flex-shrink-0`,children:l.jsx(Sc,{})})]}),l.jsx("div",{className:"space-y-3",children:m.options.map(S=>l.jsx("button",{onClick:()=>p(S),disabled:d,className:`w-full text-right p-3 rounded-lg transition-colors ${d&&S===m.correctAnswer?"bg-green-200 ring-2 ring-green-500":d&&s===S?"bg-red-200 ring-2 ring-red-500":"bg-background hover:bg-border-color"}`,children:S},S))}),d&&l.jsxs("div",{className:"text-center mt-4 animate-fade-in",children:[l.jsxs("div",{className:"bg-yellow-100 text-yellow-800 p-3 rounded-lg font-semibold font-tajawal text-right mb-4",children:[l.jsxs("p",{className:"font-bold",children:["💡 ",b?"أحسنت! ✅":"معلومة مفيدة:"]}),l.jsx("p",{children:m.explanation})]}),l.jsx("button",{onClick:h,className:`mt-2 ${a.accent} ${a.primary} font-bold py-2 px-6 rounded-md`,children:i.length>1?"السؤال التالي":"إنهاء اللعبة"})]})]})},RS=({game:e,progress:t,onComplete:n,theme:a})=>{const i=T.useMemo(()=>e.matchingPairs||[],[e]),[o]=T.useState(()=>uu(i)),[s]=T.useState(()=>uu(i)),[u,d]=T.useState(null),[f,m]=T.useState(null),[p,h]=T.useState(t),[g,v]=T.useState(!1);if(T.useEffect(()=>{u&&f&&(u.id===f.id?(h(b=>[...b,u.id]),n(u.id)):(v(!0),setTimeout(()=>v(!1),800)),d(null),m(null))},[u,f,n]),p.length===i.length)return l.jsx("div",{className:"bg-card p-6 rounded-lg text-center font-tajawal",children:l.jsx("h3",{className:`text-xl font-bold ${a.primary}`,children:"أحسنت! لقد طابقت كل البطاقات بنجاح."})});const N=(b,y)=>{const x=p.includes(b.id),S=y&&(u==null?void 0:u.id)===b.id||!y&&(f==null?void 0:f.id)===b.id;return x?"bg-green-200 text-green-800 opacity-70":S?`ring-2 ring-primary ${g?"bg-red-200":a.accent}`:"bg-card hover:bg-border-color"};return l.jsxs("div",{className:"bg-card p-4 rounded-lg shadow-lg font-tajawal",children:[l.jsx("h3",{className:`text-xl font-bold text-center ${a.primary} mb-4`,children:"طابق بين العمودين"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx("div",{className:"space-y-3",children:o.map(b=>l.jsx("button",{onClick:()=>!p.includes(b.id)&&d(b),disabled:p.includes(b.id),className:`w-full p-3 rounded-lg shadow transition-all ${N(b,!0)}`,children:b.item1},`1-${b.id}`))}),l.jsx("div",{className:"space-y-3",children:s.map(b=>l.jsx("button",{onClick:()=>!p.includes(b.id)&&m(b),disabled:p.includes(b.id),className:`w-full p-3 rounded-lg shadow transition-all ${N(b,!1)}`,children:b.item2},`2-${b.id}`))})]})]})},IS=({games:e,progress:t,onComplete:n,onBack:a,theme:i})=>{const[o,s]=T.useState(null),u=d=>{s(d)};return o?l.jsxs("div",{children:[l.jsxs("button",{onClick:()=>s(null),className:"flex items-center gap-2 text-text-secondary hover:text-text-primary mb-4 font-tajawal",children:[l.jsx(Ee,{className:"w-5 h-5"}),l.jsx("span",{children:"العودة للألعاب"})]}),o.type==="quiz"&&l.jsx(MS,{game:o,progress:t[o.id]||[],onComplete:d=>n(o.id,d),theme:i}),o.type==="matching"&&l.jsx(RS,{game:o,progress:t[o.id]||[],onComplete:d=>n(o.id,d),theme:i})]}):l.jsxs("div",{children:[l.jsxs("button",{onClick:a,className:"flex items-center gap-2 text-text-secondary hover:text-text-primary mb-4 font-tajawal",children:[l.jsx(Ee,{className:"w-5 h-5"}),l.jsx("span",{children:"العودة للقائمة"})]}),l.jsx("h2",{className:`text-2xl font-bold ${i.primary} mb-4 font-tajawal`,children:"الألعاب التعليمية"}),e.length>0?l.jsx("div",{className:"space-y-3",children:e.map(d=>{var f,m,p,h;return l.jsxs("button",{onClick:()=>u(d),className:"w-full text-right bg-card p-4 rounded-lg shadow-md flex justify-between items-center hover:shadow-lg transition-shadow",children:[l.jsx("span",{className:"font-bold text-lg font-tajawal text-text-primary",children:d.title}),(((f=t[d.id])==null?void 0:f.length)||0)>0&&l.jsxs("span",{className:"text-xs font-mono bg-green-100 text-green-700 px-2 py-1 rounded-full",children:[(m=t[d.id])==null?void 0:m.length," / ",((p=d.questions)==null?void 0:p.length)||((h=d.matchingPairs)==null?void 0:h.length)]})]},d.id)})}):l.jsx("p",{className:"text-center text-text-secondary font-tajawal p-8 bg-card rounded-lg",children:"لا توجد ألعاب مناسبة لهذا العمر حاليًا."})]})},kS=({dhikrs:e,progress:t,onComplete:n,onBack:a,theme:i})=>l.jsxs("div",{children:[l.jsxs("button",{onClick:a,className:"flex items-center gap-2 text-text-secondary hover:text-text-primary mb-4 font-tajawal",children:[l.jsx(Ee,{className:"w-5 h-5"}),l.jsx("span",{children:"العودة للقائمة"})]}),l.jsx("h2",{className:`text-2xl font-bold ${i.primary} mb-4 font-tajawal`,children:"أذكار الطفل المسلم"}),e.length>0?l.jsx("div",{className:"space-y-3",children:e.map(o=>{const s=t.includes(o.id);return l.jsxs("div",{className:"bg-card p-4 rounded-lg shadow-md",children:[l.jsx("h3",{className:"font-bold text-lg font-tajawal text-text-primary",children:o.title}),l.jsx("p",{className:"text-xl font-amiri-quran text-text-secondary my-3",children:o.dhikr}),l.jsxs("p",{className:"text-sm text-green-700 bg-green-100 p-2 rounded-md font-tajawal",children:["💡 ",o.benefit]}),l.jsxs("div",{className:"flex justify-end items-center gap-2 mt-3",children:[l.jsx("button",{onClick:()=>no(o.dhikr),className:`p-2 ${i.primary} hover:${i.accent} rounded-full`,"aria-label":"استمع للذكر",children:l.jsx(Sc,{})}),l.jsx("button",{onClick:()=>n(o.id),disabled:s,className:`px-4 py-2 text-sm font-bold rounded-md transition-colors ${s?"bg-green-200 text-green-800 cursor-not-allowed":`${i.accent} ${i.primary} hover:bg-opacity-80`}`,children:s?"أتممت":"أتممت الذكر"})]})]},o.id)})}):l.jsx("p",{className:"text-center text-text-secondary font-tajawal p-8 bg-card rounded-lg",children:"لا توجد أذكار مناسبة لهذا العمر حاليًا."})]}),DS=({setId:e,onBack:t,progress:n,onComplete:a,theme:i})=>{const o=dx.find(g=>g.id===e),[s,u]=T.useState(0),[d,f]=T.useState(!1);if(!o)return null;const m=o.cards[s],p=()=>{f(!1),u(g=>(g+1)%o.cards.length)},h=()=>{f(!1),u(g=>(g-1+o.cards.length)%o.cards.length)};return T.useEffect(()=>{no(d?m.back:m.front)},[d,m]),l.jsxs("div",{className:"font-tajawal",children:[l.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-text-secondary hover:text-text-primary mb-4",children:[l.jsx(Ee,{className:"w-5 h-5"}),l.jsx("span",{children:"العودة للبطاقات"})]}),l.jsx("h2",{className:`text-2xl font-bold ${i.primary} mb-4 text-center`,children:o.title}),l.jsx("div",{className:"perspective-1000",children:l.jsxs("div",{onClick:()=>f(!d),className:`relative w-full h-48 sm:h-64 transition-transform duration-700 transform-style-3d cursor-pointer ${d?"rotate-y-180":""}`,children:[l.jsx("div",{className:"absolute w-full h-full backface-hidden bg-card rounded-xl shadow-lg flex items-center justify-center",children:l.jsx("p",{className:"text-6xl font-amiri-quran",children:m.front})}),l.jsx("div",{className:`absolute w-full h-full backface-hidden text-white rounded-xl shadow-lg flex items-center justify-center rotate-y-180 ${i.accent.replace("bg-","bg-").replace("-200","-500")}`,children:l.jsx("p",{className:"text-4xl font-tajawal p-4 text-center",children:m.back})})]})}),l.jsxs("div",{className:"flex justify-between items-center mt-6",children:[l.jsxs("button",{onClick:h,className:"bg-card p-3 rounded-full shadow-md",children:[" ",l.jsx(Ee,{className:"w-6 h-6"})]}),l.jsxs("span",{className:"font-mono text-text-secondary",children:[s+1," / ",o.cards.length]}),l.jsx("button",{onClick:p,className:"bg-card p-3 rounded-full shadow-md",children:l.jsx(Ee,{className:"w-6 h-6 transform rotate-180"})})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsx("button",{onClick:a,disabled:n,className:`px-6 py-3 text-lg font-bold rounded-md transition-colors ${n?"bg-green-200 text-green-800 cursor-not-allowed":`${i.accent} ${i.primary} hover:bg-opacity-80`}`,children:n?"أتقنت المجموعة ✓":"أتقنت هذه المجموعة"})})]})},qS=({profiles:e,onSelectProfile:t,onAddProfile:n,onDeleteProfile:a})=>{const[i,o]=T.useState(""),[s,u]=T.useState(5),[d,f]=T.useState("male"),[m,p]=T.useState(""),h=g=>{g.preventDefault();const v=Number(s);i.trim()&&v>=3&&v<=15?(n(i.trim(),v,d),o(""),u(5),p("")):p("الرجاء إدخال اسم صحيح وعمر بين 3 و 15 سنة.")};return l.jsxs("div",{className:"max-w-md mx-auto min-h-screen flex flex-col justify-center items-center p-4 font-tajawal animate-fade-in",children:[l.jsx("h1",{className:"text-3xl font-bold text-primary mb-4",children:"عالم الطفل"}),l.jsx("p",{className:"text-text-secondary mb-8 text-center",children:"اختر ملف طفلك أو أضف ملفًا جديدًا لبدء المغامرة!"}),l.jsxs("div",{className:"w-full bg-card p-6 rounded-lg shadow-lg",children:[l.jsx("h2",{className:"text-xl font-bold mb-4",children:"ملفات الأطفال"}),l.jsx("div",{className:"space-y-3 mb-6",children:e.length>0?e.map(g=>l.jsxs("div",{className:"flex items-center justify-between bg-background p-3 rounded-md",children:[l.jsxs("button",{onClick:()=>t(g),className:"flex-grow text-right hover:text-primary flex items-center gap-3",children:[l.jsx("span",{className:"text-2xl",children:g.gender==="male"?"👦":"👧"}),l.jsxs("div",{children:[l.jsx("span",{className:"font-bold",children:g.name}),l.jsxs("span",{className:"text-sm text-text-secondary mr-2",children:["(",g.age," سنوات)"]})]})]}),l.jsx("button",{onClick:()=>a(g.id),className:"p-1 text-red-500 hover:bg-red-500/10 rounded-full",children:l.jsx(nl,{className:"w-5 h-5"})})]},g.id)):l.jsx("p",{className:"text-center text-text-secondary p-4",children:"لا توجد ملفات. أضف ملفًا جديدًا."})}),l.jsxs("form",{onSubmit:h,className:"border-t border-border-color pt-4",children:[l.jsx("h2",{className:"text-xl font-bold mb-4",children:"إضافة طفل جديد"}),m&&l.jsx("p",{className:"text-red-500 text-sm mb-2",children:m}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("input",{type:"text",value:i,onChange:g=>o(g.target.value),placeholder:"اسم الطفل",className:"w-full p-3 bg-background border border-border-color rounded-lg text-text-primary placeholder-text-secondary focus:outline-none focus:ring-2 focus:ring-primary/50 transition"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("label",{className:"font-semibold",children:"العمر:"}),l.jsx("input",{type:"number",value:s,onChange:g=>u(g.target.value),min:"3",max:"15",className:"w-20 p-3 bg-background border border-border-color rounded-lg text-text-primary focus:outline-none focus:ring-2 focus:ring-primary/50 transition"})]}),l.jsx("p",{className:"text-xs text-text-secondary -mt-2",children:"العمر المسموح به من 3 إلى 15 سنة."}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("label",{className:"font-semibold",children:"النوع:"}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"radio",name:"gender",value:"male",checked:d==="male",onChange:()=>f("male"),className:"form-radio text-primary focus:ring-primary"}),l.jsx("span",{children:"ذكر 👦"})]}),l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"radio",name:"gender",value:"female",checked:d==="female",onChange:()=>f("female"),className:"form-radio text-pink-500 focus:ring-pink-500"}),l.jsx("span",{children:"أنثى 👧"})]})]})]}),l.jsx("button",{type:"submit",className:"w-full bg-primary text-white font-bold py-3 px-4 rounded-lg hover:opacity-90 transition",children:"إضافة"})]})]})]}),l.jsxs("div",{className:"mt-8 p-4 bg-background border border-dashed border-border-color rounded-lg text-center text-sm",children:[l.jsx("p",{className:"font-bold text-text-primary mb-1",children:"💡 نصيحة بسيطة:"}),l.jsx("p",{className:"text-text-secondary",children:'"يُفضل أن يستخدم الطفل الهاتف أو الجهاز اللوحي دائمًا في وجود أحد الوالدين، لضمان تجربة تعليمية آمنة وممتعة."'})]})]})},US=()=>{const[e,t]=T.useState("menu"),[n,a]=T.useState(null),[i,o]=ru("kidsProfiles",[]),[s,u]=ru("kidsActiveProfile",null),[d,f]=_S((s==null?void 0:s.id)??null),m=T.useMemo(()=>s?CS(s):"boy-young",[s]),p=wS[m],h=(L,R,B)=>{const G={id:Date.now(),name:L,age:R,gender:B},se=[...i,G];o(se),u(G)},g=L=>{u(L)},v=L=>{window.confirm("هل أنت متأكد من حذف ملف هذا الطفل وكل تقدمه؟")&&(o(i.filter(R=>R.id!==L)),localStorage.removeItem(`kidsProgress_${L}`),(s==null?void 0:s.id)===L&&u(null))},N=()=>{u(null),t("menu")},b=T.useMemo(()=>s?xi(_f.filter(L=>L.ageGroup!=="13-15"),s.age):[],[s]),y=T.useMemo(()=>s?xi(_f.filter(L=>L.ageGroup==="13-15"||L.ageGroup==="9-12"),s.age):[],[s]),x=T.useMemo(()=>s?xi(vS,s.age):[],[s]),S=T.useMemo(()=>s?xi(SS,s.age):[],[s]),E=T.useMemo(()=>s?xi(dx,s.age):[],[s]),_=L=>f(R=>({...R,storiesCompleted:Array.from(new Set([...R.storiesCompleted,L]))})),U=(L,R)=>{f(B=>{const G=B.gamesCorrectAnswers[L]||[];return{...B,gamesCorrectAnswers:{...B.gamesCorrectAnswers,[L]:Array.from(new Set([...G,R]))}}})},w=L=>f(R=>({...R,dhikrCompleted:Array.from(new Set([...R.dhikrCompleted,L]))})),q=L=>f(R=>({...R,flashcardsCompleted:Array.from(new Set([...R.flashcardsCompleted,L]))})),A=b.length+y.length+x.reduce((L,R)=>{var B,G;return L+(((B=R.questions)==null?void 0:B.length)||((G=R.matchingPairs)==null?void 0:G.length)||0)},0)+S.length+E.length,I=d.storiesCompleted.length+Object.values(d.gamesCorrectAnswers).reduce((L,R)=>L+R.length,0)+d.dhikrCompleted.length+d.flashcardsCompleted.length,j=A>0?Math.round(I/A*100):0,M=T.useMemo(()=>{if(!s)return[];const L=s.age;return[{id:"stories",icon:l.jsx(bS,{}),label:"قصص القرآن",view:"stories",condition:L<=12},{id:"heroes",icon:l.jsx(AS,{}),label:"أبطال الإسلام",view:"heroes",condition:L>=9},{id:"games",icon:l.jsx(ES,{}),label:"ألعاب تعليمية",view:"games",condition:!0},{id:"dhikr",icon:l.jsx(TS,{}),label:"أذكار الطفل",view:"dhikr",condition:!0},{id:"flashcards",icon:l.jsx(NS,{}),label:"بطاقات تعليمية",view:"flashcards",condition:!0}].filter(B=>B.condition)},[s]);if(!s)return l.jsx("div",{className:"transition-colors duration-300 bg-sky-100",children:l.jsx(qS,{profiles:i,onSelectProfile:g,onAddProfile:h,onDeleteProfile:v})});const z=()=>l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-card p-4 rounded-xl shadow-lg mb-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:`text-2xl font-bold font-tajawal ${p.primary}`,children:["أهلاً بك, ",s.name,"!"]}),l.jsx("p",{className:"text-text-secondary font-tajawal mt-1",children:"مغامرات قرآنية وتعاليم إسلامية شيقة"})]}),l.jsx("button",{onClick:N,className:"text-sm font-semibold bg-border-color text-text-primary px-3 py-2 rounded-md hover:bg-primary/20",children:"تغيير الطفل"})]}),l.jsxs("div",{className:"mt-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-2 text-center font-tajawal",children:"شريط التقدم"}),l.jsx("div",{className:"w-full bg-border-color rounded-full h-4",children:l.jsx("div",{className:`${p.accent.replace("-200","-500")} h-4 rounded-full text-white text-xs flex items-center justify-center transition-all duration-500`,style:{width:`${j}%`},children:j>10?`${j}%`:""})})]})]}),l.jsx("div",{className:"grid grid-cols-2 gap-4",children:M.map(L=>l.jsxs("button",{onClick:()=>t(L.view),className:"p-4 bg-card rounded-lg shadow-md flex flex-col items-center justify-center aspect-square hover:shadow-lg transition-shadow",children:[L.icon,l.jsx("span",{className:"font-bold mt-2 font-tajawal text-center",children:L.label})]},L.id))})]}),K=()=>{switch(e){case"stories":return l.jsx(Mf,{stories:b,progress:d,onComplete:_,onBack:()=>t("menu"),theme:p});case"heroes":return l.jsx(Mf,{stories:y,progress:d,onComplete:_,onBack:()=>t("menu"),theme:p});case"games":return l.jsx(IS,{games:x,progress:d.gamesCorrectAnswers,onComplete:U,onBack:()=>t("menu"),theme:p});case"dhikr":return l.jsx(kS,{dhikrs:S,progress:d.dhikrCompleted,onComplete:w,onBack:()=>t("menu"),theme:p});case"flashcards":return l.jsxs("div",{children:[l.jsxs("button",{onClick:()=>t("menu"),className:"flex items-center gap-2 text-text-secondary hover:text-text-primary mb-4 font-tajawal",children:[l.jsx(Ee,{className:"w-5 h-5"}),l.jsx("span",{children:"العودة للقائمة"})]}),l.jsx("h2",{className:`text-2xl font-bold ${p.primary} mb-4 font-tajawal`,children:"البطاقات التعليمية"}),E.length>0?l.jsx("div",{className:"space-y-3",children:E.map(L=>l.jsxs("button",{onClick:()=>{a(L.id),t("flashcard_set")},className:"w-full text-right bg-card p-4 rounded-lg shadow-md flex justify-between items-center hover:shadow-lg transition-shadow",children:[l.jsx("span",{className:"font-bold text-lg font-tajawal text-text-primary",children:L.title}),d.flashcardsCompleted.includes(L.id)&&l.jsx(Zn,{className:"w-6 h-6 text-green-500"})]},L.id))}):l.jsx("p",{className:"text-center text-text-secondary font-tajawal p-8 bg-card rounded-lg",children:"لا توجد بطاقات مناسبة لهذا العمر حاليًا."})]});case"flashcard_set":return n&&l.jsx(DS,{setId:n,onBack:()=>t("flashcards"),progress:d.flashcardsCompleted.includes(n),onComplete:()=>q(n),theme:p});default:return z()}};return l.jsxs("div",{className:`transition-colors duration-500 ${p.bg}`,children:[l.jsx("style",{children:`
            .perspective-1000 { perspective: 1000px; }
            .transform-style-3d { transform-style: preserve-3d; }
            .rotate-y-180 { transform: rotateY(180deg); }
            .backface-hidden { backface-visibility: hidden; -webkit-backface-visibility: hidden; }
            .form-radio.text-pink-500:checked { border-color: #ec4899; }
            .form-radio.text-pink-500:checked:hover { border-color: #ec4899; }
            .form-radio.text-pink-500:focus { box-shadow: 0 0 0 3px rgba(236, 72, 153, 0.5); }
        `}),l.jsx("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 min-h-screen animate-fade-in pb-8",children:K()})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let LS,jS;function VS(){return{geminiUrl:LS,vertexUrl:jS}}function zS(e,t,n,a){var i,o;if(!(e!=null&&e.baseUrl)){const s=VS();return t?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(o=s.geminiUrl)!==null&&o!==void 0?o:a}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oa{}function P(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(a,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const o=t[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function c(e,t,n){for(let o=0;o<t.length-1;o++){const s=t[o];if(s.endsWith("[]")){const u=s.slice(0,-2);if(!(u in e))if(Array.isArray(n))e[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(e[u])){const d=e[u];if(Array.isArray(n))for(let f=0;f<d.length;f++){const m=d[f];c(m,t.slice(o+1),n[f])}else for(const f of d)c(f,t.slice(o+1),n)}return}else if(s.endsWith("[0]")){const u=s.slice(0,-3);u in e||(e[u]=[{}]);const d=e[u];c(d[0],t.slice(o+1),n);return}(!e[s]||typeof e[s]!="object")&&(e[s]={}),e=e[s]}const a=t[t.length-1],i=e[a];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[a]=n}function r(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let a=0;a<t.length;a++){if(typeof e!="object"||e===null)return n;const i=t[a];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in e){const s=e[o];return Array.isArray(s)?s.map(u=>r(u,t.slice(a+1),n)):n}else return n}else e=e[i]}return e}catch(a){if(a instanceof TypeError)return n;throw a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bc(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PS(e){const t={},n=r(e,["operationName"]);n!=null&&c(t,["operationName"],n);const a=r(e,["resourceName"]);return a!=null&&c(t,["_url","resourceName"],a),t}function BS(e){const t={},n=r(e,["name"]);n!=null&&c(t,["name"],n);const a=r(e,["metadata"]);a!=null&&c(t,["metadata"],a);const i=r(e,["done"]);i!=null&&c(t,["done"],i);const o=r(e,["error"]);o!=null&&c(t,["error"],o);const s=r(e,["response","generateVideoResponse"]);return s!=null&&c(t,["response"],HS(s)),t}function GS(e){const t={},n=r(e,["name"]);n!=null&&c(t,["name"],n);const a=r(e,["metadata"]);a!=null&&c(t,["metadata"],a);const i=r(e,["done"]);i!=null&&c(t,["done"],i);const o=r(e,["error"]);o!=null&&c(t,["error"],o);const s=r(e,["response"]);return s!=null&&c(t,["response"],OS(s)),t}function HS(e){const t={},n=r(e,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>JS(s))),c(t,["generatedVideos"],o)}const a=r(e,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const i=r(e,["raiMediaFilteredReasons"]);return i!=null&&c(t,["raiMediaFilteredReasons"],i),t}function OS(e){const t={},n=r(e,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>YS(s))),c(t,["generatedVideos"],o)}const a=r(e,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const i=r(e,["raiMediaFilteredReasons"]);return i!=null&&c(t,["raiMediaFilteredReasons"],i),t}function JS(e){const t={},n=r(e,["_self"]);return n!=null&&c(t,["video"],KS(n)),t}function YS(e){const t={},n=r(e,["_self"]);return n!=null&&c(t,["video"],XS(n)),t}function FS(e){const t={},n=r(e,["operationName"]);return n!=null&&c(t,["_url","operationName"],n),t}function QS(e){const t={},n=r(e,["operationName"]);return n!=null&&c(t,["_url","operationName"],n),t}function KS(e){const t={},n=r(e,["video","uri"]);n!=null&&c(t,["uri"],n);const a=r(e,["video","encodedVideo"]);a!=null&&c(t,["videoBytes"],bc(a));const i=r(e,["encoding"]);return i!=null&&c(t,["mimeType"],i),t}function XS(e){const t={},n=r(e,["gcsUri"]);n!=null&&c(t,["uri"],n);const a=r(e,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],bc(a));const i=r(e,["mimeType"]);return i!=null&&c(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Rf;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Rf||(Rf={}));var If;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(If||(If={}));var be;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(be||(be={}));var kf;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(kf||(kf={}));var Df;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(Df||(Df={}));var qf;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(qf||(qf={}));var Uf;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Uf||(Uf={}));var Lf;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(Lf||(Lf={}));var jf;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(jf||(jf={}));var Vf;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Vf||(Vf={}));var zf;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE"})(zf||(zf={}));var Pf;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Pf||(Pf={}));var Bf;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Bf||(Bf={}));var Gf;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY"})(Gf||(Gf={}));var Hf;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Hf||(Hf={}));var qs;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(qs||(qs={}));var Of;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Of||(Of={}));var cu;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(cu||(cu={}));var Jf;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Jf||(Jf={}));var Yf;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Yf||(Yf={}));var Ff;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V"})(Ff||(Ff={}));var Qf;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(Qf||(Qf={}));var Kf;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(Kf||(Kf={}));var Xf;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Xf||(Xf={}));var $f;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})($f||($f={}));var Zf;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(Zf||(Zf={}));var Wf;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Wf||(Wf={}));var em;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(em||(em={}));var tm;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(tm||(tm={}));var nm;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(nm||(nm={}));var am;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(am||(am={}));var im;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(im||(im={}));var om;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(om||(om={}));var sm;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(sm||(sm={}));var lm;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(lm||(lm={}));var rm;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(rm||(rm={}));var um;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(um||(um={}));var cm;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(cm||(cm={}));var dm;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(dm||(dm={}));var fm;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(fm||(fm={}));var mm;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(mm||(mm={}));var hm;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(hm||(hm={}));var pm;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(pm||(pm={}));var gm;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(gm||(gm={}));var xm;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(xm||(xm={}));var ym;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(ym||(ym={}));var vm;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(vm||(vm={}));var Sm;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(Sm||(Sm={}));var Ca;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Ca||(Ca={}));class du{constructor(t){const n={};for(const a of t.headers.entries())n[a[0]]=a[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class yi{get text(){var t,n,a,i,o,s,u,d;if(((i=(a=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||a===void 0?void 0:a.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",m=!1;const p=[];for(const h of(d=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[g,v]of Object.entries(h))g!=="text"&&g!=="thought"&&(v!==null||v!==void 0)&&p.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;m=!0,f+=h.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),m?f:void 0}get data(){var t,n,a,i,o,s,u,d;if(((i=(a=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||a===void 0?void 0:a.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const m=[];for(const p of(d=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[h,g]of Object.entries(p))h!=="inlineData"&&(g!==null||g!==void 0)&&m.push(h);p.inlineData&&typeof p.inlineData.data=="string"&&(f+=atob(p.inlineData.data))}return m.length>0&&console.warn(`there are non-data parts ${m} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var t,n,a,i,o,s,u,d;if(((i=(a=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||a===void 0?void 0:a.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(d=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(m=>m.functionCall).map(m=>m.functionCall).filter(m=>m!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var t,n,a,i,o,s,u,d,f;if(((i=(a=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||a===void 0?void 0:a.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const m=(d=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((m==null?void 0:m.length)!==0)return(f=m==null?void 0:m[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var t,n,a,i,o,s,u,d,f;if(((i=(a=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||a===void 0?void 0:a.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const m=(d=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((m==null?void 0:m.length)!==0)return(f=m==null?void 0:m[0])===null||f===void 0?void 0:f.output}}class bm{}class Em{}class $S{}class ZS{}class WS{}class e2{}class Tm{}class Nm{}class Am{}class t2{}class Us{_fromAPIResponse({apiResponse:t,isVertexAI:n}){const a=new Us;let i;const o=t;return n?i=GS(o):i=BS(o),Object.assign(a,i),a}}class wm{}class Cm{}class _m{}class n2{}class a2{}class i2{}class Mm{}class o2{get text(){var t,n,a;let i="",o=!1;const s=[];for(const u of(a=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&a!==void 0?a:[]){for(const[d,f]of Object.entries(u))d!=="text"&&d!=="thought"&&f!==null&&s.push(d);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,i+=u.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var t,n,a;let i="";const o=[];for(const s of(a=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&a!==void 0?a:[]){for(const[u,d]of Object.entries(s))u!=="inlineData"&&d!==null&&o.push(u);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class s2{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ae(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function fx(e,t){const n=ae(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function mx(e){return Array.isArray(e)?e.map(t=>Ls(t)):[Ls(e)]}function Ls(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function hx(e){const t=Ls(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function px(e){const t=Ls(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Rm(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function gx(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>Rm(t)):[Rm(e)]}function fu(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function Im(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function km(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function Ge(e){if(e==null)throw new Error("ContentUnion is required");return fu(e)?e:{role:"user",parts:gx(e)}}function Ec(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const a=Ge(n);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(e.isVertexAI()){const n=Ge(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>Ge(n)):[Ge(t)]}function bt(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(Im(e)||km(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ge(e)]}const t=[],n=[],a=fu(e[0]);for(const i of e){const o=fu(i);if(o!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)t.push(i);else{if(Im(i)||km(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return a||t.push({role:"user",parts:gx(n)}),t}function l2(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(a=>a!=="null");if(n.length===1)t.type=Object.values(be).includes(n[0].toUpperCase())?n[0].toUpperCase():be.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of n)t.anyOf.push({type:Object.values(be).includes(a.toUpperCase())?a.toUpperCase():be.TYPE_UNSPECIFIED})}}function Ua(e){const t={},n=["items"],a=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=e.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(t.nullable=!0,e=o[1]):o[1].type==="null"&&(t.nullable=!0,e=o[0])),e.type instanceof Array&&l2(e.type,t);for(const[s,u]of Object.entries(e))if(u!=null)if(s=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;t.type=Object.values(be).includes(u.toUpperCase())?u.toUpperCase():be.TYPE_UNSPECIFIED}else if(n.includes(s))t[s]=Ua(u);else if(a.includes(s)){const d=[];for(const f of u){if(f.type=="null"){t.nullable=!0;continue}d.push(Ua(f))}t[s]=d}else if(i.includes(s)){const d={};for(const[f,m]of Object.entries(u))d[f]=Ua(m);t[s]=d}else{if(s==="additionalProperties")continue;t[s]=u}return t}function Tc(e){return Ua(e)}function Nc(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Ac(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function oi(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Ua(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Ua(t.response));return e}function si(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function r2(e,t,n,a=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===a;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}function tn(e,t){if(typeof t!="string")throw new Error("name must be a string");return r2(e,t,"cachedContents")}function xx(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function qn(e){return bc(e)}function u2(e){return e!=null&&typeof e=="object"&&"name"in e}function c2(e){return e!=null&&typeof e=="object"&&"video"in e}function d2(e){return e!=null&&typeof e=="object"&&"uri"in e}function yx(e){var t;let n;if(u2(e)&&(n=e.name),!(d2(e)&&(n=e.uri,n===void 0))&&!(c2(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function vx(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function Sx(e){for(const t of["models","tunedModels","publisherModels"])if(f2(e,t))return e[t];return[]}function f2(e,t){return e!==null&&typeof e=="object"&&t in e}function m2(e,t={}){const n=e,a={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(a.responseJsonSchema=n.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function h2(e,t={}){const n=[],a=new Set;for(const i of e){const o=i.name;if(a.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);a.add(o);const s=m2(i,t);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function bx(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const a=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function p2(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function Ex(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return e;let o=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const d=s.response;if(typeof d!="object"||d===null)continue;if(d.embedding!==void 0){o=!0;break}}return o&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function li(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Tx(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function g2(e){const t={},n=r(e,["responsesFile"]);n!=null&&c(t,["fileName"],n);const a=r(e,["inlinedResponses","inlinedResponses"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(s=>J2(s))),c(t,["inlinedResponses"],o)}const i=r(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),c(t,["inlinedEmbedContentResponses"],o)}return t}function x2(e){const t={},n=r(e,["predictionsFormat"]);n!=null&&c(t,["format"],n);const a=r(e,["gcsDestination","outputUriPrefix"]);a!=null&&c(t,["gcsUri"],a);const i=r(e,["bigqueryDestination","outputUri"]);return i!=null&&c(t,["bigqueryUri"],i),t}function y2(e){const t={},n=r(e,["format"]);n!=null&&c(t,["predictionsFormat"],n);const a=r(e,["gcsUri"]);a!=null&&c(t,["gcsDestination","outputUriPrefix"],a);const i=r(e,["bigqueryUri"]);if(i!=null&&c(t,["bigqueryDestination","outputUri"],i),r(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(r(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function wi(e){const t={},n=r(e,["name"]);n!=null&&c(t,["name"],n);const a=r(e,["metadata","displayName"]);a!=null&&c(t,["displayName"],a);const i=r(e,["metadata","state"]);i!=null&&c(t,["state"],Tx(i));const o=r(e,["metadata","createTime"]);o!=null&&c(t,["createTime"],o);const s=r(e,["metadata","endTime"]);s!=null&&c(t,["endTime"],s);const u=r(e,["metadata","updateTime"]);u!=null&&c(t,["updateTime"],u);const d=r(e,["metadata","model"]);d!=null&&c(t,["model"],d);const f=r(e,["metadata","output"]);return f!=null&&c(t,["dest"],g2(Ex(f))),t}function mu(e){const t={},n=r(e,["name"]);n!=null&&c(t,["name"],n);const a=r(e,["displayName"]);a!=null&&c(t,["displayName"],a);const i=r(e,["state"]);i!=null&&c(t,["state"],Tx(i));const o=r(e,["error"]);o!=null&&c(t,["error"],o);const s=r(e,["createTime"]);s!=null&&c(t,["createTime"],s);const u=r(e,["startTime"]);u!=null&&c(t,["startTime"],u);const d=r(e,["endTime"]);d!=null&&c(t,["endTime"],d);const f=r(e,["updateTime"]);f!=null&&c(t,["updateTime"],f);const m=r(e,["model"]);m!=null&&c(t,["model"],m);const p=r(e,["inputConfig"]);p!=null&&c(t,["src"],v2(p));const h=r(e,["outputConfig"]);return h!=null&&c(t,["dest"],x2(Ex(h))),t}function v2(e){const t={},n=r(e,["instancesFormat"]);n!=null&&c(t,["format"],n);const a=r(e,["gcsSource","uris"]);a!=null&&c(t,["gcsUri"],a);const i=r(e,["bigquerySource","inputUri"]);return i!=null&&c(t,["bigqueryUri"],i),t}function S2(e,t){const n={};if(r(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(r(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=r(t,["fileName"]);a!=null&&c(n,["fileName"],a);const i=r(t,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>O2(e,s))),c(n,["requests","requests"],o)}return n}function b2(e){const t={},n=r(e,["format"]);n!=null&&c(t,["instancesFormat"],n);const a=r(e,["gcsUri"]);a!=null&&c(t,["gcsSource","uris"],a);const i=r(e,["bigqueryUri"]);if(i!=null&&c(t,["bigquerySource","inputUri"],i),r(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function E2(e){const t={};if(r(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=r(e,["data"]);n!=null&&c(t,["data"],n);const a=r(e,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function T2(e,t){const n={},a=r(t,["name"]);return a!=null&&c(n,["_url","name"],li(e,a)),n}function N2(e,t){const n={},a=r(t,["name"]);return a!=null&&c(n,["_url","name"],li(e,a)),n}function A2(e){const t={},n=r(e,["content"]);n!=null&&c(t,["content"],n);const a=r(e,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],w2(a));const i=r(e,["tokenCount"]);i!=null&&c(t,["tokenCount"],i);const o=r(e,["finishReason"]);o!=null&&c(t,["finishReason"],o);const s=r(e,["urlContextMetadata"]);s!=null&&c(t,["urlContextMetadata"],s);const u=r(e,["avgLogprobs"]);u!=null&&c(t,["avgLogprobs"],u);const d=r(e,["groundingMetadata"]);d!=null&&c(t,["groundingMetadata"],d);const f=r(e,["index"]);f!=null&&c(t,["index"],f);const m=r(e,["logprobsResult"]);m!=null&&c(t,["logprobsResult"],m);const p=r(e,["safetyRatings"]);if(p!=null){let h=p;Array.isArray(h)&&(h=h.map(g=>g)),c(t,["safetyRatings"],h)}return t}function w2(e){const t={},n=r(e,["citationSources"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(i=>i)),c(t,["citations"],a)}return t}function Nx(e){const t={},n=r(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Z2(o))),c(t,["parts"],i)}const a=r(e,["role"]);return a!=null&&c(t,["role"],a),t}function C2(e,t){const n={},a=r(e,["displayName"]);if(t!==void 0&&a!=null&&c(t,["batch","displayName"],a),r(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function _2(e,t){const n={},a=r(e,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const i=r(e,["dest"]);return t!==void 0&&i!=null&&c(t,["outputConfig"],y2(p2(i))),n}function Dm(e,t){const n={},a=r(t,["model"]);a!=null&&c(n,["_url","model"],ae(e,a));const i=r(t,["src"]);i!=null&&c(n,["batch","inputConfig"],S2(e,bx(e,i)));const o=r(t,["config"]);return o!=null&&C2(o,n),n}function M2(e,t){const n={},a=r(t,["model"]);a!=null&&c(n,["model"],ae(e,a));const i=r(t,["src"]);i!=null&&c(n,["inputConfig"],b2(bx(e,i)));const o=r(t,["config"]);return o!=null&&_2(o,n),n}function R2(e,t){const n={},a=r(e,["displayName"]);return t!==void 0&&a!=null&&c(t,["batch","displayName"],a),n}function ur(e,t){const n={},a=r(t,["model"]);a!=null&&c(n,["_url","model"],ae(e,a));const i=r(t,["src"]);i!=null&&c(n,["batch","inputConfig"],j2(e,i));const o=r(t,["config"]);return o!=null&&R2(o,n),n}function I2(e,t){const n={},a=r(t,["name"]);return a!=null&&c(n,["_url","name"],li(e,a)),n}function k2(e,t){const n={},a=r(t,["name"]);return a!=null&&c(n,["_url","name"],li(e,a)),n}function D2(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const a=r(e,["name"]);a!=null&&c(t,["name"],a);const i=r(e,["done"]);i!=null&&c(t,["done"],i);const o=r(e,["error"]);return o!=null&&c(t,["error"],o),t}function q2(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const a=r(e,["name"]);a!=null&&c(t,["name"],a);const i=r(e,["done"]);i!=null&&c(t,["done"],i);const o=r(e,["error"]);return o!=null&&c(t,["error"],o),t}function U2(e,t){const n={},a=r(t,["contents"]);if(a!=null){let o=Ec(e,a);Array.isArray(o)&&(o=o.map(s=>s)),c(n,["requests[]","request","content"],o)}const i=r(t,["config"]);return i!=null&&c(n,["_self"],L2(i,n)),n}function L2(e,t){const n={},a=r(e,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const i=r(e,["title"]);t!==void 0&&i!=null&&c(t,["requests[]","title"],i);const o=r(e,["outputDimensionality"]);if(t!==void 0&&o!=null&&c(t,["requests[]","outputDimensionality"],o),r(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(r(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function j2(e,t){const n={},a=r(t,["fileName"]);a!=null&&c(n,["file_name"],a);const i=r(t,["inlinedRequests"]);return i!=null&&c(n,["requests"],U2(e,i)),n}function V2(e){const t={};if(r(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=r(e,["fileUri"]);n!=null&&c(t,["fileUri"],n);const a=r(e,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function z2(e,t,n){const a={},i=r(t,["systemInstruction"]);n!==void 0&&i!=null&&c(n,["systemInstruction"],Nx(Ge(i)));const o=r(t,["temperature"]);o!=null&&c(a,["temperature"],o);const s=r(t,["topP"]);s!=null&&c(a,["topP"],s);const u=r(t,["topK"]);u!=null&&c(a,["topK"],u);const d=r(t,["candidateCount"]);d!=null&&c(a,["candidateCount"],d);const f=r(t,["maxOutputTokens"]);f!=null&&c(a,["maxOutputTokens"],f);const m=r(t,["stopSequences"]);m!=null&&c(a,["stopSequences"],m);const p=r(t,["responseLogprobs"]);p!=null&&c(a,["responseLogprobs"],p);const h=r(t,["logprobs"]);h!=null&&c(a,["logprobs"],h);const g=r(t,["presencePenalty"]);g!=null&&c(a,["presencePenalty"],g);const v=r(t,["frequencyPenalty"]);v!=null&&c(a,["frequencyPenalty"],v);const N=r(t,["seed"]);N!=null&&c(a,["seed"],N);const b=r(t,["responseMimeType"]);b!=null&&c(a,["responseMimeType"],b);const y=r(t,["responseSchema"]);y!=null&&c(a,["responseSchema"],Tc(y));const x=r(t,["responseJsonSchema"]);if(x!=null&&c(a,["responseJsonSchema"],x),r(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=r(t,["safetySettings"]);if(n!==void 0&&S!=null){let M=S;Array.isArray(M)&&(M=M.map(z=>W2(z))),c(n,["safetySettings"],M)}const E=r(t,["tools"]);if(n!==void 0&&E!=null){let M=si(E);Array.isArray(M)&&(M=M.map(z=>eb(oi(z)))),c(n,["tools"],M)}const _=r(t,["toolConfig"]);if(n!==void 0&&_!=null&&c(n,["toolConfig"],_),r(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const U=r(t,["cachedContent"]);n!==void 0&&U!=null&&c(n,["cachedContent"],tn(e,U));const w=r(t,["responseModalities"]);w!=null&&c(a,["responseModalities"],w);const q=r(t,["mediaResolution"]);q!=null&&c(a,["mediaResolution"],q);const A=r(t,["speechConfig"]);if(A!=null&&c(a,["speechConfig"],Nc(A)),r(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const I=r(t,["thinkingConfig"]);I!=null&&c(a,["thinkingConfig"],I);const j=r(t,["imageConfig"]);return j!=null&&c(a,["imageConfig"],j),a}function P2(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const a=r(e,["candidates"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(f=>A2(f))),c(t,["candidates"],d)}const i=r(e,["modelVersion"]);i!=null&&c(t,["modelVersion"],i);const o=r(e,["promptFeedback"]);o!=null&&c(t,["promptFeedback"],o);const s=r(e,["responseId"]);s!=null&&c(t,["responseId"],s);const u=r(e,["usageMetadata"]);return u!=null&&c(t,["usageMetadata"],u),t}function B2(e,t){const n={},a=r(t,["name"]);return a!=null&&c(n,["_url","name"],li(e,a)),n}function G2(e,t){const n={},a=r(t,["name"]);return a!=null&&c(n,["_url","name"],li(e,a)),n}function H2(e){const t={},n=r(e,["timeRangeFilter"]);if(n!=null&&c(t,["timeRangeFilter"],n),r(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function O2(e,t){const n={},a=r(t,["model"]);a!=null&&c(n,["request","model"],ae(e,a));const i=r(t,["contents"]);if(i!=null){let s=bt(i);Array.isArray(s)&&(s=s.map(u=>Nx(u))),c(n,["request","contents"],s)}const o=r(t,["config"]);return o!=null&&c(n,["request","generationConfig"],z2(e,o,r(n,["request"],{}))),n}function J2(e){const t={},n=r(e,["response"]);n!=null&&c(t,["response"],P2(n));const a=r(e,["error"]);return a!=null&&c(t,["error"],a),t}function Y2(e,t){const n={},a=r(e,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const i=r(e,["pageToken"]);if(t!==void 0&&i!=null&&c(t,["_query","pageToken"],i),r(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function F2(e,t){const n={},a=r(e,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const i=r(e,["pageToken"]);t!==void 0&&i!=null&&c(t,["_query","pageToken"],i);const o=r(e,["filter"]);return t!==void 0&&o!=null&&c(t,["_query","filter"],o),n}function Q2(e){const t={},n=r(e,["config"]);return n!=null&&Y2(n,t),t}function K2(e){const t={},n=r(e,["config"]);return n!=null&&F2(n,t),t}function X2(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const a=r(e,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const i=r(e,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>wi(s))),c(t,["batchJobs"],o)}return t}function $2(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const a=r(e,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const i=r(e,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>mu(s))),c(t,["batchJobs"],o)}return t}function Z2(e){const t={},n=r(e,["videoMetadata"]);n!=null&&c(t,["videoMetadata"],n);const a=r(e,["thought"]);a!=null&&c(t,["thought"],a);const i=r(e,["inlineData"]);i!=null&&c(t,["inlineData"],E2(i));const o=r(e,["fileData"]);o!=null&&c(t,["fileData"],V2(o));const s=r(e,["thoughtSignature"]);s!=null&&c(t,["thoughtSignature"],s);const u=r(e,["functionCall"]);u!=null&&c(t,["functionCall"],u);const d=r(e,["codeExecutionResult"]);d!=null&&c(t,["codeExecutionResult"],d);const f=r(e,["executableCode"]);f!=null&&c(t,["executableCode"],f);const m=r(e,["functionResponse"]);m!=null&&c(t,["functionResponse"],m);const p=r(e,["text"]);return p!=null&&c(t,["text"],p),t}function W2(e){const t={};if(r(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=r(e,["category"]);n!=null&&c(t,["category"],n);const a=r(e,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function eb(e){const t={},n=r(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),c(t,["functionDeclarations"],d)}if(r(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(e,["googleSearch"]);a!=null&&c(t,["googleSearch"],H2(a));const i=r(e,["googleSearchRetrieval"]);if(i!=null&&c(t,["googleSearchRetrieval"],i),r(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(r(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const o=r(e,["urlContext"]);o!=null&&c(t,["urlContext"],o);const s=r(e,["computerUse"]);s!=null&&c(t,["computerUse"],s);const u=r(e,["codeExecution"]);return u!=null&&c(t,["codeExecution"],u),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Wn;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Wn||(Wn={}));class go{constructor(t,n,a,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,a,i)}init(t,n,a){var i,o;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!a||Object.keys(a).length===0?s={config:{}}:typeof a=="object"?s=Object.assign({},a):s=a,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tb extends oa{constructor(t){super(),this.apiClient=t,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{var a,i;if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");if(!(n.src.inlinedRequests!==void 0))return this.createEmbeddingsInternal(n);const u=this.createInlinedEmbedContentRequest(n),d=u.path,f=u.body,m=ur(this.apiClient,n)._query||{};return this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()).then(h=>wi(h))},this.list=async(n={})=>new go(Wn.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(n),n)}createInlinedGenerateContentRequest(t){const n=Dm(this.apiClient,t),a=n._url,i=P("{model}:batchGenerateContent",a),u=n.batch.inputConfig.requests,d=u.requests,f=[];for(const m of d){const p=Object.assign({},m);if(p.systemInstruction){const h=p.systemInstruction;delete p.systemInstruction;const g=p.request;g.systemInstruction=h,p.request=g}f.push(p)}return u.requests=f,delete n.config,delete n._url,delete n._query,{path:i,body:n}}createInlinedEmbedContentRequest(t){const n=ur(this.apiClient,t),a=n._url,i=P("{model}:asyncBatchEmbedContent",a),u=n.batch.inputConfig.requests,d=u.requests,f=[];delete u.config;for(const m of d){const p=Object.assign({},m),h=p.request;for(const g in p)g!=="request"&&(h[g]=p[g],delete p[g]);f.push(p)}return u.requests=f,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const a=n?Object.assign({},n):{},i=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${i}`),a.dest===void 0){const o=this.getGcsUri(t),s=this.getBigqueryUri(t);if(o)o.endsWith(".jsonl")?a.dest=`${o.slice(0,-6)}/dest`:a.dest=`${o}_dest_${i}`;else if(s)a.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var n,a,i,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=M2(this.apiClient,t);return u=P("batchPredictionJobs",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),s.then(m=>mu(m))}else{const f=Dm(this.apiClient,t);return u=P("{model}:batchGenerateContent",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),s.then(m=>wi(m))}}async createEmbeddingsInternal(t){var n,a;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ur(this.apiClient,t);return o=P("{model}:asyncBatchEmbedContent",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),i.then(d=>wi(d))}}async get(t){var n,a,i,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=G2(this.apiClient,t);return u=P("batchPredictionJobs/{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),s.then(m=>mu(m))}else{const f=B2(this.apiClient,t);return u=P("batches/{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),s.then(m=>wi(m))}}async cancel(t){var n,a,i,o;let s="",u={};if(this.apiClient.isVertexAI()){const d=N2(this.apiClient,t);s=P("batchPredictionJobs/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const d=T2(this.apiClient,t);s=P("batches/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,a,i,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=K2(t);return u=P("batchPredictionJobs",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),s.then(m=>{const p=$2(m),h=new Mm;return Object.assign(h,p),h})}else{const f=Q2(t);return u=P("batches",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),s.then(m=>{const p=X2(m),h=new Mm;return Object.assign(h,p),h})}}async delete(t){var n,a,i,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=k2(this.apiClient,t);return u=P("batchPredictionJobs/{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),s.then(m=>q2(m))}else{const f=I2(this.apiClient,t);return u=P("batches/{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),s.then(m=>D2(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nb(e){const t={};if(r(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=r(e,["data"]);n!=null&&c(t,["data"],n);const a=r(e,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function qm(e){const t={},n=r(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Eb(o))),c(t,["parts"],i)}const a=r(e,["role"]);return a!=null&&c(t,["role"],a),t}function ab(e,t){const n={},a=r(e,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const i=r(e,["expireTime"]);t!==void 0&&i!=null&&c(t,["expireTime"],i);const o=r(e,["displayName"]);t!==void 0&&o!=null&&c(t,["displayName"],o);const s=r(e,["contents"]);if(t!==void 0&&s!=null){let m=bt(s);Array.isArray(m)&&(m=m.map(p=>qm(p))),c(t,["contents"],m)}const u=r(e,["systemInstruction"]);t!==void 0&&u!=null&&c(t,["systemInstruction"],qm(Ge(u)));const d=r(e,["tools"]);if(t!==void 0&&d!=null){let m=d;Array.isArray(m)&&(m=m.map(p=>Tb(p))),c(t,["tools"],m)}const f=r(e,["toolConfig"]);if(t!==void 0&&f!=null&&c(t,["toolConfig"],f),r(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function ib(e,t){const n={},a=r(e,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const i=r(e,["expireTime"]);t!==void 0&&i!=null&&c(t,["expireTime"],i);const o=r(e,["displayName"]);t!==void 0&&o!=null&&c(t,["displayName"],o);const s=r(e,["contents"]);if(t!==void 0&&s!=null){let p=bt(s);Array.isArray(p)&&(p=p.map(h=>h)),c(t,["contents"],p)}const u=r(e,["systemInstruction"]);t!==void 0&&u!=null&&c(t,["systemInstruction"],Ge(u));const d=r(e,["tools"]);if(t!==void 0&&d!=null){let p=d;Array.isArray(p)&&(p=p.map(h=>Nb(h))),c(t,["tools"],p)}const f=r(e,["toolConfig"]);t!==void 0&&f!=null&&c(t,["toolConfig"],f);const m=r(e,["kmsKeyName"]);return t!==void 0&&m!=null&&c(t,["encryption_spec","kmsKeyName"],m),n}function ob(e,t){const n={},a=r(t,["model"]);a!=null&&c(n,["model"],fx(e,a));const i=r(t,["config"]);return i!=null&&ab(i,n),n}function sb(e,t){const n={},a=r(t,["model"]);a!=null&&c(n,["model"],fx(e,a));const i=r(t,["config"]);return i!=null&&ib(i,n),n}function lb(e,t){const n={},a=r(t,["name"]);return a!=null&&c(n,["_url","name"],tn(e,a)),n}function rb(e,t){const n={},a=r(t,["name"]);return a!=null&&c(n,["_url","name"],tn(e,a)),n}function ub(e){const t={},n=r(e,["sdkHttpResponse"]);return n!=null&&c(t,["sdkHttpResponse"],n),t}function cb(e){const t={},n=r(e,["sdkHttpResponse"]);return n!=null&&c(t,["sdkHttpResponse"],n),t}function db(e){const t={};if(r(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=r(e,["fileUri"]);n!=null&&c(t,["fileUri"],n);const a=r(e,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function fb(e){const t={};if(r(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=r(e,["description"]);n!=null&&c(t,["description"],n);const a=r(e,["name"]);a!=null&&c(t,["name"],a);const i=r(e,["parameters"]);i!=null&&c(t,["parameters"],i);const o=r(e,["parametersJsonSchema"]);o!=null&&c(t,["parametersJsonSchema"],o);const s=r(e,["response"]);s!=null&&c(t,["response"],s);const u=r(e,["responseJsonSchema"]);return u!=null&&c(t,["responseJsonSchema"],u),t}function mb(e,t){const n={},a=r(t,["name"]);return a!=null&&c(n,["_url","name"],tn(e,a)),n}function hb(e,t){const n={},a=r(t,["name"]);return a!=null&&c(n,["_url","name"],tn(e,a)),n}function pb(e){const t={},n=r(e,["timeRangeFilter"]);if(n!=null&&c(t,["timeRangeFilter"],n),r(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function gb(e,t){const n={},a=r(e,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const i=r(e,["pageToken"]);return t!==void 0&&i!=null&&c(t,["_query","pageToken"],i),n}function xb(e,t){const n={},a=r(e,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const i=r(e,["pageToken"]);return t!==void 0&&i!=null&&c(t,["_query","pageToken"],i),n}function yb(e){const t={},n=r(e,["config"]);return n!=null&&gb(n,t),t}function vb(e){const t={},n=r(e,["config"]);return n!=null&&xb(n,t),t}function Sb(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const a=r(e,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const i=r(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),c(t,["cachedContents"],o)}return t}function bb(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const a=r(e,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const i=r(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),c(t,["cachedContents"],o)}return t}function Eb(e){const t={},n=r(e,["videoMetadata"]);n!=null&&c(t,["videoMetadata"],n);const a=r(e,["thought"]);a!=null&&c(t,["thought"],a);const i=r(e,["inlineData"]);i!=null&&c(t,["inlineData"],nb(i));const o=r(e,["fileData"]);o!=null&&c(t,["fileData"],db(o));const s=r(e,["thoughtSignature"]);s!=null&&c(t,["thoughtSignature"],s);const u=r(e,["functionCall"]);u!=null&&c(t,["functionCall"],u);const d=r(e,["codeExecutionResult"]);d!=null&&c(t,["codeExecutionResult"],d);const f=r(e,["executableCode"]);f!=null&&c(t,["executableCode"],f);const m=r(e,["functionResponse"]);m!=null&&c(t,["functionResponse"],m);const p=r(e,["text"]);return p!=null&&c(t,["text"],p),t}function Tb(e){const t={},n=r(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),c(t,["functionDeclarations"],d)}if(r(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(e,["googleSearch"]);a!=null&&c(t,["googleSearch"],pb(a));const i=r(e,["googleSearchRetrieval"]);if(i!=null&&c(t,["googleSearchRetrieval"],i),r(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(r(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const o=r(e,["urlContext"]);o!=null&&c(t,["urlContext"],o);const s=r(e,["computerUse"]);s!=null&&c(t,["computerUse"],s);const u=r(e,["codeExecution"]);return u!=null&&c(t,["codeExecution"],u),t}function Nb(e){const t={},n=r(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>fb(h))),c(t,["functionDeclarations"],p)}const a=r(e,["retrieval"]);a!=null&&c(t,["retrieval"],a);const i=r(e,["googleSearch"]);i!=null&&c(t,["googleSearch"],i);const o=r(e,["googleSearchRetrieval"]);o!=null&&c(t,["googleSearchRetrieval"],o);const s=r(e,["enterpriseWebSearch"]);s!=null&&c(t,["enterpriseWebSearch"],s);const u=r(e,["googleMaps"]);u!=null&&c(t,["googleMaps"],u);const d=r(e,["urlContext"]);d!=null&&c(t,["urlContext"],d);const f=r(e,["computerUse"]);f!=null&&c(t,["computerUse"],f);const m=r(e,["codeExecution"]);return m!=null&&c(t,["codeExecution"],m),t}function Ab(e,t){const n={},a=r(e,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const i=r(e,["expireTime"]);return t!==void 0&&i!=null&&c(t,["expireTime"],i),n}function wb(e,t){const n={},a=r(e,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const i=r(e,["expireTime"]);return t!==void 0&&i!=null&&c(t,["expireTime"],i),n}function Cb(e,t){const n={},a=r(t,["name"]);a!=null&&c(n,["_url","name"],tn(e,a));const i=r(t,["config"]);return i!=null&&Ab(i,n),n}function _b(e,t){const n={},a=r(t,["name"]);a!=null&&c(n,["_url","name"],tn(e,a));const i=r(t,["config"]);return i!=null&&wb(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mb extends oa{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new go(Wn.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(n),n)}async create(t){var n,a,i,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=sb(this.apiClient,t);return u=P("cachedContents",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),s.then(m=>m)}else{const f=ob(this.apiClient,t);return u=P("cachedContents",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),s.then(m=>m)}}async get(t){var n,a,i,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=hb(this.apiClient,t);return u=P("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),s.then(m=>m)}else{const f=mb(this.apiClient,t);return u=P("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),s.then(m=>m)}}async delete(t){var n,a,i,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=rb(this.apiClient,t);return u=P("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),s.then(m=>{const p=cb(m),h=new Cm;return Object.assign(h,p),h})}else{const f=lb(this.apiClient,t);return u=P("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),s.then(m=>{const p=ub(m),h=new Cm;return Object.assign(h,p),h})}}async update(t){var n,a,i,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=_b(this.apiClient,t);return u=P("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),s.then(m=>m)}else{const f=Cb(this.apiClient,t);return u=P("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),s.then(m=>m)}}async listInternal(t){var n,a,i,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=vb(t);return u=P("cachedContents",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),s.then(m=>{const p=bb(m),h=new _m;return Object.assign(h,p),h})}else{const f=yb(t);return u=P("cachedContents",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),s.then(m=>{const p=Sb(m),h=new _m;return Object.assign(h,p),h})}}}function Um(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ge(e){return this instanceof ge?(this.v=e,this):new ge(e)}function La(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(v){return Promise.resolve(v).then(g,p)}}function u(g,v){a[g]&&(i[g]=function(N){return new Promise(function(b,y){o.push([g,N,b,y])>1||d(g,N)})},v&&(i[g]=v(i[g])))}function d(g,v){try{f(a[g](v))}catch(N){h(o[0][3],N)}}function f(g){g.value instanceof ge?Promise.resolve(g.value.v).then(m,p):h(o[0][2],g)}function m(g){d("next",g)}function p(g){d("throw",g)}function h(g,v){g(v),o.shift(),o.length&&d(o[0][0],o[0][1])}}function Bi(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Um=="function"?Um(e):e[Symbol.iterator](),n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n);function a(o){n[o]=e[o]&&function(s){return new Promise(function(u,d){s=e[o](s),i(u,d,s.done,s.value)})}}function i(o,s,u,d){Promise.resolve(d).then(function(f){o({value:f,done:u})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rb(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:Ax(n)}function Ax(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function Ib(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Lm(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let a=0;for(;a<n;)if(e[a].role==="user")t.push(e[a]),a++;else{const i=[];let o=!0;for(;a<n&&e[a].role==="model";)i.push(e[a]),o&&!Ax(e[a])&&(o=!1),a++;o?t.push(...i):t.pop()}return t}class kb{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new Db(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class Db{constructor(t,n,a,i={},o=[]){this.apiClient=t,this.modelsModule=n,this.model=a,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),Ib(o)}async sendMessage(t){var n;await this.sendPromise;const a=Ge(t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s,u;const d=await i,f=(s=(o=d.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,m=d.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let h=[];m!=null&&(h=(u=m.slice(p))!==null&&u!==void 0?u:[]);const g=f?[f]:[];this.recordHistory(a,g,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(t){var n;await this.sendPromise;const a=Ge(t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,a)}getHistory(t=!1){const n=t?Lm(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){var a,i;return La(this,arguments,function*(){var s,u,d,f;const m=[];try{for(var p=!0,h=Bi(t),g;g=yield ge(h.next()),s=g.done,!s;p=!0){f=g.value,p=!1;const v=f;if(Rb(v)){const N=(i=(a=v.candidates)===null||a===void 0?void 0:a[0])===null||i===void 0?void 0:i.content;N!==void 0&&m.push(N)}yield yield ge(v)}}catch(v){u={error:v}}finally{try{!p&&!s&&(d=h.return)&&(yield ge(d.call(h)))}finally{if(u)throw u.error}}this.recordHistory(n,m)})}recordHistory(t,n,a){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...Lm(a)):this.history.push(t),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class al extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,al.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qb(e){const t={},n=r(e,["file"]);return n!=null&&c(t,["file"],n),t}function Ub(e){const t={},n=r(e,["sdkHttpResponse"]);return n!=null&&c(t,["sdkHttpResponse"],n),t}function Lb(e){const t={},n=r(e,["name"]);return n!=null&&c(t,["_url","file"],yx(n)),t}function jb(e){const t={},n=r(e,["sdkHttpResponse"]);return n!=null&&c(t,["sdkHttpResponse"],n),t}function Vb(e){const t={},n=r(e,["name"]);return n!=null&&c(t,["_url","file"],yx(n)),t}function zb(e,t){const n={},a=r(e,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const i=r(e,["pageToken"]);return t!==void 0&&i!=null&&c(t,["_query","pageToken"],i),n}function Pb(e){const t={},n=r(e,["config"]);return n!=null&&zb(n,t),t}function Bb(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const a=r(e,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const i=r(e,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),c(t,["files"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gb extends oa{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new go(Wn.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,a;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Pb(t);return o=P("files",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:d.headers},m})),i.then(d=>{const f=Bb(d),m=new n2;return Object.assign(m,f),m})}}async createInternal(t){var n,a;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=qb(t);return o=P("upload/v1beta/files",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),i.then(d=>{const f=Ub(d),m=new a2;return Object.assign(m,f),m})}}async get(t){var n,a;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Vb(t);return o=P("files/{file}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async delete(t){var n,a;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Lb(t);return o=P("files/{file}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:d.headers},m})),i.then(d=>{const f=jb(d),m=new i2;return Object.assign(m,f),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function as(e){const t={};if(r(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=r(e,["data"]);n!=null&&c(t,["data"],n);const a=r(e,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Hb(e){const t={},n=r(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>aE(o))),c(t,["parts"],i)}const a=r(e,["role"]);return a!=null&&c(t,["role"],a),t}function Ob(e){const t={};if(r(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=r(e,["fileUri"]);n!=null&&c(t,["fileUri"],n);const a=r(e,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Jb(e){const t={};if(r(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=r(e,["description"]);n!=null&&c(t,["description"],n);const a=r(e,["name"]);a!=null&&c(t,["name"],a);const i=r(e,["parameters"]);i!=null&&c(t,["parameters"],i);const o=r(e,["parametersJsonSchema"]);o!=null&&c(t,["parametersJsonSchema"],o);const s=r(e,["response"]);s!=null&&c(t,["response"],s);const u=r(e,["responseJsonSchema"]);return u!=null&&c(t,["responseJsonSchema"],u),t}function Yb(e){const t={},n=r(e,["modelSelectionConfig"]);n!=null&&c(t,["modelConfig"],n);const a=r(e,["audioTimestamp"]);a!=null&&c(t,["audioTimestamp"],a);const i=r(e,["candidateCount"]);i!=null&&c(t,["candidateCount"],i);const o=r(e,["enableAffectiveDialog"]);o!=null&&c(t,["enableAffectiveDialog"],o);const s=r(e,["frequencyPenalty"]);s!=null&&c(t,["frequencyPenalty"],s);const u=r(e,["logprobs"]);u!=null&&c(t,["logprobs"],u);const d=r(e,["maxOutputTokens"]);d!=null&&c(t,["maxOutputTokens"],d);const f=r(e,["mediaResolution"]);f!=null&&c(t,["mediaResolution"],f);const m=r(e,["presencePenalty"]);m!=null&&c(t,["presencePenalty"],m);const p=r(e,["responseJsonSchema"]);p!=null&&c(t,["responseJsonSchema"],p);const h=r(e,["responseLogprobs"]);h!=null&&c(t,["responseLogprobs"],h);const g=r(e,["responseMimeType"]);g!=null&&c(t,["responseMimeType"],g);const v=r(e,["responseModalities"]);v!=null&&c(t,["responseModalities"],v);const N=r(e,["responseSchema"]);N!=null&&c(t,["responseSchema"],N);const b=r(e,["routingConfig"]);b!=null&&c(t,["routingConfig"],b);const y=r(e,["seed"]);y!=null&&c(t,["seed"],y);const x=r(e,["speechConfig"]);x!=null&&c(t,["speechConfig"],wx(x));const S=r(e,["stopSequences"]);S!=null&&c(t,["stopSequences"],S);const E=r(e,["temperature"]);E!=null&&c(t,["temperature"],E);const _=r(e,["thinkingConfig"]);_!=null&&c(t,["thinkingConfig"],_);const U=r(e,["topK"]);U!=null&&c(t,["topK"],U);const w=r(e,["topP"]);return w!=null&&c(t,["topP"],w),t}function Fb(e){const t={},n=r(e,["timeRangeFilter"]);if(n!=null&&c(t,["timeRangeFilter"],n),r(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function Qb(e,t){const n={},a=r(e,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const i=r(e,["responseModalities"]);t!==void 0&&i!=null&&c(t,["setup","generationConfig","responseModalities"],i);const o=r(e,["temperature"]);t!==void 0&&o!=null&&c(t,["setup","generationConfig","temperature"],o);const s=r(e,["topP"]);t!==void 0&&s!=null&&c(t,["setup","generationConfig","topP"],s);const u=r(e,["topK"]);t!==void 0&&u!=null&&c(t,["setup","generationConfig","topK"],u);const d=r(e,["maxOutputTokens"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","maxOutputTokens"],d);const f=r(e,["mediaResolution"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","mediaResolution"],f);const m=r(e,["seed"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","seed"],m);const p=r(e,["speechConfig"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","speechConfig"],Ac(p));const h=r(e,["thinkingConfig"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","thinkingConfig"],h);const g=r(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],g);const v=r(e,["systemInstruction"]);t!==void 0&&v!=null&&c(t,["setup","systemInstruction"],Hb(Ge(v)));const N=r(e,["tools"]);if(t!==void 0&&N!=null){let U=si(N);Array.isArray(U)&&(U=U.map(w=>oE(oi(w)))),c(t,["setup","tools"],U)}const b=r(e,["sessionResumption"]);t!==void 0&&b!=null&&c(t,["setup","sessionResumption"],iE(b));const y=r(e,["inputAudioTranscription"]);t!==void 0&&y!=null&&c(t,["setup","inputAudioTranscription"],y);const x=r(e,["outputAudioTranscription"]);t!==void 0&&x!=null&&c(t,["setup","outputAudioTranscription"],x);const S=r(e,["realtimeInputConfig"]);t!==void 0&&S!=null&&c(t,["setup","realtimeInputConfig"],S);const E=r(e,["contextWindowCompression"]);t!==void 0&&E!=null&&c(t,["setup","contextWindowCompression"],E);const _=r(e,["proactivity"]);return t!==void 0&&_!=null&&c(t,["setup","proactivity"],_),n}function Kb(e,t){const n={},a=r(e,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],Yb(a));const i=r(e,["responseModalities"]);t!==void 0&&i!=null&&c(t,["setup","generationConfig","responseModalities"],i);const o=r(e,["temperature"]);t!==void 0&&o!=null&&c(t,["setup","generationConfig","temperature"],o);const s=r(e,["topP"]);t!==void 0&&s!=null&&c(t,["setup","generationConfig","topP"],s);const u=r(e,["topK"]);t!==void 0&&u!=null&&c(t,["setup","generationConfig","topK"],u);const d=r(e,["maxOutputTokens"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","maxOutputTokens"],d);const f=r(e,["mediaResolution"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","mediaResolution"],f);const m=r(e,["seed"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","seed"],m);const p=r(e,["speechConfig"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","speechConfig"],wx(Ac(p)));const h=r(e,["thinkingConfig"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","thinkingConfig"],h);const g=r(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],g);const v=r(e,["systemInstruction"]);t!==void 0&&v!=null&&c(t,["setup","systemInstruction"],Ge(v));const N=r(e,["tools"]);if(t!==void 0&&N!=null){let U=si(N);Array.isArray(U)&&(U=U.map(w=>sE(oi(w)))),c(t,["setup","tools"],U)}const b=r(e,["sessionResumption"]);t!==void 0&&b!=null&&c(t,["setup","sessionResumption"],b);const y=r(e,["inputAudioTranscription"]);t!==void 0&&y!=null&&c(t,["setup","inputAudioTranscription"],y);const x=r(e,["outputAudioTranscription"]);t!==void 0&&x!=null&&c(t,["setup","outputAudioTranscription"],x);const S=r(e,["realtimeInputConfig"]);t!==void 0&&S!=null&&c(t,["setup","realtimeInputConfig"],S);const E=r(e,["contextWindowCompression"]);t!==void 0&&E!=null&&c(t,["setup","contextWindowCompression"],E);const _=r(e,["proactivity"]);return t!==void 0&&_!=null&&c(t,["setup","proactivity"],_),n}function Xb(e,t){const n={},a=r(t,["model"]);a!=null&&c(n,["setup","model"],ae(e,a));const i=r(t,["config"]);return i!=null&&c(n,["config"],Qb(i,n)),n}function $b(e,t){const n={},a=r(t,["model"]);a!=null&&c(n,["setup","model"],ae(e,a));const i=r(t,["config"]);return i!=null&&c(n,["config"],Kb(i,n)),n}function Zb(e){const t={},n=r(e,["musicGenerationConfig"]);return n!=null&&c(t,["musicGenerationConfig"],n),t}function Wb(e){const t={},n=r(e,["weightedPrompts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(i=>i)),c(t,["weightedPrompts"],a)}return t}function eE(e){const t={},n=r(e,["media"]);if(n!=null){let f=mx(n);Array.isArray(f)&&(f=f.map(m=>as(m))),c(t,["mediaChunks"],f)}const a=r(e,["audio"]);a!=null&&c(t,["audio"],as(px(a)));const i=r(e,["audioStreamEnd"]);i!=null&&c(t,["audioStreamEnd"],i);const o=r(e,["video"]);o!=null&&c(t,["video"],as(hx(o)));const s=r(e,["text"]);s!=null&&c(t,["text"],s);const u=r(e,["activityStart"]);u!=null&&c(t,["activityStart"],u);const d=r(e,["activityEnd"]);return d!=null&&c(t,["activityEnd"],d),t}function tE(e){const t={},n=r(e,["media"]);if(n!=null){let f=mx(n);Array.isArray(f)&&(f=f.map(m=>m)),c(t,["mediaChunks"],f)}const a=r(e,["audio"]);a!=null&&c(t,["audio"],px(a));const i=r(e,["audioStreamEnd"]);i!=null&&c(t,["audioStreamEnd"],i);const o=r(e,["video"]);o!=null&&c(t,["video"],hx(o));const s=r(e,["text"]);s!=null&&c(t,["text"],s);const u=r(e,["activityStart"]);u!=null&&c(t,["activityStart"],u);const d=r(e,["activityEnd"]);return d!=null&&c(t,["activityEnd"],d),t}function nE(e){const t={},n=r(e,["setupComplete"]);n!=null&&c(t,["setupComplete"],n);const a=r(e,["serverContent"]);a!=null&&c(t,["serverContent"],a);const i=r(e,["toolCall"]);i!=null&&c(t,["toolCall"],i);const o=r(e,["toolCallCancellation"]);o!=null&&c(t,["toolCallCancellation"],o);const s=r(e,["usageMetadata"]);s!=null&&c(t,["usageMetadata"],lE(s));const u=r(e,["goAway"]);u!=null&&c(t,["goAway"],u);const d=r(e,["sessionResumptionUpdate"]);return d!=null&&c(t,["sessionResumptionUpdate"],d),t}function aE(e){const t={},n=r(e,["videoMetadata"]);n!=null&&c(t,["videoMetadata"],n);const a=r(e,["thought"]);a!=null&&c(t,["thought"],a);const i=r(e,["inlineData"]);i!=null&&c(t,["inlineData"],as(i));const o=r(e,["fileData"]);o!=null&&c(t,["fileData"],Ob(o));const s=r(e,["thoughtSignature"]);s!=null&&c(t,["thoughtSignature"],s);const u=r(e,["functionCall"]);u!=null&&c(t,["functionCall"],u);const d=r(e,["codeExecutionResult"]);d!=null&&c(t,["codeExecutionResult"],d);const f=r(e,["executableCode"]);f!=null&&c(t,["executableCode"],f);const m=r(e,["functionResponse"]);m!=null&&c(t,["functionResponse"],m);const p=r(e,["text"]);return p!=null&&c(t,["text"],p),t}function iE(e){const t={},n=r(e,["handle"]);if(n!=null&&c(t,["handle"],n),r(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function wx(e){const t={},n=r(e,["voiceConfig"]);if(n!=null&&c(t,["voiceConfig"],n),r(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const a=r(e,["languageCode"]);return a!=null&&c(t,["languageCode"],a),t}function oE(e){const t={},n=r(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),c(t,["functionDeclarations"],d)}if(r(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(e,["googleSearch"]);a!=null&&c(t,["googleSearch"],Fb(a));const i=r(e,["googleSearchRetrieval"]);if(i!=null&&c(t,["googleSearchRetrieval"],i),r(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(r(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const o=r(e,["urlContext"]);o!=null&&c(t,["urlContext"],o);const s=r(e,["computerUse"]);s!=null&&c(t,["computerUse"],s);const u=r(e,["codeExecution"]);return u!=null&&c(t,["codeExecution"],u),t}function sE(e){const t={},n=r(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>Jb(h))),c(t,["functionDeclarations"],p)}const a=r(e,["retrieval"]);a!=null&&c(t,["retrieval"],a);const i=r(e,["googleSearch"]);i!=null&&c(t,["googleSearch"],i);const o=r(e,["googleSearchRetrieval"]);o!=null&&c(t,["googleSearchRetrieval"],o);const s=r(e,["enterpriseWebSearch"]);s!=null&&c(t,["enterpriseWebSearch"],s);const u=r(e,["googleMaps"]);u!=null&&c(t,["googleMaps"],u);const d=r(e,["urlContext"]);d!=null&&c(t,["urlContext"],d);const f=r(e,["computerUse"]);f!=null&&c(t,["computerUse"],f);const m=r(e,["codeExecution"]);return m!=null&&c(t,["codeExecution"],m),t}function lE(e){const t={},n=r(e,["promptTokenCount"]);n!=null&&c(t,["promptTokenCount"],n);const a=r(e,["cachedContentTokenCount"]);a!=null&&c(t,["cachedContentTokenCount"],a);const i=r(e,["candidatesTokenCount"]);i!=null&&c(t,["responseTokenCount"],i);const o=r(e,["toolUsePromptTokenCount"]);o!=null&&c(t,["toolUsePromptTokenCount"],o);const s=r(e,["thoughtsTokenCount"]);s!=null&&c(t,["thoughtsTokenCount"],s);const u=r(e,["totalTokenCount"]);u!=null&&c(t,["totalTokenCount"],u);const d=r(e,["promptTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>v)),c(t,["promptTokensDetails"],g)}const f=r(e,["cacheTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(v=>v)),c(t,["cacheTokensDetails"],g)}const m=r(e,["candidatesTokensDetails"]);if(m!=null){let g=m;Array.isArray(g)&&(g=g.map(v=>v)),c(t,["responseTokensDetails"],g)}const p=r(e,["toolUsePromptTokensDetails"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(v=>v)),c(t,["toolUsePromptTokensDetails"],g)}const h=r(e,["trafficType"]);return h!=null&&c(t,["trafficType"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rE(e){const t={};if(r(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=r(e,["data"]);n!=null&&c(t,["data"],n);const a=r(e,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function uE(e){const t={},n=r(e,["content"]);n!=null&&c(t,["content"],n);const a=r(e,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],cE(a));const i=r(e,["tokenCount"]);i!=null&&c(t,["tokenCount"],i);const o=r(e,["finishReason"]);o!=null&&c(t,["finishReason"],o);const s=r(e,["urlContextMetadata"]);s!=null&&c(t,["urlContextMetadata"],s);const u=r(e,["avgLogprobs"]);u!=null&&c(t,["avgLogprobs"],u);const d=r(e,["groundingMetadata"]);d!=null&&c(t,["groundingMetadata"],d);const f=r(e,["index"]);f!=null&&c(t,["index"],f);const m=r(e,["logprobsResult"]);m!=null&&c(t,["logprobsResult"],m);const p=r(e,["safetyRatings"]);if(p!=null){let h=p;Array.isArray(h)&&(h=h.map(g=>g)),c(t,["safetyRatings"],h)}return t}function cE(e){const t={},n=r(e,["citationSources"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(i=>i)),c(t,["citations"],a)}return t}function dE(e,t){const n={},a=r(t,["model"]);a!=null&&c(n,["_url","model"],ae(e,a));const i=r(t,["contents"]);if(i!=null){let o=bt(i);Array.isArray(o)&&(o=o.map(s=>s)),c(n,["contents"],o)}return n}function fE(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const a=r(e,["tokensInfo"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(o=>o)),c(t,["tokensInfo"],i)}return t}function mE(e){const t={},n=r(e,["values"]);n!=null&&c(t,["values"],n);const a=r(e,["statistics"]);return a!=null&&c(t,["statistics"],hE(a)),t}function hE(e){const t={},n=r(e,["truncated"]);n!=null&&c(t,["truncated"],n);const a=r(e,["token_count"]);return a!=null&&c(t,["tokenCount"],a),t}function il(e){const t={},n=r(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>yT(o))),c(t,["parts"],i)}const a=r(e,["role"]);return a!=null&&c(t,["role"],a),t}function pE(e){const t={},n=r(e,["controlType"]);n!=null&&c(t,["controlType"],n);const a=r(e,["enableControlImageComputation"]);return a!=null&&c(t,["computeControl"],a),t}function gE(e){const t={};if(r(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(r(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(r(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function xE(e,t){const n={},a=r(e,["systemInstruction"]);t!==void 0&&a!=null&&c(t,["systemInstruction"],Ge(a));const i=r(e,["tools"]);if(t!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>Ix(u))),c(t,["tools"],s)}const o=r(e,["generationConfig"]);return t!==void 0&&o!=null&&c(t,["generationConfig"],sT(o)),n}function yE(e,t){const n={},a=r(t,["model"]);a!=null&&c(n,["_url","model"],ae(e,a));const i=r(t,["contents"]);if(i!=null){let s=bt(i);Array.isArray(s)&&(s=s.map(u=>il(u))),c(n,["contents"],s)}const o=r(t,["config"]);return o!=null&&gE(o),n}function vE(e,t){const n={},a=r(t,["model"]);a!=null&&c(n,["_url","model"],ae(e,a));const i=r(t,["contents"]);if(i!=null){let s=bt(i);Array.isArray(s)&&(s=s.map(u=>u)),c(n,["contents"],s)}const o=r(t,["config"]);return o!=null&&xE(o,n),n}function SE(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const a=r(e,["totalTokens"]);a!=null&&c(t,["totalTokens"],a);const i=r(e,["cachedContentTokenCount"]);return i!=null&&c(t,["cachedContentTokenCount"],i),t}function bE(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const a=r(e,["totalTokens"]);return a!=null&&c(t,["totalTokens"],a),t}function EE(e,t){const n={},a=r(t,["model"]);return a!=null&&c(n,["_url","name"],ae(e,a)),n}function TE(e,t){const n={},a=r(t,["model"]);return a!=null&&c(n,["_url","name"],ae(e,a)),n}function NE(e){const t={},n=r(e,["sdkHttpResponse"]);return n!=null&&c(t,["sdkHttpResponse"],n),t}function AE(e){const t={},n=r(e,["sdkHttpResponse"]);return n!=null&&c(t,["sdkHttpResponse"],n),t}function wE(e,t){const n={},a=r(e,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const i=r(e,["negativePrompt"]);t!==void 0&&i!=null&&c(t,["parameters","negativePrompt"],i);const o=r(e,["numberOfImages"]);t!==void 0&&o!=null&&c(t,["parameters","sampleCount"],o);const s=r(e,["aspectRatio"]);t!==void 0&&s!=null&&c(t,["parameters","aspectRatio"],s);const u=r(e,["guidanceScale"]);t!==void 0&&u!=null&&c(t,["parameters","guidanceScale"],u);const d=r(e,["seed"]);t!==void 0&&d!=null&&c(t,["parameters","seed"],d);const f=r(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&c(t,["parameters","safetySetting"],f);const m=r(e,["personGeneration"]);t!==void 0&&m!=null&&c(t,["parameters","personGeneration"],m);const p=r(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&c(t,["parameters","includeSafetyAttributes"],p);const h=r(e,["includeRaiReason"]);t!==void 0&&h!=null&&c(t,["parameters","includeRaiReason"],h);const g=r(e,["language"]);t!==void 0&&g!=null&&c(t,["parameters","language"],g);const v=r(e,["outputMimeType"]);t!==void 0&&v!=null&&c(t,["parameters","outputOptions","mimeType"],v);const N=r(e,["outputCompressionQuality"]);t!==void 0&&N!=null&&c(t,["parameters","outputOptions","compressionQuality"],N);const b=r(e,["addWatermark"]);t!==void 0&&b!=null&&c(t,["parameters","addWatermark"],b);const y=r(e,["labels"]);t!==void 0&&y!=null&&c(t,["labels"],y);const x=r(e,["editMode"]);t!==void 0&&x!=null&&c(t,["parameters","editMode"],x);const S=r(e,["baseSteps"]);return t!==void 0&&S!=null&&c(t,["parameters","editConfig","baseSteps"],S),n}function CE(e,t){const n={},a=r(t,["model"]);a!=null&&c(n,["_url","model"],ae(e,a));const i=r(t,["prompt"]);i!=null&&c(n,["instances[0]","prompt"],i);const o=r(t,["referenceImages"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>NT(d))),c(n,["instances[0]","referenceImages"],u)}const s=r(t,["config"]);return s!=null&&wE(s,n),n}function _E(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const a=r(e,["predictions"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(o=>ol(o))),c(t,["generatedImages"],i)}return t}function ME(e,t){const n={},a=r(e,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const i=r(e,["title"]);t!==void 0&&i!=null&&c(t,["requests[]","title"],i);const o=r(e,["outputDimensionality"]);if(t!==void 0&&o!=null&&c(t,["requests[]","outputDimensionality"],o),r(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(r(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function RE(e,t){const n={},a=r(e,["taskType"]);t!==void 0&&a!=null&&c(t,["instances[]","task_type"],a);const i=r(e,["title"]);t!==void 0&&i!=null&&c(t,["instances[]","title"],i);const o=r(e,["outputDimensionality"]);t!==void 0&&o!=null&&c(t,["parameters","outputDimensionality"],o);const s=r(e,["mimeType"]);t!==void 0&&s!=null&&c(t,["instances[]","mimeType"],s);const u=r(e,["autoTruncate"]);return t!==void 0&&u!=null&&c(t,["parameters","autoTruncate"],u),n}function IE(e,t){const n={},a=r(t,["model"]);a!=null&&c(n,["_url","model"],ae(e,a));const i=r(t,["contents"]);if(i!=null){let u=Ec(e,i);Array.isArray(u)&&(u=u.map(d=>d)),c(n,["requests[]","content"],u)}const o=r(t,["config"]);o!=null&&ME(o,n);const s=r(t,["model"]);return s!==void 0&&c(n,["requests[]","model"],ae(e,s)),n}function kE(e,t){const n={},a=r(t,["model"]);a!=null&&c(n,["_url","model"],ae(e,a));const i=r(t,["contents"]);if(i!=null){let s=Ec(e,i);Array.isArray(s)&&(s=s.map(u=>u)),c(n,["instances[]","content"],s)}const o=r(t,["config"]);return o!=null&&RE(o,n),n}function DE(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const a=r(e,["embeddings"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(s=>s)),c(t,["embeddings"],o)}const i=r(e,["metadata"]);return i!=null&&c(t,["metadata"],i),t}function qE(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const a=r(e,["predictions[]","embeddings"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(s=>mE(s))),c(t,["embeddings"],o)}const i=r(e,["metadata"]);return i!=null&&c(t,["metadata"],i),t}function UE(e){const t={},n=r(e,["endpoint"]);n!=null&&c(t,["name"],n);const a=r(e,["deployedModelId"]);return a!=null&&c(t,["deployedModelId"],a),t}function LE(e){const t={};if(r(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=r(e,["fileUri"]);n!=null&&c(t,["fileUri"],n);const a=r(e,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function jE(e){const t={};if(r(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=r(e,["description"]);n!=null&&c(t,["description"],n);const a=r(e,["name"]);a!=null&&c(t,["name"],a);const i=r(e,["parameters"]);i!=null&&c(t,["parameters"],i);const o=r(e,["parametersJsonSchema"]);o!=null&&c(t,["parametersJsonSchema"],o);const s=r(e,["response"]);s!=null&&c(t,["response"],s);const u=r(e,["responseJsonSchema"]);return u!=null&&c(t,["responseJsonSchema"],u),t}function VE(e,t,n){const a={},i=r(t,["systemInstruction"]);n!==void 0&&i!=null&&c(n,["systemInstruction"],il(Ge(i)));const o=r(t,["temperature"]);o!=null&&c(a,["temperature"],o);const s=r(t,["topP"]);s!=null&&c(a,["topP"],s);const u=r(t,["topK"]);u!=null&&c(a,["topK"],u);const d=r(t,["candidateCount"]);d!=null&&c(a,["candidateCount"],d);const f=r(t,["maxOutputTokens"]);f!=null&&c(a,["maxOutputTokens"],f);const m=r(t,["stopSequences"]);m!=null&&c(a,["stopSequences"],m);const p=r(t,["responseLogprobs"]);p!=null&&c(a,["responseLogprobs"],p);const h=r(t,["logprobs"]);h!=null&&c(a,["logprobs"],h);const g=r(t,["presencePenalty"]);g!=null&&c(a,["presencePenalty"],g);const v=r(t,["frequencyPenalty"]);v!=null&&c(a,["frequencyPenalty"],v);const N=r(t,["seed"]);N!=null&&c(a,["seed"],N);const b=r(t,["responseMimeType"]);b!=null&&c(a,["responseMimeType"],b);const y=r(t,["responseSchema"]);y!=null&&c(a,["responseSchema"],Tc(y));const x=r(t,["responseJsonSchema"]);if(x!=null&&c(a,["responseJsonSchema"],x),r(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=r(t,["safetySettings"]);if(n!==void 0&&S!=null){let M=S;Array.isArray(M)&&(M=M.map(z=>AT(z))),c(n,["safetySettings"],M)}const E=r(t,["tools"]);if(n!==void 0&&E!=null){let M=si(E);Array.isArray(M)&&(M=M.map(z=>IT(oi(z)))),c(n,["tools"],M)}const _=r(t,["toolConfig"]);if(n!==void 0&&_!=null&&c(n,["toolConfig"],_),r(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const U=r(t,["cachedContent"]);n!==void 0&&U!=null&&c(n,["cachedContent"],tn(e,U));const w=r(t,["responseModalities"]);w!=null&&c(a,["responseModalities"],w);const q=r(t,["mediaResolution"]);q!=null&&c(a,["mediaResolution"],q);const A=r(t,["speechConfig"]);if(A!=null&&c(a,["speechConfig"],Nc(A)),r(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const I=r(t,["thinkingConfig"]);I!=null&&c(a,["thinkingConfig"],I);const j=r(t,["imageConfig"]);return j!=null&&c(a,["imageConfig"],j),a}function zE(e,t,n){const a={},i=r(t,["systemInstruction"]);n!==void 0&&i!=null&&c(n,["systemInstruction"],Ge(i));const o=r(t,["temperature"]);o!=null&&c(a,["temperature"],o);const s=r(t,["topP"]);s!=null&&c(a,["topP"],s);const u=r(t,["topK"]);u!=null&&c(a,["topK"],u);const d=r(t,["candidateCount"]);d!=null&&c(a,["candidateCount"],d);const f=r(t,["maxOutputTokens"]);f!=null&&c(a,["maxOutputTokens"],f);const m=r(t,["stopSequences"]);m!=null&&c(a,["stopSequences"],m);const p=r(t,["responseLogprobs"]);p!=null&&c(a,["responseLogprobs"],p);const h=r(t,["logprobs"]);h!=null&&c(a,["logprobs"],h);const g=r(t,["presencePenalty"]);g!=null&&c(a,["presencePenalty"],g);const v=r(t,["frequencyPenalty"]);v!=null&&c(a,["frequencyPenalty"],v);const N=r(t,["seed"]);N!=null&&c(a,["seed"],N);const b=r(t,["responseMimeType"]);b!=null&&c(a,["responseMimeType"],b);const y=r(t,["responseSchema"]);y!=null&&c(a,["responseSchema"],Tc(y));const x=r(t,["responseJsonSchema"]);x!=null&&c(a,["responseJsonSchema"],x);const S=r(t,["routingConfig"]);S!=null&&c(a,["routingConfig"],S);const E=r(t,["modelSelectionConfig"]);E!=null&&c(a,["modelConfig"],E);const _=r(t,["safetySettings"]);if(n!==void 0&&_!=null){let R=_;Array.isArray(R)&&(R=R.map(B=>B)),c(n,["safetySettings"],R)}const U=r(t,["tools"]);if(n!==void 0&&U!=null){let R=si(U);Array.isArray(R)&&(R=R.map(B=>Ix(oi(B)))),c(n,["tools"],R)}const w=r(t,["toolConfig"]);n!==void 0&&w!=null&&c(n,["toolConfig"],w);const q=r(t,["labels"]);n!==void 0&&q!=null&&c(n,["labels"],q);const A=r(t,["cachedContent"]);n!==void 0&&A!=null&&c(n,["cachedContent"],tn(e,A));const I=r(t,["responseModalities"]);I!=null&&c(a,["responseModalities"],I);const j=r(t,["mediaResolution"]);j!=null&&c(a,["mediaResolution"],j);const M=r(t,["speechConfig"]);M!=null&&c(a,["speechConfig"],Rx(Nc(M)));const z=r(t,["audioTimestamp"]);z!=null&&c(a,["audioTimestamp"],z);const K=r(t,["thinkingConfig"]);K!=null&&c(a,["thinkingConfig"],K);const L=r(t,["imageConfig"]);return L!=null&&c(a,["imageConfig"],L),a}function jm(e,t){const n={},a=r(t,["model"]);a!=null&&c(n,["_url","model"],ae(e,a));const i=r(t,["contents"]);if(i!=null){let s=bt(i);Array.isArray(s)&&(s=s.map(u=>il(u))),c(n,["contents"],s)}const o=r(t,["config"]);return o!=null&&c(n,["generationConfig"],VE(e,o,n)),n}function Vm(e,t){const n={},a=r(t,["model"]);a!=null&&c(n,["_url","model"],ae(e,a));const i=r(t,["contents"]);if(i!=null){let s=bt(i);Array.isArray(s)&&(s=s.map(u=>u)),c(n,["contents"],s)}const o=r(t,["config"]);return o!=null&&c(n,["generationConfig"],zE(e,o,n)),n}function zm(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const a=r(e,["candidates"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(f=>uE(f))),c(t,["candidates"],d)}const i=r(e,["modelVersion"]);i!=null&&c(t,["modelVersion"],i);const o=r(e,["promptFeedback"]);o!=null&&c(t,["promptFeedback"],o);const s=r(e,["responseId"]);s!=null&&c(t,["responseId"],s);const u=r(e,["usageMetadata"]);return u!=null&&c(t,["usageMetadata"],u),t}function Pm(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const a=r(e,["candidates"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(m=>m)),c(t,["candidates"],f)}const i=r(e,["createTime"]);i!=null&&c(t,["createTime"],i);const o=r(e,["modelVersion"]);o!=null&&c(t,["modelVersion"],o);const s=r(e,["promptFeedback"]);s!=null&&c(t,["promptFeedback"],s);const u=r(e,["responseId"]);u!=null&&c(t,["responseId"],u);const d=r(e,["usageMetadata"]);return d!=null&&c(t,["usageMetadata"],d),t}function PE(e,t){const n={};if(r(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=r(e,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const i=r(e,["aspectRatio"]);t!==void 0&&i!=null&&c(t,["parameters","aspectRatio"],i);const o=r(e,["guidanceScale"]);if(t!==void 0&&o!=null&&c(t,["parameters","guidanceScale"],o),r(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=r(e,["safetyFilterLevel"]);t!==void 0&&s!=null&&c(t,["parameters","safetySetting"],s);const u=r(e,["personGeneration"]);t!==void 0&&u!=null&&c(t,["parameters","personGeneration"],u);const d=r(e,["includeSafetyAttributes"]);t!==void 0&&d!=null&&c(t,["parameters","includeSafetyAttributes"],d);const f=r(e,["includeRaiReason"]);t!==void 0&&f!=null&&c(t,["parameters","includeRaiReason"],f);const m=r(e,["language"]);t!==void 0&&m!=null&&c(t,["parameters","language"],m);const p=r(e,["outputMimeType"]);t!==void 0&&p!=null&&c(t,["parameters","outputOptions","mimeType"],p);const h=r(e,["outputCompressionQuality"]);if(t!==void 0&&h!=null&&c(t,["parameters","outputOptions","compressionQuality"],h),r(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(r(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=r(e,["imageSize"]);if(t!==void 0&&g!=null&&c(t,["parameters","sampleImageSize"],g),r(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function BE(e,t){const n={},a=r(e,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const i=r(e,["negativePrompt"]);t!==void 0&&i!=null&&c(t,["parameters","negativePrompt"],i);const o=r(e,["numberOfImages"]);t!==void 0&&o!=null&&c(t,["parameters","sampleCount"],o);const s=r(e,["aspectRatio"]);t!==void 0&&s!=null&&c(t,["parameters","aspectRatio"],s);const u=r(e,["guidanceScale"]);t!==void 0&&u!=null&&c(t,["parameters","guidanceScale"],u);const d=r(e,["seed"]);t!==void 0&&d!=null&&c(t,["parameters","seed"],d);const f=r(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&c(t,["parameters","safetySetting"],f);const m=r(e,["personGeneration"]);t!==void 0&&m!=null&&c(t,["parameters","personGeneration"],m);const p=r(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&c(t,["parameters","includeSafetyAttributes"],p);const h=r(e,["includeRaiReason"]);t!==void 0&&h!=null&&c(t,["parameters","includeRaiReason"],h);const g=r(e,["language"]);t!==void 0&&g!=null&&c(t,["parameters","language"],g);const v=r(e,["outputMimeType"]);t!==void 0&&v!=null&&c(t,["parameters","outputOptions","mimeType"],v);const N=r(e,["outputCompressionQuality"]);t!==void 0&&N!=null&&c(t,["parameters","outputOptions","compressionQuality"],N);const b=r(e,["addWatermark"]);t!==void 0&&b!=null&&c(t,["parameters","addWatermark"],b);const y=r(e,["labels"]);t!==void 0&&y!=null&&c(t,["labels"],y);const x=r(e,["imageSize"]);t!==void 0&&x!=null&&c(t,["parameters","sampleImageSize"],x);const S=r(e,["enhancePrompt"]);return t!==void 0&&S!=null&&c(t,["parameters","enhancePrompt"],S),n}function GE(e,t){const n={},a=r(t,["model"]);a!=null&&c(n,["_url","model"],ae(e,a));const i=r(t,["prompt"]);i!=null&&c(n,["instances[0]","prompt"],i);const o=r(t,["config"]);return o!=null&&PE(o,n),n}function HE(e,t){const n={},a=r(t,["model"]);a!=null&&c(n,["_url","model"],ae(e,a));const i=r(t,["prompt"]);i!=null&&c(n,["instances[0]","prompt"],i);const o=r(t,["config"]);return o!=null&&BE(o,n),n}function OE(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const a=r(e,["predictions"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(s=>nT(s))),c(t,["generatedImages"],o)}const i=r(e,["positivePromptSafetyAttributes"]);return i!=null&&c(t,["positivePromptSafetyAttributes"],_x(i)),t}function JE(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const a=r(e,["predictions"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(s=>ol(s))),c(t,["generatedImages"],o)}const i=r(e,["positivePromptSafetyAttributes"]);return i!=null&&c(t,["positivePromptSafetyAttributes"],Mx(i)),t}function YE(e,t){const n={},a=r(e,["numberOfVideos"]);if(t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a),r(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=r(e,["durationSeconds"]);if(t!==void 0&&i!=null&&c(t,["parameters","durationSeconds"],i),r(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=r(e,["aspectRatio"]);t!==void 0&&o!=null&&c(t,["parameters","aspectRatio"],o);const s=r(e,["resolution"]);t!==void 0&&s!=null&&c(t,["parameters","resolution"],s);const u=r(e,["personGeneration"]);if(t!==void 0&&u!=null&&c(t,["parameters","personGeneration"],u),r(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=r(e,["negativePrompt"]);t!==void 0&&d!=null&&c(t,["parameters","negativePrompt"],d);const f=r(e,["enhancePrompt"]);if(t!==void 0&&f!=null&&c(t,["parameters","enhancePrompt"],f),r(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const m=r(e,["lastFrame"]);t!==void 0&&m!=null&&c(t,["instances[0]","lastFrame"],sl(m));const p=r(e,["referenceImages"]);if(t!==void 0&&p!=null){let h=p;Array.isArray(h)&&(h=h.map(g=>OT(g))),c(t,["instances[0]","referenceImages"],h)}if(r(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(r(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function FE(e,t){const n={},a=r(e,["numberOfVideos"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const i=r(e,["outputGcsUri"]);t!==void 0&&i!=null&&c(t,["parameters","storageUri"],i);const o=r(e,["fps"]);t!==void 0&&o!=null&&c(t,["parameters","fps"],o);const s=r(e,["durationSeconds"]);t!==void 0&&s!=null&&c(t,["parameters","durationSeconds"],s);const u=r(e,["seed"]);t!==void 0&&u!=null&&c(t,["parameters","seed"],u);const d=r(e,["aspectRatio"]);t!==void 0&&d!=null&&c(t,["parameters","aspectRatio"],d);const f=r(e,["resolution"]);t!==void 0&&f!=null&&c(t,["parameters","resolution"],f);const m=r(e,["personGeneration"]);t!==void 0&&m!=null&&c(t,["parameters","personGeneration"],m);const p=r(e,["pubsubTopic"]);t!==void 0&&p!=null&&c(t,["parameters","pubsubTopic"],p);const h=r(e,["negativePrompt"]);t!==void 0&&h!=null&&c(t,["parameters","negativePrompt"],h);const g=r(e,["enhancePrompt"]);t!==void 0&&g!=null&&c(t,["parameters","enhancePrompt"],g);const v=r(e,["generateAudio"]);t!==void 0&&v!=null&&c(t,["parameters","generateAudio"],v);const N=r(e,["lastFrame"]);t!==void 0&&N!=null&&c(t,["instances[0]","lastFrame"],wt(N));const b=r(e,["referenceImages"]);if(t!==void 0&&b!=null){let S=b;Array.isArray(S)&&(S=S.map(E=>JT(E))),c(t,["instances[0]","referenceImages"],S)}const y=r(e,["mask"]);t!==void 0&&y!=null&&c(t,["instances[0]","mask"],HT(y));const x=r(e,["compressionQuality"]);return t!==void 0&&x!=null&&c(t,["parameters","compressionQuality"],x),n}function QE(e){const t={},n=r(e,["name"]);n!=null&&c(t,["name"],n);const a=r(e,["metadata"]);a!=null&&c(t,["metadata"],a);const i=r(e,["done"]);i!=null&&c(t,["done"],i);const o=r(e,["error"]);o!=null&&c(t,["error"],o);const s=r(e,["response","generateVideoResponse"]);return s!=null&&c(t,["response"],ZE(s)),t}function KE(e){const t={},n=r(e,["name"]);n!=null&&c(t,["name"],n);const a=r(e,["metadata"]);a!=null&&c(t,["metadata"],a);const i=r(e,["done"]);i!=null&&c(t,["done"],i);const o=r(e,["error"]);o!=null&&c(t,["error"],o);const s=r(e,["response"]);return s!=null&&c(t,["response"],WE(s)),t}function XE(e,t){const n={},a=r(t,["model"]);a!=null&&c(n,["_url","model"],ae(e,a));const i=r(t,["prompt"]);i!=null&&c(n,["instances[0]","prompt"],i);const o=r(t,["image"]);o!=null&&c(n,["instances[0]","image"],sl(o));const s=r(t,["video"]);s!=null&&c(n,["instances[0]","video"],kx(s));const u=r(t,["source"]);u!=null&&eT(u,n);const d=r(t,["config"]);return d!=null&&YE(d,n),n}function $E(e,t){const n={},a=r(t,["model"]);a!=null&&c(n,["_url","model"],ae(e,a));const i=r(t,["prompt"]);i!=null&&c(n,["instances[0]","prompt"],i);const o=r(t,["image"]);o!=null&&c(n,["instances[0]","image"],wt(o));const s=r(t,["video"]);s!=null&&c(n,["instances[0]","video"],Dx(s));const u=r(t,["source"]);u!=null&&tT(u,n);const d=r(t,["config"]);return d!=null&&FE(d,n),n}function ZE(e){const t={},n=r(e,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>iT(s))),c(t,["generatedVideos"],o)}const a=r(e,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const i=r(e,["raiMediaFilteredReasons"]);return i!=null&&c(t,["raiMediaFilteredReasons"],i),t}function WE(e){const t={},n=r(e,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>oT(s))),c(t,["generatedVideos"],o)}const a=r(e,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const i=r(e,["raiMediaFilteredReasons"]);return i!=null&&c(t,["raiMediaFilteredReasons"],i),t}function eT(e,t){const n={},a=r(e,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const i=r(e,["image"]);t!==void 0&&i!=null&&c(t,["instances[0]","image"],sl(i));const o=r(e,["video"]);return t!==void 0&&o!=null&&c(t,["instances[0]","video"],kx(o)),n}function tT(e,t){const n={},a=r(e,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const i=r(e,["image"]);t!==void 0&&i!=null&&c(t,["instances[0]","image"],wt(i));const o=r(e,["video"]);return t!==void 0&&o!=null&&c(t,["instances[0]","video"],Dx(o)),n}function nT(e){const t={},n=r(e,["_self"]);n!=null&&c(t,["image"],cT(n));const a=r(e,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const i=r(e,["_self"]);return i!=null&&c(t,["safetyAttributes"],_x(i)),t}function ol(e){const t={},n=r(e,["_self"]);n!=null&&c(t,["image"],Cx(n));const a=r(e,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const i=r(e,["_self"]);i!=null&&c(t,["safetyAttributes"],Mx(i));const o=r(e,["prompt"]);return o!=null&&c(t,["enhancedPrompt"],o),t}function aT(e){const t={},n=r(e,["_self"]);n!=null&&c(t,["mask"],Cx(n));const a=r(e,["labels"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(o=>o)),c(t,["labels"],i)}return t}function iT(e){const t={},n=r(e,["_self"]);return n!=null&&c(t,["video"],BT(n)),t}function oT(e){const t={},n=r(e,["_self"]);return n!=null&&c(t,["video"],GT(n)),t}function sT(e){const t={},n=r(e,["modelSelectionConfig"]);n!=null&&c(t,["modelConfig"],n);const a=r(e,["audioTimestamp"]);a!=null&&c(t,["audioTimestamp"],a);const i=r(e,["candidateCount"]);i!=null&&c(t,["candidateCount"],i);const o=r(e,["enableAffectiveDialog"]);o!=null&&c(t,["enableAffectiveDialog"],o);const s=r(e,["frequencyPenalty"]);s!=null&&c(t,["frequencyPenalty"],s);const u=r(e,["logprobs"]);u!=null&&c(t,["logprobs"],u);const d=r(e,["maxOutputTokens"]);d!=null&&c(t,["maxOutputTokens"],d);const f=r(e,["mediaResolution"]);f!=null&&c(t,["mediaResolution"],f);const m=r(e,["presencePenalty"]);m!=null&&c(t,["presencePenalty"],m);const p=r(e,["responseJsonSchema"]);p!=null&&c(t,["responseJsonSchema"],p);const h=r(e,["responseLogprobs"]);h!=null&&c(t,["responseLogprobs"],h);const g=r(e,["responseMimeType"]);g!=null&&c(t,["responseMimeType"],g);const v=r(e,["responseModalities"]);v!=null&&c(t,["responseModalities"],v);const N=r(e,["responseSchema"]);N!=null&&c(t,["responseSchema"],N);const b=r(e,["routingConfig"]);b!=null&&c(t,["routingConfig"],b);const y=r(e,["seed"]);y!=null&&c(t,["seed"],y);const x=r(e,["speechConfig"]);x!=null&&c(t,["speechConfig"],Rx(x));const S=r(e,["stopSequences"]);S!=null&&c(t,["stopSequences"],S);const E=r(e,["temperature"]);E!=null&&c(t,["temperature"],E);const _=r(e,["thinkingConfig"]);_!=null&&c(t,["thinkingConfig"],_);const U=r(e,["topK"]);U!=null&&c(t,["topK"],U);const w=r(e,["topP"]);return w!=null&&c(t,["topP"],w),t}function lT(e,t){const n={},a=r(t,["model"]);return a!=null&&c(n,["_url","name"],ae(e,a)),n}function rT(e,t){const n={},a=r(t,["model"]);return a!=null&&c(n,["_url","name"],ae(e,a)),n}function uT(e){const t={},n=r(e,["timeRangeFilter"]);if(n!=null&&c(t,["timeRangeFilter"],n),r(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function cT(e){const t={},n=r(e,["bytesBase64Encoded"]);n!=null&&c(t,["imageBytes"],qn(n));const a=r(e,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Cx(e){const t={},n=r(e,["gcsUri"]);n!=null&&c(t,["gcsUri"],n);const a=r(e,["bytesBase64Encoded"]);a!=null&&c(t,["imageBytes"],qn(a));const i=r(e,["mimeType"]);return i!=null&&c(t,["mimeType"],i),t}function sl(e){const t={};if(r(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=r(e,["imageBytes"]);n!=null&&c(t,["bytesBase64Encoded"],qn(n));const a=r(e,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function wt(e){const t={},n=r(e,["gcsUri"]);n!=null&&c(t,["gcsUri"],n);const a=r(e,["imageBytes"]);a!=null&&c(t,["bytesBase64Encoded"],qn(a));const i=r(e,["mimeType"]);return i!=null&&c(t,["mimeType"],i),t}function dT(e,t,n){const a={},i=r(t,["pageSize"]);n!==void 0&&i!=null&&c(n,["_query","pageSize"],i);const o=r(t,["pageToken"]);n!==void 0&&o!=null&&c(n,["_query","pageToken"],o);const s=r(t,["filter"]);n!==void 0&&s!=null&&c(n,["_query","filter"],s);const u=r(t,["queryBase"]);return n!==void 0&&u!=null&&c(n,["_url","models_url"],vx(e,u)),a}function fT(e,t,n){const a={},i=r(t,["pageSize"]);n!==void 0&&i!=null&&c(n,["_query","pageSize"],i);const o=r(t,["pageToken"]);n!==void 0&&o!=null&&c(n,["_query","pageToken"],o);const s=r(t,["filter"]);n!==void 0&&s!=null&&c(n,["_query","filter"],s);const u=r(t,["queryBase"]);return n!==void 0&&u!=null&&c(n,["_url","models_url"],vx(e,u)),a}function mT(e,t){const n={},a=r(t,["config"]);return a!=null&&dT(e,a,n),n}function hT(e,t){const n={},a=r(t,["config"]);return a!=null&&fT(e,a,n),n}function pT(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const a=r(e,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const i=r(e,["_self"]);if(i!=null){let o=Sx(i);Array.isArray(o)&&(o=o.map(s=>hu(s))),c(t,["models"],o)}return t}function gT(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const a=r(e,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const i=r(e,["_self"]);if(i!=null){let o=Sx(i);Array.isArray(o)&&(o=o.map(s=>pu(s))),c(t,["models"],o)}return t}function xT(e){const t={},n=r(e,["maskMode"]);n!=null&&c(t,["maskMode"],n);const a=r(e,["segmentationClasses"]);a!=null&&c(t,["maskClasses"],a);const i=r(e,["maskDilation"]);return i!=null&&c(t,["dilation"],i),t}function hu(e){const t={},n=r(e,["name"]);n!=null&&c(t,["name"],n);const a=r(e,["displayName"]);a!=null&&c(t,["displayName"],a);const i=r(e,["description"]);i!=null&&c(t,["description"],i);const o=r(e,["version"]);o!=null&&c(t,["version"],o);const s=r(e,["_self"]);s!=null&&c(t,["tunedModelInfo"],kT(s));const u=r(e,["inputTokenLimit"]);u!=null&&c(t,["inputTokenLimit"],u);const d=r(e,["outputTokenLimit"]);d!=null&&c(t,["outputTokenLimit"],d);const f=r(e,["supportedGenerationMethods"]);return f!=null&&c(t,["supportedActions"],f),t}function pu(e){const t={},n=r(e,["name"]);n!=null&&c(t,["name"],n);const a=r(e,["displayName"]);a!=null&&c(t,["displayName"],a);const i=r(e,["description"]);i!=null&&c(t,["description"],i);const o=r(e,["versionId"]);o!=null&&c(t,["version"],o);const s=r(e,["deployedModels"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(h=>UE(h))),c(t,["endpoints"],p)}const u=r(e,["labels"]);u!=null&&c(t,["labels"],u);const d=r(e,["_self"]);d!=null&&c(t,["tunedModelInfo"],DT(d));const f=r(e,["defaultCheckpointId"]);f!=null&&c(t,["defaultCheckpointId"],f);const m=r(e,["checkpoints"]);if(m!=null){let p=m;Array.isArray(p)&&(p=p.map(h=>h)),c(t,["checkpoints"],p)}return t}function yT(e){const t={},n=r(e,["videoMetadata"]);n!=null&&c(t,["videoMetadata"],n);const a=r(e,["thought"]);a!=null&&c(t,["thought"],a);const i=r(e,["inlineData"]);i!=null&&c(t,["inlineData"],rE(i));const o=r(e,["fileData"]);o!=null&&c(t,["fileData"],LE(o));const s=r(e,["thoughtSignature"]);s!=null&&c(t,["thoughtSignature"],s);const u=r(e,["functionCall"]);u!=null&&c(t,["functionCall"],u);const d=r(e,["codeExecutionResult"]);d!=null&&c(t,["codeExecutionResult"],d);const f=r(e,["executableCode"]);f!=null&&c(t,["executableCode"],f);const m=r(e,["functionResponse"]);m!=null&&c(t,["functionResponse"],m);const p=r(e,["text"]);return p!=null&&c(t,["text"],p),t}function vT(e){const t={},n=r(e,["productImage"]);return n!=null&&c(t,["image"],wt(n)),t}function ST(e,t){const n={},a=r(e,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const i=r(e,["baseSteps"]);t!==void 0&&i!=null&&c(t,["parameters","editConfig","baseSteps"],i);const o=r(e,["outputGcsUri"]);t!==void 0&&o!=null&&c(t,["parameters","storageUri"],o);const s=r(e,["seed"]);t!==void 0&&s!=null&&c(t,["parameters","seed"],s);const u=r(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&c(t,["parameters","safetySetting"],u);const d=r(e,["personGeneration"]);t!==void 0&&d!=null&&c(t,["parameters","personGeneration"],d);const f=r(e,["addWatermark"]);t!==void 0&&f!=null&&c(t,["parameters","addWatermark"],f);const m=r(e,["outputMimeType"]);t!==void 0&&m!=null&&c(t,["parameters","outputOptions","mimeType"],m);const p=r(e,["outputCompressionQuality"]);t!==void 0&&p!=null&&c(t,["parameters","outputOptions","compressionQuality"],p);const h=r(e,["enhancePrompt"]);t!==void 0&&h!=null&&c(t,["parameters","enhancePrompt"],h);const g=r(e,["labels"]);return t!==void 0&&g!=null&&c(t,["labels"],g),n}function bT(e,t){const n={},a=r(t,["model"]);a!=null&&c(n,["_url","model"],ae(e,a));const i=r(t,["source"]);i!=null&&TT(i,n);const o=r(t,["config"]);return o!=null&&ST(o,n),n}function ET(e){const t={},n=r(e,["predictions"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(i=>ol(i))),c(t,["generatedImages"],a)}return t}function TT(e,t){const n={},a=r(e,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const i=r(e,["personImage"]);t!==void 0&&i!=null&&c(t,["instances[0]","personImage","image"],wt(i));const o=r(e,["productImages"]);if(t!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>vT(u))),c(t,["instances[0]","productImages"],s)}return n}function NT(e){const t={},n=r(e,["referenceImage"]);n!=null&&c(t,["referenceImage"],wt(n));const a=r(e,["referenceId"]);a!=null&&c(t,["referenceId"],a);const i=r(e,["referenceType"]);i!=null&&c(t,["referenceType"],i);const o=r(e,["maskImageConfig"]);o!=null&&c(t,["maskImageConfig"],xT(o));const s=r(e,["controlImageConfig"]);s!=null&&c(t,["controlImageConfig"],pE(s));const u=r(e,["styleImageConfig"]);u!=null&&c(t,["styleImageConfig"],u);const d=r(e,["subjectImageConfig"]);return d!=null&&c(t,["subjectImageConfig"],d),t}function _x(e){const t={},n=r(e,["safetyAttributes","categories"]);n!=null&&c(t,["categories"],n);const a=r(e,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const i=r(e,["contentType"]);return i!=null&&c(t,["contentType"],i),t}function Mx(e){const t={},n=r(e,["safetyAttributes","categories"]);n!=null&&c(t,["categories"],n);const a=r(e,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const i=r(e,["contentType"]);return i!=null&&c(t,["contentType"],i),t}function AT(e){const t={};if(r(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=r(e,["category"]);n!=null&&c(t,["category"],n);const a=r(e,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function wT(e){const t={},n=r(e,["image"]);return n!=null&&c(t,["image"],wt(n)),t}function CT(e,t){const n={},a=r(e,["mode"]);t!==void 0&&a!=null&&c(t,["parameters","mode"],a);const i=r(e,["maxPredictions"]);t!==void 0&&i!=null&&c(t,["parameters","maxPredictions"],i);const o=r(e,["confidenceThreshold"]);t!==void 0&&o!=null&&c(t,["parameters","confidenceThreshold"],o);const s=r(e,["maskDilation"]);t!==void 0&&s!=null&&c(t,["parameters","maskDilation"],s);const u=r(e,["binaryColorThreshold"]);t!==void 0&&u!=null&&c(t,["parameters","binaryColorThreshold"],u);const d=r(e,["labels"]);return t!==void 0&&d!=null&&c(t,["labels"],d),n}function _T(e,t){const n={},a=r(t,["model"]);a!=null&&c(n,["_url","model"],ae(e,a));const i=r(t,["source"]);i!=null&&RT(i,n);const o=r(t,["config"]);return o!=null&&CT(o,n),n}function MT(e){const t={},n=r(e,["predictions"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(i=>aT(i))),c(t,["generatedMasks"],a)}return t}function RT(e,t){const n={},a=r(e,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const i=r(e,["image"]);t!==void 0&&i!=null&&c(t,["instances[0]","image"],wt(i));const o=r(e,["scribbleImage"]);return t!==void 0&&o!=null&&c(t,["instances[0]","scribble"],wT(o)),n}function Rx(e){const t={},n=r(e,["voiceConfig"]);if(n!=null&&c(t,["voiceConfig"],n),r(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const a=r(e,["languageCode"]);return a!=null&&c(t,["languageCode"],a),t}function IT(e){const t={},n=r(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),c(t,["functionDeclarations"],d)}if(r(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(e,["googleSearch"]);a!=null&&c(t,["googleSearch"],uT(a));const i=r(e,["googleSearchRetrieval"]);if(i!=null&&c(t,["googleSearchRetrieval"],i),r(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(r(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const o=r(e,["urlContext"]);o!=null&&c(t,["urlContext"],o);const s=r(e,["computerUse"]);s!=null&&c(t,["computerUse"],s);const u=r(e,["codeExecution"]);return u!=null&&c(t,["codeExecution"],u),t}function Ix(e){const t={},n=r(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>jE(h))),c(t,["functionDeclarations"],p)}const a=r(e,["retrieval"]);a!=null&&c(t,["retrieval"],a);const i=r(e,["googleSearch"]);i!=null&&c(t,["googleSearch"],i);const o=r(e,["googleSearchRetrieval"]);o!=null&&c(t,["googleSearchRetrieval"],o);const s=r(e,["enterpriseWebSearch"]);s!=null&&c(t,["enterpriseWebSearch"],s);const u=r(e,["googleMaps"]);u!=null&&c(t,["googleMaps"],u);const d=r(e,["urlContext"]);d!=null&&c(t,["urlContext"],d);const f=r(e,["computerUse"]);f!=null&&c(t,["computerUse"],f);const m=r(e,["codeExecution"]);return m!=null&&c(t,["codeExecution"],m),t}function kT(e){const t={},n=r(e,["baseModel"]);n!=null&&c(t,["baseModel"],n);const a=r(e,["createTime"]);a!=null&&c(t,["createTime"],a);const i=r(e,["updateTime"]);return i!=null&&c(t,["updateTime"],i),t}function DT(e){const t={},n=r(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&c(t,["baseModel"],n);const a=r(e,["createTime"]);a!=null&&c(t,["createTime"],a);const i=r(e,["updateTime"]);return i!=null&&c(t,["updateTime"],i),t}function qT(e,t){const n={},a=r(e,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const i=r(e,["description"]);t!==void 0&&i!=null&&c(t,["description"],i);const o=r(e,["defaultCheckpointId"]);return t!==void 0&&o!=null&&c(t,["defaultCheckpointId"],o),n}function UT(e,t){const n={},a=r(e,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const i=r(e,["description"]);t!==void 0&&i!=null&&c(t,["description"],i);const o=r(e,["defaultCheckpointId"]);return t!==void 0&&o!=null&&c(t,["defaultCheckpointId"],o),n}function LT(e,t){const n={},a=r(t,["model"]);a!=null&&c(n,["_url","name"],ae(e,a));const i=r(t,["config"]);return i!=null&&qT(i,n),n}function jT(e,t){const n={},a=r(t,["model"]);a!=null&&c(n,["_url","model"],ae(e,a));const i=r(t,["config"]);return i!=null&&UT(i,n),n}function VT(e,t){const n={},a=r(e,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const i=r(e,["includeRaiReason"]);t!==void 0&&i!=null&&c(t,["parameters","includeRaiReason"],i);const o=r(e,["outputMimeType"]);t!==void 0&&o!=null&&c(t,["parameters","outputOptions","mimeType"],o);const s=r(e,["outputCompressionQuality"]);t!==void 0&&s!=null&&c(t,["parameters","outputOptions","compressionQuality"],s);const u=r(e,["enhanceInputImage"]);t!==void 0&&u!=null&&c(t,["parameters","upscaleConfig","enhanceInputImage"],u);const d=r(e,["imagePreservationFactor"]);t!==void 0&&d!=null&&c(t,["parameters","upscaleConfig","imagePreservationFactor"],d);const f=r(e,["labels"]);t!==void 0&&f!=null&&c(t,["labels"],f);const m=r(e,["numberOfImages"]);t!==void 0&&m!=null&&c(t,["parameters","sampleCount"],m);const p=r(e,["mode"]);return t!==void 0&&p!=null&&c(t,["parameters","mode"],p),n}function zT(e,t){const n={},a=r(t,["model"]);a!=null&&c(n,["_url","model"],ae(e,a));const i=r(t,["image"]);i!=null&&c(n,["instances[0]","image"],wt(i));const o=r(t,["upscaleFactor"]);o!=null&&c(n,["parameters","upscaleConfig","upscaleFactor"],o);const s=r(t,["config"]);return s!=null&&VT(s,n),n}function PT(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const a=r(e,["predictions"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(o=>ol(o))),c(t,["generatedImages"],i)}return t}function BT(e){const t={},n=r(e,["video","uri"]);n!=null&&c(t,["uri"],n);const a=r(e,["video","encodedVideo"]);a!=null&&c(t,["videoBytes"],qn(a));const i=r(e,["encoding"]);return i!=null&&c(t,["mimeType"],i),t}function GT(e){const t={},n=r(e,["gcsUri"]);n!=null&&c(t,["uri"],n);const a=r(e,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],qn(a));const i=r(e,["mimeType"]);return i!=null&&c(t,["mimeType"],i),t}function HT(e){const t={},n=r(e,["image"]);n!=null&&c(t,["_self"],wt(n));const a=r(e,["maskMode"]);return a!=null&&c(t,["maskMode"],a),t}function OT(e){const t={},n=r(e,["image"]);n!=null&&c(t,["image"],sl(n));const a=r(e,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function JT(e){const t={},n=r(e,["image"]);n!=null&&c(t,["image"],wt(n));const a=r(e,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function kx(e){const t={},n=r(e,["uri"]);n!=null&&c(t,["video","uri"],n);const a=r(e,["videoBytes"]);a!=null&&c(t,["video","encodedVideo"],qn(a));const i=r(e,["mimeType"]);return i!=null&&c(t,["encoding"],i),t}function Dx(e){const t={},n=r(e,["uri"]);n!=null&&c(t,["gcsUri"],n);const a=r(e,["videoBytes"]);a!=null&&c(t,["bytesBase64Encoded"],qn(a));const i=r(e,["mimeType"]);return i!=null&&c(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const YT="Content-Type",FT="X-Server-Timeout",QT="User-Agent",gu="x-goog-api-client",KT="1.23.0",XT=`google-genai-sdk/${KT}`,$T="v1beta1",ZT="v1beta",Bm=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class WT{constructor(t){var n,a;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:$T,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:ZT,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,a){const i=[this.getRequestUrlInternal(n)];return a&&i.push(this.getBaseResourcePath()),t!==""&&i.push(t),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,a);if(t.queryParams)for(const[s,u]of Object.entries(t.queryParams))i.searchParams.append(s,String(u));let o={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=t.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,t.abortSignal),this.unaryApiCall(i,o,t.httpMethod)}patchHttpOptions(t,n){const a=JSON.parse(JSON.stringify(t));for(const[i,o]of Object.entries(n))typeof o=="object"?a[i]=Object.assign(Object.assign({},a[i]),o):o!==void 0&&(a[i]=o);return a}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,a);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=t.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,t.abortSignal),this.streamApiCall(i,o,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,a){if(n&&n.timeout||a){const i=new AbortController,o=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const s=setTimeout(()=>i.abort(),n.timeout);s&&typeof s.unref=="function"&&s.unref()}a&&a.addEventListener("abort",()=>{i.abort()}),t.signal=o}return n&&n.extraBody!==null&&eN(t,n.extraBody),t.headers=await this.getHeadersInternal(n),t}async unaryApiCall(t,n,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:a})).then(async i=>(await Gm(i),new du(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,n,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:a})).then(async i=>(await Gm(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){var n;return La(this,arguments,function*(){const i=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";for(;;){const{done:u,value:d}=yield ge(i.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=o.decode(d,{stream:!0});try{const p=JSON.parse(f);if("error"in p){const h=JSON.parse(JSON.stringify(p.error)),g=h.status,v=h.code,N=`got status: ${g}. ${JSON.stringify(p)}`;if(v>=400&&v<600)throw new al({message:N,status:v})}}catch(p){if(p.name==="ApiError")throw p}s+=f;let m=s.match(Bm);for(;m;){const p=m[1];try{const h=new Response(p,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield ge(new du(h)),s=s.slice(m[0].length),m=s.match(Bm)}catch(h){throw new Error(`exception parsing stream chunk ${p}. ${h}`)}}}}finally{i.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const t={},n=XT+" "+this.clientOptions.userAgentExtra;return t[QT]=n,t[gu]=n,t[YT]="application/json",t}async getHeadersInternal(t){const n=new Headers;if(t&&t.headers){for(const[a,i]of Object.entries(t.headers))n.append(a,i);t.timeout&&t.timeout>0&&n.append(FT,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(t,n){var a;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,s=await o.stat(t);i.sizeBytes=String(s.size);const u=(a=n==null?void 0:n.mimeType)!==null&&a!==void 0?a:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const d=await this.fetchUploadUrl(i,n);return o.upload(t,d,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n){var a;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${t.mimeType}`}};const o={file:t},s=await this.request({path:P("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:i});if(!s||!(s!=null&&s.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(a=s==null?void 0:s.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function Gm(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let a;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await e.json():a={error:{message:await e.text(),code:e.status,status:e.statusText}};const i=JSON.stringify(a);throw n>=400&&n<600?new al({message:i,status:n}):new Error(i)}}function eN(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const o=JSON.parse(e.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(o,s){const u=Object.assign({},o);for(const d in s)if(Object.prototype.hasOwnProperty.call(s,d)){const f=s[d],m=u[d];f&&typeof f=="object"&&!Array.isArray(f)&&m&&typeof m=="object"&&!Array.isArray(m)?u[d]=a(m,f):(m&&f&&typeof m!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${d}". Original type: ${typeof m}, New type: ${typeof f}. Overwriting.`),u[d]=f)}return u}const i=a(n,t);e.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tN="mcp_used/unknown";let nN=!1;function qx(e){for(const t of e)if(aN(t)||typeof t=="object"&&"inputSchema"in t)return!0;return nN}function Ux(e){var t;const n=(t=e[gu])!==null&&t!==void 0?t:"";e[gu]=(n+` ${tN}`).trimStart()}function aN(e){return e!==null&&typeof e=="object"&&e instanceof wc}function iN(e,t=100){return La(this,arguments,function*(){let a,i=0;for(;i<t;){const o=yield ge(e.listTools({cursor:a}));for(const s of o.tools)yield yield ge(s),i++;if(!o.nextCursor)break;a=o.nextCursor}})}class wc{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new wc(t,n)}async initialize(){var t,n,a,i;if(this.mcpTools.length>0)return;const o={},s=[];for(const m of this.mcpClients)try{for(var u=!0,d=(n=void 0,Bi(iN(m))),f;f=await d.next(),t=f.done,!t;u=!0){i=f.value,u=!1;const p=i;s.push(p);const h=p.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=m}}catch(p){n={error:p}}finally{try{!u&&!t&&(a=d.return)&&await a.call(d)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),h2(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[a.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await i.callTool({name:a.name,arguments:a.args},void 0,o);n.push({functionResponse:{name:a.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function oN(e,t,n){const a=new s2;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(a,i),t(a)}class sN{constructor(t,n,a){this.apiClient=t,this.auth=n,this.webSocketFactory=a}async connect(t){var n,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=uN(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),d=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const m=new Promise(S=>{f=S}),p=t.callbacks,h=function(){f({})},g=this.apiClient,v={onopen:h,onmessage:S=>{oN(g,p.onmessage,S)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(S){},onclose:(a=p==null?void 0:p.onclose)!==null&&a!==void 0?a:function(S){}},N=this.webSocketFactory.create(d,rN(s),v);N.connect(),await m;const x={setup:{model:ae(this.apiClient,t.model)}};return N.send(JSON.stringify(x)),new lN(N,this.apiClient)}}class lN{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Wb(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=Zb(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Ca.PLAY)}pause(){this.sendPlaybackControl(Ca.PAUSE)}stop(){this.sendPlaybackControl(Ca.STOP)}resetContext(){this.sendPlaybackControl(Ca.RESET_CONTEXT)}close(){this.conn.close()}}function rN(e){const t={};return e.forEach((n,a)=>{t[a]=n}),t}function uN(e){const t=new Headers;for(const[n,a]of Object.entries(e))t.append(n,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cN="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function dN(e,t,n){const a=new o2;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(e.isVertexAI()){const s=nE(o);Object.assign(a,s)}else Object.assign(a,o);t(a)}class fN{constructor(t,n,a){this.apiClient=t,this.auth=n,this.webSocketFactory=a,this.music=new sN(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,a,i,o,s,u;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const d=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let m;const p=this.apiClient.getHeaders();t.config&&t.config.tools&&qx(t.config.tools)&&Ux(p);const h=gN(p);if(this.apiClient.isVertexAI())m=`${d}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h);else{const A=this.apiClient.getApiKey();let I="BidiGenerateContent",j="key";A!=null&&A.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),I="BidiGenerateContentConstrained",j="access_token"),m=`${d}/ws/google.ai.generativelanguage.${f}.GenerativeService.${I}?${j}=${A}`}let g=()=>{};const v=new Promise(A=>{g=A}),N=t.callbacks,b=function(){var A;(A=N==null?void 0:N.onopen)===null||A===void 0||A.call(N),g({})},y=this.apiClient,x={onopen:b,onmessage:A=>{dN(y,N.onmessage,A)},onerror:(n=N==null?void 0:N.onerror)!==null&&n!==void 0?n:function(A){},onclose:(a=N==null?void 0:N.onclose)!==null&&a!==void 0?a:function(A){}},S=this.webSocketFactory.create(m,pN(h),x);S.connect(),await v;let E=ae(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&E.startsWith("publishers/")){const A=this.apiClient.getProject(),I=this.apiClient.getLocation();E=`projects/${A}/locations/${I}/`+E}let _={};this.apiClient.isVertexAI()&&((i=t.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[qs.AUDIO]}:t.config.responseModalities=[qs.AUDIO]),!((o=t.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const U=(u=(s=t.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[],w=[];for(const A of U)if(this.isCallableTool(A)){const I=A;w.push(await I.tool())}else w.push(A);w.length>0&&(t.config.tools=w);const q={model:E,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?_=$b(this.apiClient,q):_=Xb(this.apiClient,q),delete _.config,S.send(JSON.stringify(_)),new hN(S,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const mN={turnComplete:!0};class hN{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let a=[];try{a=bt(n.turns),t.isVertexAI()||(a=a.map(i=>il(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:a,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let a=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?a=n.functionResponses:a=[n.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const o of a){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!t.isVertexAI()&&!("id"in o))throw new Error(cN)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},mN),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:tE(t)}:n={realtimeInput:eE(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function pN(e){const t={};return e.forEach((n,a)=>{t[a]=n}),t}function gN(e){const t=new Headers;for(const[n,a]of Object.entries(e))t.append(n,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hm=10;function Om(e){var t,n,a;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let i=!1;for(const s of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(ja(s)){i=!0;break}if(!i)return!0;const o=(a=e==null?void 0:e.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function ja(e){return"callTool"in e&&typeof e.callTool=="function"}function xN(e){var t,n,a;return(a=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(i=>ja(i)))!==null&&a!==void 0?a:!1}function yN(e){var t,n,a;return(a=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(i=>!ja(i)))!==null&&a!==void 0?a:!1}function Jm(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vN extends oa{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var a,i,o,s,u;const d=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!xN(n)||Om(n.config))return await this.generateContentInternal(d);if(yN(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let f,m;const p=bt(d.contents),h=(o=(i=(a=d.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:Hm;let g=0;for(;g<h&&(f=await this.generateContentInternal(d),!(!f.functionCalls||f.functionCalls.length===0));){const v=f.candidates[0].content,N=[];for(const b of(u=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[])if(ja(b)){const x=await b.callTool(f.functionCalls);N.push(...x)}g++,m={role:"user",parts:N},d.contents=bt(d.contents),d.contents.push(v),d.contents.push(m),Jm(d.config)&&(p.push(v),p.push(m))}return Jm(d.config)&&(f.automaticFunctionCallingHistory=p),f},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),Om(n.config)){const a=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(a)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(a=>{var i;let o;const s=[];if(a!=null&&a.generatedImages)for(const d of a.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((i=d==null?void 0:d.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=d==null?void 0:d.safetyAttributes:s.push(d);let u;return o?u={generatedImages:s,positivePromptSafetyAttributes:o,sdkHttpResponse:a.sdkHttpResponse}:u={generatedImages:s,sdkHttpResponse:a.sdkHttpResponse},u}),this.list=async n=>{var a;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((a=s.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new go(Wn.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(s),s)},this.editImage=async n=>{const a={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(a.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async n=>{let a={numberOfImages:1,mode:"upscale"};n.config&&(a=Object.assign(Object.assign({},a),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:a};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,a,i;const o=(n=t.config)===null||n===void 0?void 0:n.tools;if(!o)return t;const s=await Promise.all(o.map(async d=>ja(d)?await d.tool():d)),u={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:s})};if(u.config.tools=s,t.config&&t.config.tools&&qx(t.config.tools)){const d=(i=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&i!==void 0?i:{};let f=Object.assign({},d);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),Ux(f),u.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(t){var n,a,i;const o=new Map;for(const s of(a=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&a!==void 0?a:[])if(ja(s)){const u=s,d=await u.tool();for(const f of(i=d.functionDeclarations)!==null&&i!==void 0?i:[]){if(!f.name)throw new Error("Function declaration name is required.");if(o.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);o.set(f.name,u)}}return o}async processAfcStream(t){var n,a,i;const o=(i=(a=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&i!==void 0?i:Hm;let s=!1,u=0;const d=await this.initAfcToolsMap(t);return function(f,m,p){var h,g;return La(this,arguments,function*(){for(var v,N,b,y;u<o;){s&&(u++,s=!1);const _=yield ge(f.processParamsMaybeAddMcpUsage(p)),U=yield ge(f.generateContentStreamInternal(_)),w=[],q=[];try{for(var x=!0,S=(N=void 0,Bi(U)),E;E=yield ge(S.next()),v=E.done,!v;x=!0){y=E.value,x=!1;const A=y;if(yield yield ge(A),A.candidates&&(!((h=A.candidates[0])===null||h===void 0)&&h.content)){q.push(A.candidates[0].content);for(const I of(g=A.candidates[0].content.parts)!==null&&g!==void 0?g:[])if(u<o&&I.functionCall){if(!I.functionCall.name)throw new Error("Function call name was not returned by the model.");if(m.has(I.functionCall.name)){const j=yield ge(m.get(I.functionCall.name).callTool([I.functionCall]));w.push(...j)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${m.keys()}, mising tool: ${I.functionCall.name}`)}}}}catch(A){N={error:A}}finally{try{!x&&!v&&(b=S.return)&&(yield ge(b.call(S)))}finally{if(N)throw N.error}}if(w.length>0){s=!0;const A=new yi;A.candidates=[{content:{role:"user",parts:w}}],yield yield ge(A);const I=[];I.push(...q),I.push({role:"user",parts:w});const j=bt(p.contents).concat(I);p.contents=j}else break}})}(this,d,t)}async generateContentInternal(t){var n,a,i,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=Vm(this.apiClient,t);return u=P("{model}:generateContent",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),s.then(m=>{const p=Pm(m),h=new yi;return Object.assign(h,p),h})}else{const f=jm(this.apiClient,t);return u=P("{model}:generateContent",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),s.then(m=>{const p=zm(m),h=new yi;return Object.assign(h,p),h})}}async generateContentStreamInternal(t){var n,a,i,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=Vm(this.apiClient,t);return u=P("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),s.then(function(p){return La(this,arguments,function*(){var h,g,v,N;try{for(var b=!0,y=Bi(p),x;x=yield ge(y.next()),h=x.done,!h;b=!0){N=x.value,b=!1;const S=N,E=Pm(yield ge(S.json()));E.sdkHttpResponse={headers:S.headers};const _=new yi;Object.assign(_,E),yield yield ge(_)}}catch(S){g={error:S}}finally{try{!b&&!h&&(v=y.return)&&(yield ge(v.call(y)))}finally{if(g)throw g.error}}})})}else{const f=jm(this.apiClient,t);return u=P("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(p){return La(this,arguments,function*(){var h,g,v,N;try{for(var b=!0,y=Bi(p),x;x=yield ge(y.next()),h=x.done,!h;b=!0){N=x.value,b=!1;const S=N,E=zm(yield ge(S.json()));E.sdkHttpResponse={headers:S.headers};const _=new yi;Object.assign(_,E),yield yield ge(_)}}catch(S){g={error:S}}finally{try{!b&&!h&&(v=y.return)&&(yield ge(v.call(y)))}finally{if(g)throw g.error}}})})}}async embedContent(t){var n,a,i,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=kE(this.apiClient,t);return u=P("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),s.then(m=>{const p=qE(m),h=new bm;return Object.assign(h,p),h})}else{const f=IE(this.apiClient,t);return u=P("{model}:batchEmbedContents",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),s.then(m=>{const p=DE(m),h=new bm;return Object.assign(h,p),h})}}async generateImagesInternal(t){var n,a,i,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=HE(this.apiClient,t);return u=P("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),s.then(m=>{const p=JE(m),h=new Em;return Object.assign(h,p),h})}else{const f=GE(this.apiClient,t);return u=P("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),s.then(m=>{const p=OE(m),h=new Em;return Object.assign(h,p),h})}}async editImageInternal(t){var n,a;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=CE(this.apiClient,t);return o=P("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:d.headers},m})),i.then(d=>{const f=_E(d),m=new $S;return Object.assign(m,f),m})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,a;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=zT(this.apiClient,t);return o=P("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:d.headers},m})),i.then(d=>{const f=PT(d),m=new ZS;return Object.assign(m,f),m})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,a;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=bT(this.apiClient,t);return o=P("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),i.then(d=>{const f=ET(d),m=new WS;return Object.assign(m,f),m})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,a;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=_T(this.apiClient,t);return o=P("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),i.then(d=>{const f=MT(d),m=new e2;return Object.assign(m,f),m})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,a,i,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=rT(this.apiClient,t);return u=P("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),s.then(m=>pu(m))}else{const f=lT(this.apiClient,t);return u=P("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),s.then(m=>hu(m))}}async listInternal(t){var n,a,i,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=hT(this.apiClient,t);return u=P("{models_url}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),s.then(m=>{const p=gT(m),h=new Tm;return Object.assign(h,p),h})}else{const f=mT(this.apiClient,t);return u=P("{models_url}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),s.then(m=>{const p=pT(m),h=new Tm;return Object.assign(h,p),h})}}async update(t){var n,a,i,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=jT(this.apiClient,t);return u=P("{model}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),s.then(m=>pu(m))}else{const f=LT(this.apiClient,t);return u=P("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),s.then(m=>hu(m))}}async delete(t){var n,a,i,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=TE(this.apiClient,t);return u=P("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),s.then(m=>{const p=AE(m),h=new Nm;return Object.assign(h,p),h})}else{const f=EE(this.apiClient,t);return u=P("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),s.then(m=>{const p=NE(m),h=new Nm;return Object.assign(h,p),h})}}async countTokens(t){var n,a,i,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=vE(this.apiClient,t);return u=P("{model}:countTokens",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),s.then(m=>{const p=bE(m),h=new Am;return Object.assign(h,p),h})}else{const f=yE(this.apiClient,t);return u=P("{model}:countTokens",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),s.then(m=>{const p=SE(m),h=new Am;return Object.assign(h,p),h})}}async computeTokens(t){var n,a;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=dE(this.apiClient,t);return o=P("{model}:computeTokens",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:d.headers},m})),i.then(d=>{const f=fE(d),m=new t2;return Object.assign(m,f),m})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,a,i,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=$E(this.apiClient,t);return u=P("{model}:predictLongRunning",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),s.then(m=>{const p=KE(m),h=new Us;return Object.assign(h,p),h})}else{const f=XE(this.apiClient,t);return u=P("{model}:predictLongRunning",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),s.then(m=>{const p=QE(m),h=new Us;return Object.assign(h,p),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SN extends oa{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,a=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;a&&"httpOptions"in a&&(o=a.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:a});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async get(t){const n=t.operation,a=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;a&&"httpOptions"in a&&(o=a.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:a});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async getVideosOperationInternal(t){var n,a,i,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=QS(t);return u=P("{operationName}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),s}else{const f=FS(t);return u=P("{operationName}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),s}}async fetchPredictVideosOperationInternal(t){var n,a;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=PS(t);return o=P("{resourceName}:fetchPredictOperation",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bN(e){const t={};if(r(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=r(e,["data"]);n!=null&&c(t,["data"],n);const a=r(e,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function EN(e){const t={},n=r(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>MN(o))),c(t,["parts"],i)}const a=r(e,["role"]);return a!=null&&c(t,["role"],a),t}function TN(e,t,n){const a={},i=r(t,["expireTime"]);n!==void 0&&i!=null&&c(n,["expireTime"],i);const o=r(t,["newSessionExpireTime"]);n!==void 0&&o!=null&&c(n,["newSessionExpireTime"],o);const s=r(t,["uses"]);n!==void 0&&s!=null&&c(n,["uses"],s);const u=r(t,["liveConnectConstraints"]);n!==void 0&&u!=null&&c(n,["bidiGenerateContentSetup"],_N(e,u));const d=r(t,["lockAdditionalFields"]);return n!==void 0&&d!=null&&c(n,["fieldMask"],d),a}function NN(e,t){const n={},a=r(t,["config"]);return a!=null&&c(n,["config"],TN(e,a,n)),n}function AN(e){const t={};if(r(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=r(e,["fileUri"]);n!=null&&c(t,["fileUri"],n);const a=r(e,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function wN(e){const t={},n=r(e,["timeRangeFilter"]);if(n!=null&&c(t,["timeRangeFilter"],n),r(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function CN(e,t){const n={},a=r(e,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const i=r(e,["responseModalities"]);t!==void 0&&i!=null&&c(t,["setup","generationConfig","responseModalities"],i);const o=r(e,["temperature"]);t!==void 0&&o!=null&&c(t,["setup","generationConfig","temperature"],o);const s=r(e,["topP"]);t!==void 0&&s!=null&&c(t,["setup","generationConfig","topP"],s);const u=r(e,["topK"]);t!==void 0&&u!=null&&c(t,["setup","generationConfig","topK"],u);const d=r(e,["maxOutputTokens"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","maxOutputTokens"],d);const f=r(e,["mediaResolution"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","mediaResolution"],f);const m=r(e,["seed"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","seed"],m);const p=r(e,["speechConfig"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","speechConfig"],Ac(p));const h=r(e,["thinkingConfig"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","thinkingConfig"],h);const g=r(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],g);const v=r(e,["systemInstruction"]);t!==void 0&&v!=null&&c(t,["setup","systemInstruction"],EN(Ge(v)));const N=r(e,["tools"]);if(t!==void 0&&N!=null){let U=si(N);Array.isArray(U)&&(U=U.map(w=>IN(oi(w)))),c(t,["setup","tools"],U)}const b=r(e,["sessionResumption"]);t!==void 0&&b!=null&&c(t,["setup","sessionResumption"],RN(b));const y=r(e,["inputAudioTranscription"]);t!==void 0&&y!=null&&c(t,["setup","inputAudioTranscription"],y);const x=r(e,["outputAudioTranscription"]);t!==void 0&&x!=null&&c(t,["setup","outputAudioTranscription"],x);const S=r(e,["realtimeInputConfig"]);t!==void 0&&S!=null&&c(t,["setup","realtimeInputConfig"],S);const E=r(e,["contextWindowCompression"]);t!==void 0&&E!=null&&c(t,["setup","contextWindowCompression"],E);const _=r(e,["proactivity"]);return t!==void 0&&_!=null&&c(t,["setup","proactivity"],_),n}function _N(e,t){const n={},a=r(t,["model"]);a!=null&&c(n,["setup","model"],ae(e,a));const i=r(t,["config"]);return i!=null&&c(n,["config"],CN(i,n)),n}function MN(e){const t={},n=r(e,["videoMetadata"]);n!=null&&c(t,["videoMetadata"],n);const a=r(e,["thought"]);a!=null&&c(t,["thought"],a);const i=r(e,["inlineData"]);i!=null&&c(t,["inlineData"],bN(i));const o=r(e,["fileData"]);o!=null&&c(t,["fileData"],AN(o));const s=r(e,["thoughtSignature"]);s!=null&&c(t,["thoughtSignature"],s);const u=r(e,["functionCall"]);u!=null&&c(t,["functionCall"],u);const d=r(e,["codeExecutionResult"]);d!=null&&c(t,["codeExecutionResult"],d);const f=r(e,["executableCode"]);f!=null&&c(t,["executableCode"],f);const m=r(e,["functionResponse"]);m!=null&&c(t,["functionResponse"],m);const p=r(e,["text"]);return p!=null&&c(t,["text"],p),t}function RN(e){const t={},n=r(e,["handle"]);if(n!=null&&c(t,["handle"],n),r(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function IN(e){const t={},n=r(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),c(t,["functionDeclarations"],d)}if(r(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(e,["googleSearch"]);a!=null&&c(t,["googleSearch"],wN(a));const i=r(e,["googleSearchRetrieval"]);if(i!=null&&c(t,["googleSearchRetrieval"],i),r(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(r(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const o=r(e,["urlContext"]);o!=null&&c(t,["urlContext"],o);const s=r(e,["computerUse"]);s!=null&&c(t,["computerUse"],s);const u=r(e,["codeExecution"]);return u!=null&&c(t,["codeExecution"],u),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kN(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const a=e[n];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const i=Object.keys(a).map(o=>`${n}.${o}`);t.push(...i)}else t.push(n)}return t.join(",")}function DN(e,t){let n=null;const a=e.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const o=a.setup;typeof o=="object"&&o!==null?(e.bidiGenerateContentSetup=o,n=o):delete e.bidiGenerateContentSetup}else a!==void 0&&delete e.bidiGenerateContentSetup;const i=e.fieldMask;if(n){const o=kN(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)o?e.fieldMask=o:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(f=>s.includes(f)?`generationConfig.${f}`:f));const d=[];o&&d.push(o),u.length>0&&d.push(...u),d.length>0?e.fieldMask=d.join(","):delete e.fieldMask}else delete e.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}class qN extends oa{constructor(t){super(),this.apiClient=t}async create(t){var n,a;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=NN(this.apiClient,t);o=P("auth_tokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query;const d=DN(u,t.config);return i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),i.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UN(e){const t={},n=r(e,["name"]);return n!=null&&c(t,["_url","name"],n),t}function LN(e){const t={},n=r(e,["name"]);return n!=null&&c(t,["_url","name"],n),t}function jN(e,t){const n={};if(r(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=r(e,["tunedModelDisplayName"]);if(t!==void 0&&a!=null&&c(t,["displayName"],a),r(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=r(e,["epochCount"]);t!==void 0&&i!=null&&c(t,["tuningTask","hyperparameters","epochCount"],i);const o=r(e,["learningRateMultiplier"]);if(o!=null&&c(n,["tuningTask","hyperparameters","learningRateMultiplier"],o),r(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(r(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(r(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const s=r(e,["batchSize"]);t!==void 0&&s!=null&&c(t,["tuningTask","hyperparameters","batchSize"],s);const u=r(e,["learningRate"]);if(t!==void 0&&u!=null&&c(t,["tuningTask","hyperparameters","learningRate"],u),r(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return n}function VN(e,t){const n={},a=r(e,["validationDataset"]);t!==void 0&&a!=null&&c(t,["supervisedTuningSpec"],WN(a,n));const i=r(e,["tunedModelDisplayName"]);t!==void 0&&i!=null&&c(t,["tunedModelDisplayName"],i);const o=r(e,["description"]);t!==void 0&&o!=null&&c(t,["description"],o);const s=r(e,["epochCount"]);t!==void 0&&s!=null&&c(t,["supervisedTuningSpec","hyperParameters","epochCount"],s);const u=r(e,["learningRateMultiplier"]);t!==void 0&&u!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],u);const d=r(e,["exportLastCheckpointOnly"]);t!==void 0&&d!=null&&c(t,["supervisedTuningSpec","exportLastCheckpointOnly"],d);const f=r(e,["adapterSize"]);if(t!==void 0&&f!=null&&c(t,["supervisedTuningSpec","hyperParameters","adapterSize"],f),r(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(r(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=r(e,["labels"]);return t!==void 0&&m!=null&&c(t,["labels"],m),n}function zN(e){const t={},n=r(e,["baseModel"]);n!=null&&c(t,["baseModel"],n);const a=r(e,["preTunedModel"]);a!=null&&c(t,["preTunedModel"],a);const i=r(e,["trainingDataset"]);i!=null&&c(t,["tuningTask","trainingData"],XN(i));const o=r(e,["config"]);return o!=null&&jN(o,t),t}function PN(e){const t={},n=r(e,["baseModel"]);n!=null&&c(t,["baseModel"],n);const a=r(e,["preTunedModel"]);a!=null&&c(t,["preTunedModel"],a);const i=r(e,["trainingDataset"]);i!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],$N(i,t));const o=r(e,["config"]);return o!=null&&VN(o,t),t}function BN(e){const t={},n=r(e,["name"]);return n!=null&&c(t,["_url","name"],n),t}function GN(e){const t={},n=r(e,["name"]);return n!=null&&c(t,["_url","name"],n),t}function HN(e,t){const n={},a=r(e,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const i=r(e,["pageToken"]);t!==void 0&&i!=null&&c(t,["_query","pageToken"],i);const o=r(e,["filter"]);return t!==void 0&&o!=null&&c(t,["_query","filter"],o),n}function ON(e,t){const n={},a=r(e,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const i=r(e,["pageToken"]);t!==void 0&&i!=null&&c(t,["_query","pageToken"],i);const o=r(e,["filter"]);return t!==void 0&&o!=null&&c(t,["_query","filter"],o),n}function JN(e){const t={},n=r(e,["config"]);return n!=null&&HN(n,t),t}function YN(e){const t={},n=r(e,["config"]);return n!=null&&ON(n,t),t}function FN(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const a=r(e,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const i=r(e,["tunedModels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Lx(s))),c(t,["tuningJobs"],o)}return t}function QN(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const a=r(e,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const i=r(e,["tuningJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>xu(s))),c(t,["tuningJobs"],o)}return t}function KN(e){const t={},n=r(e,["name"]);n!=null&&c(t,["model"],n);const a=r(e,["name"]);return a!=null&&c(t,["endpoint"],a),t}function XN(e){const t={};if(r(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=r(e,["examples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(i=>i)),c(t,["examples","examples"],a)}return t}function $N(e,t){const n={},a=r(e,["gcsUri"]);t!==void 0&&a!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],a);const i=r(e,["vertexDatasetResource"]);if(t!==void 0&&i!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],i),r(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function Lx(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const a=r(e,["name"]);a!=null&&c(t,["name"],a);const i=r(e,["state"]);i!=null&&c(t,["state"],xx(i));const o=r(e,["createTime"]);o!=null&&c(t,["createTime"],o);const s=r(e,["tuningTask","startTime"]);s!=null&&c(t,["startTime"],s);const u=r(e,["tuningTask","completeTime"]);u!=null&&c(t,["endTime"],u);const d=r(e,["updateTime"]);d!=null&&c(t,["updateTime"],d);const f=r(e,["description"]);f!=null&&c(t,["description"],f);const m=r(e,["baseModel"]);m!=null&&c(t,["baseModel"],m);const p=r(e,["_self"]);p!=null&&c(t,["tunedModel"],KN(p));const h=r(e,["customBaseModel"]);h!=null&&c(t,["customBaseModel"],h);const g=r(e,["experiment"]);g!=null&&c(t,["experiment"],g);const v=r(e,["labels"]);v!=null&&c(t,["labels"],v);const N=r(e,["outputUri"]);N!=null&&c(t,["outputUri"],N);const b=r(e,["pipelineJob"]);b!=null&&c(t,["pipelineJob"],b);const y=r(e,["serviceAccount"]);y!=null&&c(t,["serviceAccount"],y);const x=r(e,["tunedModelDisplayName"]);x!=null&&c(t,["tunedModelDisplayName"],x);const S=r(e,["veoTuningSpec"]);return S!=null&&c(t,["veoTuningSpec"],S),t}function xu(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const a=r(e,["name"]);a!=null&&c(t,["name"],a);const i=r(e,["state"]);i!=null&&c(t,["state"],xx(i));const o=r(e,["createTime"]);o!=null&&c(t,["createTime"],o);const s=r(e,["startTime"]);s!=null&&c(t,["startTime"],s);const u=r(e,["endTime"]);u!=null&&c(t,["endTime"],u);const d=r(e,["updateTime"]);d!=null&&c(t,["updateTime"],d);const f=r(e,["error"]);f!=null&&c(t,["error"],f);const m=r(e,["description"]);m!=null&&c(t,["description"],m);const p=r(e,["baseModel"]);p!=null&&c(t,["baseModel"],p);const h=r(e,["tunedModel"]);h!=null&&c(t,["tunedModel"],h);const g=r(e,["preTunedModel"]);g!=null&&c(t,["preTunedModel"],g);const v=r(e,["supervisedTuningSpec"]);v!=null&&c(t,["supervisedTuningSpec"],v);const N=r(e,["tuningDataStats"]);N!=null&&c(t,["tuningDataStats"],N);const b=r(e,["encryptionSpec"]);b!=null&&c(t,["encryptionSpec"],b);const y=r(e,["partnerModelTuningSpec"]);y!=null&&c(t,["partnerModelTuningSpec"],y);const x=r(e,["customBaseModel"]);x!=null&&c(t,["customBaseModel"],x);const S=r(e,["experiment"]);S!=null&&c(t,["experiment"],S);const E=r(e,["labels"]);E!=null&&c(t,["labels"],E);const _=r(e,["outputUri"]);_!=null&&c(t,["outputUri"],_);const U=r(e,["pipelineJob"]);U!=null&&c(t,["pipelineJob"],U);const w=r(e,["serviceAccount"]);w!=null&&c(t,["serviceAccount"],w);const q=r(e,["tunedModelDisplayName"]);q!=null&&c(t,["tunedModelDisplayName"],q);const A=r(e,["veoTuningSpec"]);return A!=null&&c(t,["veoTuningSpec"],A),t}function ZN(e){const t={},n=r(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const a=r(e,["name"]);a!=null&&c(t,["name"],a);const i=r(e,["metadata"]);i!=null&&c(t,["metadata"],i);const o=r(e,["done"]);o!=null&&c(t,["done"],o);const s=r(e,["error"]);return s!=null&&c(t,["error"],s),t}function WN(e,t){const n={},a=r(e,["gcsUri"]);a!=null&&c(n,["validationDatasetUri"],a);const i=r(e,["vertexDatasetResource"]);return t!==void 0&&i!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eA extends oa{constructor(t){super(),this.apiClient=t,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new go(Wn.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(n),n),this.tune=async n=>{var a;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((a=n.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let s="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?s=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(s=o.name.split("/operations/")[0]),{name:s,state:cu.JOB_STATE_QUEUED}}}}async getInternal(t){var n,a,i,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=GN(t);return u=P("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),s.then(m=>xu(m))}else{const f=BN(t);return u=P("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),s.then(m=>Lx(m))}}async listInternal(t){var n,a,i,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=YN(t);return u=P("tuningJobs",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),s.then(m=>{const p=QN(m),h=new wm;return Object.assign(h,p),h})}else{const f=JN(t);return u=P("tunedModels",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),s.then(m=>{const p=FN(m),h=new wm;return Object.assign(h,p),h})}}async cancel(t){var n,a,i,o;let s="",u={};if(this.apiClient.isVertexAI()){const d=LN(t);s=P("{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const d=UN(t);s=P("{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async tuneInternal(t){var n,a;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=PN(t);return o=P("tuningJobs",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:d.headers},m})),i.then(d=>xu(d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,a;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=zN(t);return o=P("tunedModels",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:d.headers},m})),i.then(d=>ZN(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tA{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const nA=1024*1024*8,aA=3,iA=1e3,oA=2,cr="x-goog-upload-status";async function sA(e,t,n){var a,i,o;let s=0,u=0,d=new du(new Response),f="upload";for(s=e.size;u<s;){const p=Math.min(nA,s-u),h=e.slice(u,u+p);u+p>=s&&(f+=", finalize");let g=0,v=iA;for(;g<aA&&(d=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(u),"Content-Length":String(p)}}}),!(!((a=d==null?void 0:d.headers)===null||a===void 0)&&a[cr]));)g++,await rA(v),v=v*oA;if(u+=p,((i=d==null?void 0:d.headers)===null||i===void 0?void 0:i[cr])!=="active")break;if(s<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const m=await(d==null?void 0:d.json());if(((o=d==null?void 0:d.headers)===null||o===void 0?void 0:o[cr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return m.file}async function lA(e){return{size:e.size,type:e.type}}function rA(e){return new Promise(t=>setTimeout(t,e))}class uA{async upload(t,n,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await sA(t,n,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await lA(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cA{create(t,n,a){return new dA(t,n,a)}}class dA{constructor(t,n,a){this.url=t,this.headers=n,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ym="x-goog-api-key";class fA{constructor(t){this.apiKey=t}async addAuthHeaders(t){if(t.get(Ym)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Ym,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mA="gl-node/";class jx{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const a=zS(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion;const i=new fA(this.apiKey);this.apiClient=new WT({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:mA+"web",uploader:new uA,downloader:new tA}),this.models=new vN(this.apiClient),this.live=new fN(this.apiClient,i,new cA),this.batches=new tb(this.apiClient),this.chats=new kb(this.models,this.apiClient),this.caches=new Mb(this.apiClient),this.files=new Gb(this.apiClient),this.operations=new SN(this.apiClient),this.authTokens=new qN(this.apiClient),this.tunings=new eA(this.apiClient)}}const Vx=({className:e})=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 008.716-6.747M12 21a9.004 9.004 0 01-8.716-6.747M12 21c.243 0 .482-.017.716-.05M12 21c-.243 0-.482-.017-.716-.05M3.284 14.253A9.004 9.004 0 0112 3c4.968 0 9 4.032 9 9"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v1m0 16v.05m0-16.05a9 9 0 00-5.716 1.747M12 3a9 9 0 015.716 1.747"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 12.75a.75.75 0 010-1.5.75.75 0 010 1.5zm4.5 0a.75.75 0 010-1.5.75.75 0 010 1.5z"})]}),hA=[{id:"anxiety",title:"القلق والتوتر",icon:"😟",content:{introduction:"الشعور بالقلق أمر طبيعي، لكن عندما يسيطر على حياتك، يصبح عبئًا. تذكر أن الله معك، وأن كل ما تمر به هو اختبار لتقويتك.",psychological:{title:"💡 منظور علم النفس (العلاج المعرفي السلوكي)",text:'القلق غالبًا ما ينبع من أفكار سلبية متكررة حول المستقبل. تدرب على ملاحظة هذه الأفكار وتحديها. اسأل نفسك: "ما هو الدليل على صحة هذا القلق؟ وما هو أسوأ ما يمكن أن يحدث وكيف سأتعامل معه؟". إعادة صياغة الأفكار تقلل من حدة الشعور بالخطر.',source:"مبادئ العلاج المعرفي السلوكي (CBT)"},spiritual:{title:"🌿 هداية روحانية",text:'قال تعالى: {أَلَا بِذِكْرِ اللَّهِ تَطْمَئِنُّ الْقُلُوبُ} (الرعد: 28). اجعل لسانك رطبًا بذكر الله. قال ابن القيم: "ذكر الله هو السلاح الذي يقاتل به العبد قطاع الطريق إلى الله". القلق من قطاع الطريق، والذكر هو سلاحك.',source:"القرآن الكريم، مدارج السالكين لابن القيم"},practical:{title:"👟 خطوات عملية",text:`1. تمرين التنفس العميق: خذ نفسًا عميقًا من أنفك لـ 4 ثوانٍ، احبسه لـ 4 ثوانٍ، ثم أخرجه ببطء من فمك في 6 ثوانٍ. كرره 5 مرات.
2. خصص "وقتًا للقلق": حدد 15 دقيقة يوميًا للتفكير في مخاوفك، ثم اتركها بقية اليوم.
3. الصلاة بخشوع: فهي صلة مباشرة مع الله، ومصدر للسكينة.`,source:"إرشادات منظمة الصحة العالمية (WHO)"}}},{id:"sadness",title:"الحزن وفقدان الشغف",icon:"😔",content:{introduction:"الحزن شعور إنساني عميق، خاصة عند الفقد أو الخيبة. لا تحبسه، بل تعامل معه كضيف سيمضي. الله يعلم ما في قلبك وهو أرحم بك من نفسك.",psychological:{title:"💡 منظور علم النفس (العلاج السلوكي)",text:'الحزن قد يجعلك تنسحب من الأنشطة التي كنت تحبها، مما يزيد من الحزن. حاول "التنشيط السلوكي": قم بعمل واحد صغير وممتع أو مفيد كل يوم، حتى لو لم تكن تشعر بالرغبة في ذلك. هذا يساعد على كسر دائرة الخمول.',source:"مبادئ العلاج بالتنشيط السلوكي (BA)"},spiritual:{title:"🌿 هداية روحانية",text:'قال النبي ﷺ: "ما يصيب المسلم من نصب ولا وصب ولا هم ولا حزن ولا أذى ولا غم، حتى الشوكة يشاكها، إلا كفر الله بها من خطاياه". حزنك لا يذهب سدى، بل هو تكفير لذنوبك ورفعة لدرجاتك. وتذكر دعاء النبي: "اللهم إني أعوذ بك من الهم والحزن".',source:"صحيح البخاري"},practical:{title:"👟 خطوات عملية",text:`1. اكتب مشاعرك: خصص دفترًا لتفريغ ما في قلبك دون حكم.
2. تحرك: المشي لمدة 15 دقيقة في الهواء الطلق يمكن أن يحسن مزاجك بشكل كبير.
3. تواصل: تحدث مع صديق تثق به أو فرد من عائلتك. المشاركة تخفف العبء.`,source:"إرشادات الجمعية الأمريكية للطب النفسي (APA)"}}},{id:"anger",title:"الغضب",icon:"😠",content:{introduction:"الغضب جمرة يلقيها الشيطان في قلب ابن آدم. هو شعور قوي، لكن الإسلام علمنا كيف نسيطر عليه لا أن يسيطر هو علينا.",psychological:{title:"💡 منظور علم النفس",text:'الغضب غالبًا ما يكون رد فعل لشعور بالظلم أو التهديد. الخطوة الأولى هي التعرف على المثيرات التي تسبب غضبك. بدلًا من رد الفعل الفوري، تعلم أن تأخذ "وقفة": توقف، تنفس، وفكر في العواقب قبل أن تتصرف.',source:"إدارة الغضب - الجمعية الأمريكية للطب النفسي (APA)"},spiritual:{title:"🌿 هداية روحانية",text:'قال النبي ﷺ للرجل الذي طلب وصية: "لا تغضب". فردد مرارًا، قال: "لا تغضب". ومدح الله الكاظمين الغيظ: {وَالْكَاظِمِينَ الْغَيْظَ وَالْعَافِينَ عَنِ النَّاسِ ۗ وَاللَّهُ يُحِبُّ الْمُحْسِنِينَ} (آل عمران: 134). كظم الغيظ ليس ضعفًا، بل هو قمة القوة والإحسان.',source:"صحيح البخاري، القرآن الكريم"},practical:{title:"👟 خطوات عملية",text:`1. غيّر وضعيتك: إن كنت قائمًا فاجلس، وإن كنت جالسًا فاضطجع.
2. توضأ: فالغضب من الشيطان، والشيطان خلق من نار، والماء يطفئ النار.
3. استعذ بالله: قل "أعوذ بالله من الشيطان الرجيم".
4. فكر في أجر كظم الغيظ.`,source:"السنة النبوية، إحياء علوم الدين للغزالي"}}},{id:"fear",title:"الخوف",icon:"😨",content:{introduction:"الخوف شعور طبيعي يحمينا، لكنه قد يتحول إلى سجن يمنعنا من عيش حياتنا. الإيمان بالله هو الأمان الحقيقي الذي يحررنا من كل المخاوف الدنيوية.",psychological:{title:"💡 منظور علم النفس",text:'الخوف ينمو بالهروب منه. العلاج بالتعرض (Exposure Therapy) يقوم على مواجهة مخاوفك بشكل تدريجي ومدروس. فرّق بين الخوف الحقيقي المبني على خطر واقعي، والخوف الوهمي المبني على تصورات. اسأل نفسك: "ما احتمالية حدوث ما أخشاه حقًا؟".',source:"مبادئ العلاج المعرفي السلوكي (CBT)"},spiritual:{title:"🌿 هداية روحانية",text:"يقول الله تعالى: {أَلَا إِنَّ أَوْلِيَاءَ اللَّهِ لَا خَوْفٌ عَلَيْهِمْ وَلَا هُمْ يَحْزَنُونَ}. عندما تكون وليًا لله، يملأ الله قلبك بالأمن. الخوف الحقيقي يجب أن يكون من الله وحده، ومن خاف الله، آمنه الله من كل شيء. تذكر قصة أم موسى حين ألقت وليدها في اليم ثقة بالله.",source:"القرآن الكريم (سورة يونس: 62)، الجواب الكافي لابن القيم"},practical:{title:"👟 خطوات عملية",text:`1. تمرين التجذير (5-4-3-2-1): اذكر 5 أشياء تراها، 4 أشياء تلمسها، 3 أصوات تسمعها، شيئين تشم رائحتهما، وشيء واحد تتذوقه. هذا يعيدك للحظة الحاضرة.
2. الدعاء: "اللهم إني أعوذ بك من الهم والحزن... ومن الجبن والبخل".
3. واجه خوفك بخطوة صغيرة جدًا اليوم.`,source:"تقنيات التيقظ الذهني (Mindfulness)، السنة النبوية"}}},{id:"loneliness",title:"الوحدة",icon:"👤",content:{introduction:"قد تشعر بالوحدة وأنت بين الناس، لأن الوحدة ليست غياب الأشخاص، بل غياب التواصل الحقيقي. تذكر أن الله معك دائمًا، يسمعك ويراك.",psychological:{title:"💡 منظور علم النفس",text:'الوحدة هي شعور ذاتي بانعدام الروابط الهادفة. ركز على "جودة" علاقاتك لا "كميتها". تحدى الأفكار مثل "لا أحد يهتم لأمري" بالبحث عن أدلة عكسية. المبادرة بخطوات صغيرة للتواصل الاجتماعي تكسر حلقة العزلة.',source:"علم النفس الاجتماعي، العلاج المعرفي السلوكي (CBT)"},spiritual:{title:"🌿 هداية روحانية",text:'الله تعالى يقول: {وَهُوَ مَعَكُمْ أَيْنَ مَا كُنتُمْ}. أنت لست وحدك أبدًا. تأمل قصة النبي ﷺ في الغار مع أبي بكر حين قال: {لَا تَحْزَنْ إِنَّ اللَّهَ مَعَنَا}. هذه المعية الإلهية هي أعظم أنس. يقول ابن القيم: "من كان الله معه فماذا فقد؟ ومن فقد الله فماذا وجد؟".',source:"القرآن الكريم (سورة الحديد: 4، التوبة: 40)، مدارج السالكين"},practical:{title:"👟 خطوات عملية",text:`1. بادر: أرسل رسالة قصيرة لصديق قديم أو قريب.
2. انضم لمجموعة: حلقة قرآن في المسجد، عمل تطوعي، أو نشاط رياضي.
3. خصص وقتًا لمناجاة الله: في الثلث الأخير من الليل، اشكُ همك لمن يسمعك دائمًا.`,source:"إرشادات الصحة النفسية المجتمعية"}}},{id:"motivation_loss",title:"فقدان الدافع",icon:"📉",content:{introduction:"فقدان الشغف والدافع هو إشارة من نفسك بأنك بحاجة للتوقف، وإعادة تقييم أهدافك، وتجديد نيتك وعلاقتك بالله.",psychological:{title:"💡 منظور علم النفس",text:'الدافع ينهار عندما تكون الأهداف كبيرة جدًا وغير واضحة. قسّم هدفك الكبير إلى مهام صغيرة جدًا يمكن إنجازها (مثلاً: بدلاً من "قراءة الكتاب"، اجعلها "قراءة صفحة واحدة"). كل إنجاز صغير يبني الزخم ويعزز الشعور بالكفاءة، مما يولد الدافع.',source:"نظرية تحديد الأهداف (Goal-Setting Theory)، كتاب العادات الذرية"},spiritual:{title:"🌿 هداية روحانية",text:'استحضر النية! قال النبي ﷺ: "إنما الأعمال بالنيات". جدد نيتك في كل عمل دنيوي ليكون عبادة. هل تدرس؟ انوِ به نفع المسلمين. هل تعمل؟ انوِ به الكسب الحلال. ربط أعمالك بغاية أسمى (رضا الله) هو أقوى محرك ودافع لا ينضب.',source:"صحيح البخاري، إحياء علوم الدين للغزالي"},practical:{title:"👟 خطوات عملية",text:`1. قاعدة الخمس دقائق: اعمل على المهمة التي تتهرب منها لمدة 5 دقائق فقط. غالبًا ما ستجد نفسك مستمرًا.
2. غير بيئتك: أحيانًا تغيير المكان الذي تعمل فيه ينشط عقلك.
3. كافئ نفسك: احتفل بالإنجازات الصغيرة لتعزيز السلوك الإيجابي.`,source:"تقنيات إدارة الوقت والإنتاجية"}}},{id:"despair",title:"اليأس والإحباط",icon:"😞",content:{introduction:"اليأس هو الشعور بأن الأبواب كلها مغلقة. لكن باب الله لا يغلق أبدًا. لا تقنط من رحمة ربك التي وسعت كل شيء.",psychological:{title:"💡 منظور علم النفس (العلاج الإيجابي)",text:'اليأس غالبًا ما يرتبط بالتركيز على ما لا يمكننا التحكم فيه. حوّل تركيزك إلى دائرة تأثيرك: ما هي الخطوة الصغيرة التي "يمكنك" اتخاذها الآن؟ ممارسة الامتنان تغير كيمياء الدماغ، وتجعلك ترى ما تملكه بدلاً مما تفقده.',source:"علم النفس الإيجابي (Positive Psychology)"},spiritual:{title:"🌿 هداية روحانية",text:"أعظم جريمة يرتكبها العبد في حق نفسه هي القنوط من رحمة الله. قال تعالى على لسان يعقوب عليه السلام: {وَلَا تَيْأَسُوا مِن رَّوْحِ اللَّهِ ۖ إِنَّهُ لَا يَيْأَسُ مِن رَّوْحِ اللَّهِ إِلَّا الْقَوْمُ الْكَافِرُونَ}. اليأس من صفات الكافرين، وحسن الظن بالله من صميم إيمان المؤمن.",source:"القرآن الكريم (سورة يوسف: 87)، الجواب الكافي لابن القيم"},practical:{title:"👟 خطوات عملية",text:`1. سجل الامتنان: قبل النوم، اكتب ثلاثة أشياء بسيطة أنت ممتن لها اليوم.
2. ساعد شخصًا آخر: تقديم المساعدة للغير يمنح شعورًا بالهدف والقيمة.
3. اقرأ دعاء يونس في الظلمات: "لا إله إلا أنت سبحانك إني كنت من الظالمين".`,source:"تمارين العلاج المعرفي السلوكي، السنة النبوية"}}}],dr=({title:e,text:t,source:n})=>l.jsxs("div",{className:"p-4 bg-background rounded-lg border border-border-color",children:[l.jsx("h4",{className:"font-bold text-lg text-primary mb-2",children:e}),l.jsx("p",{className:"whitespace-pre-wrap leading-relaxed text-text-secondary",children:t}),l.jsxs("p",{className:"text-xs text-text-secondary/70 mt-3 pt-2 border-t border-dashed border-border-color/50 text-left",children:["المصدر: ",n]})]}),pA=({onBack:e})=>{const[t,n]=T.useState(null);return t?l.jsxs("div",{className:"animate-fade-in",children:[l.jsxs("button",{onClick:()=>n(null),className:"flex items-center gap-2 text-text-secondary hover:text-text-primary mb-6 font-tajawal",children:[l.jsx(Ee,{className:"w-5 h-5"}),l.jsx("span",{children:"العودة للاختيار"})]}),l.jsxs("div",{className:"bg-card p-6 rounded-xl shadow-lg space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("span",{className:"text-6xl",children:t.icon}),l.jsx("h2",{className:"text-3xl font-bold text-text-primary mt-2",children:t.title}),l.jsx("p",{className:"text-text-secondary mt-2 max-w-prose mx-auto",children:t.content.introduction})]}),l.jsx(dr,{title:"💡 منظور علم النفس",text:t.content.psychological.text,source:t.content.psychological.source}),l.jsx(dr,{title:"🌿 هداية روحانية",text:t.content.spiritual.text,source:t.content.spiritual.source}),l.jsx(dr,{title:"👟 خطوات عملية",text:t.content.practical.text,source:t.content.practical.source})]})]}):l.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-4 text-center animate-fade-in",children:[l.jsx("button",{onClick:e,className:"absolute top-20 right-6 md:top-24 md:right-10 p-2 rounded-full text-text-secondary hover:bg-border-color",children:l.jsx(Ee,{className:"w-6 h-6"})}),l.jsx(Vx,{className:"w-16 h-16 text-primary mb-4"}),l.jsx("h2",{className:"text-3xl font-bold font-tajawal",children:"المستشار النفسي"}),l.jsx("p",{className:"text-text-secondary mt-2 mb-8 font-tajawal max-w-md mx-auto",children:"دليلك للتوازن النفسي والروحي. اختر ما تشعر به الآن لنبدأ رحلة السكينة معًا."}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 w-full max-w-2xl",children:hA.map(a=>l.jsxs("button",{onClick:()=>n(a),className:"p-4 bg-card rounded-lg shadow-md flex flex-col items-center justify-center aspect-square hover:shadow-lg hover:-translate-y-1 transition-all duration-200",children:[l.jsx("span",{className:"text-4xl",children:a.icon}),l.jsx("span",{className:"font-bold text-lg mt-2 font-tajawal text-text-primary",children:a.title})]},a.id))})]})},zo=[{surahId:1,ayahNumber:1,text:"بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ",tajweedAnalysis:[{word:"اللَّهِ",rule:"تفخيم لام لفظ الجلالة",explanation:"تُفخَّم لام لفظ الجلالة لأنها سُبقت بفتح (في كلمة بِسْمِ)."},{word:"الرَّحْمَٰنِ",rule:"مد طبيعي",explanation:"يوجد مد طبيعي في الألف الخنجرية بعد الميم، ويمد بمقدار حركتين."},{word:"الرَّحِيمِ",rule:"مد عارض للسكون",explanation:"عند الوقف على كلمة 'الرَّحِيمِ'، يتحول المد الطبيعي في الياء إلى مد عارض للسكون، يجوز مده 2 أو 4 أو 6 حركات."}],testPoints:{positive:[],negative:[]}},{surahId:1,ayahNumber:2,text:"الْحَمْدُ لِلَّهِ رَبِّ الْعَالَمِينَ",tajweedAnalysis:[{word:"الْحَمْدُ",rule:"إظهار اللام القمرية",explanation:"اللام في 'الْحَمْدُ' هي لام قمرية، حكمها الإظهار، وتنطق بوضوح."},{word:"لِلَّهِ",rule:"ترقيق لام لفظ الجلالة",explanation:"تُرقَّق لام لفظ الجلالة لأنها سُبقت بكسر."},{word:"الْعَالَمِينَ",rule:"مد عارض للسكون",explanation:"عند الوقف، تمد الياء بمقدار 2 أو 4 أو 6 حركات."}],testPoints:{positive:[],negative:[]}},{surahId:1,ayahNumber:3,text:"الرَّحْمَٰنِ الرَّحِيمِ",tajweedAnalysis:[{word:"الرَّحْمَٰنِ",rule:"إدغام شمسي",explanation:"اللام في 'الر' لا تنطق وتدغم في الراء."},{word:"الرَّحِيمِ",rule:"مد عارض للسكون",explanation:"عند الوقف، تمد الياء بمقدار 2 أو 4 أو 6 حركات."}],testPoints:{positive:[],negative:[]}},{surahId:1,ayahNumber:4,text:"مَالِكِ يَوْمِ الدِّينِ",tajweedAnalysis:[{word:"مَالِكِ",rule:"مد طبيعي",explanation:"تمد الألف بعد الميم حركتين."},{word:"الدِّينِ",rule:"مد عارض للسكون",explanation:"عند الوقف، تمد الياء بمقدار 2 أو 4 أو 6 حركات."}],testPoints:{positive:[],negative:[]}},{surahId:1,ayahNumber:5,text:"إِيَّاكَ نَعْبُدُ وَإِيَّاكَ نَسْتَعِينُ",tajweedAnalysis:[{word:"إِيَّاكَ",rule:"مد طبيعي",explanation:"تمد الياء الأولى حركتين."},{word:"نَسْتَعِينُ",rule:"مد عارض للسكون",explanation:"عند الوقف، تمد الياء بمقدار 2 أو 4 أو 6 حركات."}],testPoints:{positive:[],negative:[]}},{surahId:1,ayahNumber:6,text:"اهْدِنَا الصِّرَاطَ الْمُسْتَقِيمَ",tajweedAnalysis:[{word:"الصِّرَاطَ",rule:"تفخيم الطاء",explanation:"الطاء من حروف التفخيم."},{word:"الْمُسْتَقِيمَ",rule:"مد عارض للسكون",explanation:"عند الوقف، تمد الياء بمقدار 2 أو 4 أو 6 حركات."}],testPoints:{positive:[],negative:[]}},{surahId:1,ayahNumber:7,text:"صِرَاطَ الَّذِينَ أَنْعَمْتَ عَلَيْهِمْ غَيْرِ الْمَغْضُوبِ عَلَيْهِمْ وَلَا الضَّالِّينَ",tajweedAnalysis:[{word:"أَنْعَمْتَ",rule:"إظهار حلقي",explanation:"النون الساكنة بعدها عين، حكمها الإظهار."},{word:"عَلَيْهِمْ غَيْرِ",rule:"إظهار شفوي",explanation:"الميم الساكنة بعدها غين، حكمها الإظهار."},{word:"الضَّالِّينَ",rule:"مد لازم كلمي مثقل",explanation:"حرف المد (الألف) بعده حرف مشدد (اللام)، ويمد 6 حركات."}],testPoints:{positive:[],negative:[]}},{surahId:2,ayahNumber:1,text:"الٓمٓ",tajweedAnalysis:[{word:"الٓمٓ",rule:"مد لازم حرفي مثقل ومخفف",explanation:"ألف: لا مد فيها. لام: مد لازم حرفي مثقل (6 حركات) لوجود الإدغام مع الميم. ميم: مد لازم حرفي مخفف (6 حركات)."}],testPoints:{positive:[],negative:[]}},{surahId:2,ayahNumber:2,text:"ذَٰلِكَ الْكِتَابُ لَا رَيْبَ ۛ فِيهِ ۛ هُدًى لِّلْمُتَّقِينَ",tajweedAnalysis:[{word:"رَيْبَ",rule:"مد لين",explanation:"ياء ساكنة مفتوح ما قبلها."},{word:"هُدًى لِّلْمُتَّقِينَ",rule:"إدغام كامل بغير غنة",explanation:"التنوين بعده لام، حكمه الإدغام الكامل بغير غنة."}],testPoints:{positive:[],negative:[]}},{surahId:2,ayahNumber:3,text:"الَّذِينَ يُؤْمِنُونَ بِالْغَيْبِ وَيُقِيمُونَ الصَّلَاةَ وَمِمَّا رَزَقْنَاهُمْ يُنفِقُونَ",tajweedAnalysis:[{word:"رَزَقْنَاهُمْ",rule:"قلقلة صغرى",explanation:"القاف ساكنة في وسط الكلمة."},{word:"يُنفِقُونَ",rule:"إخفاء حقيقي",explanation:"نون ساكنة بعدها فاء، حكمها الإخفاء بغنة."}],testPoints:{positive:[],negative:[]}},{surahId:2,ayahNumber:4,text:"وَالَّذِينَ يُؤْمِنُونَ بِمَا أُنزِلَ إِلَيْكَ وَمَا أُنزِلَ مِن قَبْلِكَ وَبِالْآخِرَةِ هُمْ يُوقِنُونَ",tajweedAnalysis:[{word:"أُنزِلَ",rule:"إخفاء حقيقي",explanation:"نون ساكنة بعدها زاي، حكمها الإخفاء بغنة."},{word:"مِن قَبْلِكَ",rule:"إخفاء حقيقي وقلقلة صغرى",explanation:"نون ساكنة بعدها قاف (إخفاء)، وباء ساكنة (قلقلة)."}],testPoints:{positive:[],negative:[]}},{surahId:2,ayahNumber:5,text:"أُولَٰئِكَ عَلَىٰ هُدًى مِّن رَّبِّهِمْ ۖ وَأُولَٰئِكَ هُمُ الْمُفْلِحُونَ",tajweedAnalysis:[{word:"أُولَٰئِكَ",rule:"مد واجب متصل",explanation:"حرف المد والهمزة في كلمة واحدة، يمد 4-5 حركات."},{word:"هُدًى مِّن",rule:"إدغام كامل بغنة",explanation:"تنوين بعده ميم، حكمه الإدغام."},{word:"مِّن رَّبِّهِمْ",rule:"إدغام كامل بغير غنة",explanation:"نون ساكنة بعدها راء، حكمه الإدغام."}],testPoints:{positive:[],negative:[]}},{surahId:2,ayahNumber:255,text:"ٱللَّهُ لَآ إِلَٰهَ إِلَّا هُوَ ٱلْحَىُّ ٱلْقَيُّومُ ۚ لَا تَأْخُذُهُۥ سِنَةٌ وَلَا نَوْمٌ ۚ لَّهُۥ مَا فِى ٱلسَّمَٰوَٰتِ وَمَا فِى ٱلْأَرْضِ ۗ مَن ذَا ٱلَّذِى يَشْفَعُ عِندَهُۥٓ إِلَّا بِإِذْنِهِۦ ۚ يَعْلَمُ مَا بَيْنَ أَيْدِيهِمْ وَمَا خَلْفَهُمْ ۖ وَلَا يُحِيطُونَ بِشَىْءٍ مِّنْ عِلْمِهِۦٓ إِلَّا بِمَا شَآءَ ۚ وَسِعَ كُرْسِيُّهُ ٱلسَّمَٰوَٰتِ وَٱلْأَرْضَ ۖ وَلَا يَـُٔودُهُۥ حِفْظُهُمَا ۚ وَهُوَ ٱلْعَلِىُّ ٱلْعَظِيمُ",tajweedAnalysis:[{word:"لَآ إِلَٰهَ",rule:"مد جائز منفصل",explanation:"حرف المد (الألف) في آخر كلمة 'لَا' والهمزة في أول الكلمة التالية 'إِلَٰهَ'. يمد بمقدار 4 أو 5 حركات."},{word:"ٱلْقَيُّومُ",rule:"إظهار قمري",explanation:"اللام في 'ٱلْ' هي لام قمرية، حكمها الإظهار."},{word:"سِنَةٌ وَلَا",rule:"إدغام بغنة",explanation:"تنوين الضم في 'سِنَةٌ' جاء بعده حرف الواو، وهو من حروف الإدغام بغنة."},{word:"نَوْمٌ ۚ لَّهُۥ",rule:"إدغام كامل بغير غنة",explanation:"عند الوصل، تنوين الضم في 'نَوْمٌ' يأتي بعده حرف اللام، فيدغم التنوين في اللام إدغامًا كاملاً بدون غنة."},{word:"مَن ذَا",rule:"إخفاء حقيقي",explanation:"نون ساكنة جاء بعدها حرف الذال، وهو من حروف الإخفاء. تُخفى النون مع غنة."},{word:"عِندَهُۥٓ",rule:"إخفاء حقيقي ومد صلة كبرى",explanation:"نون ساكنة جاء بعدها حرف الدال (إخفاء)، وهاء الضمير بعدها همزة (مد صلة كبرى يمد 4-5 حركات)."},{word:"بِشَىْءٍ مِّنْ",rule:"إدغام بغنة",explanation:"تنوين الكسر في 'بِشَىْءٍ' جاء بعده حرف الميم، فيدغم التنوين في الميم مع غنة."},{word:"مِّنْ عِلْمِهِۦٓ",rule:"إظهار حلقي ومد صلة كبرى",explanation:"نون ساكنة بعدها عين (إظهار)، وهاء الضمير بعدها همزة (مد صلة كبرى)."},{word:"شَآءَ",rule:"مد واجب متصل",explanation:"حرف المد (الألف) والهمزة جاءا في كلمة واحدة. يمد بمقدار 4 أو 5 حركات."},{word:"يَـُٔودُهُۥ",rule:"مد بدل ومد صلة صغرى",explanation:"همزة ممدودة (مد بدل حركتين)، وهاء الضمير لم يأت بعدها همزة (مد صلة صغرى حركتين)."},{word:"ٱلْعَظِيمُ",rule:"مد عارض للسكون",explanation:"عند الوقف على الكلمة، تمد الياء بمقدار 2 أو 4 أو 6 حركات."}],testPoints:{positive:[],negative:[]}},{surahId:2,ayahNumber:285,text:"آمَنَ الرَّسُولُ بِمَا أُنزِلَ إِلَيْهِ مِن رَّبِّهِ وَالْمُؤْمِنُونَ ۚ كُلٌّ آمَنَ بِاللَّهِ وَمَلَائِكَتِهِ وَكُتُبِهِ وَرُسُلِهِ لَا نُفَرِّقُ بَيْنَ أَحَدٍ مِّن رُّسُلِهِ ۚ وَقَالُوا سَمِعْنَا وَأَطَعْنَا ۖ غُفْرَانَكَ رَبَّنَا وَإِلَيْكَ الْمَصِيرُ",tajweedAnalysis:[{word:"آمَنَ",rule:"مد بدل",explanation:"كل همزة ممدودة هي مد بدل، ويمد بمقدار حركتين."},{word:"بِمَا أُنزِلَ",rule:"مد جائز منفصل",explanation:"حرف المد في كلمة والهمزة في كلمة تالية، يمد 4-5 حركات."},{word:"أُنزِلَ",rule:"إخفاء حقيقي",explanation:"نون ساكنة بعدها زاي، وهو من حروف الإخفاء."},{word:"مِن رَّبِّهِ",rule:"إدغام كامل بغير غنة",explanation:"نون ساكنة بعدها راء."},{word:"كُلٌّ آمَنَ",rule:"إظهار حلقي",explanation:"تنوين بعده همزة، حكمه الإظهار."},{word:"أَحَدٍ مِّن",rule:"إدغام بغنة",explanation:"تنوين بعده ميم، حكمه الإدغام مع غنة."},{word:"الْمَصِيرُ",rule:"مد عارض للسكون",explanation:"عند الوقف، تمد الياء 2 أو 4 أو 6 حركات."}],testPoints:{positive:[],negative:[]}},{surahId:2,ayahNumber:286,text:"لَا يُكَلِّفُ اللَّهُ نَفْسًا إِلَّا وُسْعَهَا ۚ لَهَا مَا كَسَبَتْ وَعَلَيْهَا مَا اكْتَسَبَتْ ۗ رَبَّنَا لَا تُؤَاخِذْنَا إِن نَّسِينَا أَوْ أَخْطَأْنَا ۚ رَبَّنَا وَلَا تَحْمِلْ عَلَيْنَا إِصْرًا كَمَا حَمَلْتَهُ عَلَى الَّذِينَ مِن قَبْلِنَا ۚ رَبَّنَا وَلَا تُحَمِّلْنَا مَا لَا طَاقَةَ لَنَا بِهِ ۖ وَاعْفُ عَنَّا وَاغْفِرْ لَنَا وَارْحَمْنَا ۚ أَنتَ مَوْلَانَا فَانصُرْنَا عَلَى الْقَوْمِ الْكَافِرِينَ",tajweedAnalysis:[{word:"نَفْسًا إِلَّا",rule:"إظهار حلقي",explanation:"تنوين بعده همزة، حكمه الإظهار."},{word:"أَخْطَأْنَا",rule:"قلقلة صغرى",explanation:"الطاء ساكنة في وسط الكلمة، وهي من حروف القلقلة."},{word:"إِصْرًا كَمَا",rule:"إخفاء حقيقي",explanation:"تنوين بعده كاف، حكمه الإخفاء مع غنة."},{word:"مِن قَبْلِنَا",rule:"إخفاء حقيقي وقلقلة صغرى",explanation:"نون ساكنة بعدها قاف (إخفاء)، وباء ساكنة (قلقلة)."},{word:"عَنَّا",rule:"غنة النون المشددة",explanation:"تغن النون المشددة بمقدار حركتين."},{word:"وَارْحَمْنَا",rule:"تفخيم الراء",explanation:"الراء ساكنة وما قبلها مفتوح، فتفخم."},{word:"أَنتَ",rule:"إخفاء حقيقي",explanation:"نون ساكنة بعدها تاء."},{word:"فَانصُرْنَا",rule:"إخفاء حقيقي",explanation:"نون ساكنة بعدها صاد."}],testPoints:{positive:[],negative:[]}},{surahId:78,ayahNumber:1,text:"عَمَّ يَتَسَاءَلُونَ",tajweedAnalysis:[{word:"عَمَّ",rule:"غنة الميم المشددة",explanation:"تغن الميم المشددة بمقدار حركتين."},{word:"يَتَسَاءَلُونَ",rule:"مد واجب متصل ومد عارض للسكون",explanation:"مد متصل في 'سَاء' (4-5 حركات)، ومد عارض للسكون عند الوقف."}],testPoints:{positive:[],negative:[]}},{surahId:79,ayahNumber:1,text:"وَالنَّازِعَاتِ غَرْقًا",tajweedAnalysis:[{word:"وَالنَّازِعَاتِ",rule:"غنة النون المشددة",explanation:"تغن النون المشددة بمقدار حركتين."},{word:"غَرْقًا",rule:"إظهار حلقي عند الوصل",explanation:"التنوين بعده حرف من حروف الإظهار في الآية التالية (همزة 'وَالنَّاشِطَاتِ')."}],testPoints:{positive:[],negative:[]}},{surahId:80,ayahNumber:1,text:"عَبَسَ وَتَوَلَّىٰ",tajweedAnalysis:[{word:"وَتَوَلَّىٰ",rule:"مد طبيعي",explanation:"مد طبيعي في الألف المقصورة في آخر الكلمة."}],testPoints:{positive:[],negative:[]}},{surahId:112,ayahNumber:1,text:"قُلْ هُوَ اللَّهُ أَحَدٌ",tajweedAnalysis:[{word:"قُلْ",rule:"إظهار اللام الساكنة",explanation:"اللام في 'قُلْ' هي لام الفعل وحكمها الإظهار."},{word:"اللَّهُ",rule:"تفخيم لام لفظ الجلالة",explanation:"تُفخَّم لام لفظ الجلالة لأنها سُبقت بفتح (في الواو من 'هُوَ')."},{word:"أَحَدٌ",rule:"قلقلة كبرى",explanation:"عند الوقف على الدال في 'أَحَدٌ'، تكون القلقلة كبرى."}],testPoints:{positive:[],negative:[]}},{surahId:112,ayahNumber:2,text:"اللَّهُ الصَّمَدُ",tajweedAnalysis:[{word:"الصَّمَدُ",rule:"إدغام شمسي وقلقلة كبرى",explanation:"اللام تدغم في الصاد. وعند الوقف، الدال تقلقل قلقلة كبرى."}],testPoints:{positive:[],negative:[]}},{surahId:112,ayahNumber:3,text:"لَمْ يَلِدْ وَلَمْ يُولَدْ",tajweedAnalysis:[{word:"يَلِدْ",rule:"قلقلة كبرى عند الوقف",explanation:"الدال في آخر الكلمة تقلقل."},{word:"وَلَمْ يُولَدْ",rule:"إظهار شفوي وقلقلة كبرى عند الوقف",explanation:"الميم الساكنة بعدها ياء (إظهار). والدال في آخر الكلمة تقلقل."}],testPoints:{positive:[],negative:[]}},{surahId:112,ayahNumber:4,text:"وَلَمْ يَكُن لَّهُ كُفُوًا أَحَدٌ",tajweedAnalysis:[{word:"يَكُن لَّهُ",rule:"إدغام كامل بغير غنة",explanation:"نون ساكنة بعدها لام."},{word:"كُفُوًا أَحَدٌ",rule:"إظهار حلقي",explanation:"التنوين بعده همزة، حكمه الإظهار."}],testPoints:{positive:[],negative:[]}},{surahId:113,ayahNumber:1,text:"قُلْ أَعُوذُ بِرَبِّ الْفَلَقِ",tajweedAnalysis:[{word:"الْفَلَقِ",rule:"قلقلة كبرى عند الوقف",explanation:"القاف في آخر الكلمة تقلقل قلقلة كبرى عند الوقف عليها."}],testPoints:{positive:[],negative:[]}},{surahId:113,ayahNumber:2,text:"مِن شَرِّ مَا خَلَقَ",tajweedAnalysis:[{word:"مِن شَرِّ",rule:"إخفاء حقيقي",explanation:"نون ساكنة بعدها شين، حكمها الإخفاء بغنة."},{word:"خَلَقَ",rule:"قلقلة كبرى عند الوقف",explanation:"القاف في آخر الكلمة تقلقل."}],testPoints:{positive:[],negative:[]}},{surahId:113,ayahNumber:3,text:"وَمِن شَرِّ غَاسِقٍ إِذَا وَقَبَ",tajweedAnalysis:[{word:"غَاسِقٍ إِذَا",rule:"إظهار حلقي",explanation:"تنوين بعده همزة."},{word:"وَقَبَ",rule:"قلقلة كبرى عند الوقف",explanation:"الباء في آخر الكلمة تقلقل."}],testPoints:{positive:[],negative:[]}},{surahId:113,ayahNumber:4,text:"وَمِن شَرِّ ٱلنَّفَّٰثَٰتِ فِى ٱلْعُقَدِ",tajweedAnalysis:[{word:"ٱلنَّفَّٰثَٰتِ",rule:"غنة النون المشددة",explanation:"النون مشددة تغن حركتين."}],testPoints:{positive:[],negative:[]}},{surahId:113,ayahNumber:5,text:"وَمِن شَرِّ حَاسِدٍ إِذَا حَسَدَ",tajweedAnalysis:[{word:"حَاسِدٍ إِذَا",rule:"إظهار حلقي",explanation:"تنوين بعده همزة."}],testPoints:{positive:[],negative:[]}},{surahId:114,ayahNumber:1,text:"قُلْ أَعُوذُ بِرَبِّ النَّاسِ",tajweedAnalysis:[{word:"النَّاسِ",rule:"غنة النون المشددة ومد عارض للسكون",explanation:"النون مشددة تغن حركتين، وعند الوقف، الألف تمد مدًا عارضًا للسكون."}],testPoints:{positive:[],negative:[]}},{surahId:114,ayahNumber:2,text:"مَلِكِ النَّاسِ",tajweedAnalysis:[{word:"النَّاسِ",rule:"غنة النون المشددة ومد عارض للسكون",explanation:"تكرار لنفس أحكام الآية الأولى."}],testPoints:{positive:[],negative:[]}},{surahId:114,ayahNumber:3,text:"إِلَٰهِ ٱلنَّاسِ",tajweedAnalysis:[{word:"ٱلنَّاسِ",rule:"غنة النون المشددة",explanation:"النون مشددة تغن حركتين."}],testPoints:{positive:[],negative:[]}},{surahId:114,ayahNumber:4,text:"مِن شَرِّ الْوَسْوَاسِ الْخَنَّاسِ",tajweedAnalysis:[{word:"مِن شَرِّ",rule:"إخفاء حقيقي",explanation:"نون ساكنة بعدها شين."},{word:"الْخَنَّاسِ",rule:"غنة النون المشددة",explanation:"النون مشددة تغن حركتين."}],testPoints:{positive:[],negative:[]}},{surahId:114,ayahNumber:5,text:"ٱلَّذِى يُوَسْوِسُ فِى صُدُورِ ٱلنَّاسِ",tajweedAnalysis:[{word:"ٱلنَّاسِ",rule:"غنة النون المشددة",explanation:"النون مشددة تغن حركتين."}],testPoints:{positive:[],negative:[]}},{surahId:114,ayahNumber:6,text:"مِنَ ٱلْجِنَّةِ وَٱلنَّاسِ",tajweedAnalysis:[{word:"ٱلْجِنَّةِ",rule:"غنة النون المشددة",explanation:"النون مشددة تغن حركتين."},{word:"وَٱلنَّاسِ",rule:"غنة النون المشددة",explanation:"النون مشددة تغن حركتين."}],testPoints:{positive:[],negative:[]}}],gA="Abdul_Basit_Mujawwad_128kbps",Fm=(e,t)=>{let n=e.toString();for(;n.length<t;)n="0"+n;return n},xA={identifier:gA},yA=({onBack:e,surahs:t})=>{const n=T.useMemo(()=>{const w=[...new Set(zo.map(q=>q.surahId))];return t.filter(q=>w.includes(q.id)).sort((q,A)=>q.id-A.id)},[t]),[a,i]=T.useState(()=>{var w;return((w=n[0])==null?void 0:w.id.toString())||"1"}),o=T.useMemo(()=>{const w=parseInt(a,10);return zo.filter(q=>q.surahId===w).map(q=>q.ayahNumber).sort((q,A)=>q-A)},[a]),[s,u]=T.useState(()=>{var w;return((w=o[0])==null?void 0:w.toString())||"1"}),[d,f]=T.useState(""),[m,p]=T.useState(""),h=T.useRef(null),[g,v]=T.useState(null),[N,b]=T.useState(!1),[y,x]=T.useState(!1),[S,E]=T.useState("");T.useEffect(()=>{var q;const w=((q=o[0])==null?void 0:q.toString())||"1";u(w),b(!1),v(null)},[a,o]),T.useEffect(()=>{const w=parseInt(a),q=parseInt(s),A=zo.find(I=>I.surahId===w&&I.ayahNumber===q);if(A){f(A.text);const I=Fm(w,3),j=Fm(q,3),M=`https://everyayah.com/data/${xA.identifier}/${I}${j}.mp3`;p(M),b(!1),v(null),E("")}},[a,s]);const _=()=>{m&&h.current&&h.current.play().catch(()=>E("فشل تشغيل صوت الشيخ."))},U=()=>{x(!0),E(""),v(null),b(!1);const w=parseInt(a),q=parseInt(s);setTimeout(()=>{const A=zo.find(I=>I.surahId===w&&I.ayahNumber===q);A?(v(A),b(!0)):E("التحليل التجويدي لهذه الآية غير متوفر في قاعدة البيانات حاليًا"),x(!1)},300)};return l.jsxs("div",{children:[l.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-text-secondary hover:text-text-primary mb-6 font-tajawal",children:[l.jsx(Ee,{className:"w-5 h-5"}),l.jsx("span",{children:"العودة"})]}),l.jsxs("div",{className:"bg-card p-6 rounded-xl shadow-lg space-y-6",children:[l.jsx("h3",{className:"text-xl font-bold font-tajawal",children:"دراسة التجويد"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"vr-surah",className:"block text-sm font-medium text-text-primary mb-1",children:"السورة"}),l.jsx("select",{id:"vr-surah",value:a,onChange:w=>i(w.target.value),className:"w-full p-3 bg-background border border-border-color rounded-lg",children:n.map(w=>l.jsxs("option",{value:w.id,children:[w.id,". ",w.name]},w.id))})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"vr-ayah",className:"block text-sm font-medium text-text-primary mb-1",children:"الآية"}),l.jsx("select",{id:"vr-ayah",value:s,onChange:w=>u(w.target.value),className:"w-full p-3 bg-background border border-border-color rounded-lg",disabled:o.length===0,children:o.map(w=>l.jsxs("option",{value:w,children:["آية ",w]},w))})]})]}),l.jsx("div",{className:"p-4 bg-background rounded-lg text-center font-amiri-quran text-2xl leading-loose min-h-[6rem] flex items-center justify-center",children:d?l.jsx("p",{children:d}):l.jsx("p",{className:"text-sm text-text-secondary font-sans",children:"اختر سورة وآية لعرضها."})})]}),l.jsx("audio",{ref:h,src:m,className:"hidden",preload:"auto"}),l.jsxs("div",{className:"border-t border-border-color pt-4",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[l.jsxs("button",{onClick:_,disabled:!m,className:"flex items-center justify-center gap-2 w-full bg-primary/20 text-primary font-bold py-3 px-4 rounded-lg hover:bg-primary/30 disabled:opacity-50 transition",children:[l.jsx(ii,{className:"w-6 h-6"}),l.jsx("span",{children:"استمع لتلاوة الشيخ"})]}),l.jsx("button",{onClick:U,disabled:y||!d,className:"w-full bg-primary/20 text-primary font-bold py-3 px-4 rounded-lg hover:bg-primary/30 disabled:opacity-50 transition",children:y?"...":"تحليل أحكام التجويد"})]}),S&&l.jsx("p",{className:"text-red-500 text-sm text-center mt-2",children:S}),N&&g&&l.jsxs("div",{className:"mt-4 bg-background p-4 rounded-lg space-y-3 animate-fade-in",children:[l.jsx("h4",{className:"text-lg font-bold font-tajawal mb-3 text-center",children:"أحكام التجويد في الآية"}),g.tajweedAnalysis.map((w,q)=>l.jsxs("div",{className:"border-b border-border-color/30 pb-2 last:border-b-0 last:pb-0",children:[l.jsxs("p",{className:"font-semibold text-text-primary",children:["🔹 ",l.jsx("strong",{children:w.word}),": ",w.rule]}),l.jsx("p",{className:"text-sm text-text-secondary mr-4",children:w.explanation})]},q))]})]})]})]})},vA=({className:e})=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5",opacity:"0.3"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 4.5l-7.5 7.5 7.5 7.5",opacity:"0.3"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12h3m3 0h3m3 0h3m3 0h3"})]}),SA=({className:e})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 100 2.186m0-2.186c.195.025.39.042.583.05a2.25 2.25 0 012.134 2.134c-.008.193-.025.388-.05.583m0 0a2.25 2.25 0 002.186 0m-2.186 0c-.195-.025-.39-.042-.583-.05a2.25 2.25 0 00-2.134-2.134c.008-.193.025-.388.05-.583m0 0a2.25 2.25 0 010-2.186m0 2.186c.195-.025.39-.042.583-.05a2.25 2.25 0 012.134-2.134c.008.193.025.388.05.583m-2.186 0c-.195.025-.39.042-.583-.05a2.25 2.25 0 00-2.134 2.134c-.008-.193-.025-.388-.05-.583m-2.25-4.5a2.25 2.25 0 100 4.5 2.25 2.25 0 000-4.5z"})}),bA=({className:e})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})}),EA=({className:e})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),Qm=[{contentType:"آية قرآنية",text:"وَعَسَىٰ أَن تَكْرَهُوا شَيْئًا وَهُوَ خَيْرٌ لَّكُمْ ۖ وَعَسَىٰ أَن تُحِبُّوا شَيْئًا وَهُوَ شَرٌّ لَّكُمْ ۗ وَاللَّهُ يَعْلَمُ وَأَنتُمْ لَا تَعْلَمُونَ",source:"سورة البقرة, الآية 216",takeaway:"ثق بتدبير الله لك، فربما كان في منع الله لك عطاء أعظم."},{contentType:"حديث شريف",text:"عَجَبًا لِأَمْرِ الْمُؤْمِنِ، إِنَّ أَمْرَهُ كُلَّهُ خَيْرٌ، وَلَيْسَ ذَاكَ لِأَحَدٍ إِلَّا لِلْمُؤْمِنِ؛ إِنْ أَصَابَتْهُ سَرَّاءُ شَكَرَ، فَكَانَ خَيْرًا لَهُ، وَإِنْ أَصَابَتْهُ ضَرَّاءُ صَبَرَ، فَكَانَ خَيْرًا لَهُ.",source:"صحيح مسلم, حديث رقم 2999",takeaway:"كل أقدار الله للمؤمن خير، فاستقبل النعمة بالشكر والمصيبة بالصبر."},{contentType:"آية قرآنية",text:"لَا يُكَلِّفُ اللَّهُ نَفْسًا إِلَّا وُسْعَهَا",source:"سورة البقرة, الآية 286",takeaway:"لا تحمل همًا أكبر من طاقتك، فالله لن يبتليك إلا بما تستطيع عليه صبرًا."},{contentType:"حديث شريف",text:"احْفَظِ اللَّهَ يَحْفَظْكَ، احْفَظِ اللَّهَ تَجِدْهُ تُجَاهَكَ، إِذَا سَأَلْتَ فَاسْأَلِ اللَّهَ، وَإِذَا اسْتَعَنْتَ فَاسْتَعِنْ بِاللَّهِ.",source:"سنن الترمذي, حديث رقم 2516",takeaway:"اجعل الله وجهتك في كل أمورك، فتجده معك حافظًا ومعينًا."},{contentType:"آية قرآنية",text:"إِنَّ مَعَ الْعُسْرِ يُسْرًا",source:"سورة الشرح, الآية 6",takeaway:"مهما اشتدت الصعاب، تيقن أن الفرج قريب وأن بعد كل عسرٍ يسرًا."}],TA=({onBack:e})=>{const[t,n]=T.useState(null),[a,i]=T.useState(!0),[o,s]=T.useState(""),[u,d]=T.useState(!1);T.useEffect(()=>{try{const p=localStorage.getItem("dailyRonaqLastIndex"),g=((p?parseInt(p,10):-1)+1)%Qm.length;n(Qm[g]),localStorage.setItem("dailyRonaqLastIndex",g.toString())}catch(p){s("حدث خطأ أثناء تحميل المحتوى."),console.error(p)}finally{i(!1)}},[]);const f=()=>{if(!t)return;const p=`"${t.text}"
(${t.source})

رسالة اليوم:
"${t.takeaway}"

~ رونقك اليوم من تطبيق رونق`;navigator.clipboard.writeText(p).then(()=>{d(!0),setTimeout(()=>d(!1),2e3)})},m=()=>{if(!t||!navigator.share)return;const p=`"${t.text}"
(${t.source})

رسالة اليوم:
"${t.takeaway}"

~ رونقك اليوم من تطبيق رونق`;navigator.share({title:"رونقك اليوم",text:p}).catch(h=>console.error("Share failed:",h))};return l.jsxs("div",{children:[l.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-text-secondary hover:text-text-primary mb-6 font-tajawal",children:[l.jsx(Ee,{className:"w-5 h-5"}),l.jsx("span",{children:"العودة"})]}),l.jsxs("div",{className:"bg-card p-6 sm:p-8 rounded-2xl shadow-xl max-w-2xl mx-auto",children:[l.jsx("h2",{className:"text-2xl font-bold text-center text-primary mb-6 font-tajawal",children:"رونقك اليوم"}),a&&l.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[l.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-primary"}),l.jsx("p",{className:"mt-4 text-text-secondary",children:"جاري إعداد رونقك اليومي..."})]}),o&&l.jsx("p",{className:"text-red-500 text-center",children:o}),t&&!a&&l.jsxs("div",{className:"animate-fade-in space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-3 text-text-primary",children:[t.contentType==="آية قرآنية"?l.jsx(bA,{className:"w-8 h-8"}):l.jsx(EA,{className:"w-8 h-8"}),l.jsx("h3",{className:"text-xl font-semibold",children:t.contentType})]}),l.jsxs("div",{className:"p-4 border border-border-color rounded-lg bg-background",children:[l.jsx("p",{className:"font-amiri-quran text-2xl md:text-3xl text-text-primary leading-loose text-center",children:t.text}),l.jsx("p",{className:"text-sm text-text-secondary text-center mt-3 font-mono",children:t.source})]}),l.jsx("div",{className:"border-t-2 border-dashed border-border-color/50 my-6"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-lg text-primary mb-2",children:"رسالة اليوم ✨:"}),l.jsx("p",{className:"text-text-secondary leading-relaxed",children:t.takeaway})]}),l.jsxs("div",{className:"flex justify-center items-center gap-4 pt-4",children:[l.jsxs("button",{onClick:f,className:"flex items-center gap-2 bg-background hover:bg-border-color text-text-primary font-semibold py-2 px-4 rounded-lg transition-colors",children:[u?l.jsx(Zn,{className:"w-5 h-5 text-green-500"}):l.jsx(ux,{className:"w-5 h-5"}),l.jsx("span",{children:u?"تم النسخ!":"نسخ"})]}),navigator.share&&l.jsxs("button",{onClick:m,className:"flex items-center gap-2 bg-background hover:bg-border-color text-text-primary font-semibold py-2 px-4 rounded-lg transition-colors",children:[l.jsx(SA,{className:"w-5 h-5"}),l.jsx("span",{children:"مشاركة"})]})]})]})]})]})},NA=[{surahId:1,surahName:"الفاتحة",ayahs:[{ayahNumber:1,text:"بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ",tafseer:{text:"أي: أبدأ بكل اسم لله تعالى، لأن لفظ (اسم) مفرد مضاف، فيعم جميع الأسماء الحسنى. (الله) هو المألوه المعبود، المستحق لإفراده بالعبادة، لما اتصف به من صفات الألوهية وهي صفات الكمال. (الرَّحْمَنِ الرَّحِيمِ) اسمان دالان على أنه تعالى ذو الرحمة الواسعة العظيمة التي وسعت كل شيء، وعمت كل حي.",source:"تفسير السعدي"},tajweed:{text:`- الرَّحْمَٰنِ: مد طبيعي في الألف الخنجرية مقداره حركتان.
- الرَّحِيمِ: عند الوقف عليها، تصبح مدًا عارضًا للسكون يجوز مده 2 أو 4 أو 6 حركات.`,source:"أحكام التجويد المبسطة"},hadith:[{text:"عن أبي هريرة رضي الله عنه قال: سمعت رسول الله صلى الله عليه وسلم يقول: قال الله تعالى: (قسمت الصلاة بيني وبين عبدي نصفين، ولعبدي ما سأل، فإذا قال العبد: {الْحَمْدُ لِلَّهِ رَبِّ الْعَالَمِينَ} ، قال الله تعالى: حمدني عبدي...)",source:"صحيح مسلم"}]},{ayahNumber:2,text:"الْحَمْدُ لِلَّهِ رَبِّ الْعَالَمِينَ",tafseer:{text:"{الْحَمْدُ لِلَّهِ} هو الثناء على الله بصفات الكمال، وبأفعاله الدائرة بين الفضل والعدل، فله الحمد الكامل بجميع الوجوه. {رَبِّ الْعَالَمِينَ} الرب هو المربي جميع العالمين -وهم من سوى الله- بخلقه إياهم، وإعداده لهم الآلات، وإنعامه عليهم بالنعم العظيمة.",source:"تفسير السعدي"},tajweed:{text:`- لِلَّهِ: تفخيم لام لفظ الجلالة لأنها سُبقت بفتح.
- الْعَالَمِينَ: مد عارض للسكون عند الوقف على النون، يجوز مده 2 أو 4 أو 6 حركات.`,source:"أحكام التجويد المبسطة"},hadith:[{text:"عن عبادة بن الصامت أن رسول الله صلى الله عليه وسلم قال: 'لا صلاة لمن لم يقرأ بفاتحة الكتاب'.",source:"صحيح البخاري ومسلم"}]},{ayahNumber:3,text:"الرَّحْمَٰنِ الرَّحِيمِ",tafseer:{text:"تقدم الكلام عليها في البسملة. وتكرارها هنا للتأكيد على أن الله هو رب العالمين المتصف بالرحمة التي لا تنقطع.",source:"تفسير ابن كثير"},tajweed:{text:"نفس أحكام التجويد المذكورة في الآية الأولى.",source:"أحكام التجويد المبسطة"},hadith:[]},{ayahNumber:4,text:"مَالِكِ يَوْمِ الدِّينِ",tafseer:{text:"المالك: هو من اتصف بصفة الملك التي من آثارها أنه يأمر وينهى، ويثيب ويعاقب، ويتصرف بمماليكه بجميع أنواع التصرفات. وأضاف الملك ليوم الدين وهو يوم القيامة، يوم يدان الناس فيه بأعمالهم.",source:"تفسير السعدي"},tajweed:{text:`- مَالِكِ: مد طبيعي مقداره حركتان.
- الدِّينِ: مد عارض للسكون عند الوقف على النون.`,source:"أحكام التجويد المبسطة"},hadith:[]}]}],AA=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})}),wA=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),CA=({onBack:e,surahs:t})=>{const[n,a]=T.useState("1"),[i,o]=T.useState("1"),[s,u]=T.useState(null),[d,f]=T.useState(""),[m,p]=T.useState(!1),h=t.find(b=>b.id===parseInt(n)),g=h?h.numberOfAyahs:0,v=Array.from({length:g},(b,y)=>y+1);T.useEffect(()=>{o("1"),u(null),f("")},[n]);const N=async()=>{f(""),u(null),p(!0);const b=parseInt(n),y=parseInt(i);try{const x=NA.find(w=>w.surahId===b);if(x){const w=x.ayahs.find(q=>q.ayahNumber===y);if(w){u(w),p(!1);return}}const S=await Z1(b,y);if(S){u(S),p(!1);return}const E=await fetch(`https://api.alquran.cloud/v1/ayah/${b}:${y}/editions/quran-uthmani,ar.muyassar`);if(!E.ok)throw new Error("فشل في جلب البيانات من الإنترنت. يرجى التحقق من اتصالك.");const _=await E.json();if(_.code!==200||_.data.length<2)throw new Error("لم يتم العثور على بيانات لهذه الآية في المصدر.");const U={ayahNumber:y,text:_.data[0].text,tafseer:{text:_.data[1].text,source:_.data[1].edition.name},tajweed:{text:"تحليل التجويد التفصيلي لهذه الآية يتطلب بحثًا متخصصًا.",source:"عام"},hadith:[]};await $1(b,y,U),u(U)}catch(x){x instanceof Error?f(x.message):f("حدث خطأ غير متوقع.")}finally{p(!1)}};return l.jsxs("div",{children:[l.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-text-secondary hover:text-text-primary mb-6 font-tajawal",children:[l.jsx(Ee,{className:"w-5 h-5"}),l.jsx("span",{children:"العودة"})]}),l.jsxs("div",{className:"bg-card p-6 rounded-xl shadow-lg",children:[l.jsx("h3",{className:"text-xl font-bold mb-2",children:"المرجع القرآني الشامل"}),l.jsx("p",{className:"text-sm text-text-secondary mb-4",children:"اختر سورة وآية لعرض التفسير والأحاديث المتعلقة بها من مصادر موثوقة."}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{htmlFor:"ref-surah",className:"block text-sm font-medium text-text-primary mb-1",children:"السورة"}),l.jsx("select",{id:"ref-surah",value:n,onChange:b=>a(b.target.value),className:"w-full p-3 bg-background border border-border-color rounded-lg text-text-primary focus:outline-none focus:ring-2 focus:ring-primary/50 transition",children:t.map(b=>l.jsxs("option",{value:b.id,children:[b.id,". ",b.name]},b.id))})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"ref-ayah",className:"block text-sm font-medium text-text-primary mb-1",children:"الآية"}),l.jsx("select",{id:"ref-ayah",value:i,onChange:b=>o(b.target.value),className:"w-full p-3 bg-background border border-border-color rounded-lg text-text-primary focus:outline-none focus:ring-2 focus:ring-primary/50 transition",children:v.map(b=>l.jsx("option",{value:b,children:b},b))})]}),l.jsx("div",{className:"flex items-end",children:l.jsx("button",{onClick:N,disabled:m,className:"w-full bg-primary text-white font-bold py-3 px-4 rounded-lg hover:opacity-90 transition disabled:opacity-50",children:m?"جاري البحث...":"بحث"})})]}),d&&l.jsx("p",{className:"text-red-500 text-sm text-center mt-4",children:d}),m&&l.jsxs("div",{className:"text-center mt-6",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary mx-auto"}),l.jsx("p",{className:"mt-2 text-text-secondary text-sm",children:"جاري جلب البيانات..."})]}),s&&l.jsxs("div",{className:"mt-6 border-t border-border-color pt-4 animate-fade-in space-y-6",children:[l.jsx("div",{className:"bg-background p-4 rounded-lg font-amiri-quran text-2xl leading-loose text-center",children:l.jsx("p",{children:s.text})}),l.jsxs("div",{className:"p-4 border border-border-color rounded-lg",children:[l.jsxs("h4",{className:"font-bold text-lg mb-2 flex items-center gap-2 text-primary",children:[l.jsx(AA,{})," ",l.jsx("span",{children:s.tafseer.source||"التفسير"})]}),l.jsx("p",{className:"whitespace-pre-wrap leading-relaxed text-text-secondary",children:s.tafseer.text})]}),s.hadith&&s.hadith.length>0&&l.jsxs("div",{className:"p-4 border border-border-color rounded-lg",children:[l.jsxs("h4",{className:"font-bold text-lg mb-2 flex items-center gap-2 text-primary",children:[l.jsx(wA,{})," ",l.jsx("span",{children:"أحاديث ذات صلة"})]}),l.jsx("div",{className:"space-y-4",children:s.hadith.map((b,y)=>l.jsxs("div",{className:"border-t border-border-color/50 pt-2 first:border-t-0",children:[l.jsxs("p",{className:"italic text-text-secondary",children:['"',b.text,'"']}),l.jsx("p",{className:"text-xs text-right mt-1 font-mono text-primary/80",children:b.source})]},y))})]})]})]})]})},_A=({className:e})=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a6 6 0 100-12 6 6 0 000 12z",opacity:"0.3"})]}),MA=({className:e})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955a1.125 1.125 0 011.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h7.5"})}),RA=({className:e})=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 4.5h13.5A2.25 2.25 0 0121 6.75v10.5a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 17.25V6.75A2.25 2.25 0 015.25 4.5z",opacity:"0.4"})]});var Km={};const IA=[{id:"daily",title:"رونقك اليوم",icon:l.jsx(_A,{className:"w-10 h-10"}),description:"آية أو اقتباس أو تأمل يومي يُنشأ خصيصًا لك."},{id:"assistant",title:"المرجع القرآني الشامل",icon:l.jsx(MA,{className:"w-10 h-10"}),description:"تفسير وأحكام وأحاديث متعلقة بكل آية."},{id:"summary",title:"ملخص السور",icon:l.jsx(RA,{className:"w-10 h-10"}),description:"احصل على ملخص قصير ومنظم لكل سورة."},{id:"counselor",title:"المستشار النفسي",icon:l.jsx(Vx,{className:"w-10 h-10"}),description:"مستشارك النفسي بالذكاء الاصطناعي."},{id:"analysis",title:"دراسة التجويد",icon:l.jsx(vA,{className:"w-10 h-10"}),description:"تعلم أحكام التجويد لكل آية مع شرح مفصل."}],kA=({onBack:e,surahs:t})=>{const[n,a]=T.useState("1"),[i,o]=T.useState(!1),[s,u]=T.useState(""),[d,f]=T.useState(null),m=({title:h,icon:g,items:v})=>!v||v.length===0?null:l.jsxs("div",{children:[l.jsxs("h4",{className:"font-bold text-lg mb-2 flex items-center gap-2 text-primary",children:[l.jsx("span",{children:g})," ",h]}),l.jsx("div",{className:"bg-background p-4 rounded-lg space-y-4",children:v.map((N,b)=>l.jsxs("div",{className:"border-b border-border-color/50 pb-3 last:border-b-0 last:pb-0",children:[l.jsx("p",{className:"leading-relaxed",children:N.point}),l.jsxs("p",{className:"text-xs text-text-secondary/80 mt-1 font-mono text-left",children:["المصدر: ",N.source]})]},b))})]}),p=async()=>{const h=t.find(g=>g.id===parseInt(n));if(!h){u("الرجاء اختيار سورة صحيحة.");return}if(!Km.API_KEY){u("مفتاح API غير متوفر. هذه الميزة معطلة.");return}o(!0),u(""),f(null);try{const g=new jx({apiKey:Km.API_KEY}),v=`Generate a complete, verified summary for Surah ${h.name}.`,N="You are an expert Islamic scholar specializing in the thematic analysis of the Qur'an. Your task is to generate a detailed summary for a selected Surah. Do NOT provide a verse-by-verse Tafsir. Instead, focus on the overarching concepts. Your output MUST be a valid JSON object matching the provided schema, with all content in clear, formal Arabic. For each piece of information in the arrays (themes, stories, rulings, lessons), you MUST cite a specific, authentic source. The ONLY allowed sources are: 'تفسير ابن كثير', 'كتب الأئمة الأربعة' (you can specify the school, e.g., 'كتب الشافعية'), 'القرآن الكريم', 'صحيح البخاري', or 'صحيح مسلم'. Do not use any other sources. If a section like 'shariahRulings' has no relevant points for a particular Surah, return an empty array for it.",b={type:be.OBJECT,properties:{point:{type:be.STRING,description:"The information point in Arabic."},source:{type:be.STRING,description:'The specific source, e.g., "تفسير ابن كثير", "صحيح البخاري", "كتب المالكية".'}},required:["point","source"]},y={type:be.OBJECT,properties:{surahOverview:{type:be.STRING,description:"A brief introduction about the Surah’s theme, time of revelation (Makki/Madani), and number of verses. Source: General Tafsir knowledge."},themesAndTopics:{type:be.ARRAY,items:b,description:"Key themes and topics addressed in the Surah."},storiesAndEvents:{type:be.ARRAY,items:b,description:"Significant stories and events mentioned in the Surah."},shariahRulings:{type:be.ARRAY,items:b,description:"Important Shariah rulings (أحكام شرعية) derived from the Surah. If none, return an empty array."},practicalLessons:{type:be.ARRAY,items:b,description:"Practical lessons and insights for a Muslim's daily life."}},required:["surahOverview","themesAndTopics","storiesAndEvents","shariahRulings","practicalLessons"]},x=await g.models.generateContent({model:"gemini-2.5-flash",contents:v,config:{systemInstruction:N,responseMimeType:"application/json",responseSchema:y}}),S=JSON.parse(x.text);f(S)}catch(g){console.error(g),u("حدث خطأ أثناء إنشاء الملخص. يرجى المحاولة مرة أخرى.")}finally{o(!1)}};return l.jsxs("div",{children:[l.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-text-secondary hover:text-text-primary mb-6 font-tajawal",children:[l.jsx(Ee,{className:"w-5 h-5"}),l.jsx("span",{children:"العودة"})]}),l.jsxs("div",{className:"bg-card p-6 rounded-xl shadow-lg",children:[l.jsx("h3",{className:"text-xl font-bold mb-4",children:"ملخص السور"}),l.jsx("p",{className:"text-text-secondary mb-4",children:"اختر سورة للحصول على ملخص شامل وموثق لمواضيعها ودروسها المستفادة."}),l.jsxs("div",{className:"flex items-end gap-4 mb-4",children:[l.jsxs("div",{className:"flex-grow",children:[l.jsx("label",{htmlFor:"surah-summary-select",className:"block text-sm font-medium text-text-primary mb-1",children:"اختر السورة"}),l.jsx("select",{id:"surah-summary-select",value:n,onChange:h=>a(h.target.value),className:"w-full p-3 bg-background border border-border-color rounded-lg text-text-primary focus:outline-none focus:ring-2 focus:ring-primary/50 transition",children:t.map(h=>l.jsxs("option",{value:h.id,children:[h.id,". ",h.name]},h.id))})]}),l.jsx("button",{onClick:p,disabled:i,className:"bg-primary text-white font-bold py-3 px-4 rounded-lg hover:opacity-90 disabled:opacity-50 transition h-fit",children:i?"...":"إنشاء"})]}),s&&l.jsx("p",{className:"text-red-500 text-sm text-center mt-4",children:s}),i&&l.jsxs("div",{className:"text-center mt-6",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary mx-auto"}),l.jsx("p",{className:"mt-2 text-text-secondary",children:"جاري إنشاء الملخص من المصادر الموثوقة..."})]}),d&&l.jsxs("div",{className:"mt-6 border-t border-border-color pt-4 animate-fade-in space-y-6",children:[l.jsxs("div",{children:[l.jsxs("h4",{className:"font-bold text-lg mb-2 flex items-center gap-2 text-primary",children:[l.jsx("span",{children:"🔹"})," لمحة عامة عن السورة"]}),l.jsx("p",{className:"bg-background p-4 rounded-lg whitespace-pre-wrap leading-relaxed",children:d.surahOverview})]}),l.jsx(m,{title:"المواضيع والمحاور",icon:"📘",items:d.themesAndTopics}),l.jsx(m,{title:"القصص والأحداث",icon:"📜",items:d.storiesAndEvents}),l.jsx(m,{title:"الأحكام الشرعية",icon:"⚖️",items:d.shariahRulings}),l.jsx(m,{title:"الدروس العملية",icon:"💡",items:d.practicalLessons})]})]})]})},DA=({surahs:e,reciters:t})=>{const[n,a]=T.useState("menu"),i=()=>l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-center mb-10",children:[l.jsx("h1",{className:"text-4xl sm:text-5xl font-bold text-text-primary font-serif tracking-wider",children:"Ronaq Mind"}),l.jsx("p",{className:"text-lg text-text-secondary mt-2 font-amiri-quran",children:'"حيث يلتقى الجمال بالذكاء"'})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:IA.map(u=>l.jsxs("button",{onClick:()=>a(u.id),className:"bg-card/70 backdrop-blur-sm rounded-2xl shadow-lg p-4 sm:p-6 flex flex-col items-center justify-center text-center hover:bg-card transform hover:-translate-y-1 transition-all duration-300 aspect-square group",children:[l.jsx("div",{className:"text-primary group-hover:scale-110 transition-transform",children:u.icon}),l.jsx("h2",{className:"text-sm sm:text-base font-bold text-text-primary mt-3 font-tajawal",children:u.title})]},u.id))})]}),o=()=>{switch(n){case"assistant":return l.jsx(CA,{onBack:()=>a("menu"),surahs:e});case"summary":return l.jsx(kA,{onBack:()=>a("menu"),surahs:e});case"counselor":return l.jsx(pA,{onBack:()=>a("menu")});case"analysis":return l.jsx(yA,{onBack:()=>a("menu"),surahs:e,reciters:t});case"daily":return l.jsx(TA,{onBack:()=>a("menu")});default:return i()}},s=n==="menu";return l.jsx("div",{className:"min-h-[calc(100vh-64px)] p-4 sm:p-6 lg:p-8 animate-fade-in",style:s?{}:{backgroundColor:"var(--color-background)"},children:l.jsx("div",{className:"max-w-6xl mx-auto",children:o()})})},Xm=[{quote:"من كان يعبد محمدًا فإن محمدًا قد مات، ومن كان يعبد الله فإن الله حي لا يموت.",source:"أبو بكر الصديق يوم وفاة النبي ﷺ"},{quote:"لو أن لي ما على الأرض من صفراء وبيضاء لأنفقتُه في سبيل الله، ثم لم أَرَ أني قضيتُ حقَّه.",source:"عمر بن الخطاب رضي الله عنه"},{quote:"ما ندمت على سكوتي مرة، لكنني ندمت على الكلام مراراً.",source:"عمر بن الخطاب رضي الله عنه"},{quote:"إن الدنيا قد ارتحلت مدبرة، وإن الآخرة قد ارتحلت مقبلة، ولكل منهما بنون، فكونوا من أبناء الآخرة، ولا تكونوا من أبناء الدنيا.",source:"علي بن أبي طالب رضي الله عنه"},{quote:"ألا أستحي من رجل تستحي منه الملائكة.",source:"النبي ﷺ في حق عثمان بن عفان"},{quote:"أفضل الأعمال ما أكرهت عليه النفوس.",source:"أبو بكر الصديق رضي الله عنه"}],qA=[{title:"مولده ونسبه ﷺ",preview:"وُلد النبي محمد صلى الله عليه وسلم في مكة المكرمة يوم الاثنين من شهر ربيع الأول عام الفيل. وهو من أشرف أنساب العرب، ويمتد نسبه إلى إسماعيل بن إبراهيم عليهما السلام. نشأ يتيمًا، حيث توفي والده قبل ولادته، وأمه وهو في السادسة.",fullContent:`وُلد سيد الخلق، نبينا محمد بن عبد الله صلى الله عليه وسلم، في أشرف بقاع الأرض، مكة المكرمة، فجر يوم الاثنين، التاسع من شهر ربيع الأول لأول عام من حادثة الفيل، الموافق للعشرين من أبريل عام 571م.
نسبه هو أطهر الأنساب وأشرفها، فهو أبو القاسم محمد بن عبد الله بن عبد المطلب (واسمه شيبة) بن هاشم (واسمه عمرو) بن عبد مناف (واسمه المغيرة) بن قصي (واسمه زيد) بن كلاب بن مرة بن كعب بن لؤي بن غالب بن فهر (وهو الملقب بقريش وإليه تنتسب القبيلة) ويمتد نسبه إلى النبي إسماعيل بن إبراهيم الخليل عليهما السلام.
وُلد النبي صلى الله عليه وسلم يتيم الأب، حيث توفي والده عبد الله وأمه حامل به. وبعد ولادته، توفيت والدته آمنة بنت وهب وهو في السادسة من عمره، فانتقل إلى كفالة جده عبد المطلب، وبعد وفاة جده وهو في الثامنة من عمره، كفله عمه أبو طالب.`,source:"المصدر: (الرحيق المختوم - صفي الرحمن المباركفوري، سيرة ابن هشام)."},{title:"نشأته وصباه ﷺ",preview:"قضى طفولته الأولى في بادية بني سعد عند مرضعته حليمة السعدية، حيث شُق صدره الشريف. بعد وفاة أمه وجده، انتقل لكفالة عمه أبي طالب، وعمل في صباه برعي الغنم.",fullContent:`كان من عادة أشراف العرب أن يرسلوا أبناءهم إلى البادية لينشأوا في بيئة صحية فصيحة. أُرسل النبي صلى الله عليه وسلم إلى بادية بني سعد، وتولت إرضاعه السيدة حليمة السعدية، وحلت البركة في بيتها بوجوده.
وفي هذه الفترة، وقعت له حادثة شق الصدر، حيث أتاه جبريل عليه السلام وهو يلعب مع الغلمان، فشق عن قلبه واستخرج منه علقة سوداء وقال: 'هذا حظ الشيطان منك'، ثم غسله في طست من ذهب بماء زمزم وأعاده لمكانه.
بعد عودته لأمه، توفيت وهو في السادسة، فكفله جده عبد المطلب الذي أحبه حبًا شديدًا. ثم توفي جده وهو في الثامنة، فانتقل إلى كفالة عمه أبي طالب الذي كان يحبه ويعطف عليه بالرغم من فقره وكثرة أولاده. عمل النبي في صباه برعي الغنم لأهل مكة، وقال عن ذلك: 'ما بعث الله نبيًا إلا رعى الغنم'.`,source:"المصدر: (صحيح مسلم، صحيح البخاري، سيرة ابن هشام)."},{title:"الشباب والحياة قبل البعثة",preview:"في شبابه، عُرف النبي بالصدق والأمانة ولُقب بـ'الصادق الأمين'. عمل بالتجارة وتزوج من السيدة خديجة رضي الله عنها وهو في الخامسة والعشرين. شارك في الأحداث الهامة كحلف الفضول وإعادة بناء الكعبة.",fullContent:`عُصم النبي صلى الله عليه وسلم من أفعال الجاهلية، ونشأ على أكمل الأخلاق. سافر في التجارة إلى الشام مع عمه، ثم عمل في تجارة السيدة خديجة بنت خويلد التي كانت من أشراف قريش. أُعجبت بأمانته وصدقه، ورغبت في الزواج منه، فتزوجها وهو في الخامسة والعشرين من عمره، وكانت هي في الأربعين.
شارك في 'حلف الفضول'، وهو حلف تعاهدت فيه قبائل من قريش على نصرة المظلوم. كما شارك في إعادة بناء الكعبة بعد أن تصدعت، وعندما اختلفوا فيمن يضع الحجر الأسود مكانه، حكموه بينهم فبسط رداءه ووضع الحجر وسطه وطلب من زعماء القبائل أن يرفعوه جميعًا، ثم أخذه هو ووضعه مكانه، فحل النزاع بحكمته.`,source:"المصدر: (الرحيق المختوم، فقه السيرة للبوطي)."},{title:"بداية الوحي",preview:"عندما قارب الأربعين، حُبب إليه الخلاء فكان يتعبد في غار حراء. وفي إحدى ليالي رمضان، نزل عليه الملك جبريل بالوحي لأول مرة، وكانت أولى الآيات {اقْرَأْ بِاسْمِ رَبِّكَ الَّذِي خَلَقَ...}.",fullContent:`لما بلغ الأربعين من عمره، بدأت تظهر له علامات النبوة، فكان لا يرى رؤيا إلا جاءت مثل فلق الصبح. ثم حُبب إليه العزلة، فكان يذهب إلى غار حراء في جبل النور، فيمكث فيه الليالي يتفكر ويتعبد.
وفي يوم الاثنين من رمضان، جاءه الملك جبريل عليه السلام، وقال له: 'اقرأ'، قال النبي: 'ما أنا بقارئ'. فضمه جبريل ضمة شديدة ثم أرسله، وكرر الأمر مرتين، والنبي يجيب بنفس الجواب. وفي المرة الثالثة، قال له جبريل: {اقْرَأْ بِاسْمِ رَبِّكَ الَّذِي خَلَقَ...}.
رجع النبي صلى الله عليه وسلم إلى بيته خائفًا فؤاده يرتجف، فطمأنته زوجته السيدة خديجة وقالت: 'كلا والله ما يخزيك الله أبدًا'. ثم أخذته إلى ابن عمها ورقة بن نوفل الذي بشره بأنه نبي هذه الأمة.`,source:"المصدر: (صحيح البخاري، سيرة ابن هشام)."},{title:"الدعوة السرية والعامة",preview:"بدأت الدعوة إلى الإسلام سرًا لمدة ثلاث سنوات، أسلم خلالها المقربون منه. بعد ذلك، أمره الله بالجهر بالدعوة، فصعد على جبل الصفا ودعا قومه، ومن هنا بدأت مرحلة المواجهة والاضطهاد من قريش.",fullContent:`بدأ النبي صلى الله عليه وسلم دعوته سرًا، فكانت زوجته خديجة أول من آمن، ثم صاحبه أبو بكر، وابن عمه علي، ومولاه زيد. وأسلم على يد أبي بكر كبار الصحابة. واستمرت هذه المرحلة ثلاث سنوات، وكان المسلمون يجتمعون في دار الأرقم بن أبي الأرقم.
بعد ثلاث سنوات، نزل الأمر الإلهي بالجهر بالدعوة: {فَاصْدَعْ بِمَا تُؤْمَرُ}. فصعد النبي على جبل الصفا ونادى في قريش، ودعاهم إلى توحيد الله. فكان رد عمه أبي لهب قاسيًا، وبدأت قريش في معارضة دعوته بشدة، وانتقلت من السخرية إلى التعذيب والاضطهاد للمستضعفين من المسلمين.`,source:"المصدر: (الرحيق المختوم، تاريخ الطبري)."},{title:"الهجرة إلى المدينة",preview:"بعد اشتداد أذى قريش وتآمرهم على قتله، أذن الله للنبي بالهجرة إلى يثرب (المدينة). هاجر بصحبة أبي بكر الصديق، وشكلت الهجرة نقطة تحول كبرى في تاريخ الإسلام وبداية تأسيس الدولة.",fullContent:`بعد ثلاثة عشر عامًا من الدعوة في مكة، وبعد بيعة أهل يثرب له، أذن الله للمسلمين بالهجرة. شعرت قريش بالخطر، فتآمروا على قتل النبي. فأخبره جبريل بالمؤامرة وأمره بالهجرة.
في ليلة الهجرة، خرج هو وأبو بكر من مكة متجهين إلى غار ثور للاختباء، ومكثا فيه ثلاث ليالٍ. وصل المشركون إلى باب الغار، لكن الله حماهما بمعجزات. بعد ذلك، واصلا طريقهما إلى المدينة، واستقبلهما أهلها بالبشر والترحاب. كانت الهجرة بداية التقويم الهجري، ونقطة الانطلاق لبناء دولة إسلامية.`,source:"المصدر: (صحيح البخاري، سيرة ابن هشام، البداية والنهاية لابن كثير)."},{title:"المدينة وبناء الدولة",preview:"في المدينة، وضع النبي أسس الدولة والمجتمع. فبنى المسجد النبوي، وآخى بين المهاجرين والأنصار، وكتب وثيقة المدينة التي نظمت العلاقات بين جميع سكانها.",fullContent:`بوصوله إلى المدينة، شرع النبي صلى الله عليه وسلم في إرساء قواعد الدولة. وكان أول أعماله بناء المسجد النبوي، ليكون مركزًا للعبادة والحكم والعلم.
ثانيًا، قام بعمل فريد وهو 'المؤاخاة' بين المهاجرين والأنصار، فجعل كل أنصاري يتخذ مهاجرًا أخًا له، يشاركه في ماله ومسكنه، مما أدى إلى بناء مجتمع متماسك قائم على الإيثار.
ثالثًا، وضع 'وثيقة المدينة' أو 'دستور المدينة'، وهي معاهدة نظمت العلاقة بين جميع فئات المجتمع في المدينة، من مهاجرين وأنصار وقبائل يهودية، وأقرت حرية الدين ومفهوم الدفاع المشترك عن المدينة.`,source:"المصدر: (سيرة ابن هشام، فقه السيرة لمحمد الغزالي)."},{title:"الغزوات والمعارك",preview:"بعد تأسيس الدولة، أُذن للمسلمين بالقتال لرد العدوان والدفاع عن دينهم. خاض النبي صلى الله عليه وسلم وأصحابه عدة غزوات فاصلة كغزوة بدر وأحد والخندق، التي ثبتت أركان الدولة ومهدت لانتشار الإسلام.",fullContent:`أذن الله للمسلمين بالقتال للدفاع عن أنفسهم ودينهم. فكانت غزوة بدر الكبرى (2 هـ) أول انتصار حاسم للمسلمين. ثم جاءت غزوة أحد (3 هـ) التي كانت اختبارًا ودرسًا قاسيًا للمسلمين. وفي غزوة الخندق (5 هـ)، حوصرت المدينة من جيش ضخم من الأحزاب، ولكن الله نصر المؤمنين بالريح والجنود.
وكان صلح الحديبية (6 هـ) فتحًا سياسيًا عظيمًا، حيث اعترفت قريش بالمسلمين كقوة، وأتاح الصلح فرصة لنشر الدعوة. وتوجت هذه المرحلة بفتح مكة (8 هـ) دون قتال يذكر، ودخل الناس في دين الله أفواجًا.`,source:"المصدر: (الرحيق المختوم، كتب السيرة والتاريخ الإسلامي)."},{title:"السنوات الأخيرة وحياته الأسرية",preview:"بعد فتح مكة، توافدت القبائل من أنحاء الجزيرة العربية إلى المدينة لإعلان إسلامها فيما عرف بـ'عام الوفود'. وفي السنة العاشرة للهجرة، حج النبي حجة الوداع. عُرف النبي بحسن معاشرته لأهله، وكان مثالاً للزوج والأب الرحيم.",fullContent:`في السنوات الأخيرة من حياته الشريفة، استقرت دعائم الدولة الإسلامية. وشهد العام التاسع الهجري 'عام الوفود'، حيث قدمت وفود القبائل العربية من كل مكان لتعلن إسلامها.
في العام العاشر، حج النبي حجة الوداع، وهي الحجة الوحيدة التي حجها، وخطب فيها خطبته الشهيرة التي أرسى فيها مبادئ الإسلام العظيمة في حرمة الدماء والأموال، وحقوق النساء، والاعتصام بالكتاب والسنة.
أما حياته الأسرية، فقد كان نبينا محمد صلى الله عليه وسلم خير الناس لأهله، وكان زوجًا عطوفًا وأبًا حنونًا، يساعد في مهنة البيت ويمازح أهله ويعدل بينهم. وكان له إحدى عشرة زوجة هن أمهات المؤمنين، وسبعة من الأولاد، ثلاثة ذكور وأربع إناث.`,source:"المصدر: (صحيح البخاري، صحيح مسلم، زاد المعاد لابن القيم)."},{title:"وفاته ووصاياه ﷺ",preview:"في أوائل السنة الحادية عشرة للهجرة، مرض النبي صلى الله عليه وسلم. وفي يوم الاثنين 12 ربيع الأول، توفي في حجر زوجته عائشة رضي الله عنها وهو في الثالثة والستين من عمره. وكانت آخر وصاياه 'الصلاة الصلاة وما ملكت أيمانكم'.",fullContent:`بدأت علامات اقتراب أجل النبي صلى الله عليه وسلم مع نزول سورة النصر، وفهمه منها اكتمال الرسالة. وفي أوائل عام 11 هـ، بدأ به المرض، واشتد عليه، فاستأذن زوجاته أن يمرض في بيت عائشة.
وقبل وفاته بأيام، خرج إلى الناس وخطب فيهم وأوصاهم بالأنصار خيرًا. وفي آخر أيامه، كانت آخر وصاياه وهو في سكرات الموت: 'الصلاة الصلاة وما ملكت أيمانكم'.
وفي ضحى يوم الاثنين، الثاني عشر من ربيع الأول، فاضت روحه الشريفة إلى الرفيق الأعلى وهو في حجر السيدة عائشة، وقد بلغ من العمر ثلاثًا وستين سنة. كان لوفاته أثر عظيم على الصحابة، حتى ثبتهم أبو بكر الصديق بخطبته الشهيرة: 'من كان يعبد محمدًا فإن محمدًا قد مات، ومن كان يعبد الله فإن الله حي لا يموت'.`,source:"المصدر: (صحيح البخاري، الرحيق المختوم، البداية والنهاية لابن كثير)."}],UA=[{name:"أبو بكر الصديق",preview:"أول الخلفاء الراشدين، رفيق النبي في الهجرة، وأول من آمن به من الرجال. عُرف بـ'الصديق' لتصديقه المطلق للنبي في كل الأمور، خاصة في حادثة الإسراء والمعراج.",fullContent:`**أبرز الإنجازات:**
- قيادة المسلمين بعد وفاة النبي ﷺ وتثبيت أركان الدولة.
- قتال المرتدين ومانعي الزكاة.
- البدء بمشروع جمع القرآن الكريم.

**علاقته بالنبي ﷺ:**
- أقرب أصدقائه ورفيقه قبل وبعد النبوة.
- والد زوجته السيدة عائشة رضي الله عنها.
- صاحبه في غار ثور أثناء الهجرة.

**أحداث هامة في حياته:**
- إنفاق كل ماله لتجهيز جيش العسرة.
- ثباته يوم وفاة النبي وقوله "من كان يعبد محمداً فإن محمداً قد مات...".
- قراره الحاسم بمحاربة مانعي الزكاة قائلاً: "والله لأقاتلن من فرق بين الصلاة والزكاة".`,source:"المصدر: (تاريخ الخلفاء للسيوطي، البداية والنهاية لابن كثير)."},{name:"عمر بن الخطاب",preview:"ثاني الخلفاء الراشدين، لُقب بـ'الفاروق' لأنه فرق بين الحق والباطل. كان إسلامه فتحًا وعزة للمسلمين. عُرف بقوته في الحق وعدله الذي لا يخشى فيه لومة لائم.",fullContent:`**أبرز الإنجازات:**
- توسع الدولة الإسلامية في عهده فشملت الشام وفارس ومصر.
- إنشاء الدواوين (السجلات الإدارية والعسكرية).
- وضع التقويم الهجري.

**علاقته بالنبي ﷺ:**
- من كبار الصحابة ومستشاريه المقربين.
- والد زوجته السيدة حفصة رضي الله عنها.
- وافق القرآن رأيه في مواضع عدة كالحجاب وأسرى بدر.

**أحداث هامة في حياته:**
- هجرته علانية متحديًا قريش.
- قصصه الشهيرة في العدل وتفقد أحوال الرعية ليلاً.
- استشهاده غدرًا وهو يصلي الفجر بالناس إمامًا.`,source:"المصدر: (تاريخ الطبري، أسد الغابة في معرفة الصحابة لابن الأثير)."},{name:"عثمان بن عفان",preview:"ثالث الخلفاء الراشدين، لقب بـ'ذي النورين' لزواجه من ابنتي النبي رقية ثم أم كلثوم. عُرف بحيائه الشديد وكرمه وإنفاقه في سبيل الله.",fullContent:`**أبرز الإنجازات:**
- جمع القرآن الكريم في مصحف واحد (المصحف العثماني) وتوزيعه على الأمصار لتوحيد القراءة.
- تجهيز جيش العسرة في غزوة تبوك.
- إنشاء أول أسطول بحري إسلامي.

**علاقته بالنبي ﷺ:**
- تزوج من ابنتيه رقية، وبعد وفاتها تزوج أم كلثوم.
- كان من كتاب الوحي.

**أحداث هامة في حياته:**
- شراؤه بئر رومة وجعلها وقفًا للمسلمين.
- بيعة الرضوان التي تمت تحت الشجرة من أجله.
- استشهاده مظلومًا في بيته وهو صائم يقرأ القرآن.`,source:"المصدر: (تاريخ الخلفاء للسيوطي، الإصابة في تمييز الصحابة لابن حجر)."},{name:"علي بن أبي طالب",preview:"رابع الخلفاء الراشدين، ابن عم النبي وزوج ابنته فاطمة. أول من أسلم من الصبيان. عُرف بشجاعته الفائقة وعلمه الواسع وحكمته.",fullContent:`**أبرز الإنجازات:**
- بطولاته في الغزوات، مثل قتل عمرو بن ود في الخندق، وحمل راية خيبر.
- قضاؤه العادل وحكمته في حل المشكلات.
- بلاغته وفصاحته التي جُمعت في كتاب نهج البلاغة.

**علاقته بالنبي ﷺ:**
- ابن عمه، وتربى في بيته.
- زوج ابنته السيدة فاطمة الزهراء، وأبو سبطيه الحسن والحسين.

**أحداث هامة في حياته:**
- نومه في فراش النبي ﷺ ليلة الهجرة ليحميه بنفسه.
- توليه الخلافة في فترة عصيبة من تاريخ المسلمين.
- استشهاده على يد الخوارج وهو ذاهب لصلاة الفجر.`,source:"المصدر: (أسد الغابة في معرفة الصحابة، تاريخ الطبري)."},{name:"طلحة بن عبيد الله",preview:"أحد العشرة المبشرين بالجنة، وأحد الثمانية السابقين إلى الإسلام. عُرف بكرمه وشجاعته، وسُمي 'طلحة الخير'. كان من أشد المدافعين عن النبي يوم أحد.",fullContent:`**أبرز الإنجازات:**
- عُرف بكرمه الشديد حتى لُقب بـ 'طلحة الخير' و 'طلحة الفياض'.
- كان من أهل الشورى الستة الذين عينهم عمر بن الخطاب لاختيار الخليفة من بعده.

**علاقته بالنبي ﷺ:**
- من أقرب الصحابة إلى النبي صلى الله عليه وسلم.
- أبلى بلاءً حسنًا في الدفاع عن النبي يوم أحد.

**أحداث هامة في حياته:**
- دفاعه البطولي عن النبي ﷺ في غزوة أحد، حيث تلقى السهام بجسده ويده عن رسول الله حتى شُلت يده، وقال عنه النبي يومها: "أوجب طلحة".`,source:"المصدر: (سير أعلام النبلاء للذهبي، الإصابة في تمييز الصحابة لابن حجر)."},{name:"الزبير بن العوام",preview:"أحد العشرة المبشرين بالجنة، وابن عمة النبي صفية. عُرف بـ 'حواري رسول الله'. كان أول من سل سيفه في الإسلام.",fullContent:`**أبرز الإنجازات:**
- فارس مقدام وشجاعته مشهورة في كل الغزوات.
- كان من أهل الشورى الستة الذين عينهم عمر.

**علاقته بالنبي ﷺ:**
- ابن عمته صفية بنت عبد المطلب.
- زوج أسماء بنت أبي بكر ذات النطاقين.
- قال عنه النبي ﷺ: "إن لكل نبي حواريًا، وحواريي الزبير".

**أحداث هامة في حياته:**
- أول من شهر سيفه في الإسلام في مكة دفاعًا عن النبي ﷺ.
- شجاعته الفذة يوم الخندق ويوم فتح مكة.`,source:"المصدر: (صحيح البخاري، أسد الغابة في معرفة الصحابة)."},{name:"عبد الرحمن بن عوف",preview:"أحد العشرة المبشرين بالجنة ومن السابقين الأولين. كان تاجرًا ناجحًا وكريمًا، أنفق أموالاً طائلة في سبيل الله.",fullContent:`**أبرز الإنجازات:**
- كان تاجرًا أمينًا مباركًا له في رزقه، ومن أغنى الصحابة.
- أنفق أمواله بسخاء في سبيل الله، وجهز قافلة كاملة في غزوة تبوك.
- كان أحد أهل الشورى الستة.

**علاقته بالنبي ﷺ:**
- من الصحابة المقربين ومن أوائل من أسلموا.

**أحداث هامة في حياته:**
- عندما هاجر إلى المدينة، آخى النبي بينه وبين سعد بن الربيع، فعرض عليه سعد نصف ماله وزوجة، فقال له عبد الرحمن: "بارك الله لك في أهلك ومالك، دلني على السوق". فبدأ تجارته من الصفر.`,source:"المصدر: (سير أعلام النبلاء للذهبي، تاريخ الإسلام للذهبي)."},{name:"سعد بن أبي وقاص",preview:"أحد العشرة المبشرين بالجنة ومن السابقين الأولين. كان خال النبي ﷺ، وأول من رمى بسهم في سبيل الله. عُرف بأنه 'مستجاب الدعوة'.",fullContent:`**أبرز الإنجازات:**
- قائد الجيش الإسلامي في معركة القادسية الفاصلة التي فتحت بلاد فارس.
- مؤسس مدينة الكوفة.
- كان من أهل الشورى الستة.

**علاقته بالنبي ﷺ:**
- من أخوال النبي (من قبيلة أمه بني زهرة)، وكان النبي يعتز به ويقول: "هذا خالي فليرني امرؤ خاله".

**أحداث هامة في حياته:**
- دعا له النبي ﷺ قائلاً: "اللهم سدد رميته، وأجب دعوته"، فكان لا يدعو دعاء إلا استجيب له.
- قصته مع أمه التي أقسمت ألا تأكل ولا تشرب حتى يكفر، فثبت على دينه ونزل فيه قرآن.`,source:"المصدر: (صحيح مسلم، البداية والنهاية لابن كثير)."},{name:"أبو عبيدة بن الجراح",preview:"أحد العشرة المبشرين بالجنة، ولقبه النبي ﷺ بـ 'أمين هذه الأمة'. كان قائدًا عسكريًا وإداريًا بارزًا، وقائد الجيوش في فتح الشام.",fullContent:`**أبرز الإنجازات:**
- تولى القيادة العامة لجيوش فتح الشام بعد خالد بن الوليد في عهد عمر.
- عُرف بتواضعه الشديد وأمانته وزهده.

**علاقته بالنبي ﷺ:**
- من السابقين الأولين إلى الإسلام.
- قال عنه النبي ﷺ: "إن لكل أمة أمينًا، وأمين هذه الأمة أبو عبيدة بن الجراح".

**أحداث هامة في حياته:**
- في غزوة أحد، نزع حلقتي المغفر اللتين دخلتا في وجه النبي بأسنانه، فسقطت ثنيتاه، فكان من أجمل الناس هتمًا (سقوط الأسنان الأمامية).
- توفي في طاعون عمواس بالشام، بعد أن رفض مغادرة جنده.`,source:"المصدر: (سير أعلام النبلاء للذهبي، تاريخ الخلفاء للسيوطي)."},{name:"خالد بن الوليد",preview:"لُقب بـ'سيف الله المسلول'، قائد عسكري فذ لم يهزم في معركة قط. أسلم بعد صلح الحديبية وكان له دور حاسم في حروب الردة والفتوحات الإسلامية.",fullContent:`**أبرز الإنجازات:**
- قيادة جيوش المسلمين في معارك فاصلة مثل اليمامة ضد مسيلمة الكذاب.
- فتح العراق والشام في عهد أبي بكر وعمر.
- عبقريته العسكرية في معركة اليرموك التي أدت إلى فتح بلاد الشام.

**علاقته بالنبي ﷺ:**
- أسلم متأخرًا لكن النبي ﷺ استبشر بإسلامه وقال: "إن خالدًا سيف من سيوف الله".
- ولاه النبي ﷺ قيادة الجيش في غزوة مؤتة بعد استشهاد القادة الثلاثة، فأنقذ الجيش من هزيمة محققة.

**أحداث هامة في حياته:**
- دوره في معركة أحد قبل إسلامه، حيث التف على جيش المسلمين.
- عزله عمر بن الخطاب عن قيادة الجيش خشية افتتان الناس به، فقاتل كجندي عادي.
- قوله عند وفاته: "لقد شهدت مائة زحف أو زهاءها، وما في جسدي موضع شبر إلا وفيه ضربة بسيف أو رمية بسهم أو طعنة برمح، وها أنا ذا أموت على فراشي كما يموت البعير، فلا نامت أعين الجبناء".`,source:"المصدر: (البداية والنهاية لابن كثير، تاريخ الرسل والملوك للطبري)."},{name:"بلال بن رباح",preview:"مؤذن الرسول ﷺ وأحد أوائل المسلمين. كان عبدًا حبشيًا عُذب عذابًا شديدًا في مكة ليترك الإسلام، فصبر وثبت وهو يقول 'أحدٌ أحد'.",fullContent:`**أبرز الإنجازات:**
- أول من رفع الأذان في الإسلام.
- كان مؤذن النبي ﷺ الخاص في المدينة.
- شارك في جميع الغزوات.

**علاقته بالنبي ﷺ:**
- كان خادم النبي ﷺ وخازنه على بيت المال.
- كان النبي ﷺ يحبه ويقربه، وقال له: "يا بلال، حدثني بأرجى عمل عملته في الإسلام، فإني سمعت دف نعليك بين يدي في الجنة".

**أحداث هامة في حياته:**
- صبره الأسطوري تحت تعذيب أمية بن خلف في رمضاء مكة.
- اشتراه أبو بكر الصديق وأعتقه.
- يوم فتح مكة، أمره النبي ﷺ أن يصعد فوق الكعبة ويؤذن، فكان مشهدًا عظيمًا لانتصار الإسلام.`,source:"المصدر: (سير أعلام النبلاء للذهبي، صفة الصفوة لابن الجوزي)."},{name:"سلمان الفارسي",preview:"صاحب فكرة حفر الخندق في غزوة الأحزاب. كان باحثًا عن الحقيقة، ترك بلاده فارس وسافر رحلة طويلة بحثًا عن الدين الحق حتى وصل إلى المدينة وأسلم.",fullContent:`**أبرز الإنجازات:**
- إشارته بحفر الخندق في غزوة الأحزاب، مما كان سببًا رئيسيًا في نصر المسلمين.
- علمه الواسع وزهده الشديد.
- تولى إمارة المدائن في عهد عمر بن الخطاب.

**علاقته بالنبي ﷺ:**
- أحبه النبي ﷺ وقربه، وقال عنه: "سلمان منا أهل البيت".
- كان النبي ﷺ يستشيره ويأخذ برأيه.

**أحداث هامة في حياته:**
- رحلته الطويلة والمشوقة في البحث عن الدين، حيث تنقل بين الكهنة والقساوسة حتى دله أحدهم على نبي آخر الزمان الذي سيظهر في أرض العرب.
- قصة إسلامه بعد أن رأى علامات النبوة في النبي ﷺ.`,source:"المصدر: (سير أعلام النبلاء للذهبي، مسند الإمام أحمد)."},{name:"حمزة بن عبد المطلب",preview:"عم النبي ﷺ وأخوه من الرضاعة. لُقب بـ 'أسد الله وسيد الشهداء'. كان من أقوى رجال قريش وأشجعهم، وإسلامه كان عزًا كبيرًا للمسلمين.",fullContent:`**أبرز الإنجازات:**
- إسلامه أعطى المسلمين قوة ومنعة في مكة.
- كان محاربًا أسطوريًا، وأبلى بلاءً عظيمًا في غزوة بدر.

**علاقته بالنبي ﷺ:**
- كان عم النبي صلى الله عليه وسلم.

**أحداث هامة في حياته:**
- قصة إسلامه بعد أن غضب لرسول الله حين أهانه أبو جهل.
- استشهاده في غزوة أحد، حيث قتله وحشي بن حرب غدرًا، وحزن عليه النبي حزنًا شديدًا وسماه 'سيد الشهداء'.`,source:"المصدر: (سيرة ابن هشام، الرحيق المختوم)."},{name:"مصعب بن عمير",preview:"أول سفير في الإسلام. كان من أنعم فتيان مكة، ترك كل الترف والثراء من أجل الإسلام. استشهد في غزوة أحد وهو يحمل لواء المسلمين.",fullContent:`**أبرز الإنجازات:**
- أول داعية أرسله النبي ﷺ إلى المدينة ليعلم أهلها القرآن، فأسلم على يديه معظم أهلها قبل الهجرة.
- حامل لواء المهاجرين في غزوتي بدر وأحد.

**علاقته بالنبي ﷺ:**
- من الصحابة المقربين الذين ضحوا بكل شيء من أجل الدعوة.

**أحداث هامة في حياته:**
- هجرته للحبشة ثم للمدينة، تاركًا وراءه حياة الرفاهية.
- استشهاده في غزوة أحد، حيث قُطعت يداه وهو يدافع عن اللواء، وظل ممسكًا به حتى قُتل. بكى النبي عند رؤيته بعد استشهاده ولم يجدوا ما يكفنونه به إلا بردة قصيرة.`,source:"المصدر: (سيرة ابن هشام، صفة الصفوة لابن الجوزي)."},{name:"عبد الله بن مسعود",preview:"من السابقين الأولين، وأعلم الصحابة بالقرآن. كان خادم النبي ﷺ. قال عنه النبي: 'من أحب أن يقرأ القرآن غضًا كما أنزل فليقرأه على قراءة ابن أم عبد'.",fullContent:`**أبرز الإنجازات:**
- أحد أكبر علماء القرآن وتفسيره بين الصحابة.
- أول من جهر بالقرآن الكريم في مكة بعد النبي ﷺ.
- أرسله عمر بن الخطاب إلى الكوفة ليعلم أهلها، فأسس مدرسة فقهية وقرائية عظيمة هناك.

**علاقته بالنبي ﷺ:**
- كان من أقرب الصحابة خدمة للنبي، حتى عُرف بـ'صاحب النعلين والوساد والمطهرة'.

**أحداث هامة في حياته:**
- قصة إسلامه وهو غلام يرعى الغنم.
- رغم نحافة جسده، قال النبي ﷺ عن ساقيه: "لهما في الميزان أثقل من جبل أحد".`,source:"المصدر: (صحيح البخاري، سير أعلام النبلاء للذهبي)."}],LA=[{name:"غزوة بدر الكبرى",date:"17 رمضان 2 هـ / 13 مارس 624 م",reason:"محاولة المسلمين اعتراض قافلة تجارية لقريش بقيادة أبي سفيان، ردًا على مصادرة قريش لأموال المهاجرين في مكة.",participants:"المسلمون: حوالي 313 رجلاً. المشركون: حوالي 1000 رجل.",events:"خرج جيش قريش لحماية القافلة، ونجت القافلة. لكن أبا جهل أصر على قتال المسلمين. التقى الجيشان في بدر، وبدأت المعركة بالمبارزة الفردية ثم القتال العام. أيد الله المسلمين بالملائكة وألقى الرعب في قلوب المشركين.",results:"انتصار ساحق للمسلمين. قُتل 70 من كبار زعماء قريش منهم أبو جهل، وأُسر 70 آخرون. استشهد 14 من المسلمين. كانت أول معركة فاصلة عززت مكانة الدولة الإسلامية.",stories:"قصة عكاشة بن محصن الذي انكسر سيفه، فأعطاه النبي صلى الله عليه وسلم جذلاً من حطب فانقلب في يده سيفًا حادًا. (سيرة ابن هشام)"},{name:"غزوة أحد",date:"7 شوال 3 هـ / 23 مارس 625 م",reason:"رغبة قريش في الثأر لهزيمتهم في بدر واستعادة مكانتهم.",participants:"المسلمون: حوالي 700 رجل. المشركون: حوالي 3000 رجل.",events:"وضع النبي 50 من الرماة على جبل أحد وأمرهم بعدم مغادرة أماكنهم مهما كانت نتيجة المعركة. في البداية انتصر المسلمون، لكن الرماة خالفوا الأمر ونزلوا لجمع الغنائم. فالتف خالد بن الوليد (وكان مشركًا آنذاك) بفرسانه من خلف الجبل وهاجم المسلمين من الخلف، فتحولت المعركة إلى ابتلاء عظيم للمسلمين.",results:"لم تكن نصرًا حاسمًا لأي طرف، لكنها كانت درسًا قاسيًا للمسلمين. استشهد حوالي 70 من الصحابة، منهم حمزة بن عبد المطلب. أُشيع مقتل النبي وجُرح وجهه الشريف وكُسرت رباعيته.",stories:"بطولة نسيبة بنت كعب (أم عمارة) التي دافعت عن النبي بنفسها بالسيف والترس. وبطولة طلحة بن عبيد الله الذي اتقى السهام عن النبي بيده حتى شُلت. (الرحيق المختوم)"},{name:"غزوة الخندق (الأحزاب)",date:"شوال 5 هـ / مارس 627 م",reason:"تحالف كبير من قريش وقبائل غطفان واليهود للقضاء على الإسلام والمسلمين في المدينة.",participants:"المسلمون: حوالي 3000 رجل. الأحزاب (المشركون): حوالي 10,000 رجل.",events:"أشار سلمان الفارسي على النبي بحفر خندق حول المدينة، وهو ما لم تكن تعرفه العرب. حاصر الأحزاب المدينة لمدة شهر تقريبًا. حاولوا اقتحام الخندق وفشلوا. اشتد البلاء على المسلمين من الحصار والبرد والجوع وخيانة يهود بني قريظة.",results:"انتصار للمسلمين دون قتال مباشر. أرسل الله ريحًا شديدة باردة قلبت قدورهم واقتلعت خيامهم، وأرسل الملائكة لتلقي الرعب في قلوبهم، فتفرقوا ورجعوا خائبين.",stories:"موقف حذيفة بن اليمان حين أرسله النبي في ليلة عاصفة ليتجسس على أخبار معسكر الأحزاب، وعاد بالخبر اليقين بتفرقهم. (صحيح مسلم)"}],jA=[{name:"خلافة أبي بكر الصديق",period:"11-13 هـ / 632-634 م",keyEvents:`بعد وفاة النبي ﷺ، بايعه المسلمون خليفة لهم. تميز عهده القصير بالحزم والثبات.
- **حروب الردة:** حارب القبائل التي ارتدت عن الإسلام وامتنعت عن دفع الزكاة بعد وفاة النبي، وقال قولته الشهيرة: "والله لأقاتلن من فرق بين الصلاة والزكاة".
- **جمع القرآن:** بعد استشهاد عدد كبير من حفظة القرآن في معركة اليمامة، أشار عليه عمر بن الخطاب بجمع القرآن، فكلف زيد بن ثابت بهذه المهمة العظيمة.
- **بداية الفتوحات:** أرسل الجيوش لفتح العراق والشام، ممهدًا الطريق للفتوحات الكبرى في عهد عمر.`,source:"تاريخ الخلفاء للسيوطي، البداية والنهاية لابن كثير."},{name:"خلافة عمر بن الخطاب",period:"13-23 هـ / 634-644 م",keyEvents:`يعتبر عهده العصر الذهبي للفتوحات والتنظيم الإداري.
- **الفتوحات الكبرى:** تم في عهده فتح بلاد الشام كلها، والعراق، وفارس، ومصر، والقدس.
- **تأسيس الدواوين:** أنشأ الدواوين (السجلات) لتنظيم الدولة، مثل ديوان الجند وديوان الخراج.
- **التقويم الهجري:** هو أول من وضع التقويم الهجري الذي يبدأ بهجرة النبي ﷺ.
- **العدل وتفقد الرعية:** اشتهر بعدله الشديد وتواضعه، وقصصه في تفقد أحوال الناس بنفسه ليلاً مشهورة.`,source:"تاريخ الطبري، الكامل في التاريخ لابن الأثير."},{name:"خلافة عثمان بن عفان",period:"23-35 هـ / 644-656 م",keyEvents:`تميز عهده بالرخاء واستمرار الفتوحات، ولكن انتهى بفتنة كبرى.
- **جمع المصحف العثماني:** لاحظ اختلاف الناس في قراءة القرآن، فأمر بنسخ المصحف الذي جمعه أبو بكر إلى عدة نسخ وإرسالها إلى الأمصار لتوحيد القراءة.
- **إنشاء الأسطول البحري:** أنشأ أول أسطول بحري إسلامي لحماية سواحل المسلمين، وحقق انتصارات بحرية مثل معركة ذات الصواري.
- **الفتوحات:** استمرت الفتوحات في عهده، فوصلت إلى أرمينيا وأفغانستان وشمال أفريقيا.
- **الفتنة:** في أواخر عهده، ظهرت حركات تمرد أدت إلى حصاره في بيته واستشهاده مظلومًا.`,source:"تاريخ الخلفاء للسيوطي، تاريخ الطبري."},{name:"خلافة علي بن أبي طالب",period:"35-40 هـ / 656-661 م",keyEvents:`تولى الخلافة في أصعب فترة، حيث كانت الفتنة قد اشتعلت.
- **نقل العاصمة:** نقل عاصمة الخلافة من المدينة المنورة إلى الكوفة في العراق لتكون أقرب إلى أتباعه.
- **مواجهة الانقسامات:** قضى معظم فترة خلافته في محاولة لتوحيد صف المسلمين ومواجهة حركات الخروج والانقسام التي نتجت عن مقتل عثمان، مثل معركة الجمل ومعركة صفين.
- **ظهور الخوارج:** بعد قضية التحكيم في صفين، خرجت عليه فئة متطرفة عُرفت بالخوارج، فقاتلهم في معركة النهروان.
- **العدل والزهد:** عُرف بعدله وزهده الشديد، واستمر على نهج من سبقه من الخلفاء في البساطة والتقشف.`,source:"البداية والنهاية لابن كثير، تاريخ الإسلام للذهبي."}],VA=[{name:"الإمام البخاري",field:"علم الحديث",contribution:"أمضى 16 عامًا في جمع وتصنيف أصح الأحاديث النبوية في كتابه 'الجامع الصحيح'، المعروف بـ'صحيح البخاري'، وهو أصح كتاب بعد القرآن الكريم.",source:"سير أعلام النبلاء للذهبي."},{name:"الإمام الشافعي",field:"الفقه وأصوله",contribution:"يعتبر مؤسس علم أصول الفقه. ألف كتاب 'الرسالة' الذي وضع فيه القواعد والمبادئ لاستنباط الأحكام الشرعية من مصادرها. مذهبه الفقهي من المذاهب الأربعة المتبوعة.",source:"وفيات الأعيان لابن خلكان."},{name:"محمد بن موسى الخوارزمي",field:"الرياضيات والفلك",contribution:"يُلقب بـ'أبو الجبر'. ابتكر علم الجبر كعلم مستقل، ووضع أسسه في كتابه 'الكتاب المختصر في حساب الجبر والمقابلة'. كلمة 'Algorithm' مشتقة من اسمه.",source:"تاريخ العلوم عند العرب."},{name:"ابن سينا (Avicenna)",field:"الطب والفلسفة",contribution:"من أعظم الأطباء في التاريخ. ألف كتاب 'القانون في الطب' الذي ظل المرجع الرئيسي في كليات الطب بأوروبا لقرون. كانت له إسهامات كبرى في الفلسفة وعلم النفس.",source:"عيون الأنباء في طبقات الأطباء لابن أبي أصيبعة."},{name:"ابن الهيثم (Alhazen)",field:"علم البصريات والفيزياء",contribution:"يعتبر 'أبو علم البصريات الحديث'. أثبت أن الرؤية تحدث بسبب انعكاس الضوء من الأجسام إلى العين، وليس العكس. كتابه 'المناظر' أثر بشكل كبير في تطور العلم في أوروبا.",source:"تاريخ الفكر العلمي عند العرب."},{name:"جابر بن حيان",field:"الكيمياء",contribution:"يُعرف بأنه 'أبو الكيمياء'. أدخل المنهج التجريبي إلى الكيمياء، واكتشف العديد من العمليات الكيميائية كالتقطير والتبلور، وحضر مواد كيميائية كحمض الكبريتيك.",source:"موسوعة تاريخ العلوم العربية."}],is=({className:e})=>l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})}),zA=({className:e})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})}),PA=({className:e})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a3.002 3.002 0 013.39-2.43 3.002 3.002 0 013.39 2.43m-6.78 0a3.002 3.002 0 00-3.39-2.43 3.002 3.002 0 00-3.39 2.43m10.17 0a3.002 3.002 0 003.39 2.43m-3.39-2.43a3.002 3.002 0 01-3.39 2.43m-3.39-2.43a3.002 3.002 0 00-3.39 2.43m6.78 0a3.002 3.002 0 003.39-2.43m-3.39 2.43a3.002 3.002 0 01-3.39-2.43"})}),BA=({className:e})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})}),GA=({className:e})=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3v1.5M3 21v-6.375c0-1.02.422-1.97 1.127-2.673L9 6.625l4.873 4.872c.705.704 1.127 1.653 1.127 2.673V21M3 3h12M3 3l5.034 5.034"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 21v-4.5a3 3 0 013-3h3"})]}),HA=({className:e})=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.25 9.75l-4.5 4.5m0-4.5l4.5 4.5"})]}),OA=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 mr-4 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM18 12l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 18l-1.035.259a3.375 3.375 0 00-2.456 2.456L18 21.75l-.259-1.035a3.375 3.375 0 00-2.456-2.456L14.25 18l1.035-.259a3.375 3.375 0 002.456-2.456L18 12z"})}),JA=()=>{const[e,t]=T.useState(null);return T.useEffect(()=>{const n=Math.floor((Date.now()-new Date(new Date().getFullYear(),0,0).getTime())/864e5),a=Xm[n%Xm.length];t(a)},[]),e?l.jsx("div",{className:"bg-primary/10 border-l-4 border-primary text-primary p-4 rounded-r-lg mb-8 shadow-md",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(OA,{}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold",children:"حكمة اليوم"}),l.jsxs("p",{className:"mt-1 text-text-primary italic",children:['"',e.quote,'"']}),l.jsxs("p",{className:"text-xs text-text-secondary text-left mt-1",children:["- ",e.source]})]})]})}):null},vi=({icon:e,label:t,isActive:n,onClick:a})=>l.jsxs("button",{onClick:a,className:`flex-1 flex flex-col sm:flex-row items-center justify-center gap-2 p-3 rounded-t-lg transition-all font-semibold border-b-4 ${n?"bg-card border-primary text-primary":"bg-transparent border-transparent text-text-secondary hover:bg-card/50"}`,children:[e,l.jsx("span",{className:"text-xs sm:text-sm",children:t})]}),YA=()=>{const[e,t]=T.useState("sira"),[n,a]=T.useState(null),i=m=>{a(p=>p===m?null:m)},o=()=>l.jsx("div",{className:"space-y-4",children:qA.map(m=>l.jsxs("div",{className:"bg-card rounded-lg shadow-sm border border-border-color overflow-hidden",children:[l.jsxs("button",{onClick:()=>i(m.title),className:"w-full text-right p-4 flex justify-between items-center",children:[l.jsx("h3",{className:"font-bold text-text-primary",children:m.title}),l.jsx(is,{className:`w-5 h-5 text-text-secondary transition-transform ${n===m.title?"rotate-180":""}`})]}),n===m.title&&l.jsxs("div",{className:"p-4 border-t border-border-color bg-background",children:[l.jsx("p",{className:"text-text-secondary leading-relaxed whitespace-pre-wrap",children:m.fullContent}),l.jsx("p",{className:"text-xs text-text-secondary/70 mt-3 pt-2 border-t border-dashed border-border-color/50 text-left",children:m.source})]})]},m.title))}),s=()=>l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:UA.map(m=>l.jsxs("div",{className:"bg-card rounded-lg shadow-sm border border-border-color",children:[l.jsxs("div",{className:"p-4",children:[l.jsx("h3",{className:"font-bold text-lg text-text-primary",children:m.name}),l.jsx("p",{className:"text-sm text-text-secondary mt-1",children:m.preview})]}),n===m.name&&l.jsxs("div",{className:"p-4 border-t border-border-color bg-background",children:[l.jsx("div",{className:"whitespace-pre-wrap text-text-secondary text-sm leading-relaxed",dangerouslySetInnerHTML:{__html:m.fullContent.replace(/\*\*(.*?)\*\*/g,'<strong class="text-text-primary">$1</strong>')}}),l.jsx("p",{className:"text-xs text-text-secondary/70 mt-3 pt-2 border-t border-dashed border-border-color/50 text-left",children:m.source})]}),l.jsx("div",{className:"p-2 border-t border-border-color text-center",children:l.jsx("button",{onClick:()=>i(m.name),className:"text-xs font-bold text-primary hover:underline",children:n===m.name?"عرض أقل":"اقرأ المزيد"})})]},m.name))}),u=()=>l.jsx("div",{className:"space-y-4",children:LA.map(m=>l.jsxs("div",{className:"bg-card rounded-lg shadow-sm border border-border-color overflow-hidden",children:[l.jsxs("button",{onClick:()=>i(m.name),className:"w-full text-right p-4 flex justify-between items-center",children:[l.jsxs("h3",{className:"font-bold text-text-primary",children:[m.name," ",l.jsxs("span",{className:"text-sm font-normal text-text-secondary",children:["(",m.date,")"]})]}),l.jsx(is,{className:`w-5 h-5 text-text-secondary transition-transform ${n===m.name?"rotate-180":""}`})]}),n===m.name&&l.jsxs("div",{className:"p-4 border-t border-border-color bg-background space-y-3",children:[l.jsxs("div",{children:[l.jsx("strong",{className:"text-text-primary",children:"السبب:"})," ",l.jsx("span",{className:"text-text-secondary",children:m.reason})]}),l.jsxs("div",{children:[l.jsx("strong",{className:"text-text-primary",children:"المشاركون:"})," ",l.jsx("span",{className:"text-text-secondary",children:m.participants})]}),l.jsxs("div",{children:[l.jsx("strong",{className:"text-text-primary",children:"الأحداث:"})," ",l.jsx("p",{className:"text-text-secondary whitespace-pre-wrap leading-relaxed mt-1",children:m.events})]}),l.jsxs("div",{children:[l.jsx("strong",{className:"text-text-primary",children:"النتائج:"})," ",l.jsx("p",{className:"text-text-secondary whitespace-pre-wrap leading-relaxed mt-1",children:m.results})]}),l.jsxs("div",{children:[l.jsx("strong",{className:"text-text-primary",children:"قصص مميزة:"})," ",l.jsx("p",{className:"text-text-secondary whitespace-pre-wrap leading-relaxed mt-1",children:m.stories})]})]})]},m.name))}),d=()=>l.jsx("div",{className:"space-y-4",children:jA.map(m=>l.jsxs("div",{className:"bg-card rounded-lg shadow-sm border border-border-color overflow-hidden",children:[l.jsxs("button",{onClick:()=>i(m.name),className:"w-full text-right p-4 flex justify-between items-center",children:[l.jsxs("h3",{className:"font-bold text-text-primary",children:[m.name," ",l.jsxs("span",{className:"text-sm font-normal text-text-secondary",children:["(",m.period,")"]})]}),l.jsx(is,{className:`w-5 h-5 text-text-secondary transition-transform ${n===m.name?"rotate-180":""}`})]}),n===m.name&&l.jsxs("div",{className:"p-4 border-t border-border-color bg-background",children:[l.jsx("p",{className:"text-text-secondary leading-relaxed whitespace-pre-wrap",children:m.keyEvents}),l.jsx("p",{className:"text-xs text-text-secondary/70 mt-3 pt-2 border-t border-dashed border-border-color/50 text-left",children:m.source})]})]},m.name))}),f=()=>l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:VA.map(m=>l.jsxs("div",{className:"bg-card rounded-lg shadow-sm border border-border-color p-4",children:[l.jsx("h3",{className:"font-bold text-lg text-text-primary",children:m.name}),l.jsx("p",{className:"text-sm font-semibold text-primary mt-1",children:m.field}),l.jsx("p",{className:"text-text-secondary text-sm leading-relaxed mt-2",children:m.contribution}),l.jsx("p",{className:"text-xs text-text-secondary/70 mt-3 pt-2 border-t border-dashed border-border-color/50 text-left",children:m.source})]},m.name))});return l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pt-6 pb-8 animate-fade-in",children:[l.jsx(JA,{}),l.jsxs("div",{className:"bg-card/50 rounded-lg p-1 mb-6 flex items-center gap-1 shadow-inner overflow-x-auto",children:[l.jsx(vi,{icon:l.jsx(zA,{}),label:"السيرة",isActive:e==="sira",onClick:()=>{t("sira"),a(null)}}),l.jsx(vi,{icon:l.jsx(PA,{}),label:"الصحابة",isActive:e==="sahaba",onClick:()=>{t("sahaba"),a(null)}}),l.jsx(vi,{icon:l.jsx(BA,{}),label:"الغزوات",isActive:e==="battles",onClick:()=>{t("battles"),a(null)}}),l.jsx(vi,{icon:l.jsx(GA,{className:"h-6 w-6"}),label:"الخلفاء",isActive:e==="caliphs",onClick:()=>{t("caliphs"),a(null)}}),l.jsx(vi,{icon:l.jsx(HA,{className:"h-6 w-6"}),label:"العلماء",isActive:e==="scholars",onClick:()=>{t("scholars"),a(null)}})]}),l.jsxs("div",{className:"animate-fade-in",children:[e==="sira"&&o(),e==="sahaba"&&s(),e==="battles"&&u(),e==="caliphs"&&d(),e==="scholars"&&f()]})]})},FA=({className:e})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM18 12l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 18l-1.035.259a3.375 3.375 0 00-2.456 2.456L18 21.75l-.259-1.035a3.375 3.375 0 00-2.456-2.456L14.25 18l1.035-.259a3.375 3.375 0 002.456-2.456L18 12z"})}),Si=({icon:e,title:t,description:n,detailedDescription:a})=>{const[i,o]=T.useState(!1);return l.jsxs("div",{className:"py-4",children:[l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"flex-shrink-0 text-primary mt-1",children:e}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-text-primary",children:t}),l.jsx("p",{className:"text-sm text-text-secondary",children:n})]})]}),l.jsx("div",{className:"mt-2 pr-12 text-right",children:l.jsx("button",{onClick:()=>o(!i),className:"text-xs font-bold text-primary hover:underline","aria-expanded":i,children:i?"عرض أقل":"اعرف المزيد"})}),i&&l.jsx("div",{className:"mt-2 pr-12",children:l.jsx("div",{className:"p-3 bg-background rounded-md border border-border-color text-sm text-text-secondary animate-fade-in",children:l.jsx("p",{className:"leading-relaxed",children:a})})})]})},QA=({isOpen:e,onClose:t})=>e?l.jsx("div",{className:"fixed inset-0 bg-black/75 flex items-center justify-center z-[100] animate-fade-in p-4",role:"dialog","aria-modal":"true","aria-labelledby":"welcome-heading",children:l.jsxs("div",{className:"bg-card rounded-2xl shadow-xl p-6 sm:p-8 w-full max-w-lg m-4 max-h-[90vh] overflow-y-auto custom-scrollbar",children:[l.jsxs("div",{className:"text-center",children:[l.jsx(FA,{className:"w-16 h-16 text-primary mx-auto mb-4"}),l.jsx("h2",{id:"welcome-heading",className:"text-2xl sm:text-3xl font-bold text-text-primary mb-3 font-tajawal",children:"أهلاً بك في رونق!"}),l.jsx("p",{className:"text-text-secondary mb-6 font-tajawal",children:"يسعدنا انضمامك لرحلة إيمانية ملهمة. اكتشف جمال القرآن وحلاوة الإيمان مع مجموعة من الأدوات التي صممناها خصيصًا لك."})]}),l.jsxs("div",{className:"divide-y divide-border-color/70 border-t border-b border-border-color py-2 my-6",children:[l.jsx(Si,{icon:l.jsx(ax,{className:"w-8 h-8"}),title:"أنصت واستمع",description:"مكتبة ضخمة من القرّاء، مع ميزة البحث الذكي عن الآيات بالصوت، وتفسير مفصل لكل آية تستمع إليها.",detailedDescription:"استمتع بتلاوات عطرة لأشهر قرّاء العالم الإسلامي. يمكنك تحميل السور للاستماع بدون إنترنت، حفظ آياتك المفضلة كعلامات مرجعية، وعرض التفسير الميسر لكل آية أثناء الاستماع. استخدم ميزة 'البحث الذكي' للعثور على أي آية بمجرد ذكر موضوعها."}),l.jsx(Si,{icon:l.jsx(ix,{className:"w-8 h-8"}),title:"اقرأ وتدبر",description:"تجربة قراءة مريحة للمصحف، مع إحصائيات تتبع تقدمك، وأسباب نزول الآيات لتزيدك فهمًا وتدبرًا.",detailedDescription:"اقرأ القرآن الكريم من مصحف المدينة النبوية بتصميم يحاكي الواقع. تتبع تقدمك في القراءة، تابع آخر صفحة وصلت إليها، وادخل في 'تحدي ختم القرآن' لتلتزم بورد يومي. يمكنك أيضًا تحميل نصوص السور للقراءة دون اتصال، واستكشاف أسباب نزول الآيات لفهم أعمق."}),l.jsx(Si,{icon:l.jsx(ox,{className:"w-8 h-8"}),title:"عالم الطفل",description:"مساحة آمنة وممتعة للأطفال، مليئة بالقصص والألعاب التعليمية والأذكار المناسبة لأعمارهم.",detailedDescription:"عالم مصمم خصيصًا للأطفال لتعلم الإسلام بمتعة. يحتوي على قصص مصورة للأنبياء، ألعاب تفاعلية لاختبار معلوماتهم، بطاقات تعليمية للحروف وأسماء الله الحسنى، وأذكار يومية سهلة الحفظ. يتغير تصميم القسم بالكامل ليتناسب مع عمر وجنس طفلك."}),l.jsx(Si,{icon:l.jsx(lx,{className:"w-8 h-8"}),title:"اعرف تاريخك",description:"رحلة عبر الزمن لاستكشاف السيرة النبوية، قصص الصحابة، الغزوات، وتاريخ الخلفاء والعلماء.",detailedDescription:"تاريخنا الإسلامي مليء بالدروس والعبر. في هذا القسم، يمكنك قراءة السيرة النبوية بشكل مبسط، والتعرف على حياة كبار الصحابة والخلفاء الراشدين، واستعراض أهم المعارك الفاصلة في تاريخ الإسلام، والاطلاع على إسهامات علمائنا العظماء."}),l.jsx(Si,{icon:l.jsx(sx,{className:"w-8 h-8"}),title:"Ronaq Mind",description:"استكشف أدواتنا المتقدمة: ملخصات السور، المستشار النفسي، دراسة التجويد، والمزيد من الميزات الذكية.",detailedDescription:"هذا هو قسمنا المبتكر الذي يستخدم الذكاء الاصطناعي لخدمة القرآن. احصل على ملخصات فورية لمواضيع أي سورة، استشر 'المستشار النفسي' ليقدم لك هداية روحانية وعملية، تعلم أحكام التجويد لكل آية، واحصل على 'رونقك اليومي' من آية أو حكمة ملهمة."})]}),l.jsx("div",{className:"text-center",children:l.jsx("button",{onClick:t,className:"bg-primary text-white font-bold py-3 px-8 rounded-lg hover:opacity-90 transition-transform hover:scale-105",children:"ابدأ رحلتك"})})]})}):null,KA=({className:e})=>l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),XA=({query:e,onQueryChange:t})=>l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none","aria-hidden":"true",children:l.jsx(KA,{className:"h-5 w-5 text-text-secondary group-focus-within:text-primary transition-colors"})}),l.jsx("input",{type:"search",id:"surah-search",placeholder:"ابحث عن سورة أو موضوع مثل 'الصبر'...",value:e,onChange:n=>t(n.target.value),className:"block w-full bg-card border border-border-color rounded-lg py-3 pl-12 pr-4 text-base placeholder-text-secondary focus:outline-none focus:text-text-primary focus:ring-2 focus:ring-primary focus:border-transparent transition-shadow shadow-sm"})]}),$A=({className:e})=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a3.002 3.002 0 013.39-2.43 3.002 3.002 0 013.39 2.43m-6.78 0a3.002 3.002 0 00-3.39-2.43 3.002 3.002 0 00-3.39 2.43m10.17 0a3.002 3.002 0 003.39 2.43m-3.39-2.43a3.002 3.002 0 01-3.39 2.43m-3.39-2.43a3.002 3.002 0 00-3.39 2.43m6.78 0a3.002 3.002 0 003.39-2.43m-3.39 2.43a3.002 3.002 0 01-3.39-2.43"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6a3 3 0 11-6 0 3 3 0 016 0zM12 6a3 3 0 10-6 0 3 3 0 006 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8c-3.314 0-6 2.686-6 6v2m6-8c3.314 0 6 2.686 6 6v2"})]}),ZA=({items:e,onPlay:t,onDelete:n,currentSurah:a,currentReciter:i,isPlaying:o})=>{const[s,u]=T.useState(!1);return e.length===0?null:l.jsx("div",{className:"px-4 sm:px-6 lg:px-8 pt-6 animate-fade-in",children:l.jsxs("div",{className:"bg-card/80 rounded-xl shadow-lg border border-border-color p-4",children:[l.jsxs("button",{onClick:()=>u(!s),className:"w-full flex items-center justify-between text-right","aria-expanded":s,children:[l.jsxs("h2",{className:"text-xl font-bold text-text-primary",children:["المحتوى المحمّل (",e.length,")"]}),l.jsx(is,{className:`w-6 h-6 text-text-secondary transition-transform duration-300 ${s?"rotate-180":""}`})]}),s&&l.jsx("div",{className:"mt-4 pt-4 border-t border-border-color/50",children:l.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto custom-scrollbar pr-2",children:e.map(({surah:d,reciter:f})=>{const m=(a==null?void 0:a.id)===d.id&&(i==null?void 0:i.identifier)===f.identifier&&o,p=(a==null?void 0:a.id)===d.id&&(i==null?void 0:i.identifier)===f.identifier;return l.jsxs("div",{className:`p-3 rounded-lg flex items-center justify-between transition-colors ${p?"bg-primary/20":"bg-background"}`,children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold font-amiri-quran text-lg text-text-primary",children:d.name}),l.jsx("p",{className:"text-xs text-text-secondary",children:f.name})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>t(d,f),className:"p-2 text-primary hover:bg-primary/10 rounded-full","aria-label":m?`إيقاف ${d.name}`:`تشغيل ${d.name}`,children:m?l.jsx(vc,{className:"w-6 h-6"}):l.jsx(ii,{className:"w-6 h-6"})}),l.jsx("button",{onClick:h=>{h.stopPropagation(),window.confirm(`هل أنت متأكد من حذف الملفات الصوتية لسورة ${d.name} للقارئ ${f.name}؟`)&&n(d,f)},className:"p-2 text-red-500 hover:bg-red-500/10 rounded-full","aria-label":`حذف ${d.name}`,children:l.jsx(nl,{className:"w-5 h-5"})})]})]},`${d.id}-${f.identifier}`)})})})]})})},WA=({className:e})=>l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})});var $m={};const zx={Mujawwad:"مجود",Murattal:"مرتل",Warsh:"ورش",Qalun:"قالون",Muallim:"معلم"},ew=({className:e})=>l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})}),tw=(e,t)=>{const[n,a]=T.useState(()=>{if(typeof window<"u")try{const i=localStorage.getItem(e);return i?JSON.parse(i):t}catch(i){return console.error(i),t}return t});return T.useEffect(()=>{typeof window<"u"&&localStorage.setItem(e,JSON.stringify(n))},[e,n]),[n,a]},nw=({reciters:e,selectedReciter:t,onReciterChange:n,children:a})=>{const[i,o]=T.useState(!1),[s,u]=T.useState(""),d=T.useMemo(()=>["مشاري راشد العفاسي","عبدالرحمن السديس","سعود الشريم","سعد الغامدي","ماهر المعيقلي","أحمد بن علي العجمي","ياسر الدوسري","محمود خليل الحصري","محمد صديق المنشاوي","عبدالباسط عبدالصمد"],[]),{featured:f,grouped:m}=T.useMemo(()=>{const h=s.trim()?e.filter(y=>y.name.toLowerCase().includes(s.toLowerCase())||y.rawName.toLowerCase().includes(s.toLowerCase())):e,g=[],v=[];if(s.trim())v.push(...h);else{const y=new Set;d.forEach(x=>{e.filter(E=>E.rawName===x).forEach(E=>{y.has(E.identifier)||(g.push(E),y.add(E.identifier))})}),v.push(...e.filter(x=>!y.has(x.identifier)))}const N=v.reduce((y,x)=>{const S=x.style||"Murattal",E=zx[S]||S;return y[E]||(y[E]=[]),y[E].push(x),y},{}),b=Object.entries(N).sort(([y],[x])=>y==="مرتل"?-1:x==="مرتل"?1:y==="مجود"?-1:x==="مجود"?1:y.localeCompare(x,"ar"));return{featured:g,grouped:b}},[e,s,d]),p=h=>{const g=(t==null?void 0:t.identifier)===h.identifier;return l.jsxs("button",{onClick:()=>{n(h),o(!1)},className:`w-full p-2.5 rounded-xl text-right transition-all duration-200 flex items-center justify-between relative group ${g?"bg-primary/20":"bg-card/50 hover:bg-card"}`,children:[l.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[l.jsx(WA,{className:`w-7 h-7 flex-shrink-0 transition-colors ${g?"text-primary":"text-text-secondary/70"}`}),l.jsx("div",{className:"min-w-0",children:l.jsx("span",{className:`font-semibold w-full truncate transition-colors text-sm ${g?"text-primary":"text-text-primary"}`,children:h.name})})]}),g&&l.jsx("div",{className:"text-primary flex-shrink-0 ml-2",children:l.jsx(nx,{className:"w-5 h-5"})})]},h.identifier)};return l.jsxs("div",{className:"flex h-full min-h-[calc(100vh-64px)]",children:[l.jsx("aside",{className:`absolute lg:relative top-0 right-0 h-full bg-background/80 dark:bg-background/90 backdrop-blur-lg z-30 transition-transform duration-300 ease-in-out lg:translate-x-0 ${i?"translate-x-0":"translate-x-full"}`,children:l.jsxs("div",{className:"w-80 lg:w-96 border-l border-border-color h-full flex flex-col",children:[l.jsx("div",{className:"p-4 border-b border-border-color flex-shrink-0",children:l.jsxs("h2",{className:"text-lg font-bold text-text-primary flex items-center gap-2",children:[l.jsx($A,{className:"w-6 h-6 text-primary"}),"اختر القارئ"]})}),l.jsx("div",{className:"p-3 border-b border-border-color",children:l.jsx("input",{type:"search",value:s,onChange:h=>u(h.target.value),placeholder:"ابحث عن قارئ...",className:"w-full bg-background border border-border-color rounded-md py-2 px-3 text-sm focus:outline-none focus:ring-1 focus:ring-primary"})}),l.jsxs("div",{className:"flex-grow overflow-y-auto custom-scrollbar p-2 space-y-4",children:[e.length===0&&l.jsx("div",{className:"text-center p-4 text-text-secondary",children:"جاري تحميل القراء..."}),f.length>0&&l.jsxs("div",{className:"space-y-1",children:[l.jsx("h3",{className:"px-2 text-sm font-semibold text-text-secondary mb-2",children:"القراء المميزون"}),f.map(h=>p(h))]}),m.map(([h,g])=>l.jsxs("div",{className:"space-y-1",children:[l.jsx("h3",{className:"px-2 text-sm font-semibold text-text-secondary mb-2",children:h}),g.map(v=>p(v))]},h)),e.length>0&&f.length===0&&m.length===0&&l.jsx("div",{className:"text-center p-4 text-text-secondary",children:"لا توجد نتائج بحث."})]})]})}),i&&l.jsx("div",{onClick:()=>o(!1),className:"fixed inset-0 bg-black/50 z-20 lg:hidden"}),l.jsxs("main",{className:"flex-grow w-full overflow-y-auto",children:[l.jsx("div",{className:"lg:hidden p-2 text-left",children:l.jsx("button",{onClick:()=>o(!0),className:"p-2 rounded-md bg-card/50 text-text-secondary",children:l.jsx(ew,{className:"w-6 h-6"})})}),a]})]})},aw=()=>{const[e,t]=T.useState([]),[n,a]=T.useState([]),[i,o]=T.useState(!0),[s,u]=T.useState(null),[d,f]=T.useState("home"),[m,p]=T.useState(()=>typeof window<"u"?localStorage.getItem("theme")==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches:!1),[h,g]=T.useState(()=>{if(typeof window<"u")try{const C=localStorage.getItem("ronaqTheme");return C?JSON.parse(C):ns}catch{return ns}return ns}),[v,N]=T.useState(null),[b,y]=T.useState(null),[x,S]=T.useState([]),[E,_]=T.useState(0),[U,w]=T.useState(!1),[q,A]=T.useState(""),[I,j]=T.useState(()=>{if(typeof window<"u"){const C=localStorage.getItem("ronaqBookmarks");return C?JSON.parse(C):{}}return{}}),[M,z]=T.useState(""),[K,L]=T.useState({hoursThisWeek:0,surahsCompleted:0}),[R,B]=T.useState(0),[G,se]=T.useState(!1),[he,ne]=T.useState(null),[Fe,qt]=T.useState(!1),[Ut,Un]=T.useState(!1),ll={country:"Saudi Arabia",city:"Riyadh",method:4,school:0,muazzinId:"mecca",remindersEnabled:!1,tune:{Imsak:0,Fajr:0,Sunrise:0,Dhuhr:0,Asr:0,Maghrib:0,Isha:0,Midnight:0}},[rl,Cc]=tw("muazzinSettings",ll),_c=T.useMemo(()=>({...ll,...rl,tune:{...ll.tune,...rl.tune||{}}}),[rl]),[Bx,Mc]=T.useState(!1),[ul,cl]=T.useState(new Set),[Rc,dl]=T.useState({}),fl=T.useRef({}),[Ic,ml]=T.useState(new Set),[kc,hl]=T.useState({}),pl=T.useRef({}),[Gx,gl]=T.useState([]),[sa,xl]=T.useState(null),[Hx,Dc]=T.useState(!1),[Ox,ri]=T.useState([]),[Jx,yl]=T.useState(!1),[Yx,xo]=T.useState(null),[la,qc]=T.useState(null),[ra,Fx]=T.useState(()=>{if(typeof window<"u"){const C=localStorage.getItem("azkarSettings");return C?JSON.parse(C):{isEnabled:!1,frequency:1}}return{isEnabled:!1,frequency:1}}),[Uc,vl]=T.useState(null),ui=T.useRef(null),[Lc,Qx]=T.useState(0),[Sl,jc]=T.useState(null),bl=T.useRef(!1),[Kx,Vc]=T.useState(!1),El=T.useRef(null),Tl=T.useRef(null);T.useEffect(()=>{$m.API_KEY&&(El.current=new jx({apiKey:$m.API_KEY}))},[]),T.useEffect(()=>{if(!localStorage.getItem("hasSeenWelcomePopup")){const k=setTimeout(()=>{Vc(!0)},3e3);return()=>clearTimeout(k)}},[]);const Xx=()=>{Vc(!1),localStorage.setItem("hasSeenWelcomePopup","true")};T.useEffect(()=>{document.body.classList.toggle("audio-theme",d==="audio");const C=document.documentElement,k=m?h.dark:h.light;d==="audio"||d==="kids"?(C.style.setProperty("--scrollbar-track-bg",m?"#0d1a2e":"#fbf9f3"),C.style.setProperty("--scrollbar-thumb-bg",m?"#2a3e5c":"#d1c7ac")):(C.style.setProperty("--scrollbar-track-bg",k.background),C.style.setProperty("--scrollbar-thumb-bg",k.border))},[d,m,h]),T.useEffect(()=>{if(bl.current||e.length===0||n.length===0)return;const C=localStorage.getItem("lastPlaybackState");if(C)try{const k=JSON.parse(C),V=e.find($=>$.id===k.surahId),H=n.find($=>$.identifier===k.reciterIdentifier),O=parseFloat(k.time),X=k.currentAyahIndex!==void 0?parseInt(k.currentAyahIndex,10):0;V&&H&&!isNaN(O)?(bl.current=!0,N(H),y(V),jc(O),_(isNaN(X)?0:X),w(!1)):localStorage.removeItem("lastPlaybackState")}catch(k){console.error("Failed to parse saved playback state",k),localStorage.removeItem("lastPlaybackState")}},[e,n]),T.useEffect(()=>{const C=()=>{if(b&&v&&x.length>0){const V={surahId:b.id,reciterIdentifier:v.identifier,time:Lc,currentAyahIndex:E};localStorage.setItem("lastPlaybackState",JSON.stringify(V))}},k=()=>{document.visibilityState==="hidden"&&C()};return window.addEventListener("pagehide",C),document.addEventListener("visibilitychange",k),()=>{window.removeEventListener("pagehide",C),document.removeEventListener("visibilitychange",k)}},[U,b,v,Lc,E,x]),T.useEffect(()=>{if(typeof window<"u"){const C=localStorage.getItem("quranChallenge");if(C){const k=JSON.parse(C);k.completedAyahs||(k.completedAyahs={}),xl(k)}}},[]),T.useEffect(()=>{typeof window<"u"&&(sa?localStorage.setItem("quranChallenge",JSON.stringify(sa)):localStorage.removeItem("quranChallenge"))},[sa]),T.useEffect(()=>{typeof window<"u"&&localStorage.setItem("azkarSettings",JSON.stringify(ra))},[ra]),T.useEffect(()=>{if(ui.current&&clearInterval(ui.current),ra.isEnabled&&typeof Notification<"u"&&Notification.permission==="granted"){const C=()=>{const V=Math.floor(Math.random()*Ef.length),H=Ef[V],O=new Notification("تذكير أذكار",{body:H,icon:"https://i.imgur.com/1m8xN9N.png",tag:"azkar-notification"});O.onclick=()=>{vl(H),window.focus()}};setTimeout(C,2e3);const k=ra.frequency*60*60*1e3;ui.current=window.setInterval(C,k)}return()=>{ui.current&&clearInterval(ui.current)}},[ra]),T.useEffect(()=>{const C=async()=>{await He();const k=new Set;await Promise.all(e.map(async V=>{await tS(V.id)>=V.numberOfAyahs&&k.add(V.id)})),cl(k)};e.length>0&&C()},[e]),T.useEffect(()=>{(async()=>{if(e.length===0||n.length===0)return;await He();const k=await rx("ayahs"),V=new Map;k.forEach(X=>{const $=X.split("-");if($.length===3){const ue=`${$[0]}-${$[1]}`;V.set(ue,(V.get(ue)||0)+1)}});const H=[],O=new Set;for(const[X,$]of V.entries()){const[ue,Y]=X.split("-"),De=parseInt(Y,10),Qe=e.find(nn=>nn.id===De),Ln=n.find(nn=>nn.identifier===ue);Qe&&Ln&&$>=Qe.numberOfAyahs&&(H.push({surah:Qe,reciter:Ln}),O.add(X))}gl(H.sort((X,$)=>X.surah.id-$.surah.id)),ml(O)})()},[e,n]);const ua=T.useCallback(()=>{const C=JSON.parse(localStorage.getItem("listeningHistory")||"[]"),k=JSON.parse(localStorage.getItem("completedSurahs")||"[]"),V=Date.now()-7*24*60*60*1e3,O=C.filter($=>$.timestamp>=V).reduce(($,ue)=>$+(ue.duration||0),0)/3600,X=new Set(k).size;return{hoursThisWeek:O,surahsCompleted:X}},[]);T.useEffect(()=>{L(ua())},[ua]);const $x=T.useCallback(C=>{if(!C||C===1/0)return;const k=JSON.parse(localStorage.getItem("listeningHistory")||"[]");k.push({timestamp:Date.now(),duration:C}),localStorage.setItem("listeningHistory",JSON.stringify(k)),L(ua())},[ua]),Zx=T.useCallback(C=>{const k=JSON.parse(localStorage.getItem("completedSurahs")||"[]"),V=new Set(k);V.has(C)||(V.add(C),localStorage.setItem("completedSurahs",JSON.stringify(Array.from(V))),L(ua()))},[ua]),Wx=T.useCallback((C,k)=>{xl(V=>{if(!V||!V.isActive||V.isPaused||!C||!k)return V;const H=String(C.id),O=V.completedAyahs[H]||[];if(O.includes(k.numberInSurah))return V;const X=new Date().toISOString().split("T")[0],$={...V.progress};$[X]=($[X]||0)+1;const ue={...V.completedAyahs};return ue[H]=[...O,k.numberInSurah],{...V,progress:$,completedAyahs:ue}})},[]);T.useEffect(()=>{localStorage.setItem("ronaqBookmarks",JSON.stringify(I))},[I]),T.useEffect(()=>{m?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[m]);const ey=T.useMemo(()=>d==="audio"||d==="kids"?"audio-page-theme":"",[d]);T.useEffect(()=>{localStorage.setItem("ronaqTheme",JSON.stringify(h));const C=document.documentElement,k=m?h.dark:h.light;C.style.setProperty("--color-primary",k.primary),C.style.setProperty("--color-background",k.background),C.style.setProperty("--color-card",k.card),C.style.setProperty("--color-text-primary",k.textPrimary),C.style.setProperty("--color-text-secondary",k.textSecondary),C.style.setProperty("--color-border-color",k.border),C.style.setProperty("--color-background-start",k.backgroundStart),C.style.setProperty("--color-background-end",k.backgroundEnd),C.style.setProperty("--color-mushaf-background",k.mushafBackground),C.style.setProperty("--color-mushaf-page",k.mushafPage),C.style.setProperty("--color-mushaf-border",k.mushafBorder)},[h,m]),T.useEffect(()=>{(async()=>{o(!0),u(null);try{const[k,V]=await Promise.all([fetch("https://api.quran.com/api/v4/chapters?language=ar"),fetch("https://api.quran.com/api/v4/resources/recitations?language=ar")]);if(!k.ok)throw new Error("Failed to fetch surahs");if(!V.ok)throw new Error("Failed to fetch reciters");const O=(await k.json()).chapters.map(Y=>({id:Y.id,name:Y.name_arabic,revelationType:Y.revelation_place==="makkah"?"Meccan":"Medinan",numberOfAyahs:Y.verses_count}));t(O);const X=await V.json(),$=new Map;X.recitations.forEach(Y=>{Y.reciter_name&&($.has(Y.reciter_name)||$.set(Y.reciter_name,new Set),Y.style&&$.get(Y.reciter_name).add(Y.style))});const ue=X.recitations.map(Y=>{var So;const De=Y.reciter_name;if(!De)return null;const Qe=Y.style,Ln=$.get(De);let nn=De;if(Qe){const gy=Ln&&Ln.size>1;if(Qe!=="Murattal"||gy){const xy=zx[Qe]||Qe;nn=`${De} (${xy})`}}return{identifier:String(Y.id),name:nn,englishName:((So=Y.translated_name)==null?void 0:So.name)||De,rawName:De,style:Qe||"Murattal"}}).filter(Y=>Y!==null).sort((Y,De)=>Y.name.localeCompare(De.name,"ar"));if(a(ue),ue.length>0&&!bl.current){const Y=ue.find(De=>De.rawName.includes("العفاسي"))||ue[0];N(Y)}}catch(k){k instanceof Error?u(k.message):u("An unknown error occurred")}finally{o(!1)}})()},[]),T.useEffect(()=>{if(!b||!v)return;(async()=>{try{let k=0;if(!(Sl!==null&&x.length===0))if(la)k=x.findIndex(X=>X.numberInSurah===la.ayahNumberInSurah)||0;else{const X=I[b.id];k=X&&x.findIndex($=>$.numberInSurah===X)||0}const V=await fetch(`https://api.quran.com/api/v4/verses/by_chapter/${b.id}?language=ar&words=false&audio=${v.identifier}&fields=text_uthmani,page_number`);if(!V.ok)throw new Error("Failed to fetch ayahs");const O=(await V.json()).verses.map(X=>({number:X.id,audio:`https://verses.quran.com/${X.audio.url}`,text:X.text_uthmani,numberInSurah:parseInt(X.verse_key.split(":")[1],10),page:X.page_number}));if(S(O),Sl===null){const X=I[b.id];if(X){const $=O.findIndex(ue=>ue.numberInSurah===X);_($!==-1?$:0)}else _(0)}}catch(k){console.error("Error fetching ayahs:",k),u("Failed to load Surah audio."),S([])}})()},[b,v,I]),T.useEffect(()=>{if(la&&(b==null?void 0:b.id)===la.surahId&&x.length>0){const C=x.findIndex(k=>k.numberInSurah===la.ayahNumberInSurah);C!==-1&&(_(C),w(!0)),qc(null)}},[x,la,b]),T.useEffect(()=>{if(G&&b&&x.length>E){const C=x[E];(async()=>{var O;qt(!0),Un(!1),ne(null);const V=b.id,H=C.numberInSurah;try{const X=await Af(V,H);if(X){ne(X),qt(!1);return}const $=await fetch(`https://api.alquran.cloud/v1/ayah/${V}:${H}/ar.muyassar`);if(!$.ok)throw new Error("Failed to fetch Tafsir data from API.");const ue=await $.json(),Y=(O=ue==null?void 0:ue.data)==null?void 0:O.text;Y?(await Nf(V,H,Y),ne(Y)):ne("لا يوجد تفسير لهذه الآية")}catch(X){console.error("Failed to fetch/load tafsir",X),ne("تعذر تحميل التفسير. يرجى المحاولة مرة أخرى."),Un(!0)}finally{qt(!1)}})()}},[b,E,G,x]);const zc=T.useCallback(async C=>{if(!C||!v||!b){A("");return}try{const k=await X1(v.identifier,b.id,C.numberInSurah);if(k){const V=URL.createObjectURL(k);A(V)}else A(C.audio)}catch{A(C.audio)}},[v,b]);T.useEffect(()=>{const C=x.length>0&&E<x.length?x[E]:null;zc(C)},[x,E,zc]);const Pc=T.useCallback(()=>{var C;"mediaSession"in navigator&&b&&v&&x.length>0&&(navigator.mediaSession.metadata=new MediaMetadata({title:`سورة ${b.name} (آية ${((C=x[E])==null?void 0:C.numberInSurah)||E+1})`,artist:v.name,album:"رونق",artwork:[{src:"https://i.imgur.com/1m8xN9N.png",sizes:"96x96",type:"image/png"},{src:"https://i.imgur.com/1m8xN9N.png",sizes:"128x128",type:"image/png"},{src:"https://i.imgur.com/1m8xN9N.png",sizes:"192x192",type:"image/png"},{src:"https://i.imgur.com/1m8xN9N.png",sizes:"256x256",type:"image/png"},{src:"https://i.imgur.com/1m8xN9N.png",sizes:"384x384",type:"image/png"},{src:"https://i.imgur.com/1m8xN9N.png",sizes:"512x512",type:"image/png"}]}))},[b,v,x,E]);T.useEffect(()=>{Pc()},[Pc]),T.useEffect(()=>{"mediaSession"in navigator&&(navigator.mediaSession.playbackState=U?"playing":"paused")},[U]);const yo=T.useCallback(()=>{!b&&e.length>0&&y(e[0]),w(C=>!C)},[b,e]),vo=T.useCallback(()=>{if(e.length===0)return;const C=e.findIndex(V=>V.id===(b==null?void 0:b.id)),k=C!==-1?(C+1)%e.length:0;y(e[k]),S([]),w(!0)},[b,e]),Nl=T.useCallback(()=>{if(e.length===0)return;const C=e.findIndex(V=>V.id===(b==null?void 0:b.id)),k=C!==-1?(C-1+e.length)%e.length:0;y(e[k]),S([]),w(!0)},[b,e]);T.useEffect(()=>{"mediaSession"in navigator&&(navigator.mediaSession.setActionHandler("play",yo),navigator.mediaSession.setActionHandler("pause",yo),navigator.mediaSession.setActionHandler("nexttrack",vo),navigator.mediaSession.setActionHandler("previoustrack",Nl))},[yo,vo,Nl]);const Al=(C,k)=>{const V=k||v;if(V){if((b==null?void 0:b.id)===C.id&&(v==null?void 0:v.identifier)===V.identifier){w(H=>!H);return}k&&k.identifier!==(v==null?void 0:v.identifier)&&N(k),y(C),S([]),w(!0)}},ty=()=>{$x(R);const C=b,k=x[E];C&&k&&Wx(C,k),E<x.length-1?_(V=>V+1):(b&&Zx(b.id),vo())},Bc=C=>{N(C)},ny=()=>{p(C=>!C)},ay=(C,k)=>{j(V=>{const H={...V};return H[C]===k?delete H[C]:H[C]=k,H})},iy=async C=>{const k=C.id;if(ul.has(k)||Rc[k]!==void 0)return;const V=new AbortController;fl.current[k]=V,dl(H=>({...H,[k]:0}));try{const H=C.numberOfAyahs;for(let O=1;O<=H;O++){if(V.signal.aborted)throw new DOMException("Download cancelled by user","AbortError");if(!await Af(k,O)){const ue=await fetch(`https://api.alquran.cloud/v1/ayah/${k}:${O}/ar.muyassar`,{signal:V.signal});if(!ue.ok)throw new Error(`Failed to fetch Tafsir for Ayah ${O}`);const Y=await ue.json();Y.code===200&&Y.data.text&&await Nf(k,O,Y.data.text)}const $=Math.round(O/H*100);dl(ue=>({...ue,[k]:$}))}cl(O=>new Set(O).add(k))}catch(H){H instanceof Error&&H.name==="AbortError"?console.log(`Tafsir download cancelled for Surah ${C.name}. Progress saved.`):(console.error("Tafsir download failed:",H),u(`Failed to download Tafsir for Surah ${C.name}.`))}finally{dl(H=>{const O={...H};return delete O[k],O}),delete fl.current[k]}},oy=C=>{const k=fl.current[C.id];k&&k.abort()},sy=async C=>{await eS(C),cl(k=>{const V=new Set(k);return V.delete(C),V})},ly=async(C,k)=>{const V=`${k.identifier}-${C.id}`;if(Ic.has(V)||kc[V]!==void 0)return;const H=new AbortController;pl.current[V]=H,hl(O=>({...O,[V]:0}));try{const O=await fetch(`https://api.quran.com/api/v4/verses/by_chapter/${C.id}?language=ar&words=false&audio=${k.identifier}`,{signal:H.signal});if(!O.ok)throw new Error(`Failed to fetch ayahs list for Surah ${C.name}`);const $=(await O.json()).verses.map(Y=>({audio:`https://verses.quran.com/${Y.audio.url}`,numberInSurah:parseInt(Y.verse_key.split(":")[1],10)})),ue=$.length;for(let Y=0;Y<ue;Y++){if(H.signal.aborted)throw new DOMException("Download cancelled","AbortError");const De=$[Y],Qe=await fetch(De.audio,{signal:H.signal});if(!Qe.ok)throw new Error(`Failed to download audio for Ayah ${De.numberInSurah}`);const Ln=await Qe.blob();await K1(k.identifier,C.id,De.numberInSurah,Ln);const nn=Math.round((Y+1)/ue*100);hl(So=>({...So,[V]:nn}))}ml(Y=>new Set(Y).add(V)),gl(Y=>[...Y,{surah:C,reciter:k}].sort((De,Qe)=>De.surah.id-Qe.surah.id))}catch(O){O instanceof Error&&O.name==="AbortError"?console.log(`Audio download cancelled for Surah ${C.name}.`):(console.error("Audio download failed:",O),u(`Failed to download audio for Surah ${C.name}.`))}finally{hl(O=>{const X={...O};return delete X[V],X}),delete pl.current[V]}},ry=(C,k)=>{const V=`${k.identifier}-${C.id}`,H=pl.current[V];H&&H.abort()},uy=async(C,k)=>{await W1(k.identifier,C.id);const V=`${k.identifier}-${C.id}`;ml(H=>{const O=new Set(H);return O.delete(V),O}),gl(H=>H.filter(O=>!(O.surah.id===C.id&&O.reciter.identifier===k.identifier)))},cy=T.useCallback(async C=>{if(!El.current){xo("Smart search is not available (API key may be missing).");return}if(C.trim().length<3){ri([]);return}yl(!0),xo(null),ri([]);try{const V=(await El.current.models.generateContent({model:"gemini-2.5-flash",contents:`Find Quranic ayahs related to: "${C}"`,config:{systemInstruction:"You are an expert Quranic scholar. Your task is to find ayahs (verses) from the Quran that are relevant to the user's search query. The user is looking for topics, keywords, or concepts. Respond ONLY with a valid JSON array matching the provided schema. Do not include markdown backticks like ```json or any text outside the JSON. If no relevant ayahs are found, return an empty array `[]`. Limit results to a maximum of 10 ayahs.",responseMimeType:"application/json",responseSchema:{type:be.ARRAY,items:{type:be.OBJECT,properties:{surahId:{type:be.NUMBER,description:"The chapter number of the Quran."},ayahIdInSurah:{type:be.NUMBER,description:"The verse number within the chapter."},text:{type:be.STRING,description:"The full Arabic text of the verse."},surahName:{type:be.STRING,description:"The Arabic name of the chapter."}},required:["surahId","ayahIdInSurah","text","surahName"]}}}})).text.trim(),H=JSON.parse(V);ri(H)}catch(k){console.error("Smart search failed:",k),xo("Failed to fetch smart search results. Please try again."),ri([])}finally{yl(!1)}},[]),dy=C=>{z(C),Tl.current&&clearTimeout(Tl.current),C.trim()?Tl.current=window.setTimeout(()=>{cy(C)},500):(ri([]),yl(!1),xo(null))},fy=C=>{const k=e.find(V=>V.id===C.surahId);if(k)if((b==null?void 0:b.id)===C.surahId){const V=x.findIndex(H=>H.numberInSurah===C.ayahIdInSurah);V!==-1&&(_(V),w(!0))}else w(!1),S([]),qc({surahId:C.surahId,ayahNumberInSurah:C.ayahIdInSurah}),y(k)},my=M.trim()?e.filter(C=>C.name.toLowerCase().includes(M.toLowerCase())||C.id.toString().includes(M)):[],hy=()=>{e.length===0?window.location.reload():u(null)},py=()=>{switch(d){case"home":return l.jsx(Tf,{onNavigate:f,stats:K,challenge:sa,muazzinSettings:_c,onMuazzinSettingsChange:Cc});case"audio":return l.jsxs(nw,{reciters:n,selectedReciter:v,onReciterChange:Bc,children:[l.jsx("div",{className:"px-4 sm:px-6 lg:px-8 pt-6",children:l.jsx(XA,{query:M,onQueryChange:dy})}),l.jsx(ZA,{items:Gx,onPlay:Al,onDelete:uy,currentSurah:b,currentReciter:v,isPlaying:U}),b&&!M.trim()&&l.jsx(I1,{surah:b,currentAyah:x[E]||null,showTafsir:G,onToggleTafsir:()=>se(C=>!C),tafsirText:he,isTafsirLoading:Fe,isTafsirError:Ut,bookmarks:I,onToggleBookmark:ay}),M.trim().length>0?l.jsx(U1,{surahResults:my,ayahResults:Ox,isSearching:Jx,searchError:Yx,onSurahSelect:C=>Al(C),onPlayAyah:fy,currentSurahId:(b==null?void 0:b.id)||null}):l.jsx(A1,{surahs:e,onSurahSelect:Al,currentSurahId:(b==null?void 0:b.id)||null,isPlaying:U,bookmarks:I,selectedReciter:v,downloadedTafsir:ul,tafsirDownloadProgress:Rc,onDownloadTafsir:iy,onCancelTafsirDownload:oy,downloadedAudio:Ic,audioDownloadProgress:kc,onDownloadAudio:ly,onCancelAudioDownload:ry})]});case"reading":return l.jsx(mS,{surahs:e});case"quiz":return l.jsx(pS,{});case"asbab":return l.jsx(yS,{});case"kids":return l.jsx(US,{});case"ronaq_mind":return l.jsx(DA,{surahs:e,reciters:n});case"history":return l.jsx(YA,{});default:return l.jsx(Tf,{onNavigate:f,stats:K,challenge:sa,muazzinSettings:_c,onMuazzinSettingsChange:Cc})}};return l.jsxs("div",{className:`min-h-screen bg-background text-text-primary transition-colors duration-300 ${ey}`,children:[l.jsx(QA,{isOpen:Kx,onClose:Xx}),l.jsx(k1,{isOpen:Bx,onClose:()=>Mc(!1),azkarSettings:ra,onAzkarSettingsChange:Fx,surahs:e,downloadedTafsir:ul,onDeleteTafsir:sy}),l.jsx(q1,{isOpen:Hx,onClose:()=>Dc(!1),challenge:sa,onUpdateChallenge:xl}),Uc&&l.jsx("div",{className:"fixed inset-0 bg-black/75 flex items-center justify-center z-[100] animate-fade-in",onClick:()=>vl(null),children:l.jsxs("div",{className:"bg-card rounded-lg shadow-xl p-6 sm:p-8 w-full max-w-md m-4",onClick:C=>C.stopPropagation(),children:[l.jsx("h2",{className:"text-xl font-bold text-text-primary mb-4 text-center",children:"تذكير أذكار"}),l.jsx("p",{className:"font-amiri-quran text-2xl text-text-primary leading-loose text-center mb-6",children:Uc}),l.jsx("div",{className:"text-center",children:l.jsx("button",{onClick:()=>vl(null),className:"bg-primary text-white font-bold py-2 px-6 rounded-md hover:opacity-90",children:"إغلاق"})})]})}),l.jsx(E1,{reciters:n,selectedReciter:v,onReciterChange:Bc,isDarkMode:m,onToggleDarkMode:ny,onSettingsClick:()=>Mc(!0),onChallengeClick:()=>Dc(!0),currentPage:d,onNavigate:f,currentTheme:h,onThemeChange:g}),l.jsxs("main",{className:"pb-40",children:[i&&!e.length&&l.jsx("p",{className:"text-center py-10",children:"...جاري تحميل البيانات"}),s&&l.jsx("div",{className:"text-center py-10 px-4 animate-fade-in",children:l.jsxs("div",{className:"bg-red-500/10 dark:bg-red-900/20 p-6 rounded-lg shadow-md max-w-md mx-auto",children:[l.jsx("h3",{className:"text-lg font-bold text-red-600 dark:text-red-400 mb-2",children:"حدث خطأ"}),l.jsx("p",{className:"text-red-500 dark:text-red-300 mb-6",children:s}),l.jsx("button",{onClick:hy,className:"bg-primary text-white font-bold py-2 px-6 rounded-md hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary dark:focus:ring-offset-card",children:"عودة"})]})}),!s&&py()]}),v&&d!=="kids"&&l.jsx(M1,{surah:b,reciter:v,isPlaying:U,onPlayPause:yo,onNext:vo,onPrev:Nl,onEnded:ty,audioSrc:q,currentAyah:x[E]||null,totalAyahs:x.length,onDurationChange:B,onTimeUpdate:Qx,seekToTime:Sl,onSeeked:()=>jc(null)})]})},Px=document.getElementById("root");if(!Px)throw new Error("Could not find root element to mount to");const iw=g1.createRoot(Px);iw.render(l.jsx(Ly.StrictMode,{children:l.jsx(aw,{})}));
